var Rie=Object.defineProperty;var m6=n=>{throw TypeError(n)};var Nie=(n,e,t)=>e in n?Rie(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var mr=(n,e,t)=>Nie(n,typeof e!="symbol"?e+"":e,t),BM=(n,e,t)=>e.has(n)||m6("Cannot "+t);var we=(n,e,t)=>(BM(n,e,"read from private field"),t?t.call(n):e.get(n)),vn=(n,e,t)=>e.has(n)?m6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),zt=(n,e,t,r)=>(BM(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),tr=(n,e,t)=>(BM(n,e,"access private method"),t);var yb=(n,e,t,r)=>({set _(i){zt(n,e,i,t)},get _(){return we(n,e,r)}});function kie(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var O1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var I7={exports:{}},ZA={},P7={exports:{}},Kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_=Symbol.for("react.element"),Die=Symbol.for("react.portal"),Oie=Symbol.for("react.fragment"),Lie=Symbol.for("react.strict_mode"),Fie=Symbol.for("react.profiler"),Bie=Symbol.for("react.provider"),Uie=Symbol.for("react.context"),jie=Symbol.for("react.forward_ref"),Vie=Symbol.for("react.suspense"),zie=Symbol.for("react.memo"),Hie=Symbol.for("react.lazy"),g6=Symbol.iterator;function Wie(n){return n===null||typeof n!="object"?null:(n=g6&&n[g6]||n["@@iterator"],typeof n=="function"?n:null)}var R7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N7=Object.assign,k7={};function ay(n,e,t){this.props=n,this.context=e,this.refs=k7,this.updater=t||R7}ay.prototype.isReactComponent={};ay.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ay.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function D7(){}D7.prototype=ay.prototype;function F3(n,e,t){this.props=n,this.context=e,this.refs=k7,this.updater=t||R7}var B3=F3.prototype=new D7;B3.constructor=F3;N7(B3,ay.prototype);B3.isPureReactComponent=!0;var v6=Array.isArray,O7=Object.prototype.hasOwnProperty,U3={current:null},L7={key:!0,ref:!0,__self:!0,__source:!0};function F7(n,e,t){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)O7.call(e,r)&&!L7.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:W_,type:n,key:s,ref:a,props:i,_owner:U3.current}}function Gie(n,e){return{$$typeof:W_,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function j3(n){return typeof n=="object"&&n!==null&&n.$$typeof===W_}function $ie(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var y6=/\/+/g;function UM(n,e){return typeof n=="object"&&n!==null&&n.key!=null?$ie(""+n.key):e.toString(36)}function iE(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case W_:case Die:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+UM(a,0):r,v6(i)?(t="",n!=null&&(t=n.replace(y6,"$&/")+"/"),iE(i,e,t,"",function(c){return c})):i!=null&&(j3(i)&&(i=Gie(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(y6,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",v6(n))for(var o=0;o<n.length;o++){s=n[o];var l=r+UM(s,o);a+=iE(s,e,t,l,i)}else if(l=Wie(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=r+UM(s,o++),a+=iE(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xb(n,e,t){if(n==null)return n;var r=[],i=0;return iE(n,r,"","",function(s){return e.call(t,s,i++)}),r}function qie(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var so={current:null},sE={transition:null},Xie={ReactCurrentDispatcher:so,ReactCurrentBatchConfig:sE,ReactCurrentOwner:U3};function B7(){throw Error("act(...) is not supported in production builds of React.")}Kn.Children={map:xb,forEach:function(n,e,t){xb(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xb(n,function(){e++}),e},toArray:function(n){return xb(n,function(e){return e})||[]},only:function(n){if(!j3(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Kn.Component=ay;Kn.Fragment=Oie;Kn.Profiler=Fie;Kn.PureComponent=F3;Kn.StrictMode=Lie;Kn.Suspense=Vie;Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xie;Kn.act=B7;Kn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=N7({},n.props),i=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=U3.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)O7.call(e,l)&&!L7.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:W_,type:n.type,key:i,ref:s,props:r,_owner:a}};Kn.createContext=function(n){return n={$$typeof:Uie,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Bie,_context:n},n.Consumer=n};Kn.createElement=F7;Kn.createFactory=function(n){var e=F7.bind(null,n);return e.type=n,e};Kn.createRef=function(){return{current:null}};Kn.forwardRef=function(n){return{$$typeof:jie,render:n}};Kn.isValidElement=j3;Kn.lazy=function(n){return{$$typeof:Hie,_payload:{_status:-1,_result:n},_init:qie}};Kn.memo=function(n,e){return{$$typeof:zie,type:n,compare:e===void 0?null:e}};Kn.startTransition=function(n){var e=sE.transition;sE.transition={};try{n()}finally{sE.transition=e}};Kn.unstable_act=B7;Kn.useCallback=function(n,e){return so.current.useCallback(n,e)};Kn.useContext=function(n){return so.current.useContext(n)};Kn.useDebugValue=function(){};Kn.useDeferredValue=function(n){return so.current.useDeferredValue(n)};Kn.useEffect=function(n,e){return so.current.useEffect(n,e)};Kn.useId=function(){return so.current.useId()};Kn.useImperativeHandle=function(n,e,t){return so.current.useImperativeHandle(n,e,t)};Kn.useInsertionEffect=function(n,e){return so.current.useInsertionEffect(n,e)};Kn.useLayoutEffect=function(n,e){return so.current.useLayoutEffect(n,e)};Kn.useMemo=function(n,e){return so.current.useMemo(n,e)};Kn.useReducer=function(n,e,t){return so.current.useReducer(n,e,t)};Kn.useRef=function(n){return so.current.useRef(n)};Kn.useState=function(n){return so.current.useState(n)};Kn.useSyncExternalStore=function(n,e,t){return so.current.useSyncExternalStore(n,e,t)};Kn.useTransition=function(){return so.current.useTransition()};Kn.version="18.3.1";P7.exports=Kn;var F=P7.exports;const Rn=H_(F),V3=kie({__proto__:null,default:Rn},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yie=F,Kie=Symbol.for("react.element"),Zie=Symbol.for("react.fragment"),Qie=Object.prototype.hasOwnProperty,Jie=Yie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ese={key:!0,ref:!0,__self:!0,__source:!0};function U7(n,e,t){var r,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Qie.call(e,r)&&!ese.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Kie,type:n,key:s,ref:a,props:i,_owner:Jie.current}}ZA.Fragment=Zie;ZA.jsx=U7;ZA.jsxs=U7;I7.exports=ZA;var m=I7.exports,j7={exports:{}},hl={},V7={exports:{}},z7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(X,ue){var q=X.length;X.push(ue);e:for(;0<q;){var ge=q-1>>>1,De=X[ge];if(0<i(De,ue))X[ge]=ue,X[q]=De,q=ge;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],q=X.pop();if(q!==ue){X[0]=q;e:for(var ge=0,De=X.length,Q=De>>>1;ge<Q;){var et=2*(ge+1)-1,ye=X[et],Ie=et+1,Se=X[Ie];if(0>i(ye,q))Ie<De&&0>i(Se,ye)?(X[ge]=Se,X[Ie]=q,ge=Ie):(X[ge]=ye,X[et]=q,ge=et);else if(Ie<De&&0>i(Se,q))X[ge]=Se,X[Ie]=q,ge=Ie;else break e}}return ue}function i(X,ue){var q=X.sortIndex-ue.sortIndex;return q!==0?q:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,p=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(X){for(var ue=t(c);ue!==null;){if(ue.callback===null)r(c);else if(ue.startTime<=X)r(c),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=t(c)}}function T(X){if(_=!1,E(X),!g)if(t(l)!==null)g=!0,se(D);else{var ue=t(c);ue!==null&&ce(T,ue.startTime-X)}}function D(X,ue){g=!1,_&&(_=!1,x(N),N=-1),p=!0;var q=d;try{for(E(ue),h=t(l);h!==null&&(!(h.expirationTime>ue)||X&&!B());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,d=h.priorityLevel;var De=ge(h.expirationTime<=ue);ue=n.unstable_now(),typeof De=="function"?h.callback=De:h===t(l)&&r(l),E(ue)}else r(l);h=t(l)}if(h!==null)var Q=!0;else{var et=t(c);et!==null&&ce(T,et.startTime-ue),Q=!1}return Q}finally{h=null,d=q,p=!1}}var k=!1,I=null,N=-1,P=5,R=-1;function B(){return!(n.unstable_now()-R<P)}function z(){if(I!==null){var X=n.unstable_now();R=X;var ue=!0;try{ue=I(!0,X)}finally{ue?H():(k=!1,I=null)}}else k=!1}var H;if(typeof S=="function")H=function(){S(z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=z,H=function(){J.postMessage(null)}}else H=function(){w(z,0)};function se(X){I=X,k||(k=!0,H())}function ce(X,ue){N=w(function(){X(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,se(D))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(X){switch(d){case 1:case 2:case 3:var ue=3;break;default:ue=d}var q=d;d=ue;try{return X()}finally{d=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var q=d;d=X;try{return ue()}finally{d=q}},n.unstable_scheduleCallback=function(X,ue,q){var ge=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ge+q:ge):q=ge,X){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=q+De,X={id:u++,callback:ue,priorityLevel:X,startTime:q,expirationTime:De,sortIndex:-1},q>ge?(X.sortIndex=q,e(c,X),t(l)===null&&X===t(c)&&(_?(x(N),N=-1):_=!0,ce(T,q-ge))):(X.sortIndex=De,e(l,X),g||p||(g=!0,se(D))),X},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(X){var ue=d;return function(){var q=d;d=ue;try{return X.apply(this,arguments)}finally{d=q}}}})(z7);V7.exports=z7;var tse=V7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nse=F,ol=tse;function gt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H7=new Set,L1={};function Qm(n,e){Cv(n,e),Cv(n+"Capture",e)}function Cv(n,e){for(L1[n]=e,n=0;n<e.length;n++)H7.add(e[n])}var Rh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MR=Object.prototype.hasOwnProperty,rse=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x6={},_6={};function ise(n){return MR.call(_6,n)?!0:MR.call(x6,n)?!1:rse.test(n)?_6[n]=!0:(x6[n]=!0,!1)}function sse(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function ase(n,e,t,r){if(e===null||typeof e>"u"||sse(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ao(n,e,t,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Qs[n]=new ao(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Qs[e]=new ao(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Qs[n]=new ao(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Qs[n]=new ao(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Qs[n]=new ao(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Qs[n]=new ao(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Qs[n]=new ao(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Qs[n]=new ao(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Qs[n]=new ao(n,5,!1,n.toLowerCase(),null,!1,!1)});var z3=/[\-:]([a-z])/g;function H3(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(z3,H3);Qs[e]=new ao(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(z3,H3);Qs[e]=new ao(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(z3,H3);Qs[e]=new ao(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Qs[n]=new ao(n,1,!1,n.toLowerCase(),null,!1,!1)});Qs.xlinkHref=new ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Qs[n]=new ao(n,1,!1,n.toLowerCase(),null,!0,!0)});function W3(n,e,t,r){var i=Qs.hasOwnProperty(e)?Qs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ase(e,t,i,r)&&(t=null),r||i===null?ise(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var qh=nse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_b=Symbol.for("react.element"),v0=Symbol.for("react.portal"),y0=Symbol.for("react.fragment"),G3=Symbol.for("react.strict_mode"),IR=Symbol.for("react.profiler"),W7=Symbol.for("react.provider"),G7=Symbol.for("react.context"),$3=Symbol.for("react.forward_ref"),PR=Symbol.for("react.suspense"),RR=Symbol.for("react.suspense_list"),q3=Symbol.for("react.memo"),Vd=Symbol.for("react.lazy"),$7=Symbol.for("react.offscreen"),w6=Symbol.iterator;function Zy(n){return n===null||typeof n!="object"?null:(n=w6&&n[w6]||n["@@iterator"],typeof n=="function"?n:null)}var Ai=Object.assign,jM;function Px(n){if(jM===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);jM=e&&e[1]||""}return`
`+jM+n}var VM=!1;function zM(n,e){if(!n||VM)return"";VM=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{VM=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Px(n):""}function ose(n){switch(n.tag){case 5:return Px(n.type);case 16:return Px("Lazy");case 13:return Px("Suspense");case 19:return Px("SuspenseList");case 0:case 2:case 15:return n=zM(n.type,!1),n;case 11:return n=zM(n.type.render,!1),n;case 1:return n=zM(n.type,!0),n;default:return""}}function NR(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case y0:return"Fragment";case v0:return"Portal";case IR:return"Profiler";case G3:return"StrictMode";case PR:return"Suspense";case RR:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case G7:return(n.displayName||"Context")+".Consumer";case W7:return(n._context.displayName||"Context")+".Provider";case $3:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q3:return e=n.displayName||null,e!==null?e:NR(n.type)||"Memo";case Vd:e=n._payload,n=n._init;try{return NR(n(e))}catch{}}return null}function lse(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return NR(e);case 8:return e===G3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pf(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function q7(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cse(n){var e=q7(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function wb(n){n._valueTracker||(n._valueTracker=cse(n))}function X7(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=q7(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function HE(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function kR(n,e){var t=e.checked;return Ai({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function b6(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Pf(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y7(n,e){e=e.checked,e!=null&&W3(n,"checked",e,!1)}function DR(n,e){Y7(n,e);var t=Pf(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?OR(n,e.type,t):e.hasOwnProperty("defaultValue")&&OR(n,e.type,Pf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function S6(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function OR(n,e,t){(e!=="number"||HE(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Rx=Array.isArray;function Y0(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Pf(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function LR(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(gt(91));return Ai({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function E6(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(gt(92));if(Rx(t)){if(1<t.length)throw Error(gt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Pf(t)}}function K7(n,e){var t=Pf(e.value),r=Pf(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function A6(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Z7(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FR(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Z7(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var bb,Q7=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(bb=bb||document.createElement("div"),bb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bb.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function F1(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Zx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},use=["Webkit","ms","Moz","O"];Object.keys(Zx).forEach(function(n){use.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Zx[e]=Zx[n]})});function J7(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Zx.hasOwnProperty(n)&&Zx[n]?(""+e).trim():e+"px"}function eH(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=J7(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var hse=Ai({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BR(n,e){if(e){if(hse[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(gt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(gt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(gt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(gt(62))}}function UR(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jR=null;function X3(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var VR=null,K0=null,Z0=null;function T6(n){if(n=q_(n)){if(typeof VR!="function")throw Error(gt(280));var e=n.stateNode;e&&(e=nT(e),VR(n.stateNode,n.type,e))}}function tH(n){K0?Z0?Z0.push(n):Z0=[n]:K0=n}function nH(){if(K0){var n=K0,e=Z0;if(Z0=K0=null,T6(n),e)for(n=0;n<e.length;n++)T6(e[n])}}function rH(n,e){return n(e)}function iH(){}var HM=!1;function sH(n,e,t){if(HM)return n(e,t);HM=!0;try{return rH(n,e,t)}finally{HM=!1,(K0!==null||Z0!==null)&&(iH(),nH())}}function B1(n,e){var t=n.stateNode;if(t===null)return null;var r=nT(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(gt(231,e,typeof t));return t}var zR=!1;if(Rh)try{var Qy={};Object.defineProperty(Qy,"passive",{get:function(){zR=!0}}),window.addEventListener("test",Qy,Qy),window.removeEventListener("test",Qy,Qy)}catch{zR=!1}function dse(n,e,t,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Qx=!1,WE=null,GE=!1,HR=null,fse={onError:function(n){Qx=!0,WE=n}};function pse(n,e,t,r,i,s,a,o,l){Qx=!1,WE=null,dse.apply(fse,arguments)}function mse(n,e,t,r,i,s,a,o,l){if(pse.apply(this,arguments),Qx){if(Qx){var c=WE;Qx=!1,WE=null}else throw Error(gt(198));GE||(GE=!0,HR=c)}}function Jm(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function aH(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function C6(n){if(Jm(n)!==n)throw Error(gt(188))}function gse(n){var e=n.alternate;if(!e){if(e=Jm(n),e===null)throw Error(gt(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return C6(i),n;if(s===r)return C6(i),e;s=s.sibling}throw Error(gt(188))}if(t.return!==r.return)t=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a)throw Error(gt(189))}}if(t.alternate!==r)throw Error(gt(190))}if(t.tag!==3)throw Error(gt(188));return t.stateNode.current===t?n:e}function oH(n){return n=gse(n),n!==null?lH(n):null}function lH(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=lH(n);if(e!==null)return e;n=n.sibling}return null}var cH=ol.unstable_scheduleCallback,M6=ol.unstable_cancelCallback,vse=ol.unstable_shouldYield,yse=ol.unstable_requestPaint,Wi=ol.unstable_now,xse=ol.unstable_getCurrentPriorityLevel,Y3=ol.unstable_ImmediatePriority,uH=ol.unstable_UserBlockingPriority,$E=ol.unstable_NormalPriority,_se=ol.unstable_LowPriority,hH=ol.unstable_IdlePriority,QA=null,vu=null;function wse(n){if(vu&&typeof vu.onCommitFiberRoot=="function")try{vu.onCommitFiberRoot(QA,n,void 0,(n.current.flags&128)===128)}catch{}}var wc=Math.clz32?Math.clz32:Ese,bse=Math.log,Sse=Math.LN2;function Ese(n){return n>>>=0,n===0?32:31-(bse(n)/Sse|0)|0}var Sb=64,Eb=4194304;function Nx(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qE(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?r=Nx(o):(s&=a,s!==0&&(r=Nx(s)))}else a=t&~i,a!==0?r=Nx(a):s!==0&&(r=Nx(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-wc(e),i=1<<t,r|=n[t],e&=~i;return r}function Ase(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tse(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-wc(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&r)&&(i[a]=Ase(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function WR(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function dH(){var n=Sb;return Sb<<=1,!(Sb&4194240)&&(Sb=64),n}function WM(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function G_(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-wc(e),n[e]=t}function Cse(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-wc(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function K3(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-wc(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var kr=0;function fH(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var pH,Z3,mH,gH,vH,GR=!1,Ab=[],df=null,ff=null,pf=null,U1=new Map,j1=new Map,Wd=[],Mse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I6(n,e){switch(n){case"focusin":case"focusout":df=null;break;case"dragenter":case"dragleave":ff=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":U1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":j1.delete(e.pointerId)}}function Jy(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=q_(e),e!==null&&Z3(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Ise(n,e,t,r,i){switch(e){case"focusin":return df=Jy(df,n,e,t,r,i),!0;case"dragenter":return ff=Jy(ff,n,e,t,r,i),!0;case"mouseover":return pf=Jy(pf,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return U1.set(s,Jy(U1.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,j1.set(s,Jy(j1.get(s)||null,n,e,t,r,i)),!0}return!1}function yH(n){var e=Jp(n.target);if(e!==null){var t=Jm(e);if(t!==null){if(e=t.tag,e===13){if(e=aH(t),e!==null){n.blockedOn=e,vH(n.priority,function(){mH(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function aE(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=$R(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);jR=r,t.target.dispatchEvent(r),jR=null}else return e=q_(t),e!==null&&Z3(e),n.blockedOn=t,!1;e.shift()}return!0}function P6(n,e,t){aE(n)&&t.delete(e)}function Pse(){GR=!1,df!==null&&aE(df)&&(df=null),ff!==null&&aE(ff)&&(ff=null),pf!==null&&aE(pf)&&(pf=null),U1.forEach(P6),j1.forEach(P6)}function ex(n,e){n.blockedOn===e&&(n.blockedOn=null,GR||(GR=!0,ol.unstable_scheduleCallback(ol.unstable_NormalPriority,Pse)))}function V1(n){function e(i){return ex(i,n)}if(0<Ab.length){ex(Ab[0],n);for(var t=1;t<Ab.length;t++){var r=Ab[t];r.blockedOn===n&&(r.blockedOn=null)}}for(df!==null&&ex(df,n),ff!==null&&ex(ff,n),pf!==null&&ex(pf,n),U1.forEach(e),j1.forEach(e),t=0;t<Wd.length;t++)r=Wd[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Wd.length&&(t=Wd[0],t.blockedOn===null);)yH(t),t.blockedOn===null&&Wd.shift()}var Q0=qh.ReactCurrentBatchConfig,XE=!0;function Rse(n,e,t,r){var i=kr,s=Q0.transition;Q0.transition=null;try{kr=1,Q3(n,e,t,r)}finally{kr=i,Q0.transition=s}}function Nse(n,e,t,r){var i=kr,s=Q0.transition;Q0.transition=null;try{kr=4,Q3(n,e,t,r)}finally{kr=i,Q0.transition=s}}function Q3(n,e,t,r){if(XE){var i=$R(n,e,t,r);if(i===null)eI(n,e,r,YE,t),I6(n,r);else if(Ise(i,n,e,t,r))r.stopPropagation();else if(I6(n,r),e&4&&-1<Mse.indexOf(n)){for(;i!==null;){var s=q_(i);if(s!==null&&pH(s),s=$R(n,e,t,r),s===null&&eI(n,e,r,YE,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else eI(n,e,r,null,t)}}var YE=null;function $R(n,e,t,r){if(YE=null,n=X3(r),n=Jp(n),n!==null)if(e=Jm(n),e===null)n=null;else if(t=e.tag,t===13){if(n=aH(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return YE=n,null}function xH(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xse()){case Y3:return 1;case uH:return 4;case $E:case _se:return 16;case hH:return 536870912;default:return 16}default:return 16}}var af=null,J3=null,oE=null;function _H(){if(oE)return oE;var n,e=J3,t=e.length,r,i="value"in af?af.value:af.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[s-r];r++);return oE=i.slice(n,1<r?1-r:void 0)}function lE(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Tb(){return!0}function R6(){return!1}function dl(n){function e(t,r,i,s,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tb:R6,this.isPropagationStopped=R6,this}return Ai(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Tb)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Tb)},persist:function(){},isPersistent:Tb}),e}var oy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eD=dl(oy),$_=Ai({},oy,{view:0,detail:0}),kse=dl($_),GM,$M,tx,JA=Ai({},$_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tD,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tx&&(tx&&n.type==="mousemove"?(GM=n.screenX-tx.screenX,$M=n.screenY-tx.screenY):$M=GM=0,tx=n),GM)},movementY:function(n){return"movementY"in n?n.movementY:$M}}),N6=dl(JA),Dse=Ai({},JA,{dataTransfer:0}),Ose=dl(Dse),Lse=Ai({},$_,{relatedTarget:0}),qM=dl(Lse),Fse=Ai({},oy,{animationName:0,elapsedTime:0,pseudoElement:0}),Bse=dl(Fse),Use=Ai({},oy,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jse=dl(Use),Vse=Ai({},oy,{data:0}),k6=dl(Vse),zse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gse(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Wse[n])?!!e[n]:!1}function tD(){return Gse}var $se=Ai({},$_,{key:function(n){if(n.key){var e=zse[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=lE(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hse[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tD,charCode:function(n){return n.type==="keypress"?lE(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?lE(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qse=dl($se),Xse=Ai({},JA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D6=dl(Xse),Yse=Ai({},$_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tD}),Kse=dl(Yse),Zse=Ai({},oy,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qse=dl(Zse),Jse=Ai({},JA,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),eae=dl(Jse),tae=[9,13,27,32],nD=Rh&&"CompositionEvent"in window,Jx=null;Rh&&"documentMode"in document&&(Jx=document.documentMode);var nae=Rh&&"TextEvent"in window&&!Jx,wH=Rh&&(!nD||Jx&&8<Jx&&11>=Jx),O6=" ",L6=!1;function bH(n,e){switch(n){case"keyup":return tae.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SH(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var x0=!1;function rae(n,e){switch(n){case"compositionend":return SH(e);case"keypress":return e.which!==32?null:(L6=!0,O6);case"textInput":return n=e.data,n===O6&&L6?null:n;default:return null}}function iae(n,e){if(x0)return n==="compositionend"||!nD&&bH(n,e)?(n=_H(),oE=J3=af=null,x0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wH&&e.locale!=="ko"?null:e.data;default:return null}}var sae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F6(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!sae[n.type]:e==="textarea"}function EH(n,e,t,r){tH(r),e=KE(e,"onChange"),0<e.length&&(t=new eD("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var e1=null,z1=null;function aae(n){OH(n,0)}function eT(n){var e=b0(n);if(X7(e))return n}function oae(n,e){if(n==="change")return e}var AH=!1;if(Rh){var XM;if(Rh){var YM="oninput"in document;if(!YM){var B6=document.createElement("div");B6.setAttribute("oninput","return;"),YM=typeof B6.oninput=="function"}XM=YM}else XM=!1;AH=XM&&(!document.documentMode||9<document.documentMode)}function U6(){e1&&(e1.detachEvent("onpropertychange",TH),z1=e1=null)}function TH(n){if(n.propertyName==="value"&&eT(z1)){var e=[];EH(e,z1,n,X3(n)),sH(aae,e)}}function lae(n,e,t){n==="focusin"?(U6(),e1=e,z1=t,e1.attachEvent("onpropertychange",TH)):n==="focusout"&&U6()}function cae(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return eT(z1)}function uae(n,e){if(n==="click")return eT(e)}function hae(n,e){if(n==="input"||n==="change")return eT(e)}function dae(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Cc=typeof Object.is=="function"?Object.is:dae;function H1(n,e){if(Cc(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!MR.call(e,i)||!Cc(n[i],e[i]))return!1}return!0}function j6(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function V6(n,e){var t=j6(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=j6(t)}}function CH(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?CH(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function MH(){for(var n=window,e=HE();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=HE(n.document)}return e}function rD(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function fae(n){var e=MH(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&CH(t.ownerDocument.documentElement,t)){if(r!==null&&rD(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=V6(t,s);var a=V6(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var pae=Rh&&"documentMode"in document&&11>=document.documentMode,_0=null,qR=null,t1=null,XR=!1;function z6(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;XR||_0==null||_0!==HE(r)||(r=_0,"selectionStart"in r&&rD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),t1&&H1(t1,r)||(t1=r,r=KE(qR,"onSelect"),0<r.length&&(e=new eD("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=_0)))}function Cb(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var w0={animationend:Cb("Animation","AnimationEnd"),animationiteration:Cb("Animation","AnimationIteration"),animationstart:Cb("Animation","AnimationStart"),transitionend:Cb("Transition","TransitionEnd")},KM={},IH={};Rh&&(IH=document.createElement("div").style,"AnimationEvent"in window||(delete w0.animationend.animation,delete w0.animationiteration.animation,delete w0.animationstart.animation),"TransitionEvent"in window||delete w0.transitionend.transition);function tT(n){if(KM[n])return KM[n];if(!w0[n])return n;var e=w0[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in IH)return KM[n]=e[t];return n}var PH=tT("animationend"),RH=tT("animationiteration"),NH=tT("animationstart"),kH=tT("transitionend"),DH=new Map,H6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gf(n,e){DH.set(n,e),Qm(e,[n])}for(var ZM=0;ZM<H6.length;ZM++){var QM=H6[ZM],mae=QM.toLowerCase(),gae=QM[0].toUpperCase()+QM.slice(1);Gf(mae,"on"+gae)}Gf(PH,"onAnimationEnd");Gf(RH,"onAnimationIteration");Gf(NH,"onAnimationStart");Gf("dblclick","onDoubleClick");Gf("focusin","onFocus");Gf("focusout","onBlur");Gf(kH,"onTransitionEnd");Cv("onMouseEnter",["mouseout","mouseover"]);Cv("onMouseLeave",["mouseout","mouseover"]);Cv("onPointerEnter",["pointerout","pointerover"]);Cv("onPointerLeave",["pointerout","pointerover"]);Qm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vae=new Set("cancel close invalid load scroll toggle".split(" ").concat(kx));function W6(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,mse(r,e,void 0,n),n.currentTarget=null}function OH(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;W6(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;W6(i,o,c),s=l}}}if(GE)throw n=HR,GE=!1,HR=null,n}function ri(n,e){var t=e[JR];t===void 0&&(t=e[JR]=new Set);var r=n+"__bubble";t.has(r)||(LH(e,n,2,!1),t.add(r))}function JM(n,e,t){var r=0;e&&(r|=4),LH(t,n,r,e)}var Mb="_reactListening"+Math.random().toString(36).slice(2);function W1(n){if(!n[Mb]){n[Mb]=!0,H7.forEach(function(t){t!=="selectionchange"&&(vae.has(t)||JM(t,!1,n),JM(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Mb]||(e[Mb]=!0,JM("selectionchange",!1,e))}}function LH(n,e,t,r){switch(xH(e)){case 1:var i=Rse;break;case 4:i=Nse;break;default:i=Q3}t=i.bind(null,e,t,n),i=void 0,!zR||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function eI(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Jp(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}sH(function(){var c=s,u=X3(t),h=[];e:{var d=DH.get(n);if(d!==void 0){var p=eD,g=n;switch(n){case"keypress":if(lE(t)===0)break e;case"keydown":case"keyup":p=qse;break;case"focusin":g="focus",p=qM;break;case"focusout":g="blur",p=qM;break;case"beforeblur":case"afterblur":p=qM;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=N6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ose;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Kse;break;case PH:case RH:case NH:p=Bse;break;case kH:p=Qse;break;case"scroll":p=kse;break;case"wheel":p=eae;break;case"copy":case"cut":case"paste":p=jse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=D6}var _=(e&4)!==0,w=!_&&n==="scroll",x=_?d!==null?d+"Capture":null:d;_=[];for(var S=c,E;S!==null;){E=S;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,x!==null&&(T=B1(S,x),T!=null&&_.push(G1(S,T,E)))),w)break;S=S.return}0<_.length&&(d=new p(d,g,null,t,u),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",d&&t!==jR&&(g=t.relatedTarget||t.fromElement)&&(Jp(g)||g[Nh]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?Jp(g):null,g!==null&&(w=Jm(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(_=N6,T="onMouseLeave",x="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(_=D6,T="onPointerLeave",x="onPointerEnter",S="pointer"),w=p==null?d:b0(p),E=g==null?d:b0(g),d=new _(T,S+"leave",p,t,u),d.target=w,d.relatedTarget=E,T=null,Jp(u)===c&&(_=new _(x,S+"enter",g,t,u),_.target=E,_.relatedTarget=w,T=_),w=T,p&&g)t:{for(_=p,x=g,S=0,E=_;E;E=Pg(E))S++;for(E=0,T=x;T;T=Pg(T))E++;for(;0<S-E;)_=Pg(_),S--;for(;0<E-S;)x=Pg(x),E--;for(;S--;){if(_===x||x!==null&&_===x.alternate)break t;_=Pg(_),x=Pg(x)}_=null}else _=null;p!==null&&G6(h,d,p,_,!1),g!==null&&w!==null&&G6(h,w,g,_,!0)}}e:{if(d=c?b0(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var D=oae;else if(F6(d))if(AH)D=hae;else{D=cae;var k=lae}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(D=uae);if(D&&(D=D(n,c))){EH(h,D,t,u);break e}k&&k(n,d,c),n==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&OR(d,"number",d.value)}switch(k=c?b0(c):window,n){case"focusin":(F6(k)||k.contentEditable==="true")&&(_0=k,qR=c,t1=null);break;case"focusout":t1=qR=_0=null;break;case"mousedown":XR=!0;break;case"contextmenu":case"mouseup":case"dragend":XR=!1,z6(h,t,u);break;case"selectionchange":if(pae)break;case"keydown":case"keyup":z6(h,t,u)}var I;if(nD)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else x0?bH(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(wH&&t.locale!=="ko"&&(x0||N!=="onCompositionStart"?N==="onCompositionEnd"&&x0&&(I=_H()):(af=u,J3="value"in af?af.value:af.textContent,x0=!0)),k=KE(c,N),0<k.length&&(N=new k6(N,n,null,t,u),h.push({event:N,listeners:k}),I?N.data=I:(I=SH(t),I!==null&&(N.data=I)))),(I=nae?rae(n,t):iae(n,t))&&(c=KE(c,"onBeforeInput"),0<c.length&&(u=new k6("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=I))}OH(h,e)})}function G1(n,e,t){return{instance:n,listener:e,currentTarget:t}}function KE(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=B1(n,t),s!=null&&r.unshift(G1(n,s,i)),s=B1(n,e),s!=null&&r.push(G1(n,s,i))),n=n.return}return r}function Pg(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function G6(n,e,t,r,i){for(var s=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=B1(t,s),l!=null&&a.unshift(G1(t,l,o))):i||(l=B1(t,s),l!=null&&a.push(G1(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var yae=/\r\n?/g,xae=/\u0000|\uFFFD/g;function $6(n){return(typeof n=="string"?n:""+n).replace(yae,`
`).replace(xae,"")}function Ib(n,e,t){if(e=$6(e),$6(n)!==e&&t)throw Error(gt(425))}function ZE(){}var YR=null,KR=null;function ZR(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var QR=typeof setTimeout=="function"?setTimeout:void 0,_ae=typeof clearTimeout=="function"?clearTimeout:void 0,q6=typeof Promise=="function"?Promise:void 0,wae=typeof queueMicrotask=="function"?queueMicrotask:typeof q6<"u"?function(n){return q6.resolve(null).then(n).catch(bae)}:QR;function bae(n){setTimeout(function(){throw n})}function tI(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),V1(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);V1(e)}function mf(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function X6(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ly=Math.random().toString(36).slice(2),ou="__reactFiber$"+ly,$1="__reactProps$"+ly,Nh="__reactContainer$"+ly,JR="__reactEvents$"+ly,Sae="__reactListeners$"+ly,Eae="__reactHandles$"+ly;function Jp(n){var e=n[ou];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Nh]||t[ou]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=X6(n);n!==null;){if(t=n[ou])return t;n=X6(n)}return e}n=t,t=n.parentNode}return null}function q_(n){return n=n[ou]||n[Nh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function b0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(gt(33))}function nT(n){return n[$1]||null}var eN=[],S0=-1;function $f(n){return{current:n}}function oi(n){0>S0||(n.current=eN[S0],eN[S0]=null,S0--)}function Yr(n,e){S0++,eN[S0]=n.current,n.current=e}var Rf={},Pa=$f(Rf),No=$f(!1),Mm=Rf;function Mv(n,e){var t=n.type.contextTypes;if(!t)return Rf;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ko(n){return n=n.childContextTypes,n!=null}function QE(){oi(No),oi(Pa)}function Y6(n,e,t){if(Pa.current!==Rf)throw Error(gt(168));Yr(Pa,e),Yr(No,t)}function FH(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(gt(108,lse(n)||"Unknown",i));return Ai({},t,r)}function JE(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Rf,Mm=Pa.current,Yr(Pa,n),Yr(No,No.current),!0}function K6(n,e,t){var r=n.stateNode;if(!r)throw Error(gt(169));t?(n=FH(n,e,Mm),r.__reactInternalMemoizedMergedChildContext=n,oi(No),oi(Pa),Yr(Pa,n)):oi(No),Yr(No,t)}var dh=null,rT=!1,nI=!1;function BH(n){dh===null?dh=[n]:dh.push(n)}function Aae(n){rT=!0,BH(n)}function qf(){if(!nI&&dh!==null){nI=!0;var n=0,e=kr;try{var t=dh;for(kr=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}dh=null,rT=!1}catch(i){throw dh!==null&&(dh=dh.slice(n+1)),cH(Y3,qf),i}finally{kr=e,nI=!1}}return null}var E0=[],A0=0,e2=null,t2=0,Il=[],Pl=0,Im=null,vh=1,yh="";function Bp(n,e){E0[A0++]=t2,E0[A0++]=e2,e2=n,t2=e}function UH(n,e,t){Il[Pl++]=vh,Il[Pl++]=yh,Il[Pl++]=Im,Im=n;var r=vh;n=yh;var i=32-wc(r)-1;r&=~(1<<i),t+=1;var s=32-wc(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,vh=1<<32-wc(e)+i|t<<i|r,yh=s+n}else vh=1<<s|t<<i|r,yh=n}function iD(n){n.return!==null&&(Bp(n,1),UH(n,1,0))}function sD(n){for(;n===e2;)e2=E0[--A0],E0[A0]=null,t2=E0[--A0],E0[A0]=null;for(;n===Im;)Im=Il[--Pl],Il[Pl]=null,yh=Il[--Pl],Il[Pl]=null,vh=Il[--Pl],Il[Pl]=null}var nl=null,Qo=null,di=!1,dc=null;function jH(n,e){var t=kl(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Z6(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,nl=n,Qo=mf(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,nl=n,Qo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Im!==null?{id:vh,overflow:yh}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=kl(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,nl=n,Qo=null,!0):!1;default:return!1}}function tN(n){return(n.mode&1)!==0&&(n.flags&128)===0}function nN(n){if(di){var e=Qo;if(e){var t=e;if(!Z6(n,e)){if(tN(n))throw Error(gt(418));e=mf(t.nextSibling);var r=nl;e&&Z6(n,e)?jH(r,t):(n.flags=n.flags&-4097|2,di=!1,nl=n)}}else{if(tN(n))throw Error(gt(418));n.flags=n.flags&-4097|2,di=!1,nl=n}}}function Q6(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;nl=n}function Pb(n){if(n!==nl)return!1;if(!di)return Q6(n),di=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ZR(n.type,n.memoizedProps)),e&&(e=Qo)){if(tN(n))throw VH(),Error(gt(418));for(;e;)jH(n,e),e=mf(e.nextSibling)}if(Q6(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(gt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Qo=mf(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Qo=null}}else Qo=nl?mf(n.stateNode.nextSibling):null;return!0}function VH(){for(var n=Qo;n;)n=mf(n.nextSibling)}function Iv(){Qo=nl=null,di=!1}function aD(n){dc===null?dc=[n]:dc.push(n)}var Tae=qh.ReactCurrentBatchConfig;function nx(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(gt(309));var r=t.stateNode}if(!r)throw Error(gt(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(gt(284));if(!t._owner)throw Error(gt(290,n))}return n}function Rb(n,e){throw n=Object.prototype.toString.call(e),Error(gt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function J6(n){var e=n._init;return e(n._payload)}function zH(n){function e(x,S){if(n){var E=x.deletions;E===null?(x.deletions=[S],x.flags|=16):E.push(S)}}function t(x,S){if(!n)return null;for(;S!==null;)e(x,S),S=S.sibling;return null}function r(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function i(x,S){return x=xf(x,S),x.index=0,x.sibling=null,x}function s(x,S,E){return x.index=E,n?(E=x.alternate,E!==null?(E=E.index,E<S?(x.flags|=2,S):E):(x.flags|=2,S)):(x.flags|=1048576,S)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function o(x,S,E,T){return S===null||S.tag!==6?(S=cI(E,x.mode,T),S.return=x,S):(S=i(S,E),S.return=x,S)}function l(x,S,E,T){var D=E.type;return D===y0?u(x,S,E.props.children,T,E.key):S!==null&&(S.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Vd&&J6(D)===S.type)?(T=i(S,E.props),T.ref=nx(x,S,E),T.return=x,T):(T=mE(E.type,E.key,E.props,null,x.mode,T),T.ref=nx(x,S,E),T.return=x,T)}function c(x,S,E,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==E.containerInfo||S.stateNode.implementation!==E.implementation?(S=uI(E,x.mode,T),S.return=x,S):(S=i(S,E.children||[]),S.return=x,S)}function u(x,S,E,T,D){return S===null||S.tag!==7?(S=_m(E,x.mode,T,D),S.return=x,S):(S=i(S,E),S.return=x,S)}function h(x,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return S=cI(""+S,x.mode,E),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _b:return E=mE(S.type,S.key,S.props,null,x.mode,E),E.ref=nx(x,null,S),E.return=x,E;case v0:return S=uI(S,x.mode,E),S.return=x,S;case Vd:var T=S._init;return h(x,T(S._payload),E)}if(Rx(S)||Zy(S))return S=_m(S,x.mode,E,null),S.return=x,S;Rb(x,S)}return null}function d(x,S,E,T){var D=S!==null?S.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:o(x,S,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _b:return E.key===D?l(x,S,E,T):null;case v0:return E.key===D?c(x,S,E,T):null;case Vd:return D=E._init,d(x,S,D(E._payload),T)}if(Rx(E)||Zy(E))return D!==null?null:u(x,S,E,T,null);Rb(x,E)}return null}function p(x,S,E,T,D){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(E)||null,o(S,x,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _b:return x=x.get(T.key===null?E:T.key)||null,l(S,x,T,D);case v0:return x=x.get(T.key===null?E:T.key)||null,c(S,x,T,D);case Vd:var k=T._init;return p(x,S,E,k(T._payload),D)}if(Rx(T)||Zy(T))return x=x.get(E)||null,u(S,x,T,D,null);Rb(S,T)}return null}function g(x,S,E,T){for(var D=null,k=null,I=S,N=S=0,P=null;I!==null&&N<E.length;N++){I.index>N?(P=I,I=null):P=I.sibling;var R=d(x,I,E[N],T);if(R===null){I===null&&(I=P);break}n&&I&&R.alternate===null&&e(x,I),S=s(R,S,N),k===null?D=R:k.sibling=R,k=R,I=P}if(N===E.length)return t(x,I),di&&Bp(x,N),D;if(I===null){for(;N<E.length;N++)I=h(x,E[N],T),I!==null&&(S=s(I,S,N),k===null?D=I:k.sibling=I,k=I);return di&&Bp(x,N),D}for(I=r(x,I);N<E.length;N++)P=p(I,x,N,E[N],T),P!==null&&(n&&P.alternate!==null&&I.delete(P.key===null?N:P.key),S=s(P,S,N),k===null?D=P:k.sibling=P,k=P);return n&&I.forEach(function(B){return e(x,B)}),di&&Bp(x,N),D}function _(x,S,E,T){var D=Zy(E);if(typeof D!="function")throw Error(gt(150));if(E=D.call(E),E==null)throw Error(gt(151));for(var k=D=null,I=S,N=S=0,P=null,R=E.next();I!==null&&!R.done;N++,R=E.next()){I.index>N?(P=I,I=null):P=I.sibling;var B=d(x,I,R.value,T);if(B===null){I===null&&(I=P);break}n&&I&&B.alternate===null&&e(x,I),S=s(B,S,N),k===null?D=B:k.sibling=B,k=B,I=P}if(R.done)return t(x,I),di&&Bp(x,N),D;if(I===null){for(;!R.done;N++,R=E.next())R=h(x,R.value,T),R!==null&&(S=s(R,S,N),k===null?D=R:k.sibling=R,k=R);return di&&Bp(x,N),D}for(I=r(x,I);!R.done;N++,R=E.next())R=p(I,x,N,R.value,T),R!==null&&(n&&R.alternate!==null&&I.delete(R.key===null?N:R.key),S=s(R,S,N),k===null?D=R:k.sibling=R,k=R);return n&&I.forEach(function(z){return e(x,z)}),di&&Bp(x,N),D}function w(x,S,E,T){if(typeof E=="object"&&E!==null&&E.type===y0&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case _b:e:{for(var D=E.key,k=S;k!==null;){if(k.key===D){if(D=E.type,D===y0){if(k.tag===7){t(x,k.sibling),S=i(k,E.props.children),S.return=x,x=S;break e}}else if(k.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Vd&&J6(D)===k.type){t(x,k.sibling),S=i(k,E.props),S.ref=nx(x,k,E),S.return=x,x=S;break e}t(x,k);break}else e(x,k);k=k.sibling}E.type===y0?(S=_m(E.props.children,x.mode,T,E.key),S.return=x,x=S):(T=mE(E.type,E.key,E.props,null,x.mode,T),T.ref=nx(x,S,E),T.return=x,x=T)}return a(x);case v0:e:{for(k=E.key;S!==null;){if(S.key===k)if(S.tag===4&&S.stateNode.containerInfo===E.containerInfo&&S.stateNode.implementation===E.implementation){t(x,S.sibling),S=i(S,E.children||[]),S.return=x,x=S;break e}else{t(x,S);break}else e(x,S);S=S.sibling}S=uI(E,x.mode,T),S.return=x,x=S}return a(x);case Vd:return k=E._init,w(x,S,k(E._payload),T)}if(Rx(E))return g(x,S,E,T);if(Zy(E))return _(x,S,E,T);Rb(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,S!==null&&S.tag===6?(t(x,S.sibling),S=i(S,E),S.return=x,x=S):(t(x,S),S=cI(E,x.mode,T),S.return=x,x=S),a(x)):t(x,S)}return w}var Pv=zH(!0),HH=zH(!1),n2=$f(null),r2=null,T0=null,oD=null;function lD(){oD=T0=r2=null}function cD(n){var e=n2.current;oi(n2),n._currentValue=e}function rN(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function J0(n,e){r2=n,oD=T0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Po=!0),n.firstContext=null)}function Ul(n){var e=n._currentValue;if(oD!==n)if(n={context:n,memoizedValue:e,next:null},T0===null){if(r2===null)throw Error(gt(308));T0=n,r2.dependencies={lanes:0,firstContext:n}}else T0=T0.next=n;return e}var em=null;function uD(n){em===null?em=[n]:em.push(n)}function WH(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,uD(e)):(t.next=i.next,i.next=t),e.interleaved=t,kh(n,r)}function kh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var zd=!1;function hD(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GH(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Sh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function gf(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ur&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kh(n,t)}return i=r.interleaved,i===null?(e.next=e,uD(r)):(e.next=i.next,i.next=e),r.interleaved=e,kh(n,t)}function cE(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,K3(n,t)}}function e8(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function i2(n,e,t,r){var i=n.updateQueue;zd=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,u=c=l=null,o=s;do{var d=o.lane,p=o.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=n,_=o;switch(d=e,p=t,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=Ai({},h,d);break e;case 2:zd=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Rm|=a,n.lanes=a,n.memoizedState=h}}function t8(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(gt(191,i));i.call(r)}}}var X_={},yu=$f(X_),q1=$f(X_),X1=$f(X_);function tm(n){if(n===X_)throw Error(gt(174));return n}function dD(n,e){switch(Yr(X1,e),Yr(q1,n),Yr(yu,X_),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FR(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=FR(e,n)}oi(yu),Yr(yu,e)}function Rv(){oi(yu),oi(q1),oi(X1)}function $H(n){tm(X1.current);var e=tm(yu.current),t=FR(e,n.type);e!==t&&(Yr(q1,n),Yr(yu,t))}function fD(n){q1.current===n&&(oi(yu),oi(q1))}var _i=$f(0);function s2(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rI=[];function pD(){for(var n=0;n<rI.length;n++)rI[n]._workInProgressVersionPrimary=null;rI.length=0}var uE=qh.ReactCurrentDispatcher,iI=qh.ReactCurrentBatchConfig,Pm=0,Ei=null,ds=null,Rs=null,a2=!1,n1=!1,Y1=0,Cae=0;function da(){throw Error(gt(321))}function mD(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Cc(n[t],e[t]))return!1;return!0}function gD(n,e,t,r,i,s){if(Pm=s,Ei=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uE.current=n===null||n.memoizedState===null?Rae:Nae,n=t(r,i),n1){s=0;do{if(n1=!1,Y1=0,25<=s)throw Error(gt(301));s+=1,Rs=ds=null,e.updateQueue=null,uE.current=kae,n=t(r,i)}while(n1)}if(uE.current=o2,e=ds!==null&&ds.next!==null,Pm=0,Rs=ds=Ei=null,a2=!1,e)throw Error(gt(300));return n}function vD(){var n=Y1!==0;return Y1=0,n}function tu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rs===null?Ei.memoizedState=Rs=n:Rs=Rs.next=n,Rs}function jl(){if(ds===null){var n=Ei.alternate;n=n!==null?n.memoizedState:null}else n=ds.next;var e=Rs===null?Ei.memoizedState:Rs.next;if(e!==null)Rs=e,ds=n;else{if(n===null)throw Error(gt(310));ds=n,n={memoizedState:ds.memoizedState,baseState:ds.baseState,baseQueue:ds.baseQueue,queue:ds.queue,next:null},Rs===null?Ei.memoizedState=Rs=n:Rs=Rs.next=n}return Rs}function K1(n,e){return typeof e=="function"?e(n):e}function sI(n){var e=jl(),t=e.queue;if(t===null)throw Error(gt(311));t.lastRenderedReducer=n;var r=ds,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Pm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,Ei.lanes|=u,Rm|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Cc(r,e.memoizedState)||(Po=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ei.lanes|=s,Rm|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function aI(n){var e=jl(),t=e.queue;if(t===null)throw Error(gt(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=n(s,a.action),a=a.next;while(a!==i);Cc(s,e.memoizedState)||(Po=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function qH(){}function XH(n,e){var t=Ei,r=jl(),i=e(),s=!Cc(r.memoizedState,i);if(s&&(r.memoizedState=i,Po=!0),r=r.queue,yD(ZH.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Rs!==null&&Rs.memoizedState.tag&1){if(t.flags|=2048,Z1(9,KH.bind(null,t,r,i,e),void 0,null),Ds===null)throw Error(gt(349));Pm&30||YH(t,e,i)}return i}function YH(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ei.updateQueue,e===null?(e={lastEffect:null,stores:null},Ei.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function KH(n,e,t,r){e.value=t,e.getSnapshot=r,QH(e)&&JH(n)}function ZH(n,e,t){return t(function(){QH(e)&&JH(n)})}function QH(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Cc(n,t)}catch{return!0}}function JH(n){var e=kh(n,1);e!==null&&bc(e,n,1,-1)}function n8(n){var e=tu();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:K1,lastRenderedState:n},e.queue=n,n=n.dispatch=Pae.bind(null,Ei,n),[e.memoizedState,n]}function Z1(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ei.updateQueue,e===null?(e={lastEffect:null,stores:null},Ei.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function eW(){return jl().memoizedState}function hE(n,e,t,r){var i=tu();Ei.flags|=n,i.memoizedState=Z1(1|e,t,void 0,r===void 0?null:r)}function iT(n,e,t,r){var i=jl();r=r===void 0?null:r;var s=void 0;if(ds!==null){var a=ds.memoizedState;if(s=a.destroy,r!==null&&mD(r,a.deps)){i.memoizedState=Z1(e,t,s,r);return}}Ei.flags|=n,i.memoizedState=Z1(1|e,t,s,r)}function r8(n,e){return hE(8390656,8,n,e)}function yD(n,e){return iT(2048,8,n,e)}function tW(n,e){return iT(4,2,n,e)}function nW(n,e){return iT(4,4,n,e)}function rW(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function iW(n,e,t){return t=t!=null?t.concat([n]):null,iT(4,4,rW.bind(null,e,n),t)}function xD(){}function sW(n,e){var t=jl();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&mD(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function aW(n,e){var t=jl();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&mD(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function oW(n,e,t){return Pm&21?(Cc(t,e)||(t=dH(),Ei.lanes|=t,Rm|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Po=!0),n.memoizedState=t)}function Mae(n,e){var t=kr;kr=t!==0&&4>t?t:4,n(!0);var r=iI.transition;iI.transition={};try{n(!1),e()}finally{kr=t,iI.transition=r}}function lW(){return jl().memoizedState}function Iae(n,e,t){var r=yf(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},cW(n))uW(e,t);else if(t=WH(n,e,t,r),t!==null){var i=ro();bc(t,n,r,i),hW(t,e,r)}}function Pae(n,e,t){var r=yf(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(cW(n))uW(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,Cc(o,a)){var l=e.interleaved;l===null?(i.next=i,uD(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=WH(n,e,i,r),t!==null&&(i=ro(),bc(t,n,r,i),hW(t,e,r))}}function cW(n){var e=n.alternate;return n===Ei||e!==null&&e===Ei}function uW(n,e){n1=a2=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function hW(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,K3(n,t)}}var o2={readContext:Ul,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},Rae={readContext:Ul,useCallback:function(n,e){return tu().memoizedState=[n,e===void 0?null:e],n},useContext:Ul,useEffect:r8,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,hE(4194308,4,rW.bind(null,e,n),t)},useLayoutEffect:function(n,e){return hE(4194308,4,n,e)},useInsertionEffect:function(n,e){return hE(4,2,n,e)},useMemo:function(n,e){var t=tu();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=tu();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=Iae.bind(null,Ei,n),[r.memoizedState,n]},useRef:function(n){var e=tu();return n={current:n},e.memoizedState=n},useState:n8,useDebugValue:xD,useDeferredValue:function(n){return tu().memoizedState=n},useTransition:function(){var n=n8(!1),e=n[0];return n=Mae.bind(null,n[1]),tu().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ei,i=tu();if(di){if(t===void 0)throw Error(gt(407));t=t()}else{if(t=e(),Ds===null)throw Error(gt(349));Pm&30||YH(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,r8(ZH.bind(null,r,s,n),[n]),r.flags|=2048,Z1(9,KH.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=tu(),e=Ds.identifierPrefix;if(di){var t=yh,r=vh;t=(r&~(1<<32-wc(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Y1++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Cae++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Nae={readContext:Ul,useCallback:sW,useContext:Ul,useEffect:yD,useImperativeHandle:iW,useInsertionEffect:tW,useLayoutEffect:nW,useMemo:aW,useReducer:sI,useRef:eW,useState:function(){return sI(K1)},useDebugValue:xD,useDeferredValue:function(n){var e=jl();return oW(e,ds.memoizedState,n)},useTransition:function(){var n=sI(K1)[0],e=jl().memoizedState;return[n,e]},useMutableSource:qH,useSyncExternalStore:XH,useId:lW,unstable_isNewReconciler:!1},kae={readContext:Ul,useCallback:sW,useContext:Ul,useEffect:yD,useImperativeHandle:iW,useInsertionEffect:tW,useLayoutEffect:nW,useMemo:aW,useReducer:aI,useRef:eW,useState:function(){return aI(K1)},useDebugValue:xD,useDeferredValue:function(n){var e=jl();return ds===null?e.memoizedState=n:oW(e,ds.memoizedState,n)},useTransition:function(){var n=aI(K1)[0],e=jl().memoizedState;return[n,e]},useMutableSource:qH,useSyncExternalStore:XH,useId:lW,unstable_isNewReconciler:!1};function ac(n,e){if(n&&n.defaultProps){e=Ai({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function iN(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ai({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var sT={isMounted:function(n){return(n=n._reactInternals)?Jm(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ro(),i=yf(n),s=Sh(r,i);s.payload=e,t!=null&&(s.callback=t),e=gf(n,s,i),e!==null&&(bc(e,n,i,r),cE(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ro(),i=yf(n),s=Sh(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=gf(n,s,i),e!==null&&(bc(e,n,i,r),cE(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ro(),r=yf(n),i=Sh(t,r);i.tag=2,e!=null&&(i.callback=e),e=gf(n,i,r),e!==null&&(bc(e,n,r,t),cE(e,n,r))}};function i8(n,e,t,r,i,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!H1(t,r)||!H1(i,s):!0}function dW(n,e,t){var r=!1,i=Rf,s=e.contextType;return typeof s=="object"&&s!==null?s=Ul(s):(i=ko(e)?Mm:Pa.current,r=e.contextTypes,s=(r=r!=null)?Mv(n,i):Rf),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sT,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function s8(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&sT.enqueueReplaceState(e,e.state,null)}function sN(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},hD(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ul(s):(s=ko(e)?Mm:Pa.current,i.context=Mv(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iN(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sT.enqueueReplaceState(i,i.state,null),i2(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Nv(n,e){try{var t="",r=e;do t+=ose(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function oI(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function aN(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Dae=typeof WeakMap=="function"?WeakMap:Map;function fW(n,e,t){t=Sh(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){c2||(c2=!0,gN=r),aN(n,e)},t}function pW(n,e,t){t=Sh(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){aN(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){aN(n,e),typeof r!="function"&&(vf===null?vf=new Set([this]):vf.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function a8(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Dae;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Xae.bind(null,n,e,t),e.then(n,n))}function o8(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function l8(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Sh(-1,1),e.tag=2,gf(t,e,1))),t.lanes|=1),n)}var Oae=qh.ReactCurrentOwner,Po=!1;function Qa(n,e,t,r){e.child=n===null?HH(e,null,t,r):Pv(e,n.child,t,r)}function c8(n,e,t,r,i){t=t.render;var s=e.ref;return J0(e,i),r=gD(n,e,t,r,s,i),t=vD(),n!==null&&!Po?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Dh(n,e,i)):(di&&t&&iD(e),e.flags|=1,Qa(n,e,r,i),e.child)}function u8(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!CD(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,mW(n,e,s,r,i)):(n=mE(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:H1,t(a,r)&&n.ref===e.ref)return Dh(n,e,i)}return e.flags|=1,n=xf(s,r),n.ref=e.ref,n.return=e,e.child=n}function mW(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(H1(s,r)&&n.ref===e.ref)if(Po=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Po=!0);else return e.lanes=n.lanes,Dh(n,e,i)}return oN(n,e,t,r,i)}function gW(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yr(M0,Yo),Yo|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Yr(M0,Yo),Yo|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Yr(M0,Yo),Yo|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Yr(M0,Yo),Yo|=r;return Qa(n,e,i,t),e.child}function vW(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function oN(n,e,t,r,i){var s=ko(t)?Mm:Pa.current;return s=Mv(e,s),J0(e,i),t=gD(n,e,t,r,s,i),r=vD(),n!==null&&!Po?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Dh(n,e,i)):(di&&r&&iD(e),e.flags|=1,Qa(n,e,t,i),e.child)}function h8(n,e,t,r,i){if(ko(t)){var s=!0;JE(e)}else s=!1;if(J0(e,i),e.stateNode===null)dE(n,e),dW(e,t,r),sN(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ul(c):(c=ko(t)?Mm:Pa.current,c=Mv(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&s8(e,a,r,c),zd=!1;var d=e.memoizedState;a.state=d,i2(e,r,a,i),l=e.memoizedState,o!==r||d!==l||No.current||zd?(typeof u=="function"&&(iN(e,t,u,r),l=e.memoizedState),(o=zd||i8(e,t,o,r,d,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,GH(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:ac(e.type,o),a.props=c,h=e.pendingProps,d=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ul(l):(l=ko(t)?Mm:Pa.current,l=Mv(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&s8(e,a,r,l),zd=!1,d=e.memoizedState,a.state=d,i2(e,r,a,i);var g=e.memoizedState;o!==h||d!==g||No.current||zd?(typeof p=="function"&&(iN(e,t,p,r),g=e.memoizedState),(c=zd||i8(e,t,c,r,d,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return lN(n,e,t,r,s,i)}function lN(n,e,t,r,i,s){vW(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&K6(e,t,!1),Dh(n,e,s);r=e.stateNode,Oae.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=Pv(e,n.child,null,s),e.child=Pv(e,null,o,s)):Qa(n,e,o,s),e.memoizedState=r.state,i&&K6(e,t,!0),e.child}function yW(n){var e=n.stateNode;e.pendingContext?Y6(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Y6(n,e.context,!1),dD(n,e.containerInfo)}function d8(n,e,t,r,i){return Iv(),aD(i),e.flags|=256,Qa(n,e,t,r),e.child}var cN={dehydrated:null,treeContext:null,retryLane:0};function uN(n){return{baseLanes:n,cachePool:null,transitions:null}}function xW(n,e,t){var r=e.pendingProps,i=_i.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Yr(_i,i&1),n===null)return nN(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=lT(a,r,0,null),n=_m(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=uN(t),e.memoizedState=cN,n):_D(e,a));if(i=n.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Lae(n,e,a,r,o,i,t);if(s){s=r.fallback,a=e.mode,i=n.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=xf(o,s):(s=_m(s,a,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=n.child.memoizedState,a=a===null?uN(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=cN,r}return s=n.child,n=s.sibling,r=xf(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function _D(n,e){return e=lT({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Nb(n,e,t,r){return r!==null&&aD(r),Pv(e,n.child,null,t),n=_D(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Lae(n,e,t,r,i,s,a){if(t)return e.flags&256?(e.flags&=-257,r=oI(Error(gt(422))),Nb(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lT({mode:"visible",children:r.children},i,0,null),s=_m(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Pv(e,n.child,null,a),e.child.memoizedState=uN(a),e.memoizedState=cN,s);if(!(e.mode&1))return Nb(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(gt(419)),r=oI(s,r,void 0),Nb(n,e,a,r)}if(o=(a&n.childLanes)!==0,Po||o){if(r=Ds,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kh(n,i),bc(r,n,i,-1))}return TD(),r=oI(Error(gt(421))),Nb(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Yae.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Qo=mf(i.nextSibling),nl=e,di=!0,dc=null,n!==null&&(Il[Pl++]=vh,Il[Pl++]=yh,Il[Pl++]=Im,vh=n.id,yh=n.overflow,Im=e),e=_D(e,r.children),e.flags|=4096,e)}function f8(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),rN(n.return,e,t)}function lI(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function _W(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qa(n,e,r.children,t),r=_i.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&f8(n,t,e);else if(n.tag===19)f8(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Yr(_i,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&s2(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),lI(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&s2(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}lI(e,!0,t,null,s);break;case"together":lI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dE(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Dh(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Rm|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(gt(153));if(e.child!==null){for(n=e.child,t=xf(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=xf(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Fae(n,e,t){switch(e.tag){case 3:yW(e),Iv();break;case 5:$H(e);break;case 1:ko(e.type)&&JE(e);break;case 4:dD(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Yr(n2,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yr(_i,_i.current&1),e.flags|=128,null):t&e.child.childLanes?xW(n,e,t):(Yr(_i,_i.current&1),n=Dh(n,e,t),n!==null?n.sibling:null);Yr(_i,_i.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return _W(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yr(_i,_i.current),r)break;return null;case 22:case 23:return e.lanes=0,gW(n,e,t)}return Dh(n,e,t)}var wW,hN,bW,SW;wW=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};hN=function(){};bW=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,tm(yu.current);var s=null;switch(t){case"input":i=kR(n,i),r=kR(n,r),s=[];break;case"select":i=Ai({},i,{value:void 0}),r=Ai({},r,{value:void 0}),s=[];break;case"textarea":i=LR(n,i),r=LR(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=ZE)}BR(t,r);var a;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(L1.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(L1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ri("scroll",n),s||o===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};SW=function(n,e,t,r){t!==r&&(e.flags|=4)};function rx(n,e){if(!di)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function fa(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Bae(n,e,t){var r=e.pendingProps;switch(sD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fa(e),null;case 1:return ko(e.type)&&QE(),fa(e),null;case 3:return r=e.stateNode,Rv(),oi(No),oi(Pa),pD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Pb(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dc!==null&&(xN(dc),dc=null))),hN(n,e),fa(e),null;case 5:fD(e);var i=tm(X1.current);if(t=e.type,n!==null&&e.stateNode!=null)bW(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(gt(166));return fa(e),null}if(n=tm(yu.current),Pb(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[ou]=e,r[$1]=s,n=(e.mode&1)!==0,t){case"dialog":ri("cancel",r),ri("close",r);break;case"iframe":case"object":case"embed":ri("load",r);break;case"video":case"audio":for(i=0;i<kx.length;i++)ri(kx[i],r);break;case"source":ri("error",r);break;case"img":case"image":case"link":ri("error",r),ri("load",r);break;case"details":ri("toggle",r);break;case"input":b6(r,s),ri("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ri("invalid",r);break;case"textarea":E6(r,s),ri("invalid",r)}BR(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ib(r.textContent,o,n),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ib(r.textContent,o,n),i=["children",""+o]):L1.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ri("scroll",r)}switch(t){case"input":wb(r),S6(r,s,!0);break;case"textarea":wb(r),A6(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ZE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Z7(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[ou]=e,n[$1]=r,wW(n,e,!1,!1),e.stateNode=n;e:{switch(a=UR(t,r),t){case"dialog":ri("cancel",n),ri("close",n),i=r;break;case"iframe":case"object":case"embed":ri("load",n),i=r;break;case"video":case"audio":for(i=0;i<kx.length;i++)ri(kx[i],n);i=r;break;case"source":ri("error",n),i=r;break;case"img":case"image":case"link":ri("error",n),ri("load",n),i=r;break;case"details":ri("toggle",n),i=r;break;case"input":b6(n,r),i=kR(n,r),ri("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ai({},r,{value:void 0}),ri("invalid",n);break;case"textarea":E6(n,r),i=LR(n,r),ri("invalid",n);break;default:i=r}BR(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?eH(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q7(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&F1(n,l):typeof l=="number"&&F1(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(L1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ri("scroll",n):l!=null&&W3(n,s,l,a))}switch(t){case"input":wb(n),S6(n,r,!1);break;case"textarea":wb(n),A6(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Pf(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Y0(n,!!r.multiple,s,!1):r.defaultValue!=null&&Y0(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=ZE)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fa(e),null;case 6:if(n&&e.stateNode!=null)SW(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(gt(166));if(t=tm(X1.current),tm(yu.current),Pb(e)){if(r=e.stateNode,t=e.memoizedProps,r[ou]=e,(s=r.nodeValue!==t)&&(n=nl,n!==null))switch(n.tag){case 3:Ib(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ib(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ou]=e,e.stateNode=r}return fa(e),null;case 13:if(oi(_i),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(di&&Qo!==null&&e.mode&1&&!(e.flags&128))VH(),Iv(),e.flags|=98560,s=!1;else if(s=Pb(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(gt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(gt(317));s[ou]=e}else Iv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fa(e),s=!1}else dc!==null&&(xN(dc),dc=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||_i.current&1?gs===0&&(gs=3):TD())),e.updateQueue!==null&&(e.flags|=4),fa(e),null);case 4:return Rv(),hN(n,e),n===null&&W1(e.stateNode.containerInfo),fa(e),null;case 10:return cD(e.type._context),fa(e),null;case 17:return ko(e.type)&&QE(),fa(e),null;case 19:if(oi(_i),s=e.memoizedState,s===null)return fa(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)rx(s,!1);else{if(gs!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=s2(n),a!==null){for(e.flags|=128,rx(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Yr(_i,_i.current&1|2),e.child}n=n.sibling}s.tail!==null&&Wi()>kv&&(e.flags|=128,r=!0,rx(s,!1),e.lanes=4194304)}else{if(!r)if(n=s2(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),rx(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!di)return fa(e),null}else 2*Wi()-s.renderingStartTime>kv&&t!==1073741824&&(e.flags|=128,r=!0,rx(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Wi(),e.sibling=null,t=_i.current,Yr(_i,r?t&1|2:t&1),e):(fa(e),null);case 22:case 23:return AD(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yo&1073741824&&(fa(e),e.subtreeFlags&6&&(e.flags|=8192)):fa(e),null;case 24:return null;case 25:return null}throw Error(gt(156,e.tag))}function Uae(n,e){switch(sD(e),e.tag){case 1:return ko(e.type)&&QE(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Rv(),oi(No),oi(Pa),pD(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return fD(e),null;case 13:if(oi(_i),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(gt(340));Iv()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return oi(_i),null;case 4:return Rv(),null;case 10:return cD(e.type._context),null;case 22:case 23:return AD(),null;case 24:return null;default:return null}}var kb=!1,Sa=!1,jae=typeof WeakSet=="function"?WeakSet:Set,jt=null;function C0(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Li(n,e,r)}else t.current=null}function dN(n,e,t){try{t()}catch(r){Li(n,e,r)}}var p8=!1;function Vae(n,e){if(YR=XE,n=MH(),rD(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var p;h!==t||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===n)break t;if(d===t&&++c===i&&(o=a),d===s&&++u===r&&(l=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(KR={focusedElem:n,selectionRange:t},XE=!1,jt=e;jt!==null;)if(e=jt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,jt=n;else for(;jt!==null;){e=jt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,x=e.stateNode,S=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:ac(e.type,_),w);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(T){Li(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,jt=n;break}jt=e.return}return g=p8,p8=!1,g}function r1(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&dN(e,t,s)}i=i.next}while(i!==r)}}function aT(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function fN(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function EW(n){var e=n.alternate;e!==null&&(n.alternate=null,EW(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ou],delete e[$1],delete e[JR],delete e[Sae],delete e[Eae])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function AW(n){return n.tag===5||n.tag===3||n.tag===4}function m8(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||AW(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pN(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=ZE));else if(r!==4&&(n=n.child,n!==null))for(pN(n,e,t),n=n.sibling;n!==null;)pN(n,e,t),n=n.sibling}function mN(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(mN(n,e,t),n=n.sibling;n!==null;)mN(n,e,t),n=n.sibling}var Ws=null,hc=!1;function bd(n,e,t){for(t=t.child;t!==null;)TW(n,e,t),t=t.sibling}function TW(n,e,t){if(vu&&typeof vu.onCommitFiberUnmount=="function")try{vu.onCommitFiberUnmount(QA,t)}catch{}switch(t.tag){case 5:Sa||C0(t,e);case 6:var r=Ws,i=hc;Ws=null,bd(n,e,t),Ws=r,hc=i,Ws!==null&&(hc?(n=Ws,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ws.removeChild(t.stateNode));break;case 18:Ws!==null&&(hc?(n=Ws,t=t.stateNode,n.nodeType===8?tI(n.parentNode,t):n.nodeType===1&&tI(n,t),V1(n)):tI(Ws,t.stateNode));break;case 4:r=Ws,i=hc,Ws=t.stateNode.containerInfo,hc=!0,bd(n,e,t),Ws=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Sa&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dN(t,e,a),i=i.next}while(i!==r)}bd(n,e,t);break;case 1:if(!Sa&&(C0(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){Li(t,e,o)}bd(n,e,t);break;case 21:bd(n,e,t);break;case 22:t.mode&1?(Sa=(r=Sa)||t.memoizedState!==null,bd(n,e,t),Sa=r):bd(n,e,t);break;default:bd(n,e,t)}}function g8(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new jae),e.forEach(function(r){var i=Kae.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Jl(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ws=o.stateNode,hc=!1;break e;case 3:Ws=o.stateNode.containerInfo,hc=!0;break e;case 4:Ws=o.stateNode.containerInfo,hc=!0;break e}o=o.return}if(Ws===null)throw Error(gt(160));TW(s,a,i),Ws=null,hc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Li(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CW(e,n),e=e.sibling}function CW(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Jl(e,n),Zc(n),r&4){try{r1(3,n,n.return),aT(3,n)}catch(_){Li(n,n.return,_)}try{r1(5,n,n.return)}catch(_){Li(n,n.return,_)}}break;case 1:Jl(e,n),Zc(n),r&512&&t!==null&&C0(t,t.return);break;case 5:if(Jl(e,n),Zc(n),r&512&&t!==null&&C0(t,t.return),n.flags&32){var i=n.stateNode;try{F1(i,"")}catch(_){Li(n,n.return,_)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Y7(i,s),UR(o,a);var c=UR(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?eH(i,h):u==="dangerouslySetInnerHTML"?Q7(i,h):u==="children"?F1(i,h):W3(i,u,h,c)}switch(o){case"input":DR(i,s);break;case"textarea":K7(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Y0(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Y0(i,!!s.multiple,s.defaultValue,!0):Y0(i,!!s.multiple,s.multiple?[]:"",!1))}i[$1]=s}catch(_){Li(n,n.return,_)}}break;case 6:if(Jl(e,n),Zc(n),r&4){if(n.stateNode===null)throw Error(gt(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(_){Li(n,n.return,_)}}break;case 3:if(Jl(e,n),Zc(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{V1(e.containerInfo)}catch(_){Li(n,n.return,_)}break;case 4:Jl(e,n),Zc(n);break;case 13:Jl(e,n),Zc(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(SD=Wi())),r&4&&g8(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Sa=(c=Sa)||u,Jl(e,n),Sa=c):Jl(e,n),Zc(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(jt=n,u=n.child;u!==null;){for(h=jt=u;jt!==null;){switch(d=jt,p=d.child,d.tag){case 0:case 11:case 14:case 15:r1(4,d,d.return);break;case 1:C0(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Li(r,t,_)}}break;case 5:C0(d,d.return);break;case 22:if(d.memoizedState!==null){y8(h);continue}}p!==null?(p.return=d,jt=p):y8(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=J7("display",a))}catch(_){Li(n,n.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Li(n,n.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jl(e,n),Zc(n),r&4&&g8(n);break;case 21:break;default:Jl(e,n),Zc(n)}}function Zc(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(AW(t)){var r=t;break e}t=t.return}throw Error(gt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(F1(i,""),r.flags&=-33);var s=m8(n);mN(n,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=m8(n);pN(n,o,a);break;default:throw Error(gt(161))}}catch(l){Li(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function zae(n,e,t){jt=n,MW(n)}function MW(n,e,t){for(var r=(n.mode&1)!==0;jt!==null;){var i=jt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||kb;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Sa;o=kb;var c=Sa;if(kb=a,(Sa=l)&&!c)for(jt=i;jt!==null;)a=jt,l=a.child,a.tag===22&&a.memoizedState!==null?x8(i):l!==null?(l.return=a,jt=l):x8(i);for(;s!==null;)jt=s,MW(s),s=s.sibling;jt=i,kb=o,Sa=c}v8(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,jt=s):v8(n)}}function v8(n){for(;jt!==null;){var e=jt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sa||aT(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sa)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ac(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&t8(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}t8(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&V1(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}Sa||e.flags&512&&fN(e)}catch(d){Li(e,e.return,d)}}if(e===n){jt=null;break}if(t=e.sibling,t!==null){t.return=e.return,jt=t;break}jt=e.return}}function y8(n){for(;jt!==null;){var e=jt;if(e===n){jt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,jt=t;break}jt=e.return}}function x8(n){for(;jt!==null;){var e=jt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{aT(4,e)}catch(l){Li(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Li(e,i,l)}}var s=e.return;try{fN(e)}catch(l){Li(e,s,l)}break;case 5:var a=e.return;try{fN(e)}catch(l){Li(e,a,l)}}}catch(l){Li(e,e.return,l)}if(e===n){jt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,jt=o;break}jt=e.return}}var Hae=Math.ceil,l2=qh.ReactCurrentDispatcher,wD=qh.ReactCurrentOwner,Ll=qh.ReactCurrentBatchConfig,ur=0,Ds=null,Ji=null,Ys=0,Yo=0,M0=$f(0),gs=0,Q1=null,Rm=0,oT=0,bD=0,i1=null,Co=null,SD=0,kv=1/0,hh=null,c2=!1,gN=null,vf=null,Db=!1,of=null,u2=0,s1=0,vN=null,fE=-1,pE=0;function ro(){return ur&6?Wi():fE!==-1?fE:fE=Wi()}function yf(n){return n.mode&1?ur&2&&Ys!==0?Ys&-Ys:Tae.transition!==null?(pE===0&&(pE=dH()),pE):(n=kr,n!==0||(n=window.event,n=n===void 0?16:xH(n.type)),n):1}function bc(n,e,t,r){if(50<s1)throw s1=0,vN=null,Error(gt(185));G_(n,t,r),(!(ur&2)||n!==Ds)&&(n===Ds&&(!(ur&2)&&(oT|=t),gs===4&&Gd(n,Ys)),Do(n,r),t===1&&ur===0&&!(e.mode&1)&&(kv=Wi()+500,rT&&qf()))}function Do(n,e){var t=n.callbackNode;Tse(n,e);var r=qE(n,n===Ds?Ys:0);if(r===0)t!==null&&M6(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&M6(t),e===1)n.tag===0?Aae(_8.bind(null,n)):BH(_8.bind(null,n)),wae(function(){!(ur&6)&&qf()}),t=null;else{switch(fH(r)){case 1:t=Y3;break;case 4:t=uH;break;case 16:t=$E;break;case 536870912:t=hH;break;default:t=$E}t=LW(t,IW.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function IW(n,e){if(fE=-1,pE=0,ur&6)throw Error(gt(327));var t=n.callbackNode;if(ev()&&n.callbackNode!==t)return null;var r=qE(n,n===Ds?Ys:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=h2(n,r);else{e=r;var i=ur;ur|=2;var s=RW();(Ds!==n||Ys!==e)&&(hh=null,kv=Wi()+500,xm(n,e));do try{$ae();break}catch(o){PW(n,o)}while(!0);lD(),l2.current=s,ur=i,Ji!==null?e=0:(Ds=null,Ys=0,e=gs)}if(e!==0){if(e===2&&(i=WR(n),i!==0&&(r=i,e=yN(n,i))),e===1)throw t=Q1,xm(n,0),Gd(n,r),Do(n,Wi()),t;if(e===6)Gd(n,r);else{if(i=n.current.alternate,!(r&30)&&!Wae(i)&&(e=h2(n,r),e===2&&(s=WR(n),s!==0&&(r=s,e=yN(n,s))),e===1))throw t=Q1,xm(n,0),Gd(n,r),Do(n,Wi()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(gt(345));case 2:Up(n,Co,hh);break;case 3:if(Gd(n,r),(r&130023424)===r&&(e=SD+500-Wi(),10<e)){if(qE(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){ro(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=QR(Up.bind(null,n,Co,hh),e);break}Up(n,Co,hh);break;case 4:if(Gd(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-wc(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Wi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hae(r/1960))-r,10<r){n.timeoutHandle=QR(Up.bind(null,n,Co,hh),r);break}Up(n,Co,hh);break;case 5:Up(n,Co,hh);break;default:throw Error(gt(329))}}}return Do(n,Wi()),n.callbackNode===t?IW.bind(null,n):null}function yN(n,e){var t=i1;return n.current.memoizedState.isDehydrated&&(xm(n,e).flags|=256),n=h2(n,e),n!==2&&(e=Co,Co=t,e!==null&&xN(e)),n}function xN(n){Co===null?Co=n:Co.push.apply(Co,n)}function Wae(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Cc(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gd(n,e){for(e&=~bD,e&=~oT,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-wc(e),r=1<<t;n[t]=-1,e&=~r}}function _8(n){if(ur&6)throw Error(gt(327));ev();var e=qE(n,0);if(!(e&1))return Do(n,Wi()),null;var t=h2(n,e);if(n.tag!==0&&t===2){var r=WR(n);r!==0&&(e=r,t=yN(n,r))}if(t===1)throw t=Q1,xm(n,0),Gd(n,e),Do(n,Wi()),t;if(t===6)throw Error(gt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Up(n,Co,hh),Do(n,Wi()),null}function ED(n,e){var t=ur;ur|=1;try{return n(e)}finally{ur=t,ur===0&&(kv=Wi()+500,rT&&qf())}}function Nm(n){of!==null&&of.tag===0&&!(ur&6)&&ev();var e=ur;ur|=1;var t=Ll.transition,r=kr;try{if(Ll.transition=null,kr=1,n)return n()}finally{kr=r,Ll.transition=t,ur=e,!(ur&6)&&qf()}}function AD(){Yo=M0.current,oi(M0)}function xm(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,_ae(t)),Ji!==null)for(t=Ji.return;t!==null;){var r=t;switch(sD(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&QE();break;case 3:Rv(),oi(No),oi(Pa),pD();break;case 5:fD(r);break;case 4:Rv();break;case 13:oi(_i);break;case 19:oi(_i);break;case 10:cD(r.type._context);break;case 22:case 23:AD()}t=t.return}if(Ds=n,Ji=n=xf(n.current,null),Ys=Yo=e,gs=0,Q1=null,bD=oT=Rm=0,Co=i1=null,em!==null){for(e=0;e<em.length;e++)if(t=em[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}t.pending=r}em=null}return n}function PW(n,e){do{var t=Ji;try{if(lD(),uE.current=o2,a2){for(var r=Ei.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}a2=!1}if(Pm=0,Rs=ds=Ei=null,n1=!1,Y1=0,wD.current=null,t===null||t.return===null){gs=1,Q1=e,Ji=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=Ys,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=o8(a);if(p!==null){p.flags&=-257,l8(p,a,o,s,e),p.mode&1&&a8(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){a8(s,c,e),TD();break e}l=Error(gt(426))}}else if(di&&o.mode&1){var w=o8(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),l8(w,a,o,s,e),aD(Nv(l,o));break e}}s=l=Nv(l,o),gs!==4&&(gs=2),i1===null?i1=[s]:i1.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=fW(s,l,e);e8(s,x);break e;case 1:o=l;var S=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(vf===null||!vf.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=pW(s,o,e);e8(s,T);break e}}s=s.return}while(s!==null)}kW(t)}catch(D){e=D,Ji===t&&t!==null&&(Ji=t=t.return);continue}break}while(!0)}function RW(){var n=l2.current;return l2.current=o2,n===null?o2:n}function TD(){(gs===0||gs===3||gs===2)&&(gs=4),Ds===null||!(Rm&268435455)&&!(oT&268435455)||Gd(Ds,Ys)}function h2(n,e){var t=ur;ur|=2;var r=RW();(Ds!==n||Ys!==e)&&(hh=null,xm(n,e));do try{Gae();break}catch(i){PW(n,i)}while(!0);if(lD(),ur=t,l2.current=r,Ji!==null)throw Error(gt(261));return Ds=null,Ys=0,gs}function Gae(){for(;Ji!==null;)NW(Ji)}function $ae(){for(;Ji!==null&&!vse();)NW(Ji)}function NW(n){var e=OW(n.alternate,n,Yo);n.memoizedProps=n.pendingProps,e===null?kW(n):Ji=e,wD.current=null}function kW(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Uae(t,e),t!==null){t.flags&=32767,Ji=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gs=6,Ji=null;return}}else if(t=Bae(t,e,Yo),t!==null){Ji=t;return}if(e=e.sibling,e!==null){Ji=e;return}Ji=e=n}while(e!==null);gs===0&&(gs=5)}function Up(n,e,t){var r=kr,i=Ll.transition;try{Ll.transition=null,kr=1,qae(n,e,t,r)}finally{Ll.transition=i,kr=r}return null}function qae(n,e,t,r){do ev();while(of!==null);if(ur&6)throw Error(gt(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(gt(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Cse(n,s),n===Ds&&(Ji=Ds=null,Ys=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Db||(Db=!0,LW($E,function(){return ev(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ll.transition,Ll.transition=null;var a=kr;kr=1;var o=ur;ur|=4,wD.current=null,Vae(n,t),CW(t,n),fae(KR),XE=!!YR,KR=YR=null,n.current=t,zae(t),yse(),ur=o,kr=a,Ll.transition=s}else n.current=t;if(Db&&(Db=!1,of=n,u2=i),s=n.pendingLanes,s===0&&(vf=null),wse(t.stateNode),Do(n,Wi()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(c2)throw c2=!1,n=gN,gN=null,n;return u2&1&&n.tag!==0&&ev(),s=n.pendingLanes,s&1?n===vN?s1++:(s1=0,vN=n):s1=0,qf(),null}function ev(){if(of!==null){var n=fH(u2),e=Ll.transition,t=kr;try{if(Ll.transition=null,kr=16>n?16:n,of===null)var r=!1;else{if(n=of,of=null,u2=0,ur&6)throw Error(gt(331));var i=ur;for(ur|=4,jt=n.current;jt!==null;){var s=jt,a=s.child;if(jt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(jt=c;jt!==null;){var u=jt;switch(u.tag){case 0:case 11:case 15:r1(8,u,s)}var h=u.child;if(h!==null)h.return=u,jt=h;else for(;jt!==null;){u=jt;var d=u.sibling,p=u.return;if(EW(u),u===c){jt=null;break}if(d!==null){d.return=p,jt=d;break}jt=p}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}jt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,jt=a;else e:for(;jt!==null;){if(s=jt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:r1(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,jt=x;break e}jt=s.return}}var S=n.current;for(jt=S;jt!==null;){a=jt;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,jt=E;else e:for(a=S;jt!==null;){if(o=jt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:aT(9,o)}}catch(D){Li(o,o.return,D)}if(o===a){jt=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,jt=T;break e}jt=o.return}}if(ur=i,qf(),vu&&typeof vu.onPostCommitFiberRoot=="function")try{vu.onPostCommitFiberRoot(QA,n)}catch{}r=!0}return r}finally{kr=t,Ll.transition=e}}return!1}function w8(n,e,t){e=Nv(t,e),e=fW(n,e,1),n=gf(n,e,1),e=ro(),n!==null&&(G_(n,1,e),Do(n,e))}function Li(n,e,t){if(n.tag===3)w8(n,n,t);else for(;e!==null;){if(e.tag===3){w8(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vf===null||!vf.has(r))){n=Nv(t,n),n=pW(e,n,1),e=gf(e,n,1),n=ro(),e!==null&&(G_(e,1,n),Do(e,n));break}}e=e.return}}function Xae(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ro(),n.pingedLanes|=n.suspendedLanes&t,Ds===n&&(Ys&t)===t&&(gs===4||gs===3&&(Ys&130023424)===Ys&&500>Wi()-SD?xm(n,0):bD|=t),Do(n,e)}function DW(n,e){e===0&&(n.mode&1?(e=Eb,Eb<<=1,!(Eb&130023424)&&(Eb=4194304)):e=1);var t=ro();n=kh(n,e),n!==null&&(G_(n,e,t),Do(n,t))}function Yae(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),DW(n,t)}function Kae(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(gt(314))}r!==null&&r.delete(e),DW(n,t)}var OW;OW=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||No.current)Po=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Po=!1,Fae(n,e,t);Po=!!(n.flags&131072)}else Po=!1,di&&e.flags&1048576&&UH(e,t2,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dE(n,e),n=e.pendingProps;var i=Mv(e,Pa.current);J0(e,t),i=gD(null,e,r,n,i,t);var s=vD();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ko(r)?(s=!0,JE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hD(e),i.updater=sT,e.stateNode=i,i._reactInternals=e,sN(e,r,n,t),e=lN(null,e,r,!0,s,t)):(e.tag=0,di&&s&&iD(e),Qa(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(dE(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Qae(r),n=ac(r,n),i){case 0:e=oN(null,e,r,n,t);break e;case 1:e=h8(null,e,r,n,t);break e;case 11:e=c8(null,e,r,n,t);break e;case 14:e=u8(null,e,r,ac(r.type,n),t);break e}throw Error(gt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ac(r,i),oN(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ac(r,i),h8(n,e,r,i,t);case 3:e:{if(yW(e),n===null)throw Error(gt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,GH(n,e),i2(e,r,null,t);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nv(Error(gt(423)),e),e=d8(n,e,r,t,i);break e}else if(r!==i){i=Nv(Error(gt(424)),e),e=d8(n,e,r,t,i);break e}else for(Qo=mf(e.stateNode.containerInfo.firstChild),nl=e,di=!0,dc=null,t=HH(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Iv(),r===i){e=Dh(n,e,t);break e}Qa(n,e,r,t)}e=e.child}return e;case 5:return $H(e),n===null&&nN(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,a=i.children,ZR(r,i)?a=null:s!==null&&ZR(r,s)&&(e.flags|=32),vW(n,e),Qa(n,e,a,t),e.child;case 6:return n===null&&nN(e),null;case 13:return xW(n,e,t);case 4:return dD(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Pv(e,null,r,t):Qa(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ac(r,i),c8(n,e,r,i,t);case 7:return Qa(n,e,e.pendingProps,t),e.child;case 8:return Qa(n,e,e.pendingProps.children,t),e.child;case 12:return Qa(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Yr(n2,r._currentValue),r._currentValue=a,s!==null)if(Cc(s.value,a)){if(s.children===i.children&&!No.current){e=Dh(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sh(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),rN(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(gt(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),rN(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Qa(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,J0(e,t),i=Ul(i),r=r(i),e.flags|=1,Qa(n,e,r,t),e.child;case 14:return r=e.type,i=ac(r,e.pendingProps),i=ac(r.type,i),u8(n,e,r,i,t);case 15:return mW(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ac(r,i),dE(n,e),e.tag=1,ko(r)?(n=!0,JE(e)):n=!1,J0(e,t),dW(e,r,i),sN(e,r,i,t),lN(null,e,r,!0,n,t);case 19:return _W(n,e,t);case 22:return gW(n,e,t)}throw Error(gt(156,e.tag))};function LW(n,e){return cH(n,e)}function Zae(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kl(n,e,t,r){return new Zae(n,e,t,r)}function CD(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qae(n){if(typeof n=="function")return CD(n)?1:0;if(n!=null){if(n=n.$$typeof,n===$3)return 11;if(n===q3)return 14}return 2}function xf(n,e){var t=n.alternate;return t===null?(t=kl(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function mE(n,e,t,r,i,s){var a=2;if(r=n,typeof n=="function")CD(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case y0:return _m(t.children,i,s,e);case G3:a=8,i|=8;break;case IR:return n=kl(12,t,e,i|2),n.elementType=IR,n.lanes=s,n;case PR:return n=kl(13,t,e,i),n.elementType=PR,n.lanes=s,n;case RR:return n=kl(19,t,e,i),n.elementType=RR,n.lanes=s,n;case $7:return lT(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case W7:a=10;break e;case G7:a=9;break e;case $3:a=11;break e;case q3:a=14;break e;case Vd:a=16,r=null;break e}throw Error(gt(130,n==null?n:typeof n,""))}return e=kl(a,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function _m(n,e,t,r){return n=kl(7,n,r,e),n.lanes=t,n}function lT(n,e,t,r){return n=kl(22,n,r,e),n.elementType=$7,n.lanes=t,n.stateNode={isHidden:!1},n}function cI(n,e,t){return n=kl(6,n,null,e),n.lanes=t,n}function uI(n,e,t){return e=kl(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Jae(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=WM(0),this.expirationTimes=WM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WM(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function MD(n,e,t,r,i,s,a,o,l){return n=new Jae(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kl(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},hD(s),n}function eoe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v0,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function FW(n){if(!n)return Rf;n=n._reactInternals;e:{if(Jm(n)!==n||n.tag!==1)throw Error(gt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ko(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(gt(171))}if(n.tag===1){var t=n.type;if(ko(t))return FH(n,t,e)}return e}function BW(n,e,t,r,i,s,a,o,l){return n=MD(t,r,!0,n,i,s,a,o,l),n.context=FW(null),t=n.current,r=ro(),i=yf(t),s=Sh(r,i),s.callback=e??null,gf(t,s,i),n.current.lanes=i,G_(n,i,r),Do(n,r),n}function cT(n,e,t,r){var i=e.current,s=ro(),a=yf(i);return t=FW(t),e.context===null?e.context=t:e.pendingContext=t,e=Sh(s,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=gf(i,e,a),n!==null&&(bc(n,i,a,s),cE(n,i,a)),a}function d2(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function b8(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ID(n,e){b8(n,e),(n=n.alternate)&&b8(n,e)}function toe(){return null}var UW=typeof reportError=="function"?reportError:function(n){console.error(n)};function PD(n){this._internalRoot=n}uT.prototype.render=PD.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(gt(409));cT(n,e,null,null)};uT.prototype.unmount=PD.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Nm(function(){cT(null,n,null,null)}),e[Nh]=null}};function uT(n){this._internalRoot=n}uT.prototype.unstable_scheduleHydration=function(n){if(n){var e=gH();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Wd.length&&e!==0&&e<Wd[t].priority;t++);Wd.splice(t,0,n),t===0&&yH(n)}};function RD(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function S8(){}function noe(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=d2(a);s.call(c)}}var a=BW(e,r,n,0,null,!1,!1,"",S8);return n._reactRootContainer=a,n[Nh]=a.current,W1(n.nodeType===8?n.parentNode:n),Nm(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=d2(l);o.call(c)}}var l=MD(n,0,!1,null,null,!1,!1,"",S8);return n._reactRootContainer=l,n[Nh]=l.current,W1(n.nodeType===8?n.parentNode:n),Nm(function(){cT(e,l,t,r)}),l}function dT(n,e,t,r,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=d2(a);o.call(l)}}cT(e,a,n,i)}else a=noe(t,e,n,i,r);return d2(a)}pH=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Nx(e.pendingLanes);t!==0&&(K3(e,t|1),Do(e,Wi()),!(ur&6)&&(kv=Wi()+500,qf()))}break;case 13:Nm(function(){var r=kh(n,1);if(r!==null){var i=ro();bc(r,n,1,i)}}),ID(n,1)}};Z3=function(n){if(n.tag===13){var e=kh(n,134217728);if(e!==null){var t=ro();bc(e,n,134217728,t)}ID(n,134217728)}};mH=function(n){if(n.tag===13){var e=yf(n),t=kh(n,e);if(t!==null){var r=ro();bc(t,n,e,r)}ID(n,e)}};gH=function(){return kr};vH=function(n,e){var t=kr;try{return kr=n,e()}finally{kr=t}};VR=function(n,e,t){switch(e){case"input":if(DR(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=nT(r);if(!i)throw Error(gt(90));X7(r),DR(r,i)}}}break;case"textarea":K7(n,t);break;case"select":e=t.value,e!=null&&Y0(n,!!t.multiple,e,!1)}};rH=ED;iH=Nm;var roe={usingClientEntryPoint:!1,Events:[q_,b0,nT,tH,nH,ED]},ix={findFiberByHostInstance:Jp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ioe={bundleType:ix.bundleType,version:ix.version,rendererPackageName:ix.rendererPackageName,rendererConfig:ix.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qh.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=oH(n),n===null?null:n.stateNode},findFiberByHostInstance:ix.findFiberByHostInstance||toe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ob.isDisabled&&Ob.supportsFiber)try{QA=Ob.inject(ioe),vu=Ob}catch{}}hl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=roe;hl.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RD(e))throw Error(gt(200));return eoe(n,e,null,t)};hl.createRoot=function(n,e){if(!RD(n))throw Error(gt(299));var t=!1,r="",i=UW;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=MD(n,1,!1,null,null,t,!1,r,i),n[Nh]=e.current,W1(n.nodeType===8?n.parentNode:n),new PD(e)};hl.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(gt(188)):(n=Object.keys(n).join(","),Error(gt(268,n)));return n=oH(e),n=n===null?null:n.stateNode,n};hl.flushSync=function(n){return Nm(n)};hl.hydrate=function(n,e,t){if(!hT(e))throw Error(gt(200));return dT(null,n,e,!0,t)};hl.hydrateRoot=function(n,e,t){if(!RD(n))throw Error(gt(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",a=UW;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=BW(e,null,n,1,t??null,i,!1,s,a),n[Nh]=e.current,W1(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new uT(e)};hl.render=function(n,e,t){if(!hT(e))throw Error(gt(200));return dT(null,n,e,!1,t)};hl.unmountComponentAtNode=function(n){if(!hT(n))throw Error(gt(40));return n._reactRootContainer?(Nm(function(){dT(null,null,n,!1,function(){n._reactRootContainer=null,n[Nh]=null})}),!0):!1};hl.unstable_batchedUpdates=ED;hl.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!hT(t))throw Error(gt(200));if(n==null||n._reactInternals===void 0)throw Error(gt(38));return dT(n,e,t,!1,r)};hl.version="18.3.1-next-f1338f8080-20240426";function jW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jW)}catch(n){console.error(n)}}jW(),j7.exports=hl;var Xf=j7.exports;const soe=H_(Xf);var VW,E8=Xf;VW=E8.createRoot,E8.hydrateRoot;const aoe="modulepreload",ooe=function(n){return"/"+n},A8={},wa=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=ooe(l),l in A8)return;A8[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":aoe,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((d,p)=>{h.addEventListener("load",d),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},loe=()=>{};var T8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},coe=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],a=n[t++],o=n[t++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},HW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,o=a?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(d=64)),r.push(t[u],t[h],t[d],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zW(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):coe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],o=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||o==null||c==null||h==null)throw new uoe;const d=s<<2|o>>4;if(r.push(d),c!==64){const p=o<<4&240|c>>2;if(r.push(p),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uoe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hoe=function(n){const e=zW(n);return HW.encodeByteArray(e,!0)},f2=function(n){return hoe(n).replace(/\./g,"")},WW=function(n){try{return HW.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function doe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe=()=>doe().__FIREBASE_DEFAULTS__,poe=()=>{if(typeof process>"u"||typeof T8>"u")return;const n=T8.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},moe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&WW(n[1]);return e&&JSON.parse(e)},fT=()=>{try{return loe()||foe()||poe()||moe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GW=n=>{var e,t;return(t=(e=fT())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},goe=n=>{const e=GW(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$W=()=>{var n;return(n=fT())===null||n===void 0?void 0:n.config},qW=n=>{var e;return(e=fT())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XW(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[f2(JSON.stringify(t)),f2(JSON.stringify(a)),""].join(".")}const a1={};function xoe(){const n={prod:[],emulator:[]};for(const e of Object.keys(a1))a1[e]?n.emulator.push(e):n.prod.push(e);return n}function _oe(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let C8=!1;function YW(n,e){if(typeof window>"u"||typeof document>"u"||!cy(window.location.host)||a1[n]===e||a1[n]||C8)return;a1[n]=e;function t(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=xoe().prod.length>0;function a(){const d=document.getElementById(r);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{C8=!0,a()},d}function u(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=_oe(r),p=t("text"),g=document.getElementById(p)||document.createElement("span"),_=t("learnmore"),w=document.getElementById(_)||document.createElement("a"),x=t("preprendIcon"),S=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const E=d.element;o(E),u(w,_);const T=c();l(S,x),E.append(S,g,w,T),document.body.appendChild(E)}s?(g.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function woe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ra())}function boe(){var n;const e=(n=fT())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Soe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KW(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Eoe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Aoe(){const n=Ra();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Toe(){return!boe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZW(){try{return typeof indexedDB=="object"}catch{return!1}}function QW(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function Coe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe="FirebaseError";class Dc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Moe,Object.setPrototypeOf(this,Dc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eg.prototype.create)}}class eg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Ioe(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Dc(i,o,r)}}function Ioe(n,e){return n.replace(Poe,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Poe=/\{\$([^}]+)}/g;function Roe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(M8(s)&&M8(a)){if(!Nf(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function M8(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dx(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ox(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Noe(n,e){const t=new koe(n,e);return t.subscribe.bind(t)}class koe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Doe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=hI),i.error===void 0&&(i.error=hI),i.complete===void 0&&(i.complete=hI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Doe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hI(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ooe=1e3,Loe=2,Foe=4*60*60*1e3,Boe=.5;function I8(n,e=Ooe,t=Loe){const r=e*Math.pow(t,n),i=Math.round(Boe*r*(Math.random()-.5)*2);return Math.min(Foe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n){return n&&n._delegate?n._delegate:n}class Mc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uoe=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new voe;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Voe(e))try{this.getOrInitializeService({instanceIdentifier:jp})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jp){return this.instances.has(e)}getOptions(e=jp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:joe(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jp){return this.component?this.component.multipleInstances?e:jp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function joe(n){return n===jp?void 0:n}function Voe(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Uoe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qn||(Qn={}));const Hoe={debug:Qn.DEBUG,verbose:Qn.VERBOSE,info:Qn.INFO,warn:Qn.WARN,error:Qn.ERROR,silent:Qn.SILENT},Woe=Qn.INFO,Goe={[Qn.DEBUG]:"log",[Qn.VERBOSE]:"log",[Qn.INFO]:"info",[Qn.WARN]:"warn",[Qn.ERROR]:"error"},$oe=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Goe[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pT{constructor(e){this.name=e,this._logLevel=Woe,this._logHandler=$oe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hoe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qn.DEBUG,...e),this._logHandler(this,Qn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qn.VERBOSE,...e),this._logHandler(this,Qn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qn.INFO,...e),this._logHandler(this,Qn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qn.WARN,...e),this._logHandler(this,Qn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qn.ERROR,...e),this._logHandler(this,Qn.ERROR,...e)}}const qoe=(n,e)=>e.some(t=>n instanceof t);let P8,R8;function Xoe(){return P8||(P8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yoe(){return R8||(R8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JW=new WeakMap,_N=new WeakMap,eG=new WeakMap,dI=new WeakMap,ND=new WeakMap;function Koe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(_f(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&JW.set(t,n)}).catch(()=>{}),ND.set(e,n),e}function Zoe(n){if(_N.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});_N.set(n,e)}let wN={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _N.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eG.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _f(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Qoe(n){wN=n(wN)}function Joe(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(fI(this),e,...t);return eG.set(r,e.sort?e.sort():[e]),_f(r)}:Yoe().includes(n)?function(...e){return n.apply(fI(this),e),_f(JW.get(this))}:function(...e){return _f(n.apply(fI(this),e))}}function ele(n){return typeof n=="function"?Joe(n):(n instanceof IDBTransaction&&Zoe(n),qoe(n,Xoe())?new Proxy(n,wN):n)}function _f(n){if(n instanceof IDBRequest)return Koe(n);if(dI.has(n))return dI.get(n);const e=ele(n);return e!==n&&(dI.set(n,e),ND.set(e,n)),e}const fI=n=>ND.get(n);function tG(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),o=_f(a);return r&&a.addEventListener("upgradeneeded",l=>{r(_f(a.result),l.oldVersion,l.newVersion,_f(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const tle=["get","getKey","getAll","getAllKeys","count"],nle=["put","add","delete","clear"],pI=new Map;function N8(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pI.get(e))return pI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=nle.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tle.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),i&&l.done]))[0]};return pI.set(e,s),s}Qoe(n=>({...n,get:(e,t,r)=>N8(e,t)||n.get(e,t,r),has:(e,t)=>!!N8(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ile(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ile(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bN="@firebase/app",k8="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new pT("@firebase/app"),sle="@firebase/app-compat",ale="@firebase/analytics-compat",ole="@firebase/analytics",lle="@firebase/app-check-compat",cle="@firebase/app-check",ule="@firebase/auth",hle="@firebase/auth-compat",dle="@firebase/database",fle="@firebase/data-connect",ple="@firebase/database-compat",mle="@firebase/functions",gle="@firebase/functions-compat",vle="@firebase/installations",yle="@firebase/installations-compat",xle="@firebase/messaging",_le="@firebase/messaging-compat",wle="@firebase/performance",ble="@firebase/performance-compat",Sle="@firebase/remote-config",Ele="@firebase/remote-config-compat",Ale="@firebase/storage",Tle="@firebase/storage-compat",Cle="@firebase/firestore",Mle="@firebase/ai",Ile="@firebase/firestore-compat",Ple="firebase",Rle="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="[DEFAULT]",Nle={[bN]:"fire-core",[sle]:"fire-core-compat",[ole]:"fire-analytics",[ale]:"fire-analytics-compat",[cle]:"fire-app-check",[lle]:"fire-app-check-compat",[ule]:"fire-auth",[hle]:"fire-auth-compat",[dle]:"fire-rtdb",[fle]:"fire-data-connect",[ple]:"fire-rtdb-compat",[mle]:"fire-fn",[gle]:"fire-fn-compat",[vle]:"fire-iid",[yle]:"fire-iid-compat",[xle]:"fire-fcm",[_le]:"fire-fcm-compat",[wle]:"fire-perf",[ble]:"fire-perf-compat",[Sle]:"fire-rc",[Ele]:"fire-rc-compat",[Ale]:"fire-gcs",[Tle]:"fire-gcs-compat",[Cle]:"fire-fst",[Ile]:"fire-fst-compat",[Mle]:"fire-vertex","fire-js":"fire-js",[Ple]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Map,kle=new Map,EN=new Map;function D8(n,e){try{n.container.addComponent(e)}catch(t){Oh.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mu(n){const e=n.name;if(EN.has(e))return Oh.debug(`There were multiple attempts to register component ${e}.`),!1;EN.set(e,n);for(const t of p2.values())D8(t,n);for(const t of kle.values())D8(t,n);return!0}function tg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mc(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wf=new eg("app","Firebase",Dle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ole{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=Rle;function nG(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:SN,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw wf.create("bad-app-name",{appName:String(i)});if(t||(t=$W()),!t)throw wf.create("no-options");const s=p2.get(i);if(s){if(Nf(t,s.options)&&Nf(r,s.config))return s;throw wf.create("duplicate-app",{appName:i})}const a=new zoe(i);for(const l of EN.values())a.addComponent(l);const o=new Ole(t,r,a);return p2.set(i,o),o}function kD(n=SN){const e=p2.get(n);if(!e&&n===SN&&$W())return nG();if(!e)throw wf.create("no-app",{appName:n});return e}function Fl(n,e,t){var r;let i=(r=Nle[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oh.warn(o.join(" "));return}Mu(new Mc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lle="firebase-heartbeat-database",Fle=1,J1="firebase-heartbeat-store";let mI=null;function rG(){return mI||(mI=tG(Lle,Fle,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(J1)}catch(t){console.warn(t)}}}}).catch(n=>{throw wf.create("idb-open",{originalErrorMessage:n.message})})),mI}async function Ble(n){try{const t=(await rG()).transaction(J1),r=await t.objectStore(J1).get(iG(n));return await t.done,r}catch(e){if(e instanceof Dc)Oh.warn(e.message);else{const t=wf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oh.warn(t.message)}}}async function O8(n,e){try{const r=(await rG()).transaction(J1,"readwrite");await r.objectStore(J1).put(e,iG(n)),await r.done}catch(t){if(t instanceof Dc)Oh.warn(t.message);else{const r=wf.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Oh.warn(r.message)}}}function iG(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule=1024,jle=30;class Vle{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hle(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L8();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>jle){const a=Wle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Oh.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L8(),{heartbeatsToSend:r,unsentEntries:i}=zle(this._heartbeatsCache.heartbeats),s=f2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Oh.warn(t),""}}}function L8(){return new Date().toISOString().substring(0,10)}function zle(n,e=Ule){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),F8(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),F8(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Hle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZW()?QW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ble(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return O8(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return O8(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function F8(n){return f2(JSON.stringify({version:2,heartbeats:n})).length}function Wle(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gle(n){Mu(new Mc("platform-logger",e=>new rle(e),"PRIVATE")),Mu(new Mc("heartbeat",e=>new Vle(e),"PRIVATE")),Fl(bN,k8,n),Fl(bN,k8,"esm2017"),Fl("fire-js","")}Gle("");var $le="firebase",qle="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fl($le,qle,"app");var lu=function(){return lu=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},lu.apply(this,arguments)};function K_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Xle(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function sG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yle=sG,aG=new eg("auth","Firebase",sG());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new pT("@firebase/auth");function Kle(n,...e){m2.logLevel<=Qn.WARN&&m2.warn(`Auth (${uy}): ${n}`,...e)}function gE(n,...e){m2.logLevel<=Qn.ERROR&&m2.error(`Auth (${uy}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n,...e){throw DD(n,...e)}function xu(n,...e){return DD(n,...e)}function oG(n,e,t){const r=Object.assign(Object.assign({},Yle()),{[e]:t});return new eg("auth","Firebase",r).create(e,{appName:n.name})}function bf(n){return oG(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DD(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return aG.create(n,...e)}function mn(n,e,...t){if(!n)throw DD(e,...t)}function xh(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gE(e),new Error(e)}function Lh(n,e){n||xh(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Zle(){return B8()==="http:"||B8()==="https:"}function B8(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zle()||KW()||"connection"in navigator)?navigator.onLine:!0}function Jle(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lh(t>e,"Short delay should be less than long delay!"),this.isMobile=woe()||Eoe()}get(){return Qle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n,e){Lh(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ece={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nce=new Z_(3e4,6e4);function ng(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yf(n,e,t,r,i={}){return cG(n,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Y_(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return Soe()||(c.referrerPolicy="no-referrer"),n.emulatorConfig&&cy(n.emulatorConfig.host)&&(c.credentials="include"),lG.fetch()(await uG(n,n.config.apiHost,t,o),c)})}async function cG(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ece),e);try{const i=new ice(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Lb(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lb(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Lb(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw Lb(n,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oG(n,u,c);Ic(n,u)}}catch(i){if(i instanceof Dc)throw i;Ic(n,"network-request-failed",{message:String(i)})}}async function mT(n,e,t,r,i={}){const s=await Yf(n,e,t,r,i);return"mfaPendingCredential"in s&&Ic(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function uG(n,e,t,r){const i=`${e}${t}?${r}`,s=n,a=s.config.emulator?OD(n.config,i):`${n.config.apiScheme}://${i}`;return tce.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function rce(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ice{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xu(this.auth,"network-request-failed")),nce.get())})}}function Lb(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=xu(n,e,r);return i.customData._tokenResponse=t,i}function U8(n){return n!==void 0&&n.enterprise!==void 0}class sce{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rce(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ace(n,e){return Yf(n,"GET","/v2/recaptchaConfig",ng(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oce(n,e){return Yf(n,"POST","/v1/accounts:delete",e)}async function g2(n,e){return Yf(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lce(n,e=!1){const t=Js(n),r=await t.getIdToken(e),i=LD(r);mn(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:o1(gI(i.auth_time)),issuedAtTime:o1(gI(i.iat)),expirationTime:o1(gI(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gI(n){return Number(n)*1e3}function LD(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gE("JWT malformed, contained fewer than 3 sections"),null;try{const i=WW(t);return i?JSON.parse(i):(gE("Failed to decode base64 JWT payload"),null)}catch(i){return gE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function j8(n){const e=LD(n);return mn(e,"internal-error"),mn(typeof e.exp<"u","internal-error"),mn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Dc&&cce(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function cce({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=o1(this.lastLoginAt),this.creationTime=o1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n){var e;const t=n.auth,r=await n.getIdToken(),i=await e_(n,g2(t,{idToken:r}));mn(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hG(s.providerUserInfo):[],o=dce(n.providerData,a),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new TN(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function hce(n){const e=Js(n);await v2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dce(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hG(n){return n.map(e=>{var{providerId:t}=e,r=K_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fce(n,e){const t=await cG(n,{},async()=>{const r=Y_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=await uG(n,i,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return n.emulatorConfig&&cy(n.emulatorConfig.host)&&(l.credentials="include"),lG.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pce(n,e){return Yf(n,"POST","/v2/accounts:revokeToken",ng(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mn(e.idToken,"internal-error"),mn(typeof e.idToken<"u","internal-error"),mn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j8(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mn(e.length!==0,"internal-error");const t=j8(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await fce(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new tv;return r&&(mn(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(mn(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(mn(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tv,this.toJSON())}_performRefresh(){return xh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n,e){mn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=K_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new TN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await e_(this,this.stsTokenManager.getToken(this.auth,e));return mn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lce(this,e)}reload(){return hce(this)}_assign(e){this!==e&&(mn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await v2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mc(this.auth.app))return Promise.reject(bf(this.auth));const e=await this.getIdToken();return await e_(this,oce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,o,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(i=t.email)!==null&&i!==void 0?i:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=t.photoURL)!==null&&a!==void 0?a:void 0,_=(o=t.tenantId)!==null&&o!==void 0?o:void 0,w=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=t.createdAt)!==null&&c!==void 0?c:void 0,S=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:T,isAnonymous:D,providerData:k,stsTokenManager:I}=t;mn(E&&I,e,"internal-error");const N=tv.fromJSON(this.name,I);mn(typeof E=="string",e,"internal-error"),Sd(h,e.name),Sd(d,e.name),mn(typeof T=="boolean",e,"internal-error"),mn(typeof D=="boolean",e,"internal-error"),Sd(p,e.name),Sd(g,e.name),Sd(_,e.name),Sd(w,e.name),Sd(x,e.name),Sd(S,e.name);const P=new yc({uid:E,auth:e,email:d,emailVerified:T,displayName:h,isAnonymous:D,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:N,createdAt:x,lastLoginAt:S});return k&&Array.isArray(k)&&(P.providerData=k.map(R=>Object.assign({},R))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new tv;i.updateFromServerResponse(t);const s=new yc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await v2(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];mn(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?hG(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new tv;o.updateFromIdToken(r);const l=new yc({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new TN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=new Map;function _h(n){Lh(n instanceof Function,"Expected a class definition");let e=V8.get(n);return e?(Lh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,V8.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dG.type="NONE";const z8=dG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(n,e,t){return`firebase:${n}:${e}:${t}`}class nv{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=vE(this.userKey,i.apiKey,s),this.fullPersistenceKey=vE("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await g2(this.auth,{idToken:e}).catch(()=>{});return t?yc._fromGetAccountInfoResponse(this.auth,t,e):null}return yc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new nv(_h(z8),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||_h(z8);const a=vE(r,e.config.apiKey,e.name);let o=null;for(const c of t)try{const u=await c._get(a);if(u){let h;if(typeof u=="string"){const d=await g2(e,{idToken:u}).catch(()=>{});if(!d)break;h=await yc._fromGetAccountInfoResponse(e,d,u)}else h=yc._fromJSON(e,u);c!==s&&(o=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new nv(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new nv(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yG(e))return"Blackberry";if(xG(e))return"Webos";if(pG(e))return"Safari";if((e.includes("chrome/")||mG(e))&&!e.includes("edge/"))return"Chrome";if(vG(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fG(n=Ra()){return/firefox\//i.test(n)}function pG(n=Ra()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mG(n=Ra()){return/crios\//i.test(n)}function gG(n=Ra()){return/iemobile/i.test(n)}function vG(n=Ra()){return/android/i.test(n)}function yG(n=Ra()){return/blackberry/i.test(n)}function xG(n=Ra()){return/webos/i.test(n)}function FD(n=Ra()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mce(n=Ra()){var e;return FD(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gce(){return Aoe()&&document.documentMode===10}function _G(n=Ra()){return FD(n)||vG(n)||xG(n)||yG(n)||/windows phone/i.test(n)||gG(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(n,e=[]){let t;switch(n){case"Browser":t=H8(Ra());break;case"Worker":t=`${H8(Ra())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uy}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yce(n,e={}){return Yf(n,"GET","/v2/passwordPolicy",ng(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=6;class _ce{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:xce,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W8(this),this.idTokenSubscription=new W8(this),this.beforeStateQueue=new vce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_h(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await nv.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await g2(this,{idToken:e}),r=await yc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mc(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return mn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await v2(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jle()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mc(this.app))return Promise.reject(bf(this));const t=e?Js(e):null;return t&&mn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mc(this.app)?Promise.reject(bf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mc(this.app)?Promise.reject(bf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_h(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yce(this),t=new _ce(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pce(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_h(e)||this._popupRedirectResolver;mn(t,this,"argument-error"),this.redirectPersistenceManager=await nv.create(this,[_h(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(mn(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(mc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Kle(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hy(n){return Js(n)}class W8{constructor(e){this.auth=e,this.observer=null,this.addObserver=Noe(t=>this.observer=t)}get next(){return mn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bce(n){gT=n}function bG(n){return gT.loadJS(n)}function Sce(){return gT.recaptchaEnterpriseScript}function Ece(){return gT.gapiScript}function Ace(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Tce{constructor(){this.enterprise=new Cce}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Cce{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Mce="recaptcha-enterprise",SG="NO_RECAPTCHA";class Ice{constructor(e){this.type=Mce,this.auth=hy(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{ace(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new sce(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;U8(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(SG)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tce().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!t&&U8(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Sce();l.length!==0&&(l+=o),bG(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function G8(n,e,t,r=!1,i=!1){const s=new Ice(n);let a;if(i)a=SG;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const o=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $8(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await G8(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await G8(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pce(n,e){const t=tg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Nf(s,e??{}))return i;Ic(i,"already-initialized")}return t.initialize({options:e})}function Rce(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(_h);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Nce(n,e,t){const r=hy(n);mn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=EG(e),{host:a,port:o}=kce(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){mn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mn(Nf(c,r.config.emulator)&&Nf(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,cy(a)?(XW(`${s}//${a}${l}`),YW("Auth",!0)):Dce()}function EG(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kce(n){const e=EG(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:q8(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:q8(a)}}}function q8(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Dce(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xh("not implemented")}_getIdTokenResponse(e){return xh("not implemented")}_linkToIdToken(e,t){return xh("not implemented")}_getReauthenticationResolver(e){return xh("not implemented")}}async function Oce(n,e){return Yf(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lce(n,e){return mT(n,"POST","/v1/accounts:signInWithPassword",ng(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fce(n,e){return mT(n,"POST","/v1/accounts:signInWithEmailLink",ng(n,e))}async function Bce(n,e){return mT(n,"POST","/v1/accounts:signInWithEmailLink",ng(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends BD{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new t_(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new t_(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $8(e,t,"signInWithPassword",Lce);case"emailLink":return Fce(e,{email:this._email,oobCode:this._password});default:Ic(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $8(e,r,"signUpPassword",Oce);case"emailLink":return Bce(e,{idToken:t,email:this._email,oobCode:this._password});default:Ic(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rv(n,e){return mT(n,"POST","/v1/accounts:signInWithIdp",ng(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uce="http://localhost";class km extends BD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new km(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ic("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=K_(t,["providerId","signInMethod"]);if(!r||!i)return null;const a=new km(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return rv(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,rv(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rv(e,t)}buildRequest(){const e={requestUri:Uce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Y_(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jce(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vce(n){const e=Dx(Ox(n)).link,t=e?Dx(Ox(e)).deep_link_id:null,r=Dx(Ox(n)).deep_link_id;return(r?Dx(Ox(r)).link:null)||r||t||e||n}class UD{constructor(e){var t,r,i,s,a,o;const l=Dx(Ox(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=jce((i=l.mode)!==null&&i!==void 0?i:null);mn(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const t=Vce(e);try{return new UD(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.providerId=dy.PROVIDER_ID}static credential(e,t){return t_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=UD.parseLink(t);return mn(r,"argument-error"),t_._fromEmailAndCode(e,r.code,r.tenantId)}}dy.PROVIDER_ID="password";dy.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends AG{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Q_{constructor(){super("facebook.com")}static credential(e){return km._fromParams({providerId:$d.PROVIDER_ID,signInMethod:$d.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $d.credentialFromTaggedObject(e)}static credentialFromError(e){return $d.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $d.credential(e.oauthAccessToken)}catch{return null}}}$d.FACEBOOK_SIGN_IN_METHOD="facebook.com";$d.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Q_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return km._fromParams({providerId:qd.PROVIDER_ID,signInMethod:qd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qd.credentialFromTaggedObject(e)}static credentialFromError(e){return qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qd.credential(t,r)}catch{return null}}}qd.GOOGLE_SIGN_IN_METHOD="google.com";qd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Q_{constructor(){super("github.com")}static credential(e){return km._fromParams({providerId:Xd.PROVIDER_ID,signInMethod:Xd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xd.credentialFromTaggedObject(e)}static credentialFromError(e){return Xd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xd.credential(e.oauthAccessToken)}catch{return null}}}Xd.GITHUB_SIGN_IN_METHOD="github.com";Xd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Q_{constructor(){super("twitter.com")}static credential(e,t){return km._fromParams({providerId:Yd.PROVIDER_ID,signInMethod:Yd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yd.credentialFromTaggedObject(e)}static credentialFromError(e){return Yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yd.credential(t,r)}catch{return null}}}Yd.TWITTER_SIGN_IN_METHOD="twitter.com";Yd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await yc._fromIdTokenResponse(e,r,i),a=X8(r);return new Dv({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=X8(r);return new Dv({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function X8(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2 extends Dc{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,y2.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new y2(e,t,r,i)}}function TG(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?y2._fromErrorAndOperation(n,s,e,r):s})}async function zce(n,e,t=!1){const r=await e_(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Dv._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hce(n,e,t=!1){const{auth:r}=n;if(mc(r.app))return Promise.reject(bf(r));const i="reauthenticate";try{const s=await e_(n,TG(r,i,e,n),t);mn(s.idToken,r,"internal-error");const a=LD(s.idToken);mn(a,r,"internal-error");const{sub:o}=a;return mn(n.uid===o,r,"user-mismatch"),Dv._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ic(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CG(n,e,t=!1){if(mc(n.app))return Promise.reject(bf(n));const r="signIn",i=await TG(n,r,e),s=await Dv._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Wce(n,e){return CG(hy(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gce(n){const e=hy(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jD(n,e,t){return mc(n.app)?Promise.reject(bf(n)):Wce(Js(n),dy.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gce(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ce(n,e){return Js(n).setPersistence(e)}function qce(n,e,t,r){return Js(n).onIdTokenChanged(e,t,r)}function Xce(n,e,t){return Js(n).beforeAuthStateChanged(e,t)}function VD(n,e,t,r){return Js(n).onAuthStateChanged(e,t,r)}const x2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(x2,"1"),this.storage.removeItem(x2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce=1e3,Kce=10;class IG extends MG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_G(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);gce()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Kce):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Yce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IG.type="LOCAL";const PG=IG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG extends MG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RG.type="SESSION";const NG=RG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zce(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new vT(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(t.origin,s)),l=await Zce(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=zD("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(){return window}function Jce(n){_u().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(){return typeof _u().WorkerGlobalScope<"u"&&typeof _u().importScripts=="function"}async function eue(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tue(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nue(){return kG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="firebaseLocalStorageDb",rue=1,_2="firebaseLocalStorage",OG="fbase_key";class J_{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yT(n,e){return n.transaction([_2],e?"readwrite":"readonly").objectStore(_2)}function iue(){const n=indexedDB.deleteDatabase(DG);return new J_(n).toPromise()}function CN(){const n=indexedDB.open(DG,rue);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(_2,{keyPath:OG})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(_2)?e(r):(r.close(),await iue(),e(await CN()))})})}async function Y8(n,e,t){const r=yT(n,!0).put({[OG]:e,value:t});return new J_(r).toPromise()}async function sue(n,e){const t=yT(n,!1).get(e),r=await new J_(t).toPromise();return r===void 0?null:r.value}function K8(n,e){const t=yT(n,!0).delete(e);return new J_(t).toPromise()}const aue=800,oue=3;class LG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CN(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>oue)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vT._getInstance(nue()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eue(),!this.activeServiceWorker)return;this.sender=new Qce(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tue()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CN();return await Y8(e,x2,"1"),await K8(e,x2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y8(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>sue(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>K8(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yT(i,!1).getAll();return new J_(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LG.type="LOCAL";const lue=LG;new Z_(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cue(n,e){return e?_h(e):(mn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD extends BD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uue(n){return CG(n.auth,new HD(n),n.bypassAuthState)}function hue(n){const{auth:e,user:t}=n;return mn(t,e,"internal-error"),Hce(t,new HD(n),n.bypassAuthState)}async function due(n){const{auth:e,user:t}=n;return mn(t,e,"internal-error"),zce(t,new HD(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uue;case"linkViaPopup":case"linkViaRedirect":return due;case"reauthViaPopup":case"reauthViaRedirect":return hue;default:Ic(this.auth,"internal-error")}}resolve(e){Lh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue=new Z_(2e3,1e4);class I0 extends FG{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,I0.currentPopupAction&&I0.currentPopupAction.cancel(),I0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mn(e,this.auth,"internal-error"),e}async onExecution(){Lh(this.filter.length===1,"Popup operations only handle one event");const e=zD();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fue.get())};e()}}I0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pue="pendingRedirect",yE=new Map;class mue extends FG{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=yE.get(this.auth._key());if(!e){try{const r=await gue(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yE.set(this.auth._key(),e)}return this.bypassAuthState||yE.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gue(n,e){const t=xue(e),r=yue(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function vue(n,e){yE.set(n._key(),e)}function yue(n){return _h(n._redirectPersistence)}function xue(n){return vE(pue,n.config.apiKey,n.name)}async function _ue(n,e,t=!1){if(mc(n.app))return Promise.reject(bf(n));const r=hy(n),i=cue(r,e),a=await new mue(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue=10*60*1e3;class bue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sue(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!BG(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(xu(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wue&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z8(e))}saveEventToCache(e){this.cachedEventUids.add(Z8(e)),this.lastProcessedEventTime=Date.now()}}function Z8(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BG({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Sue(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BG(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eue(n,e={}){return Yf(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tue=/^https?/;async function Cue(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Eue(n);for(const t of e)try{if(Mue(t))return}catch{}Ic(n,"unauthorized-domain")}function Mue(n){const e=AN(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!Tue.test(t))return!1;if(Aue.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iue=new Z_(3e4,6e4);function Q8(){const n=_u().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Pue(n){return new Promise((e,t)=>{var r,i,s;function a(){Q8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q8(),t(xu(n,"network-request-failed"))},timeout:Iue.get()})}if(!((i=(r=_u().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_u().gapi)===null||s===void 0)&&s.load)a();else{const o=Ace("iframefcb");return _u()[o]=()=>{gapi.load?a():t(xu(n,"network-request-failed"))},bG(`${Ece()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw xE=null,e})}let xE=null;function Rue(n){return xE=xE||Pue(n),xE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nue=new Z_(5e3,15e3),kue="__/auth/iframe",Due="emulator/auth/iframe",Oue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fue(n){const e=n.config;mn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?OD(e,Due):`https://${n.config.authDomain}/${kue}`,r={apiKey:e.apiKey,appName:n.name,v:uy},i=Lue.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Y_(r).slice(1)}`}async function Bue(n){const e=await Rue(n),t=_u().gapi;return mn(t,n,"internal-error"),e.open({where:document.body,url:Fue(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=xu(n,"network-request-failed"),o=_u().setTimeout(()=>{s(a)},Nue.get());function l(){_u().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jue=500,Vue=600,zue="_blank",Hue="http://localhost";class J8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wue(n,e,t,r=jue,i=Vue){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Uue),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ra().toLowerCase();t&&(o=mG(c)?zue:t),fG(c)&&(e=e||Hue,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(mce(c)&&o!=="_self")return Gue(e||"",o),new J8(null);const h=window.open(e||"",o,u);mn(h,n,"popup-blocked");try{h.focus()}catch{}return new J8(h)}function Gue(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ue="__/auth/handler",que="emulator/auth/handler",Xue=encodeURIComponent("fac");async function e5(n,e,t,r,i,s){mn(n.config.authDomain,n,"auth-domain-config-required"),mn(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uy,eventId:i};if(e instanceof AG){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Roe(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))a[u]=h}if(e instanceof Q_){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(a.scopes=u.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await n._getAppCheckToken(),c=l?`#${Xue}=${encodeURIComponent(l)}`:"";return`${Yue(n)}?${Y_(o).slice(1)}${c}`}function Yue({config:n}){return n.emulator?OD(n,que):`https://${n.authDomain}/${$ue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="webStorageSupport";class Kue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NG,this._completeRedirectFn=_ue,this._overrideRedirectResult=vue}async _openPopup(e,t,r,i){var s;Lh((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await e5(e,t,r,AN(),i);return Wue(e,a,zD())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await e5(e,t,r,AN(),i);return Jce(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Lh(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Bue(e),r=new bue(e);return t.register("authEvent",i=>(mn(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vI,{type:vI},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[vI];a!==void 0&&t(!!a),Ic(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Cue(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _G()||pG()||FD()}}const Zue=Kue;var t5="@firebase/auth",n5="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jue(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ehe(n){Mu(new Mc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;mn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wG(n)},c=new wce(r,i,s,l);return Rce(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mu(new Mc("auth-internal",e=>{const t=hy(e.getProvider("auth").getImmediate());return(r=>new Que(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fl(t5,n5,Jue(n)),Fl(t5,n5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const the=5*60,nhe=qW("authIdTokenMaxAge")||the;let r5=null;const rhe=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>nhe)return;const i=t==null?void 0:t.token;r5!==i&&(r5=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ihe(n=kD()){const e=tg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Pce(n,{popupRedirectResolver:Zue,persistence:[lue,PG,NG]}),r=qW("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=rhe(s.toString());Xce(t,a,()=>a(t.currentUser)),qce(t,o=>a(o))}}const i=GW("auth");return i&&Nce(t,`http://${i}`),t}function she(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bce({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=xu("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",she().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ehe("Browser");var i5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sf,UG;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function P(){}P.prototype=N.prototype,I.D=N.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(R,B,z){for(var H=Array(arguments.length-2),K=2;K<arguments.length;K++)H[K-2]=arguments[K];return N.prototype[B].apply(R,H)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,N,P){P||(P=0);var R=Array(16);if(typeof N=="string")for(var B=0;16>B;++B)R[B]=N.charCodeAt(P++)|N.charCodeAt(P++)<<8|N.charCodeAt(P++)<<16|N.charCodeAt(P++)<<24;else for(B=0;16>B;++B)R[B]=N[P++]|N[P++]<<8|N[P++]<<16|N[P++]<<24;N=I.g[0],P=I.g[1],B=I.g[2];var z=I.g[3],H=N+(z^P&(B^z))+R[0]+3614090360&4294967295;N=P+(H<<7&4294967295|H>>>25),H=z+(B^N&(P^B))+R[1]+3905402710&4294967295,z=N+(H<<12&4294967295|H>>>20),H=B+(P^z&(N^P))+R[2]+606105819&4294967295,B=z+(H<<17&4294967295|H>>>15),H=P+(N^B&(z^N))+R[3]+3250441966&4294967295,P=B+(H<<22&4294967295|H>>>10),H=N+(z^P&(B^z))+R[4]+4118548399&4294967295,N=P+(H<<7&4294967295|H>>>25),H=z+(B^N&(P^B))+R[5]+1200080426&4294967295,z=N+(H<<12&4294967295|H>>>20),H=B+(P^z&(N^P))+R[6]+2821735955&4294967295,B=z+(H<<17&4294967295|H>>>15),H=P+(N^B&(z^N))+R[7]+4249261313&4294967295,P=B+(H<<22&4294967295|H>>>10),H=N+(z^P&(B^z))+R[8]+1770035416&4294967295,N=P+(H<<7&4294967295|H>>>25),H=z+(B^N&(P^B))+R[9]+2336552879&4294967295,z=N+(H<<12&4294967295|H>>>20),H=B+(P^z&(N^P))+R[10]+4294925233&4294967295,B=z+(H<<17&4294967295|H>>>15),H=P+(N^B&(z^N))+R[11]+2304563134&4294967295,P=B+(H<<22&4294967295|H>>>10),H=N+(z^P&(B^z))+R[12]+1804603682&4294967295,N=P+(H<<7&4294967295|H>>>25),H=z+(B^N&(P^B))+R[13]+4254626195&4294967295,z=N+(H<<12&4294967295|H>>>20),H=B+(P^z&(N^P))+R[14]+2792965006&4294967295,B=z+(H<<17&4294967295|H>>>15),H=P+(N^B&(z^N))+R[15]+1236535329&4294967295,P=B+(H<<22&4294967295|H>>>10),H=N+(B^z&(P^B))+R[1]+4129170786&4294967295,N=P+(H<<5&4294967295|H>>>27),H=z+(P^B&(N^P))+R[6]+3225465664&4294967295,z=N+(H<<9&4294967295|H>>>23),H=B+(N^P&(z^N))+R[11]+643717713&4294967295,B=z+(H<<14&4294967295|H>>>18),H=P+(z^N&(B^z))+R[0]+3921069994&4294967295,P=B+(H<<20&4294967295|H>>>12),H=N+(B^z&(P^B))+R[5]+3593408605&4294967295,N=P+(H<<5&4294967295|H>>>27),H=z+(P^B&(N^P))+R[10]+38016083&4294967295,z=N+(H<<9&4294967295|H>>>23),H=B+(N^P&(z^N))+R[15]+3634488961&4294967295,B=z+(H<<14&4294967295|H>>>18),H=P+(z^N&(B^z))+R[4]+3889429448&4294967295,P=B+(H<<20&4294967295|H>>>12),H=N+(B^z&(P^B))+R[9]+568446438&4294967295,N=P+(H<<5&4294967295|H>>>27),H=z+(P^B&(N^P))+R[14]+3275163606&4294967295,z=N+(H<<9&4294967295|H>>>23),H=B+(N^P&(z^N))+R[3]+4107603335&4294967295,B=z+(H<<14&4294967295|H>>>18),H=P+(z^N&(B^z))+R[8]+1163531501&4294967295,P=B+(H<<20&4294967295|H>>>12),H=N+(B^z&(P^B))+R[13]+2850285829&4294967295,N=P+(H<<5&4294967295|H>>>27),H=z+(P^B&(N^P))+R[2]+4243563512&4294967295,z=N+(H<<9&4294967295|H>>>23),H=B+(N^P&(z^N))+R[7]+1735328473&4294967295,B=z+(H<<14&4294967295|H>>>18),H=P+(z^N&(B^z))+R[12]+2368359562&4294967295,P=B+(H<<20&4294967295|H>>>12),H=N+(P^B^z)+R[5]+4294588738&4294967295,N=P+(H<<4&4294967295|H>>>28),H=z+(N^P^B)+R[8]+2272392833&4294967295,z=N+(H<<11&4294967295|H>>>21),H=B+(z^N^P)+R[11]+1839030562&4294967295,B=z+(H<<16&4294967295|H>>>16),H=P+(B^z^N)+R[14]+4259657740&4294967295,P=B+(H<<23&4294967295|H>>>9),H=N+(P^B^z)+R[1]+2763975236&4294967295,N=P+(H<<4&4294967295|H>>>28),H=z+(N^P^B)+R[4]+1272893353&4294967295,z=N+(H<<11&4294967295|H>>>21),H=B+(z^N^P)+R[7]+4139469664&4294967295,B=z+(H<<16&4294967295|H>>>16),H=P+(B^z^N)+R[10]+3200236656&4294967295,P=B+(H<<23&4294967295|H>>>9),H=N+(P^B^z)+R[13]+681279174&4294967295,N=P+(H<<4&4294967295|H>>>28),H=z+(N^P^B)+R[0]+3936430074&4294967295,z=N+(H<<11&4294967295|H>>>21),H=B+(z^N^P)+R[3]+3572445317&4294967295,B=z+(H<<16&4294967295|H>>>16),H=P+(B^z^N)+R[6]+76029189&4294967295,P=B+(H<<23&4294967295|H>>>9),H=N+(P^B^z)+R[9]+3654602809&4294967295,N=P+(H<<4&4294967295|H>>>28),H=z+(N^P^B)+R[12]+3873151461&4294967295,z=N+(H<<11&4294967295|H>>>21),H=B+(z^N^P)+R[15]+530742520&4294967295,B=z+(H<<16&4294967295|H>>>16),H=P+(B^z^N)+R[2]+3299628645&4294967295,P=B+(H<<23&4294967295|H>>>9),H=N+(B^(P|~z))+R[0]+4096336452&4294967295,N=P+(H<<6&4294967295|H>>>26),H=z+(P^(N|~B))+R[7]+1126891415&4294967295,z=N+(H<<10&4294967295|H>>>22),H=B+(N^(z|~P))+R[14]+2878612391&4294967295,B=z+(H<<15&4294967295|H>>>17),H=P+(z^(B|~N))+R[5]+4237533241&4294967295,P=B+(H<<21&4294967295|H>>>11),H=N+(B^(P|~z))+R[12]+1700485571&4294967295,N=P+(H<<6&4294967295|H>>>26),H=z+(P^(N|~B))+R[3]+2399980690&4294967295,z=N+(H<<10&4294967295|H>>>22),H=B+(N^(z|~P))+R[10]+4293915773&4294967295,B=z+(H<<15&4294967295|H>>>17),H=P+(z^(B|~N))+R[1]+2240044497&4294967295,P=B+(H<<21&4294967295|H>>>11),H=N+(B^(P|~z))+R[8]+1873313359&4294967295,N=P+(H<<6&4294967295|H>>>26),H=z+(P^(N|~B))+R[15]+4264355552&4294967295,z=N+(H<<10&4294967295|H>>>22),H=B+(N^(z|~P))+R[6]+2734768916&4294967295,B=z+(H<<15&4294967295|H>>>17),H=P+(z^(B|~N))+R[13]+1309151649&4294967295,P=B+(H<<21&4294967295|H>>>11),H=N+(B^(P|~z))+R[4]+4149444226&4294967295,N=P+(H<<6&4294967295|H>>>26),H=z+(P^(N|~B))+R[11]+3174756917&4294967295,z=N+(H<<10&4294967295|H>>>22),H=B+(N^(z|~P))+R[2]+718787259&4294967295,B=z+(H<<15&4294967295|H>>>17),H=P+(z^(B|~N))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(B+(H<<21&4294967295|H>>>11))&4294967295,I.g[2]=I.g[2]+B&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.u=function(I,N){N===void 0&&(N=I.length);for(var P=N-this.blockSize,R=this.B,B=this.h,z=0;z<N;){if(B==0)for(;z<=P;)i(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<N;)if(R[B++]=I.charCodeAt(z++),B==this.blockSize){i(this,R),B=0;break}}else for(;z<N;)if(R[B++]=I[z++],B==this.blockSize){i(this,R),B=0;break}}this.h=B,this.o+=N},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;var P=8*this.o;for(N=I.length-8;N<I.length;++N)I[N]=P&255,P/=256;for(this.u(I),I=Array(16),N=P=0;4>N;++N)for(var R=0;32>R;R+=8)I[P++]=this.g[N]>>>R&255;return I};function s(I,N){var P=o;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=N(I)}function a(I,N){this.h=N;for(var P=[],R=!0,B=I.length-1;0<=B;B--){var z=I[B]|0;R&&z==N||(P[B]=z,R=!1)}this.g=P}var o={};function l(I){return-128<=I&&128>I?s(I,function(N){return new a([N|0],0>N?-1:0)}):new a([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return w(c(-I));for(var N=[],P=1,R=0;I>=P;R++)N[R]=I/P|0,P*=4294967296;return new a(N,0)}function u(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return w(u(I.substring(1),N));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(N,8)),R=h,B=0;B<I.length;B+=8){var z=Math.min(8,I.length-B),H=parseInt(I.substring(B,B+z),N);8>z?(z=c(Math.pow(N,z)),R=R.j(z).add(c(H))):(R=R.j(P),R=R.add(c(H)))}return R}var h=l(0),d=l(1),p=l(16777216);n=a.prototype,n.m=function(){if(_(this))return-w(this).m();for(var I=0,N=1,P=0;P<this.g.length;P++){var R=this.i(P);I+=(0<=R?R:4294967296+R)*N,N*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(_(this))return"-"+w(this).toString(I);for(var N=c(Math.pow(I,6)),P=this,R="";;){var B=T(P,N).g;P=x(P,B.j(N));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=B,g(P))return z+R;for(;6>z.length;)z="0"+z;R=z+R}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function _(I){return I.h==-1}n.l=function(I){return I=x(this,I),_(I)?-1:g(I)?0:1};function w(I){for(var N=I.g.length,P=[],R=0;R<N;R++)P[R]=~I.g[R];return new a(P,~I.h).add(d)}n.abs=function(){return _(this)?w(this):this},n.add=function(I){for(var N=Math.max(this.g.length,I.g.length),P=[],R=0,B=0;B<=N;B++){var z=R+(this.i(B)&65535)+(I.i(B)&65535),H=(z>>>16)+(this.i(B)>>>16)+(I.i(B)>>>16);R=H>>>16,z&=65535,H&=65535,P[B]=H<<16|z}return new a(P,P[P.length-1]&-2147483648?-1:0)};function x(I,N){return I.add(w(N))}n.j=function(I){if(g(this)||g(I))return h;if(_(this))return _(I)?w(this).j(w(I)):w(w(this).j(I));if(_(I))return w(this.j(w(I)));if(0>this.l(p)&&0>I.l(p))return c(this.m()*I.m());for(var N=this.g.length+I.g.length,P=[],R=0;R<2*N;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var B=0;B<I.g.length;B++){var z=this.i(R)>>>16,H=this.i(R)&65535,K=I.i(B)>>>16,J=I.i(B)&65535;P[2*R+2*B]+=H*J,S(P,2*R+2*B),P[2*R+2*B+1]+=z*J,S(P,2*R+2*B+1),P[2*R+2*B+1]+=H*K,S(P,2*R+2*B+1),P[2*R+2*B+2]+=z*K,S(P,2*R+2*B+2)}for(R=0;R<N;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=N;R<2*N;R++)P[R]=0;return new a(P,0)};function S(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function E(I,N){this.g=I,this.h=N}function T(I,N){if(g(N))throw Error("division by zero");if(g(I))return new E(h,h);if(_(I))return N=T(w(I),N),new E(w(N.g),w(N.h));if(_(N))return N=T(I,w(N)),new E(w(N.g),N.h);if(30<I.g.length){if(_(I)||_(N))throw Error("slowDivide_ only works with positive integers.");for(var P=d,R=N;0>=R.l(I);)P=D(P),R=D(R);var B=k(P,1),z=k(R,1);for(R=k(R,2),P=k(P,2);!g(R);){var H=z.add(R);0>=H.l(I)&&(B=B.add(P),z=H),R=k(R,1),P=k(P,1)}return N=x(I,B.j(N)),new E(B,N)}for(B=h;0<=I.l(N);){for(P=Math.max(1,Math.floor(I.m()/N.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),z=c(P),H=z.j(N);_(H)||0<H.l(I);)P-=R,z=c(P),H=z.j(N);g(z)&&(z=d),B=B.add(z),I=x(I,H)}return new E(B,I)}n.A=function(I){return T(this,I).h},n.and=function(I){for(var N=Math.max(this.g.length,I.g.length),P=[],R=0;R<N;R++)P[R]=this.i(R)&I.i(R);return new a(P,this.h&I.h)},n.or=function(I){for(var N=Math.max(this.g.length,I.g.length),P=[],R=0;R<N;R++)P[R]=this.i(R)|I.i(R);return new a(P,this.h|I.h)},n.xor=function(I){for(var N=Math.max(this.g.length,I.g.length),P=[],R=0;R<N;R++)P[R]=this.i(R)^I.i(R);return new a(P,this.h^I.h)};function D(I){for(var N=I.g.length+1,P=[],R=0;R<N;R++)P[R]=I.i(R)<<1|I.i(R-1)>>>31;return new a(P,I.h)}function k(I,N){var P=N>>5;N%=32;for(var R=I.g.length-P,B=[],z=0;z<R;z++)B[z]=0<N?I.i(z+P)>>>N|I.i(z+P+1)<<32-N:I.i(z+P);return new a(B,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UG=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Sf=a}).apply(typeof i5<"u"?i5:typeof self<"u"?self:typeof window<"u"?window:{});var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jG,Lx,VG,_E,MN,zG,HG,WG;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,V,G){return A==Array.prototype||A==Object.prototype||(A[V]=G.value),A};function t(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fb=="object"&&Fb];for(var V=0;V<A.length;++V){var G=A[V];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=t(this);function i(A,V){if(V)e:{var G=r;A=A.split(".");for(var te=0;te<A.length-1;te++){var Me=A[te];if(!(Me in G))break e;G=G[Me]}A=A[A.length-1],te=G[A],V=V(te),V!=te&&V!=null&&e(G,A,{configurable:!0,writable:!0,value:V})}}function s(A,V){A instanceof String&&(A+="");var G=0,te=!1,Me={next:function(){if(!te&&G<A.length){var ze=G++;return{value:V(ze,A[ze]),done:!1}}return te=!0,{done:!0,value:void 0}}};return Me[Symbol.iterator]=function(){return Me},Me}i("Array.prototype.values",function(A){return A||function(){return s(this,function(V,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(A){var V=typeof A;return V=V!="object"?V:A?Array.isArray(A)?"array":V:"null",V=="array"||V=="object"&&typeof A.length=="number"}function c(A){var V=typeof A;return V=="object"&&A!=null||V=="function"}function u(A,V,G){return A.call.apply(A.bind,arguments)}function h(A,V,G){if(!A)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var Me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Me,te),A.apply(V,Me)}}return function(){return A.apply(V,arguments)}}function d(A,V,G){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function p(A,V){var G=Array.prototype.slice.call(arguments,1);return function(){var te=G.slice();return te.push.apply(te,arguments),A.apply(this,te)}}function g(A,V){function G(){}G.prototype=V.prototype,A.aa=V.prototype,A.prototype=new G,A.prototype.constructor=A,A.Qb=function(te,Me,ze){for(var mt=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)mt[qn-2]=arguments[qn];return V.prototype[Me].apply(te,mt)}}function _(A){const V=A.length;if(0<V){const G=Array(V);for(let te=0;te<V;te++)G[te]=A[te];return G}return[]}function w(A,V){for(let G=1;G<arguments.length;G++){const te=arguments[G];if(l(te)){const Me=A.length||0,ze=te.length||0;A.length=Me+ze;for(let mt=0;mt<ze;mt++)A[Me+mt]=te[mt]}else A.push(te)}}class x{constructor(V,G){this.i=V,this.j=G,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function S(A){return/^[\s\xa0]*$/.test(A)}function E(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function T(A){return T[" "](A),A}T[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function k(A,V,G){for(const te in A)V.call(G,A[te],te,A)}function I(A,V){for(const G in A)V.call(void 0,A[G],G,A)}function N(A){const V={};for(const G in A)V[G]=A[G];return V}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(A,V){let G,te;for(let Me=1;Me<arguments.length;Me++){te=arguments[Me];for(G in te)A[G]=te[G];for(let ze=0;ze<P.length;ze++)G=P[ze],Object.prototype.hasOwnProperty.call(te,G)&&(A[G]=te[G])}}function B(A){var V=1;A=A.split(":");const G=[];for(;0<V&&A.length;)G.push(A.shift()),V--;return A.length&&G.push(A.join(":")),G}function z(A){o.setTimeout(()=>{throw A},0)}function H(){var A=ue;let V=null;return A.g&&(V=A.g,A.g=A.g.next,A.g||(A.h=null),V.next=null),V}class K{constructor(){this.h=this.g=null}add(V,G){const te=J.get();te.set(V,G),this.h?this.h.next=te:this.g=te,this.h=te}}var J=new x(()=>new se,A=>A.reset());class se{constructor(){this.next=this.g=this.h=null}set(V,G){this.h=V,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,X=!1,ue=new K,q=()=>{const A=o.Promise.resolve(void 0);ce=()=>{A.then(ge)}};var ge=()=>{for(var A;A=H();){try{A.h.call(A.g)}catch(G){z(G)}var V=J;V.j(A),100>V.h&&(V.h++,A.next=V.g,V.g=A)}X=!1};function De(){this.s=this.s,this.C=this.C}De.prototype.s=!1,De.prototype.ma=function(){this.s||(this.s=!0,this.N())},De.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(A,V){this.type=A,this.g=this.target=V,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,V=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const G=()=>{};o.addEventListener("test",G,V),o.removeEventListener("test",G,V)}catch{}return A}();function ye(A,V){if(Q.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var G=this.type=A.type,te=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=V,V=A.relatedTarget){if(D){e:{try{T(V.nodeName);var Me=!0;break e}catch{}Me=!1}Me||(V=null)}}else G=="mouseover"?V=A.fromElement:G=="mouseout"&&(V=A.toElement);this.relatedTarget=V,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:Ie[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&ye.aa.h.call(this)}}g(ye,Q);var Ie={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Qe(A,V,G,te,Me){this.listener=A,this.proxy=null,this.src=V,this.type=G,this.capture=!!te,this.ha=Me,this.key=++Je,this.da=this.fa=!1}function rt(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ut(A){this.src=A,this.g={},this.h=0}ut.prototype.add=function(A,V,G,te,Me){var ze=A.toString();A=this.g[ze],A||(A=this.g[ze]=[],this.h++);var mt=ae(A,V,te,Me);return-1<mt?(V=A[mt],G||(V.fa=!1)):(V=new Qe(V,this.src,ze,!!te,Me),V.fa=G,A.push(V)),V};function Be(A,V){var G=V.type;if(G in A.g){var te=A.g[G],Me=Array.prototype.indexOf.call(te,V,void 0),ze;(ze=0<=Me)&&Array.prototype.splice.call(te,Me,1),ze&&(rt(V),A.g[G].length==0&&(delete A.g[G],A.h--))}}function ae(A,V,G,te){for(var Me=0;Me<A.length;++Me){var ze=A[Me];if(!ze.da&&ze.listener==V&&ze.capture==!!G&&ze.ha==te)return Me}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),ke={};function $e(A,V,G,te,Me){if(Array.isArray(V)){for(var ze=0;ze<V.length;ze++)$e(A,V[ze],G,te,Me);return null}return G=xe(G),A&&A[Se]?A.K(V,G,c(te)?!!te.capture:!1,Me):We(A,V,G,!1,te,Me)}function We(A,V,G,te,Me,ze){if(!V)throw Error("Invalid event type");var mt=c(Me)?!!Me.capture:!!Me,qn=ie(A);if(qn||(A[Re]=qn=new ut(A)),G=qn.add(V,G,te,mt,ze),G.proxy)return G;if(te=ne(),G.proxy=te,te.src=A,te.listener=G,A.addEventListener)et||(Me=mt),Me===void 0&&(Me=!1),A.addEventListener(V.toString(),te,Me);else if(A.attachEvent)A.attachEvent(ot(V.toString()),te);else if(A.addListener&&A.removeListener)A.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return G}function ne(){function A(G){return V.call(A.src,A.listener,G)}const V=vt;return A}function Ae(A,V,G,te,Me){if(Array.isArray(V))for(var ze=0;ze<V.length;ze++)Ae(A,V[ze],G,te,Me);else te=c(te)?!!te.capture:!!te,G=xe(G),A&&A[Se]?(A=A.i,V=String(V).toString(),V in A.g&&(ze=A.g[V],G=ae(ze,G,te,Me),-1<G&&(rt(ze[G]),Array.prototype.splice.call(ze,G,1),ze.length==0&&(delete A.g[V],A.h--)))):A&&(A=ie(A))&&(V=A.g[V.toString()],A=-1,V&&(A=ae(V,G,te,Me)),(G=-1<A?V[A]:null)&&Fe(G))}function Fe(A){if(typeof A!="number"&&A&&!A.da){var V=A.src;if(V&&V[Se])Be(V.i,A);else{var G=A.type,te=A.proxy;V.removeEventListener?V.removeEventListener(G,te,A.capture):V.detachEvent?V.detachEvent(ot(G),te):V.addListener&&V.removeListener&&V.removeListener(te),(G=ie(V))?(Be(G,A),G.h==0&&(G.src=null,V[Re]=null)):rt(A)}}}function ot(A){return A in ke?ke[A]:ke[A]="on"+A}function vt(A,V){if(A.da)A=!0;else{V=new ye(V,this);var G=A.listener,te=A.ha||A.src;A.fa&&Fe(A),A=G.call(te,V)}return A}function ie(A){return A=A[Re],A instanceof ut?A:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(A){return typeof A=="function"?A:(A[Y]||(A[Y]=function(V){return A.handleEvent(V)}),A[Y])}function re(){De.call(this),this.i=new ut(this),this.M=this,this.F=null}g(re,De),re.prototype[Se]=!0,re.prototype.removeEventListener=function(A,V,G,te){Ae(this,A,V,G,te)};function pe(A,V){var G,te=A.F;if(te)for(G=[];te;te=te.F)G.push(te);if(A=A.M,te=V.type||V,typeof V=="string")V=new Q(V,A);else if(V instanceof Q)V.target=V.target||A;else{var Me=V;V=new Q(te,A),R(V,Me)}if(Me=!0,G)for(var ze=G.length-1;0<=ze;ze--){var mt=V.g=G[ze];Me=_e(mt,te,!0,V)&&Me}if(mt=V.g=A,Me=_e(mt,te,!0,V)&&Me,Me=_e(mt,te,!1,V)&&Me,G)for(ze=0;ze<G.length;ze++)mt=V.g=G[ze],Me=_e(mt,te,!1,V)&&Me}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var A=this.i,V;for(V in A.g){for(var G=A.g[V],te=0;te<G.length;te++)rt(G[te]);delete A.g[V],A.h--}}this.F=null},re.prototype.K=function(A,V,G,te){return this.i.add(String(A),V,!1,G,te)},re.prototype.L=function(A,V,G,te){return this.i.add(String(A),V,!0,G,te)};function _e(A,V,G,te){if(V=A.i.g[String(V)],!V)return!0;V=V.concat();for(var Me=!0,ze=0;ze<V.length;++ze){var mt=V[ze];if(mt&&!mt.da&&mt.capture==G){var qn=mt.listener,gi=mt.ha||mt.src;mt.fa&&Be(A.i,mt),Me=qn.call(gi,te)!==!1&&Me}}return Me&&!te.defaultPrevented}function at(A,V,G){if(typeof A=="function")G&&(A=d(A,G));else if(A&&typeof A.handleEvent=="function")A=d(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(V)?-1:o.setTimeout(A,V||0)}function qe(A){A.g=at(()=>{A.g=null,A.i&&(A.i=!1,qe(A))},A.l);const V=A.h;A.h=null,A.m.apply(null,V)}class xt extends De{constructor(V,G){super(),this.m=V,this.l=G,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:qe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(A){De.call(this),this.h=A,this.g={}}g(bt,De);var it=[];function pt(A){k(A.g,function(V,G){this.g.hasOwnProperty(G)&&Fe(V)},A),A.g={}}bt.prototype.N=function(){bt.aa.N.call(this),pt(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=o.JSON.stringify,de=o.JSON.parse,Pe=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function lt(){}lt.prototype.h=null;function fe(A){return A.h||(A.h=A.i())}function tt(){}var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xe(){Q.call(this,"d")}g(Xe,Q);function Ye(){Q.call(this,"c")}g(Ye,Q);var Le={},dt=null;function _t(){return dt=dt||new re}Le.La="serverreachability";function En(A){Q.call(this,Le.La,A)}g(En,Q);function xn(A){const V=_t();pe(V,new En(V))}Le.STAT_EVENT="statevent";function Jr(A,V){Q.call(this,Le.STAT_EVENT,A),this.stat=V}g(Jr,Q);function er(A){const V=_t();pe(V,new Jr(V,A))}Le.Ma="timingevent";function Uu(A,V){Q.call(this,Le.Ma,A),this.size=V}g(Uu,Q);function Ls(A,V){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},V)}function lo(){this.g=!0}lo.prototype.xa=function(){this.g=!1};function is(A,V,G,te,Me,ze){A.info(function(){if(A.g)if(ze)for(var mt="",qn=ze.split("&"),gi=0;gi<qn.length;gi++){var Gn=qn[gi].split("=");if(1<Gn.length){var dr=Gn[0];Gn=Gn[1];var Xn=dr.split("_");mt=2<=Xn.length&&Xn[1]=="type"?mt+(dr+"="+Gn+"&"):mt+(dr+"=redacted&")}}else mt=null;else mt=ze;return"XMLHTTP REQ ("+te+") [attempt "+Me+"]: "+V+`
`+G+`
`+mt})}function $t(A,V,G,te,Me,ze,mt){A.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+Me+"]: "+V+`
`+G+`
`+ze+" "+mt})}function qi(A,V,G,te){A.info(function(){return"XMLHTTP TEXT ("+V+"): "+Wl(A,G)+(te?" "+te:"")})}function ju(A,V){A.info(function(){return"TIMEOUT: "+V})}lo.prototype.info=function(){};function Wl(A,V){if(!A.g)return V;if(!V)return null;try{var G=JSON.parse(V);if(G){for(A=0;A<G.length;A++)if(Array.isArray(G[A])){var te=G[A];if(!(2>te.length)){var Me=te[1];if(Array.isArray(Me)&&!(1>Me.length)){var ze=Me[0];if(ze!="noop"&&ze!="stop"&&ze!="close")for(var mt=1;mt<Me.length;mt++)Me[mt]=""}}}}return Nt(G)}catch{return V}}var fl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fc;function Oa(){}g(Oa,lt),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Fc=new Oa;function La(A,V,G,te){this.j=A,this.i=V,this.l=G,this.R=te||1,this.U=new bt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vu}function Vu(){this.i=null,this.g="",this.h=!1}var Zh={},zu={};function ee(A,V,G){A.L=1,A.v=Fi(fn(V)),A.m=G,A.P=!0,Ee(A,null)}function Ee(A,V){A.F=Date.now(),Te(A),A.A=fn(A.v);var G=A.A,te=A.R;Array.isArray(te)||(te=[String(te)]),Qh(G.i,"t",te),A.C=0,G=A.j.J,A.h=new Vu,A.g=Xu(A.j,G?V:null,!A.m),0<A.O&&(A.M=new xt(d(A.Y,A,A.g),A.O)),V=A.U,G=A.g,te=A.ca;var Me="readystatechange";Array.isArray(Me)||(Me&&(it[0]=Me.toString()),Me=it);for(var ze=0;ze<Me.length;ze++){var mt=$e(G,Me[ze],te||V.handleEvent,!1,V.h||V);if(!mt)break;V.g[mt.key]=mt}V=A.H?N(A.H):{},A.m?(A.u||(A.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,V)):(A.u="GET",A.g.ea(A.A,A.u,null,V)),xn(),is(A.i,A.u,A.A,A.l,A.R,A.m)}La.prototype.ca=function(A){A=A.target;const V=this.M;V&&jr(A)==3?V.j():this.Y(A)},La.prototype.Y=function(A){try{if(A==this.g)e:{const Xn=jr(this.g);var V=this.g.Ba();const Mi=this.g.Z();if(!(3>Xn)&&(Xn!=3||this.g&&(this.h.h||this.g.oa()||Vc(this.g)))){this.J||Xn!=4||V==7||(V==8||0>=Mi?xn(3):xn(2)),Et(this);var G=this.g.Z();this.X=G;t:if(je(this)){var te=Vc(this.g);A="";var Me=te.length,ze=jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){At(this),Pt(this);var mt="";break t}this.h.i=new o.TextDecoder}for(V=0;V<Me;V++)this.h.h=!0,A+=this.h.i.decode(te[V],{stream:!(ze&&V==Me-1)});te.length=0,this.h.g+=A,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=G==200,$t(this.i,this.u,this.A,this.l,this.R,Xn,G),this.o){if(this.T&&!this.K){t:{if(this.g){var qn,gi=this.g;if((qn=gi.g?gi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(qn)){var Gn=qn;break t}}Gn=null}if(G=Gn)qi(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zt(this,G);else{this.o=!1,this.s=3,er(12),At(this),Pt(this);break e}}if(this.P){G=!0;let wn;for(;!this.J&&this.C<mt.length;)if(wn=Ve(this,mt),wn==zu){Xn==4&&(this.s=4,er(14),G=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Zh){this.s=4,er(15),qi(this.i,this.l,mt,"[Invalid Chunk]"),G=!1;break}else qi(this.i,this.l,wn,null),Zt(this,wn);if(je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xn!=4||mt.length!=0||this.h.h||(this.s=1,er(16),G=!1),this.o=this.o&&G,!G)qi(this.i,this.l,mt,"[Invalid Chunked Response]"),At(this),Pt(this);else if(0<mt.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),oa(dr),dr.M=!0,er(11))}}else qi(this.i,this.l,mt,null),Zt(this,mt);Xn==4&&At(this),this.o&&!this.J&&(Xn==4?id(this.j,this):(this.o=!1,Te(this)))}else td(this.g),G==400&&0<mt.indexOf("Unknown SID")?(this.s=3,er(12)):(this.s=0,er(13)),At(this),Pt(this)}}}catch{}finally{}};function je(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Ve(A,V){var G=A.C,te=V.indexOf(`
`,G);return te==-1?zu:(G=Number(V.substring(G,te)),isNaN(G)?Zh:(te+=1,te+G>V.length?zu:(V=V.slice(te,te+G),A.C=te+G,V)))}La.prototype.cancel=function(){this.J=!0,At(this)};function Te(A){A.S=Date.now()+A.I,ft(A,A.I)}function ft(A,V){if(A.B!=null)throw Error("WatchDog timer not null");A.B=Ls(d(A.ba,A),V)}function Et(A){A.B&&(o.clearTimeout(A.B),A.B=null)}La.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(ju(this.i,this.A),this.L!=2&&(xn(),er(17)),At(this),this.s=2,Pt(this)):ft(this,this.S-A)};function Pt(A){A.j.G==0||A.J||id(A.j,A)}function At(A){Et(A);var V=A.M;V&&typeof V.ma=="function"&&V.ma(),A.M=null,pt(A.U),A.g&&(V=A.g,A.g=null,V.abort(),V.ma())}function Zt(A,V){try{var G=A.j;if(G.G!=0&&(G.g==A||Ut(G.h,A))){if(!A.K&&Ut(G.h,A)&&G.G==3){try{var te=G.Da.g.parse(V)}catch{te=null}if(Array.isArray(te)&&te.length==3){var Me=te;if(Me[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<A.F)Yl(G),$u(G);else break e;qu(G),er(18)}}else G.za=Me[1],0<G.za-G.T&&37500>Me[2]&&G.F&&G.v==0&&!G.C&&(G.C=Ls(d(G.Za,G),6e3));if(1>=Wt(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else ml(G,11)}else if((A.K||G.g==A)&&Yl(G),!S(V))for(Me=G.Da.g.parse(V),V=0;V<Me.length;V++){let Gn=Me[V];if(G.T=Gn[0],Gn=Gn[1],G.G==2)if(Gn[0]=="c"){G.K=Gn[1],G.ia=Gn[2];const dr=Gn[3];dr!=null&&(G.la=dr,G.j.info("VER="+G.la));const Xn=Gn[4];Xn!=null&&(G.Aa=Xn,G.j.info("SVER="+G.Aa));const Mi=Gn[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(te=1.5*Mi,G.L=te,G.j.info("backChannelRequestTimeoutMs_="+te)),te=G;const wn=A.g;if(wn){const gl=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gl){var ze=te.h;ze.g||gl.indexOf("spdy")==-1&&gl.indexOf("quic")==-1&&gl.indexOf("h2")==-1||(ze.j=ze.l,ze.g=new Set,ze.h&&(kt(ze,ze.h),ze.h=null))}if(te.D){const Ii=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ii&&(te.ya=Ii,qt(te.I,te.D,Ii))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-A.F,G.j.info("Handshake RTT: "+G.R+"ms")),te=G;var mt=A;if(te.qa=Gc(te,te.J?te.ia:null,te.W),mt.K){hn(te.h,mt);var qn=mt,gi=te.L;gi&&(qn.I=gi),qn.B&&(Et(qn),Te(qn)),te.g=mt}else Ba(te);0<G.i.length&&pl(G)}else Gn[0]!="stop"&&Gn[0]!="close"||ml(G,7);else G.G==3&&(Gn[0]=="stop"||Gn[0]=="close"?Gn[0]=="stop"?ml(G,7):zc(G):Gn[0]!="noop"&&G.l&&G.l.ta(Gn),G.v=0)}}xn(4)}catch{}}var Xt=class{constructor(A,V){this.g=A,this.map=V}};function Ft(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bt(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Wt(A){return A.h?1:A.g?A.g.size:0}function Ut(A,V){return A.h?A.h==V:A.g?A.g.has(V):!1}function kt(A,V){A.g?A.g.add(V):A.h=V}function hn(A,V){A.h&&A.h==V?A.h=null:A.g&&A.g.has(V)&&A.g.delete(V)}Ft.prototype.cancel=function(){if(this.i=Dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Dt(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let V=A.i;for(const G of A.g.values())V=V.concat(G.D);return V}return _(A.i)}function Un(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var V=[],G=A.length,te=0;te<G;te++)V.push(A[te]);return V}V=[],G=0;for(te in A)V[G++]=A[te];return V}function nn(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var V=[];A=A.length;for(var G=0;G<A;G++)V.push(G);return V}V=[],G=0;for(const te in A)V[G++]=te;return V}}}function Yt(A,V){if(A.forEach&&typeof A.forEach=="function")A.forEach(V,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,V,void 0);else for(var G=nn(A),te=Un(A),Me=te.length,ze=0;ze<Me;ze++)V.call(void 0,te[ze],G&&G[ze],A)}var rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ci(A,V){if(A){A=A.split("&");for(var G=0;G<A.length;G++){var te=A[G].indexOf("="),Me=null;if(0<=te){var ze=A[G].substring(0,te);Me=A[G].substring(te+1)}else ze=A[G];V(ze,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function pi(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof pi){this.h=A.h,vr(this,A.j),this.o=A.o,this.g=A.g,ci(this,A.s),this.l=A.l;var V=A.i,G=new ql;G.i=V.i,V.g&&(G.g=new Map(V.g),G.h=V.h),Dr(this,G),this.m=A.m}else A&&(V=String(A).match(rr))?(this.h=!1,vr(this,V[1]||"",!0),this.o=ui(V[2]||""),this.g=ui(V[3]||"",!0),ci(this,V[4]),this.l=ui(V[5]||"",!0),Dr(this,V[6]||"",!0),this.m=ui(V[7]||"")):(this.h=!1,this.i=new ql(null,this.h))}pi.prototype.toString=function(){var A=[],V=this.j;V&&A.push(Fs(V,Uc,!0),":");var G=this.g;return(G||V=="file")&&(A.push("//"),(V=this.o)&&A.push(Fs(V,Uc,!0),"@"),A.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&A.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&A.push("/"),A.push(Fs(G,G.charAt(0)=="/"?Hu:sp,!0))),(G=this.i.toString())&&A.push("?",G),(G=this.m)&&A.push("#",Fs(G,$l)),A.join("")};function fn(A){return new pi(A)}function vr(A,V,G){A.j=G?ui(V,!0):V,A.j&&(A.j=A.j.replace(/:$/,""))}function ci(A,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);A.s=V}else A.s=null}function Dr(A,V,G){V instanceof ql?(A.i=V,co(A.i,A.h)):(G||(V=Fs(V,jc)),A.i=new ql(V,A.h))}function qt(A,V,G){A.i.set(V,G)}function Fi(A){return qt(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function ui(A,V){return A?V?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Fs(A,V,G){return typeof A=="string"?(A=encodeURI(A).replace(V,Bc),G&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function Bc(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Uc=/[#\/\?@]/g,sp=/[#\?:]/g,Hu=/[#\?]/g,jc=/[#\?@]/g,$l=/#/g;function ql(A,V){this.h=this.g=null,this.i=A||null,this.j=!!V}function Bs(A){A.g||(A.g=new Map,A.h=0,A.i&&Ci(A.i,function(V,G){A.add(decodeURIComponent(V.replace(/\+/g," ")),G)}))}n=ql.prototype,n.add=function(A,V){Bs(this),this.i=null,A=an(this,A);var G=this.g.get(A);return G||this.g.set(A,G=[]),G.push(V),this.h+=1,this};function Wn(A,V){Bs(A),V=an(A,V),A.g.has(V)&&(A.i=null,A.h-=A.g.get(V).length,A.g.delete(V))}function Wu(A,V){return Bs(A),V=an(A,V),A.g.has(V)}n.forEach=function(A,V){Bs(this),this.g.forEach(function(G,te){G.forEach(function(Me){A.call(V,Me,te,this)},this)},this)},n.na=function(){Bs(this);const A=Array.from(this.g.values()),V=Array.from(this.g.keys()),G=[];for(let te=0;te<V.length;te++){const Me=A[te];for(let ze=0;ze<Me.length;ze++)G.push(V[te])}return G},n.V=function(A){Bs(this);let V=[];if(typeof A=="string")Wu(this,A)&&(V=V.concat(this.g.get(an(this,A))));else{A=Array.from(this.g.values());for(let G=0;G<A.length;G++)V=V.concat(A[G])}return V},n.set=function(A,V){return Bs(this),this.i=null,A=an(this,A),Wu(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[V]),this.h+=1,this},n.get=function(A,V){return A?(A=this.V(A),0<A.length?String(A[0]):V):V};function Qh(A,V,G){Wn(A,V),0<G.length&&(A.i=null,A.g.set(an(A,V),_(G)),A.h+=G.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],V=Array.from(this.g.keys());for(var G=0;G<V.length;G++){var te=V[G];const ze=encodeURIComponent(String(te)),mt=this.V(te);for(te=0;te<mt.length;te++){var Me=ze;mt[te]!==""&&(Me+="="+encodeURIComponent(String(mt[te]))),A.push(Me)}}return this.i=A.join("&")};function an(A,V){return V=String(V),A.j&&(V=V.toLowerCase()),V}function co(A,V){V&&!A.j&&(Bs(A),A.i=null,A.g.forEach(function(G,te){var Me=te.toLowerCase();te!=Me&&(Wn(this,te),Qh(this,Me,G))},A)),A.j=V}function br(A,V){const G=new lo;if(o.Image){const te=new Image;te.onload=p(ta,G,"TestLoadImage: loaded",!0,V,te),te.onerror=p(ta,G,"TestLoadImage: error",!1,V,te),te.onabort=p(ta,G,"TestLoadImage: abort",!1,V,te),te.ontimeout=p(ta,G,"TestLoadImage: timeout",!1,V,te),o.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=A}else V(!1)}function mi(A,V){const G=new lo,te=new AbortController,Me=setTimeout(()=>{te.abort(),ta(G,"TestPingServer: timeout",!1,V)},1e4);fetch(A,{signal:te.signal}).then(ze=>{clearTimeout(Me),ze.ok?ta(G,"TestPingServer: ok",!0,V):ta(G,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(Me),ta(G,"TestPingServer: error",!1,V)})}function ta(A,V,G,te,Me){try{Me&&(Me.onload=null,Me.onerror=null,Me.onabort=null,Me.ontimeout=null),te(G)}catch{}}function ap(){this.g=new Pe}function Gu(A,V,G){const te=G||"";try{Yt(A,function(Me,ze){let mt=Me;c(Me)&&(mt=Nt(Me)),V.push(te+ze+"="+encodeURIComponent(mt))})}catch(Me){throw V.push(te+"type="+encodeURIComponent("_badmap")),Me}}function uo(A){this.l=A.Ub||null,this.j=A.eb||!1}g(uo,lt),uo.prototype.g=function(){return new jo(this.l,this.j)},uo.prototype.i=function(A){return function(){return A}}({});function jo(A,V){re.call(this),this.D=A,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(jo,re),n=jo.prototype,n.open=function(A,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=V,this.readyState=1,Fa(this)},n.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(V.body=A),(this.D||o).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ss(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function ss(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}n.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var V=A.value?A.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!A.done}))&&(this.response=this.responseText+=V)}A.done?ei(this):Fa(this),this.readyState==3&&ss(this)}},n.Ra=function(A){this.g&&(this.response=this.responseText=A,ei(this))},n.Qa=function(A){this.g&&(this.response=A,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Fa(A)}n.setRequestHeader=function(A,V){this.u.append(A,V)},n.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],V=this.h.entries();for(var G=V.next();!G.done;)G=G.value,A.push(G[0]+": "+G[1]),G=V.next();return A.join(`\r
`)};function Fa(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function na(A){let V="";return k(A,function(G,te){V+=te,V+=":",V+=G,V+=`\r
`}),V}function ra(A,V,G){e:{for(te in G){var te=!1;break e}te=!0}te||(G=na(G),typeof A=="string"?G!=null&&encodeURIComponent(String(G)):qt(A,V,G))}function Cr(A){re.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Cr,re);var Jh=/^https?$/i,ed=["POST","PUT"];n=Cr.prototype,n.Ha=function(A){this.J=A},n.ea=function(A,V,G,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);V=V?V.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fc.g(),this.v=this.o?fe(this.o):fe(Fc),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(V,String(A),!0),this.B=!1}catch(ze){yg(this,ze);return}if(A=G||"",G=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var Me in te)G.set(Me,te[Me]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const ze of te.keys())G.set(ze,te.get(ze));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(G.keys()).find(ze=>ze.toLowerCase()=="content-type"),Me=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ed,V,void 0))||te||Me||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ze,mt]of G)this.g.setRequestHeader(ze,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(A),this.u=!1}catch(ze){yg(this,ze)}};function yg(A,V){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=V,A.m=5,ia(A),Xl(A)}function ia(A){A.A||(A.A=!0,pe(A,"complete"),pe(A,"error"))}n.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,pe(this,"complete"),pe(this,"abort"),Xl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),Cr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?jn(this):this.bb())},n.bb=function(){jn(this)};function jn(A){if(A.h&&typeof a<"u"&&(!A.v[1]||jr(A)!=4||A.Z()!=2)){if(A.u&&jr(A)==4)at(A.Ea,0,A);else if(pe(A,"readystatechange"),jr(A)==4){A.h=!1;try{const mt=A.Z();e:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var G;if(!(G=V)){var te;if(te=mt===0){var Me=String(A.D).match(rr)[1]||null;!Me&&o.self&&o.self.location&&(Me=o.self.location.protocol.slice(0,-1)),te=!Jh.test(Me?Me.toLowerCase():"")}G=te}if(G)pe(A,"complete"),pe(A,"success");else{A.m=6;try{var ze=2<jr(A)?A.g.statusText:""}catch{ze=""}A.l=ze+" ["+A.Z()+"]",ia(A)}}finally{Xl(A)}}}}function Xl(A,V){if(A.g){sa(A);const G=A.g,te=A.v[0]?()=>{}:null;A.g=null,A.v=null,V||pe(A,"ready");try{G.onreadystatechange=te}catch{}}}function sa(A){A.I&&(o.clearTimeout(A.I),A.I=null)}n.isActive=function(){return!!this.g};function jr(A){return A.g?A.g.readyState:0}n.Z=function(){try{return 2<jr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(A){if(this.g){var V=this.g.responseText;return A&&V.indexOf(A)==0&&(V=V.substring(A.length)),de(V)}};function Vc(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function td(A){const V={};A=(A.g&&2<=jr(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<A.length;te++){if(S(A[te]))continue;var G=B(A[te]);const Me=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const ze=V[Me]||[];V[Me]=ze,ze.push(G)}I(V,function(te){return te.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(A,V,G){return G&&G.internalChannelParams&&G.internalChannelParams[A]||V}function nd(A){this.Aa=0,this.i=[],this.j=new lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,A),this.cb=aa("retryDelaySeedMs",1e4,A),this.Wa=aa("forwardChannelMaxRetries",2,A),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new Ft(A&&A.concurrentRequestLimit),this.Da=new ap,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nd.prototype,n.la=8,n.G=1,n.connect=function(A,V,G,te){er(0),this.W=A,this.H=V||{},G&&te!==void 0&&(this.H.OSID=G,this.H.OAID=te),this.F=this.X,this.I=Gc(this,null,this.W),pl(this)};function zc(A){if(rd(A),A.G==3){var V=A.U++,G=fn(A.I);if(qt(G,"SID",A.K),qt(G,"RID",V),qt(G,"TYPE","terminate"),bs(A,G),V=new La(A,A.j,V),V.L=2,V.v=Fi(fn(G)),G=!1,o.navigator&&o.navigator.sendBeacon)try{G=o.navigator.sendBeacon(V.v.toString(),"")}catch{}!G&&o.Image&&(new Image().src=V.v,G=!0),G||(V.g=Xu(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Te(V)}op(A)}function $u(A){A.g&&(oa(A),A.g.cancel(),A.g=null)}function rd(A){$u(A),A.u&&(o.clearTimeout(A.u),A.u=null),Yl(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function pl(A){if(!Bt(A.h)&&!A.s){A.s=!0;var V=A.Ga;ce||q(),X||(ce(),X=!0),ue.add(V,A),A.B=0}}function Hc(A,V){return Wt(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=V.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=Ls(d(A.Ga,A,V),Wc(A,A.B)),A.B++,!0)}n.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Me=new La(this,this.j,A);let ze=this.o;if(this.S&&(ze?(ze=N(ze),R(ze,this.S)):ze=this.S),this.m!==null||this.O||(Me.H=ze,ze=null),this.P)e:{for(var V=0,G=0;G<this.i.length;G++){t:{var te=this.i[G];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(V+=te,4096<V){V=G;break e}if(V===4096||G===this.i.length-1){V=G+1;break e}}V=1e3}else V=1e3;V=ho(this,Me,V),G=fn(this.I),qt(G,"RID",A),qt(G,"CVER",22),this.D&&qt(G,"X-HTTP-Session-Id",this.D),bs(this,G),ze&&(this.O?V="headers="+encodeURIComponent(String(na(ze)))+"&"+V:this.m&&ra(G,this.m,ze)),kt(this.h,Me),this.Ua&&qt(G,"TYPE","init"),this.P?(qt(G,"$req",V),qt(G,"SID","null"),Me.T=!0,ee(Me,G,null)):ee(Me,G,V),this.G=2}}else this.G==3&&(A?Wr(this,A):this.i.length==0||Bt(this.h)||Wr(this))};function Wr(A,V){var G;V?G=V.l:G=A.U++;const te=fn(A.I);qt(te,"SID",A.K),qt(te,"RID",G),qt(te,"AID",A.T),bs(A,te),A.m&&A.o&&ra(te,A.m,A.o),G=new La(A,A.j,G,A.B+1),A.m===null&&(G.H=A.o),V&&(A.i=V.D.concat(A.i)),V=ho(A,G,1e3),G.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),kt(A.h,G),ee(G,te,V)}function bs(A,V){A.H&&k(A.H,function(G,te){qt(V,te,G)}),A.l&&Yt({},function(G,te){qt(V,te,G)})}function ho(A,V,G){G=Math.min(A.i.length,G);var te=A.l?d(A.l.Na,A.l,A):null;e:{var Me=A.i;let ze=-1;for(;;){const mt=["count="+G];ze==-1?0<G?(ze=Me[0].g,mt.push("ofs="+ze)):ze=0:mt.push("ofs="+ze);let qn=!0;for(let gi=0;gi<G;gi++){let Gn=Me[gi].g;const dr=Me[gi].map;if(Gn-=ze,0>Gn)ze=Math.max(0,Me[gi].g-100),qn=!1;else try{Gu(dr,mt,"req"+Gn+"_")}catch{te&&te(dr)}}if(qn){te=mt.join("&");break e}}}return A=A.i.splice(0,G),V.D=A,te}function Ba(A){if(!A.g&&!A.u){A.Y=1;var V=A.Fa;ce||q(),X||(ce(),X=!0),ue.add(V,A),A.v=0}}function qu(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=Ls(d(A.Fa,A),Wc(A,A.v)),A.v++,!0)}n.Fa=function(){if(this.u=null,Ua(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=Ls(d(this.ab,this),A)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,er(10),$u(this),Ua(this))};function oa(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function Ua(A){A.g=new La(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var V=fn(A.qa);qt(V,"RID","rpc"),qt(V,"SID",A.K),qt(V,"AID",A.T),qt(V,"CI",A.F?"0":"1"),!A.F&&A.ja&&qt(V,"TO",A.ja),qt(V,"TYPE","xmlhttp"),bs(A,V),A.m&&A.o&&ra(V,A.m,A.o),A.L&&(A.g.I=A.L);var G=A.g;A=A.ia,G.L=1,G.v=Fi(fn(V)),G.m=null,G.P=!0,Ee(G,A)}n.Za=function(){this.C!=null&&(this.C=null,$u(this),qu(this),er(19))};function Yl(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function id(A,V){var G=null;if(A.g==V){Yl(A),oa(A),A.g=null;var te=2}else if(Ut(A.h,V))G=V.D,hn(A.h,V),te=1;else return;if(A.G!=0){if(V.o)if(te==1){G=V.m?V.m.length:0,V=Date.now()-V.F;var Me=A.B;te=_t(),pe(te,new Uu(te,G)),pl(A)}else Ba(A);else if(Me=V.s,Me==3||Me==0&&0<V.X||!(te==1&&Hc(A,V)||te==2&&qu(A)))switch(G&&0<G.length&&(V=A.h,V.i=V.i.concat(G)),Me){case 1:ml(A,5);break;case 4:ml(A,10);break;case 3:ml(A,6);break;default:ml(A,2)}}}function Wc(A,V){let G=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(G*=2),G*V}function ml(A,V){if(A.j.info("Error code "+V),V==2){var G=d(A.fb,A),te=A.Xa;const Me=!te;te=new pi(te||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||vr(te,"https"),Fi(te),Me?br(te.toString(),G):mi(te.toString(),G)}else er(2);A.G=0,A.l&&A.l.sa(V),op(A),rd(A)}n.fb=function(A){A?(this.j.info("Successfully pinged google.com"),er(2)):(this.j.info("Failed to ping google.com"),er(1))};function op(A){if(A.G=0,A.ka=[],A.l){const V=Dt(A.h);(V.length!=0||A.i.length!=0)&&(w(A.ka,V),w(A.ka,A.i),A.h.i.length=0,_(A.i),A.i.length=0),A.l.ra()}}function Gc(A,V,G){var te=G instanceof pi?fn(G):new pi(G);if(te.g!="")V&&(te.g=V+"."+te.g),ci(te,te.s);else{var Me=o.location;te=Me.protocol,V=V?V+"."+Me.hostname:Me.hostname,Me=+Me.port;var ze=new pi(null);te&&vr(ze,te),V&&(ze.g=V),Me&&ci(ze,Me),G&&(ze.l=G),te=ze}return G=A.D,V=A.ya,G&&V&&qt(te,G,V),qt(te,"VER",A.la),bs(A,te),te}function Xu(A,V,G){if(V&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return V=A.Ca&&!A.pa?new Cr(new uo({eb:G})):new Cr(A.pa),V.Ha(A.J),V}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sd(){}n=sd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $c(){}$c.prototype.g=function(A,V){return new Bi(A,V)};function Bi(A,V){re.call(this),this.g=new nd(V),this.l=A,this.h=V&&V.messageUrlParams||null,A=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(A?A["X-WebChannel-Content-Type"]=V.messageContentType:A={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(A?A["X-WebChannel-Client-Profile"]=V.va:A={"X-WebChannel-Client-Profile":V.va}),this.g.S=A,(A=V&&V.Sb)&&!S(A)&&(this.g.m=A),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!S(V)&&(this.g.D=V,A=this.h,A!==null&&V in A&&(A=this.h,V in A&&delete A[V])),this.j=new as(this)}g(Bi,re),Bi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bi.prototype.close=function(){zc(this.g)},Bi.prototype.o=function(A){var V=this.g;if(typeof A=="string"){var G={};G.__data__=A,A=G}else this.u&&(G={},G.__data__=Nt(A),A=G);V.i.push(new Xt(V.Ya++,A)),V.G==3&&pl(V)},Bi.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,Bi.aa.N.call(this)};function fo(A){Xe.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var V=A.__sm__;if(V){e:{for(const G in V){A=G;break e}A=void 0}(this.i=A)&&(A=this.i,V=V!==null&&A in V?V[A]:void 0),this.data=V}else this.data=A}g(fo,Xe);function Kl(){Ye.call(this),this.status=1}g(Kl,Ye);function as(A){this.g=A}g(as,sd),as.prototype.ua=function(){pe(this.g,"a")},as.prototype.ta=function(A){pe(this.g,new fo(A))},as.prototype.sa=function(A){pe(this.g,new Kl)},as.prototype.ra=function(){pe(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,Bi.prototype.send=Bi.prototype.o,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,WG=function(){return new $c},HG=function(){return _t()},zG=Le,MN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fl.NO_ERROR=0,fl.TIMEOUT=8,fl.HTTP_ERROR=6,_E=fl,Gl.COMPLETE="complete",VG=Gl,tt.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",re.prototype.listen=re.prototype.K,Lx=tt,Cr.prototype.listenOnce=Cr.prototype.L,Cr.prototype.getLastError=Cr.prototype.Ka,Cr.prototype.getLastErrorCode=Cr.prototype.Ba,Cr.prototype.getStatus=Cr.prototype.Z,Cr.prototype.getResponseJson=Cr.prototype.Oa,Cr.prototype.getResponseText=Cr.prototype.oa,Cr.prototype.send=Cr.prototype.ea,Cr.prototype.setWithCredentials=Cr.prototype.Ha,jG=Cr}).apply(typeof Fb<"u"?Fb:typeof self<"u"?self:typeof window<"u"?window:{});const s5="@firebase/firestore",a5="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ba.UNAUTHENTICATED=new ba(null),ba.GOOGLE_CREDENTIALS=new ba("google-credentials-uid"),ba.FIRST_PARTY=new ba("first-party-uid"),ba.MOCK_USER=new ba("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new pT("@firebase/firestore");function c0(){return Dm.logLevel}function Ot(n,...e){if(Dm.logLevel<=Qn.DEBUG){const t=e.map(WD);Dm.debug(`Firestore (${fy}): ${n}`,...t)}}function Fh(n,...e){if(Dm.logLevel<=Qn.ERROR){const t=e.map(WD);Dm.error(`Firestore (${fy}): ${n}`,...t)}}function Bh(n,...e){if(Dm.logLevel<=Qn.WARN){const t=e.map(WD);Dm.warn(`Firestore (${fy}): ${n}`,...t)}}function WD(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,GG(n,r,t)}function GG(n,e,t){let r=`FIRESTORE (${fy}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Fh(r),new Error(r)}function Ar(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||GG(e,i,r)}function Tn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends Dc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ba.UNAUTHENTICATED))}shutdown(){}}class ahe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ohe{constructor(e){this.t=e,this.currentUser=ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ar(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Eh;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Eh,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Eh)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ar(typeof r.accessToken=="string",31837,{l:r}),new $G(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ar(e===null||typeof e=="string",2055,{h:e}),new ba(e)}}class lhe{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ba.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class che{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new lhe(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ba.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uhe{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mc(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ar(this.o===void 0,3512);const r=s=>{s.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Ot("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new o5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ar(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new o5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hhe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=hhe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Hn(n,e){return n<e?-1:n>e?1:0}function IN(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Hn(r,i);{const s=XG(),a=dhe(s.encode(l5(n,t)),s.encode(l5(e,t)));return a!==0?a:Hn(r,i)}}t+=r>65535?2:1}return Hn(n.length,e.length)}function l5(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function dhe(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Hn(n[t],e[t]);return Hn(n.length,e.length)}function Ov(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="__name__";class ru{constructor(e,t,r){t===void 0?t=0:t>e.length&&gn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&gn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ru.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ru?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=ru.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Hn(e.length,t.length)}static compareSegments(e,t){const r=ru.isNumericId(e),i=ru.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ru.extractNumericId(e).compare(ru.extractNumericId(t)):IN(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sf.fromString(e.substring(4,e.length-2))}}class Xr extends ru{construct(e,t,r){return new Xr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new It(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Xr(t)}static emptyPath(){return new Xr([])}}const fhe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ns extends ru{construct(e,t,r){return new Ns(e,t,r)}static isValidIdentifier(e){return fhe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ns.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c5}static keyField(){return new Ns([c5])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new It(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new It(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new It(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new It(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ns(t)}static emptyPath(){return new Ns([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Xr.fromString(e))}static fromName(e){return new tn(Xr.fromString(e).popFirst(5))}static empty(){return new tn(Xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Xr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(n,e,t){if(!t)throw new It(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KG(n,e,t,r){if(e===!0&&r===!0)throw new It(st.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function u5(n){if(!tn.isDocumentKey(n))throw new It(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function h5(n){if(tn.isDocumentKey(n))throw new It(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ZG(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _T(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":gn(12329,{type:typeof n})}function Iu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new It(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_T(n);throw new It(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function phe(n,e){if(e<=0)throw new It(st.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(n,e){const t={typeString:n};return e&&(t.value=e),t}function ew(n,e){if(!ZG(n))throw new It(st.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const a=n[r];if(i&&typeof a!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new It(st.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=-62135596800,f5=1e6;class Hr{static now(){return Hr.fromMillis(Date.now())}static fromDate(e){return Hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*f5);return new Hr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new It(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new It(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<d5)throw new It(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new It(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f5}_compareTo(e){return this.seconds===e.seconds?Hn(this.nanoseconds,e.nanoseconds):Hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Hr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ew(e,Hr._jsonSchema))return new Hr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Hr._jsonSchemaVersion="firestore/timestamp/1.0",Hr._jsonSchema={type:ns("string",Hr._jsonSchemaVersion),seconds:ns("number"),nanoseconds:ns("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{static fromTimestamp(e){return new bn(e)}static min(){return new bn(new Hr(0,0))}static max(){return new bn(new Hr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-1;function mhe(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bn.fromTimestamp(r===1e9?new Hr(t+1,0):new Hr(t,r));return new kf(i,tn.empty(),e)}function ghe(n){return new kf(n.readTime,n.key,n_)}class kf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new kf(bn.min(),tn.empty(),n_)}static max(){return new kf(bn.max(),tn.empty(),n_)}}function vhe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tn.comparator(n.documentKey,e.documentKey),t!==0?t:Hn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yhe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function py(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==yhe)throw n;Ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.reject(t)}static resolve(e){return new ct((t,r)=>{t(e)})}static reject(e){return new ct((t,r)=>{r(e)})}static waitFor(e){return new ct((t,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&t()},l=>r(l))}),a=!0,s===i&&t()})}static or(e){let t=ct.resolve(!1);for(const r of e)t=t.next(i=>i?ct.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ct((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{a[c]=u,++o,o===s&&r(a)},u=>i(u))}})}static doWhile(e,t){return new ct((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function _he(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function my(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}wT.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=-1;function bT(n){return n==null}function w2(n){return n===0&&1/n==-1/0}function whe(n){return typeof n=="number"&&Number.isInteger(n)&&!w2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG="";function bhe(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=p5(e)),e=She(n.get(t),e);return p5(e)}function She(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case QG:t+="";break;default:t+=s}}return t}function p5(n){return n+QG+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t){this.comparator=e,this.root=t||$s.EMPTY}insert(e,t){return new Ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new Ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bb(this.root,e,this.comparator,!0)}}class Bb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $s{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??$s.RED,this.left=i??$s.EMPTY,this.right=s??$s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new $s(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return $s.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gn(27949);return e+(this.isRed()?0:1)}}$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1;$s.EMPTY=new class{constructor(){this.size=0}get key(){throw gn(57766)}get value(){throw gn(16141)}get color(){throw gn(16727)}get left(){throw gn(29726)}get right(){throw gn(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new $s(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.comparator=e,this.data=new Ti(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g5(this.data.getIterator())}getIteratorFrom(e){return new g5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xs(this.comparator);return t.data=e,t}}class g5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.fields=e,e.sort(Ns.comparator)}static empty(){return new xc([])}unionWith(e){let t=new xs(Ns.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ov(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new e$("Invalid base64 string: "+s):s}}(e);return new Os(t)}static fromUint8Array(e){const t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Os.EMPTY_BYTE_STRING=new Os("");const Ehe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Df(n){if(Ar(!!n,39018),typeof n=="string"){let e=0;const t=Ehe.exec(n);if(Ar(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hi(n.seconds),nanos:Hi(n.nanos)}}function Hi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Of(n){return typeof n=="string"?Os.fromBase64String(n):Os.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="server_timestamp",n$="__type__",r$="__previous_value__",i$="__local_write_time__";function $D(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[n$])===null||t===void 0?void 0:t.stringValue)===t$}function ST(n){const e=n.mapValue.fields[r$];return $D(e)?ST(e):e}function r_(n){const e=Df(n.mapValue.fields[i$].timestampValue);return new Hr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ahe{constructor(e,t,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const b2="(default)";class Lv{constructor(e,t){this.projectId=e,this.database=t||b2}static empty(){return new Lv("","")}get isDefaultDatabase(){return this.database===b2}isEqual(e){return e instanceof Lv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="__type__",The="__max__",Ub={mapValue:{}},a$="__vector__",S2="value";function Lf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$D(n)?4:Mhe(n)?9007199254740991:Che(n)?10:11:gn(28295,{value:n})}function Pu(n,e){if(n===e)return!0;const t=Lf(n);if(t!==Lf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return r_(n).isEqual(r_(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Df(i.timestampValue),o=Df(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Of(i.bytesValue).isEqual(Of(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Hi(i.geoPointValue.latitude)===Hi(s.geoPointValue.latitude)&&Hi(i.geoPointValue.longitude)===Hi(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Hi(i.integerValue)===Hi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Hi(i.doubleValue),o=Hi(s.doubleValue);return a===o?w2(a)===w2(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return Ov(n.arrayValue.values||[],e.arrayValue.values||[],Pu);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(m5(a)!==m5(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Pu(a[l],o[l])))return!1;return!0}(n,e);default:return gn(52216,{left:n})}}function i_(n,e){return(n.values||[]).find(t=>Pu(t,e))!==void 0}function Fv(n,e){if(n===e)return 0;const t=Lf(n),r=Lf(e);if(t!==r)return Hn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Hn(n.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Hi(s.integerValue||s.doubleValue),l=Hi(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return v5(n.timestampValue,e.timestampValue);case 4:return v5(r_(n),r_(e));case 5:return IN(n.stringValue,e.stringValue);case 6:return function(s,a){const o=Of(s),l=Of(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Hn(o[c],l[c]);if(u!==0)return u}return Hn(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Hn(Hi(s.latitude),Hi(a.latitude));return o!==0?o:Hn(Hi(s.longitude),Hi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return y5(n.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,u;const h=s.fields||{},d=a.fields||{},p=(o=h[S2])===null||o===void 0?void 0:o.arrayValue,g=(l=d[S2])===null||l===void 0?void 0:l.arrayValue,_=Hn(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return _!==0?_:y5(p,g)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ub.mapValue&&a===Ub.mapValue)return 0;if(s===Ub.mapValue)return 1;if(a===Ub.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=IN(l[h],u[h]);if(d!==0)return d;const p=Fv(o[l[h]],c[u[h]]);if(p!==0)return p}return Hn(l.length,u.length)}(n.mapValue,e.mapValue);default:throw gn(23264,{le:t})}}function v5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Hn(n,e);const t=Df(n),r=Df(e),i=Hn(t.seconds,r.seconds);return i!==0?i:Hn(t.nanos,r.nanos)}function y5(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Fv(t[i],r[i]);if(s)return s}return Hn(t.length,r.length)}function Bv(n){return PN(n)}function PN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Df(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Of(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return tn.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=PN(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${PN(t.fields[a])}`;return i+"}"}(n.mapValue):gn(61005,{value:n})}function wE(n){switch(Lf(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ST(n);return e?16+wE(e):16;case 5:return 2*n.stringValue.length;case 6:return Of(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+wE(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return rg(r.fields,(s,a)=>{i+=s.length+wE(a)}),i}(n.mapValue);default:throw gn(13486,{value:n})}}function x5(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function RN(n){return!!n&&"integerValue"in n}function qD(n){return!!n&&"arrayValue"in n}function _5(n){return!!n&&"nullValue"in n}function w5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bE(n){return!!n&&"mapValue"in n}function Che(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[s$])===null||t===void 0?void 0:t.stringValue)===a$}function l1(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rg(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=l1(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=l1(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Mhe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===The}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.value=e}static empty(){return new Nl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=l1(t)}setAll(e){let t=Ns.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=o.popLast()}a?r[o.lastSegment()]=l1(a):i.push(o.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());bE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){rg(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nl(l1(this.value))}}function o$(n){const e=[];return rg(n.fields,(t,r)=>{const i=new Ns([t]);if(bE(r)){const s=o$(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new xc(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t,r,i,s,a,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ea(e,0,bn.min(),bn.min(),bn.min(),Nl.empty(),0)}static newFoundDocument(e,t,r,i){return new Ea(e,1,t,bn.min(),r,i,0)}static newNoDocument(e,t){return new Ea(e,2,t,bn.min(),bn.min(),Nl.empty(),0)}static newUnknownDocument(e,t){return new Ea(e,3,t,bn.min(),bn.min(),Nl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ea&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ea(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t){this.position=e,this.inclusive=t}}function b5(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],a=n.position[i];if(s.field.isKeyField()?r=tn.comparator(tn.fromName(a.referenceValue),t.key):r=Fv(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function S5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pu(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ihe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${}class es extends l${constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Rhe(e,t,r):t==="array-contains"?new Dhe(e,r):t==="in"?new Ohe(e,r):t==="not-in"?new Lhe(e,r):t==="array-contains-any"?new Fhe(e,r):new es(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Nhe(e,r):new khe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fv(t,this.value)):t!==null&&Lf(this.value)===Lf(t)&&this.matchesComparison(Fv(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pc extends l${constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Pc(e,t)}matches(e){return c$(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function c$(n){return n.op==="and"}function u$(n){return Phe(n)&&c$(n)}function Phe(n){for(const e of n.filters)if(e instanceof Pc)return!1;return!0}function NN(n){if(n instanceof es)return n.field.canonicalString()+n.op.toString()+Bv(n.value);if(u$(n))return n.filters.map(e=>NN(e)).join(",");{const e=n.filters.map(t=>NN(t)).join(",");return`${n.op}(${e})`}}function h$(n,e){return n instanceof es?function(r,i){return i instanceof es&&r.op===i.op&&r.field.isEqual(i.field)&&Pu(r.value,i.value)}(n,e):n instanceof Pc?function(r,i){return i instanceof Pc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&h$(a,i.filters[o]),!0):!1}(n,e):void gn(19439)}function d$(n){return n instanceof es?function(t){return`${t.field.canonicalString()} ${t.op} ${Bv(t.value)}`}(n):n instanceof Pc?function(t){return t.op.toString()+" {"+t.getFilters().map(d$).join(" ,")+"}"}(n):"Filter"}class Rhe extends es{constructor(e,t,r){super(e,t,r),this.key=tn.fromName(r.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nhe extends es{constructor(e,t){super(e,"in",t),this.keys=f$("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class khe extends es{constructor(e,t){super(e,"not-in",t),this.keys=f$("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function f$(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>tn.fromName(r.referenceValue))}class Dhe extends es{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qD(t)&&i_(t.arrayValue,this.value)}}class Ohe extends es{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&i_(this.value.arrayValue,t)}}class Lhe extends es{constructor(e,t){super(e,"not-in",t)}matches(e){if(i_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!i_(this.value.arrayValue,t)}}class Fhe extends es{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>i_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bhe{constructor(e,t=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function E5(n,e=null,t=[],r=[],i=null,s=null,a=null){return new Bhe(n,e,t,r,i,s,a)}function XD(n){const e=Tn(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>NN(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bT(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bv(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bv(r)).join(",")),e.Pe=t}return e.Pe}function YD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ihe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!h$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!S5(n.startAt,e.startAt)&&S5(n.endAt,e.endAt)}function kN(n){return tn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Uhe(n,e,t,r,i,s,a,o){return new gy(n,e,t,r,i,s,a,o)}function KD(n){return new gy(n)}function A5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function p$(n){return n.collectionGroup!==null}function c1(n){const e=Tn(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new xs(Ns.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new s_(s,r))}),t.has(Ns.keyField().canonicalString())||e.Te.push(new s_(Ns.keyField(),r))}return e.Te}function wu(n){const e=Tn(n);return e.Ie||(e.Ie=jhe(e,c1(n))),e.Ie}function jhe(n,e){if(n.limitType==="F")return E5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new s_(i.field,s)});const t=n.endAt?new E2(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new E2(n.startAt.position,n.startAt.inclusive):null;return E5(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function DN(n,e){const t=n.filters.concat([e]);return new gy(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function A2(n,e,t){return new gy(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ET(n,e){return YD(wu(n),wu(e))&&n.limitType===e.limitType}function m$(n){return`${XD(wu(n))}|lt:${n.limitType}`}function u0(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>d$(i)).join(", ")}]`),bT(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bv(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bv(i)).join(",")),`Target(${r})`}(wu(n))}; limitType=${n.limitType})`}function AT(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):tn.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of c1(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=b5(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,c1(r),i)||r.endAt&&!function(a,o,l){const c=b5(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,c1(r),i))}(n,e)}function Vhe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function g$(n){return(e,t)=>{let r=!1;for(const i of c1(n)){const s=zhe(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zhe(n,e,t){const r=n.field.isKeyField()?tn.comparator(e.key,t.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Fv(l,c):gn(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rg(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return JG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe=new Ti(tn.comparator);function Uh(){return Hhe}const v$=new Ti(tn.comparator);function Fx(...n){let e=v$;for(const t of n)e=e.insert(t.key,t);return e}function y$(n){let e=v$;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function nm(){return u1()}function x$(){return u1()}function u1(){return new ig(n=>n.toString(),(n,e)=>n.isEqual(e))}const Whe=new Ti(tn.comparator),Ghe=new xs(tn.comparator);function Jn(...n){let e=Ghe;for(const t of n)e=e.add(t);return e}const $he=new xs(Hn);function qhe(){return $he}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:w2(e)?"-0":e}}function _$(n){return{integerValue:""+n}}function Xhe(n,e){return whe(e)?_$(e):ZD(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this._=void 0}}function Yhe(n,e,t){return n instanceof T2?function(i,s){const a={fields:{[n$]:{stringValue:t$},[i$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$D(s)&&(s=ST(s)),s&&(a.fields[r$]=s),{mapValue:a}}(t,e):n instanceof a_?b$(n,e):n instanceof o_?S$(n,e):function(i,s){const a=w$(i,s),o=T5(a)+T5(i.Ee);return RN(a)&&RN(i.Ee)?_$(o):ZD(i.serializer,o)}(n,e)}function Khe(n,e,t){return n instanceof a_?b$(n,e):n instanceof o_?S$(n,e):t}function w$(n,e){return n instanceof C2?function(r){return RN(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class T2 extends TT{}class a_ extends TT{constructor(e){super(),this.elements=e}}function b$(n,e){const t=E$(e);for(const r of n.elements)t.some(i=>Pu(i,r))||t.push(r);return{arrayValue:{values:t}}}class o_ extends TT{constructor(e){super(),this.elements=e}}function S$(n,e){let t=E$(e);for(const r of n.elements)t=t.filter(i=>!Pu(i,r));return{arrayValue:{values:t}}}class C2 extends TT{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function T5(n){return Hi(n.integerValue||n.doubleValue)}function E$(n){return qD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Zhe(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof a_&&i instanceof a_||r instanceof o_&&i instanceof o_?Ov(r.elements,i.elements,Pu):r instanceof C2&&i instanceof C2?Pu(r.Ee,i.Ee):r instanceof T2&&i instanceof T2}(n.transform,e.transform)}class Qhe{constructor(e,t){this.version=e,this.transformResults=t}}class Sc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sc}static exists(e){return new Sc(void 0,e)}static updateTime(e){return new Sc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function SE(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let CT=class{};function A$(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new QD(n.key,Sc.none()):new tw(n.key,n.data,Sc.none());{const t=n.data,r=Nl.empty();let i=new xs(Ns.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new sg(n.key,r,new xc(i.toArray()),Sc.none())}}function Jhe(n,e,t){n instanceof tw?function(i,s,a){const o=i.value.clone(),l=M5(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof sg?function(i,s,a){if(!SE(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=M5(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(T$(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function h1(n,e,t,r){return n instanceof tw?function(s,a,o,l){if(!SE(s.precondition,a))return o;const c=s.value.clone(),u=I5(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof sg?function(s,a,o,l){if(!SE(s.precondition,a))return o;const c=I5(s.fieldTransforms,l,a),u=a.data;return u.setAll(T$(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,a,o){return SE(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function ede(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=w$(r.transform,i||null);s!=null&&(t===null&&(t=Nl.empty()),t.set(r.field,s))}return t||null}function C5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ov(r,i,(s,a)=>Zhe(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tw extends CT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sg extends CT{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function T$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function M5(n,e,t){const r=new Map;Ar(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){const s=n[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,Khe(a,o,t[i]))}return r}function I5(n,e,t){const r=new Map;for(const i of n){const s=i.transform,a=t.data.field(i.field);r.set(i.field,Yhe(s,a,e))}return r}class QD extends CT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tde extends CT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Jhe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=h1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=h1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=x$();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(i.key)?null:o;const l=A$(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(bn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jn())}isEqual(e){return this.batchId===e.batchId&&Ov(this.mutations,e.mutations,(t,r)=>C5(t,r))&&Ov(this.baseMutations,e.baseMutations,(t,r)=>C5(t,r))}}class JD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ar(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Whe}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new JD(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rde=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ide{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi,ir;function sde(n){switch(n){case st.OK:return gn(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return gn(15467,{code:n})}}function C$(n){if(n===void 0)return Fh("GRPC error has no .code"),st.UNKNOWN;switch(n){case Zi.OK:return st.OK;case Zi.CANCELLED:return st.CANCELLED;case Zi.UNKNOWN:return st.UNKNOWN;case Zi.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Zi.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Zi.INTERNAL:return st.INTERNAL;case Zi.UNAVAILABLE:return st.UNAVAILABLE;case Zi.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Zi.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Zi.NOT_FOUND:return st.NOT_FOUND;case Zi.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Zi.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Zi.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Zi.ABORTED:return st.ABORTED;case Zi.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Zi.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Zi.DATA_LOSS:return st.DATA_LOSS;default:return gn(39323,{code:n})}}(ir=Zi||(Zi={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ade=new Sf([4294967295,4294967295],0);function P5(n){const e=XG().encode(n),t=new UG;return t.update(e),new Uint8Array(t.digest())}function R5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sf([t,r],0),new Sf([i,s],0)]}class eO{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bx(`Invalid padding: ${t}`);if(r<0)throw new Bx(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bx(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bx(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Sf.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Sf.fromNumber(r)));return i.compare(ade)===1&&(i=new Sf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=P5(e),[r,i]=R5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);if(!this.ye(a))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new eO(s,i,t);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.fe===0)return;const t=P5(e),[r,i]=R5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(r,i,s);this.we(a)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,nw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new MT(bn.min(),i,new Ti(Hn),Uh(),Jn())}}class nw{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nw(r,t,Jn(),Jn(),Jn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}}class M${constructor(e,t){this.targetId=e,this.De=t}}class I${constructor(e,t,r=Os.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class N5{constructor(){this.ve=0,this.Ce=k5(),this.Fe=Os.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Jn(),t=Jn(),r=Jn();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gn(38017,{changeType:s})}}),new nw(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=k5()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ar(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ode{constructor(e){this.We=e,this.Ge=new Map,this.ze=Uh(),this.je=jb(),this.Je=jb(),this.He=new Ti(Hn)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:gn(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){const t=e.targetId,r=e.De.count,i=this.st(t);if(i){const s=i.target;if(kN(s))if(r===0){const a=new tn(s.path);this.Xe(t,a,Ea.newNoDocument(a,bn.min()))}else Ar(r===1,20013,{expectedCount:r});else{const a=this.ot(t);if(a!==r){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,c)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let a,o;try{a=Of(r).toUint8Array()}catch(l){if(l instanceof e$)return Bh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new eO(a,i,s)}catch(l){return Bh(l instanceof Bx?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,s,null),i++)}),i}Pt(e){const t=new Map;this.Ge.forEach((s,a)=>{const o=this.st(a);if(o){if(s.current&&kN(o.target)){const l=new tn(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Ea.newNoDocument(l,e))}s.Ne&&(t.set(a,s.Le()),s.ke())}});let r=Jn();this.Je.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ze.forEach((s,a)=>a.setReadTime(e));const i=new MT(e,t,this.He,this.ze,r);return this.ze=Uh(),this.je=jb(),this.Je=jb(),this.He=new Ti(Hn),i}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new N5,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new xs(Hn),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new xs(Hn),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new N5),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function jb(){return new Ti(tn.comparator)}function k5(){return new Ti(tn.comparator)}const lde={asc:"ASCENDING",desc:"DESCENDING"},cde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ude={and:"AND",or:"OR"};class hde{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ON(n,e){return n.useProto3Json||bT(e)?e:{value:e}}function M2(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dde(n,e){return M2(n,e.toTimestamp())}function bu(n){return Ar(!!n,49232),bn.fromTimestamp(function(t){const r=Df(t);return new Hr(r.seconds,r.nanos)}(n))}function tO(n,e){return LN(n,e).canonicalString()}function LN(n,e){const t=function(i){return new Xr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function R$(n){const e=Xr.fromString(n);return Ar(L$(e),10190,{key:e.toString()}),e}function FN(n,e){return tO(n.databaseId,e.path)}function yI(n,e){const t=R$(e);if(t.get(1)!==n.databaseId.projectId)throw new It(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new It(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tn(k$(t))}function N$(n,e){return tO(n.databaseId,e)}function fde(n){const e=R$(n);return e.length===4?Xr.emptyPath():k$(e)}function BN(n){return new Xr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k$(n){return Ar(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function D5(n,e,t){return{name:FN(n,e),fields:t.value.mapValue.fields}}function pde(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:gn(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Ar(u===void 0||typeof u=="string",58123),Os.fromBase64String(u||"")):(Ar(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Os.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?st.UNKNOWN:C$(c.code);return new It(u,c.message||"")}(a);t=new I$(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yI(n,r.document.name),s=bu(r.document.updateTime),a=r.document.createTime?bu(r.document.createTime):bn.min(),o=new Nl({mapValue:{fields:r.document.fields}}),l=Ea.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];t=new EE(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yI(n,r.document),s=r.readTime?bu(r.readTime):bn.min(),a=Ea.newNoDocument(i,s),o=r.removedTargetIds||[];t=new EE([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yI(n,r.document),s=r.removedTargetIds||[];t=new EE([],s,i,null)}else{if(!("filter"in e))return gn(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new ide(i,s),o=r.targetId;t=new M$(o,a)}}return t}function mde(n,e){let t;if(e instanceof tw)t={update:D5(n,e.key,e.value)};else if(e instanceof QD)t={delete:FN(n,e.key)};else if(e instanceof sg)t={update:D5(n,e.key,e.data),updateMask:Ede(e.fieldMask)};else{if(!(e instanceof tde))return gn(16599,{Rt:e.type});t={verify:FN(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof T2)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof a_)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof o_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof C2)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw gn(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dde(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:gn(27497)}(n,e.precondition)),t}function gde(n,e){return n&&n.length>0?(Ar(e!==void 0,14353),n.map(t=>function(i,s){let a=i.updateTime?bu(i.updateTime):bu(s);return a.isEqual(bn.min())&&(a=bu(s)),new Qhe(a,i.transformResults||[])}(t,e))):[]}function vde(n,e){return{documents:[N$(n,e.path)]}}function yde(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=N$(n,i);const s=function(c){if(c.length!==0)return O$(Pc.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:h0(d.field),direction:wde(d.dir)}}(u))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=ON(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:t,parent:i}}function xde(n){let e=fde(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ar(r===1,65062);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const d=D$(h);return d instanceof Pc&&u$(d)?d.getFilters():[d]}(t.where));let a=[];t.orderBy&&(a=function(h){return h.map(d=>function(g){return new s_(d0(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(t.orderBy));let o=null;t.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,bT(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new E2(p,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,p=h.values||[];return new E2(p,d)}(t.endAt)),Uhe(e,i,a,s,o,"F",l,c)}function _de(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gn(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function D$(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=d0(t.unaryFilter.field);return es.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=d0(t.unaryFilter.field);return es.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=d0(t.unaryFilter.field);return es.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=d0(t.unaryFilter.field);return es.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gn(61313);default:return gn(60726)}}(n):n.fieldFilter!==void 0?function(t){return es.create(d0(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gn(58110);default:return gn(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pc.create(t.compositeFilter.filters.map(r=>D$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return gn(1026)}}(t.compositeFilter.op))}(n):gn(30097,{filter:n})}function wde(n){return lde[n]}function bde(n){return cde[n]}function Sde(n){return ude[n]}function h0(n){return{fieldPath:n.canonicalString()}}function d0(n){return Ns.fromServerFormat(n.fieldPath)}function O$(n){return n instanceof es?function(t){if(t.op==="=="){if(w5(t.value))return{unaryFilter:{field:h0(t.field),op:"IS_NAN"}};if(_5(t.value))return{unaryFilter:{field:h0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(w5(t.value))return{unaryFilter:{field:h0(t.field),op:"IS_NOT_NAN"}};if(_5(t.value))return{unaryFilter:{field:h0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:h0(t.field),op:bde(t.op),value:t.value}}}(n):n instanceof Pc?function(t){const r=t.getFilters().map(i=>O$(i));return r.length===1?r[0]:{compositeFilter:{op:Sde(t.op),filters:r}}}(n):gn(54877,{filter:n})}function Ede(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function L$(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t,r,i,s=bn.min(),a=bn.min(),o=Os.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new lf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ade{constructor(e){this.gt=e}}function Tde(n){const e=xde({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?A2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cde{constructor(){this.Dn=new Mde}addToCollectionParentIndex(e,t){return this.Dn.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}deleteAllFieldIndexes(e){return ct.resolve()}createTargetIndexes(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t){return ct.resolve(null)}getIndexType(e,t){return ct.resolve(0)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,t){return ct.resolve(kf.min())}getMinOffsetFromCollectionGroup(e,t){return ct.resolve(kf.min())}updateCollectionGroup(e,t,r){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class Mde{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xs(Xr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xs(Xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F$=41943040;class Eo{static withCacheSize(e){return new Eo(e,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo.DEFAULT_COLLECTION_PERCENTILE=10,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eo.DEFAULT=new Eo(F$,Eo.DEFAULT_COLLECTION_PERCENTILE,Eo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eo.DISABLED=new Eo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Uv(0)}static ur(){return new Uv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="LruGarbageCollector",Ide=1048576;function F5([n,e],[t,r]){const i=Hn(n,t);return i===0?Hn(e,r):i}class Pde{constructor(e){this.Tr=e,this.buffer=new xs(F5),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();F5(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rde{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ot(L5,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){my(t)?Ot(L5,"Ignoring IndexedDB error during garbage collection: ",t):await py(t)}await this.Rr(3e5)})}}class Nde{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ct.resolve(wT.ue);const r=new Pde(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(O5)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O5):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),c0()<=Qn.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function kde(n,e){return new Nde(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(){this.changes=new ig(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ea.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ct.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&h1(r.mutation,i,xc.empty(),Hr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Jn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Jn()){const i=nm();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=Fx();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=nm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Jn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,r,i){let s=Uh();const a=u1(),o=function(){return u1()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof sg)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),h1(u.mutation,c,u.mutation.getFieldMask(),Hr.now())):a.set(c.key,xc.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),t.forEach((c,u)=>{var h;return o.set(c,new Ode(u,(h=a.get(c))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,t){const r=u1();let i=new Ti((a,o)=>a-o),s=Jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||xc.empty();u=o.applyToLocalView(c,u),r.set(l,u);const h=(i.get(o.batchId)||Jn()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=x$();u.forEach(d=>{if(!s.has(d)){const p=A$(t.get(d),r.get(d));p!==null&&h.set(d,p),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ct.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return tn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):p$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ct.resolve(nm());let o=n_,l=s;return a.next(c=>ct.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(u)?ct.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Jn())).next(u=>({batchId:o,changes:y$(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(r=>{let i=Fx();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let a=Fx();return this.indexManager.getCollectionParents(e,s).next(o=>ct.forEach(o,l=>{const c=function(h,d){return new gy(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Ea.newInvalidDocument(u)))});let o=Fx();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&h1(u.mutation,c,xc.empty(),Hr.now()),AT(t,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fde{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ct.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:bu(i.createTime)}}(t)),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:Tde(i.bundledQuery),readTime:bu(i.readTime)}}(t)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bde{constructor(){this.overlays=new Ti(tn.comparator),this.kr=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}getOverlays(e,t){const r=nm();return ct.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),ct.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),ct.resolve()}getOverlaysForCollection(e,t,r){const i=nm(),s=t.length+1,a=new tn(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ct.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ti((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=nm(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=nm(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return ct.resolve(o)}wt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new rde(t,r));let s=this.kr.get(t);s===void 0&&(s=Jn(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(){this.sessionToken=Os.EMPTY_BYTE_STRING}getSessionToken(e){return ct.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.qr=new xs(Ps.Qr),this.$r=new xs(Ps.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Ps(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ps(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new tn(new Xr([])),r=new Ps(t,e),i=new Ps(t,e+1),s=[];return this.$r.forEachInRange([r,i],a=>{this.Wr(a),s.push(a.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new tn(new Xr([])),r=new Ps(t,e),i=new Ps(t,e+1);let s=Jn();return this.$r.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new Ps(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ps{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return tn.comparator(e.key,t.key)||Hn(e.Hr,t.Hr)}static Ur(e,t){return Hn(e.Hr,t.Hr)||tn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new xs(Ps.Qr)}checkEmpty(e){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nde(s,t,r,i);this.mutationQueue.push(a);for(const o of i)this.Yr=this.Yr.add(new Ps(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ct.resolve(a)}lookupMutationBatch(e,t){return ct.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),s=i<0?0:i;return ct.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?GD:this.er-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ps(t,0),i=new Ps(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],a=>{const o=this.Zr(a.Hr);s.push(o)}),ct.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xs(Hn);return t.forEach(i=>{const s=new Ps(i,0),a=new Ps(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],o=>{r=r.add(o.Hr)})}),ct.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;tn.isDocumentKey(s)||(s=s.child(""));const a=new Ps(new tn(s),0);let o=new xs(Hn);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},a),ct.resolve(this.ei(o))}ei(e){const t=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ar(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ct.forEach(t.mutations,i=>{const s=new Ps(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Ps(t,0),i=this.Yr.firstAfterOrEqual(r);return ct.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ct.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.ni=e,this.docs=function(){return new Ti(tn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ct.resolve(r?r.document.mutableCopy():Ea.newInvalidDocument(t))}getEntries(e,t){let r=Uh();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ea.newInvalidDocument(i))}),ct.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Uh();const a=t.path,o=new tn(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||vhe(ghe(u),r)<=0||(i.has(u.key)||AT(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ct.resolve(s)}getAllFromCollectionGroup(e,t,r,i){gn(9500)}ri(e,t){return ct.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zde(this)}getSize(e){return ct.resolve(this.size)}}class zde extends Dde{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),ct.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e){this.persistence=e,this.ii=new ig(t=>XD(t),YD),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.si=0,this.oi=new nO,this.targetCount=0,this._i=Uv.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ct.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Uv(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.hr(t),ct.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.ii.forEach((a,o)=>{o.sequenceNumber<=t&&r.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ct.waitFor(s).next(()=>i)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ct.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ct.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ct.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ct.resolve(r)}containsKey(e,t){return ct.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,t){this.ai={},this.overlays={},this.ui=new wT(0),this.ci=!1,this.ci=!0,this.li=new Ude,this.referenceDelegate=e(this),this.hi=new Hde(this),this.indexManager=new Cde,this.remoteDocumentCache=function(i){return new Vde(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Ade(t),this.Ti=new Fde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bde,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new jde(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Ot("MemoryPersistence","Starting transaction:",e);const i=new Wde(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return ct.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class Wde extends xhe{constructor(e){super(),this.currentSequenceNumber=e}}class rO{constructor(e){this.persistence=e,this.Ai=new nO,this.Ri=null}static Vi(e){return new rO(e)}get mi(){if(this.Ri)return this.Ri;throw gn(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ct.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.mi,r=>{const i=tn.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,bn.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ct.or([()=>ct.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class I2{constructor(e,t){this.persistence=e,this.gi=new ig(r=>bhe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kde(this,t)}static Vi(e,t){return new I2(e,t)}Ii(){}di(e){return ct.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ct.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?ct.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,a=>this.Sr(e,a,t).next(o=>{o||(r++,s.removeEntry(a,bn.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ct.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ct.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ct.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ct.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wE(e.data.value)),t}Sr(e,t,r){return ct.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.gi.get(t);return ct.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Jn(),i=Jn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iO(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Toe()?8:_he(Ra())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ps(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Gde;return this.ws(e,t,a).next(o=>{if(s.result=o,this.Rs)return this.Ss(e,t,a,o.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(c0()<=Qn.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",u0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ct.resolve()):(c0()<=Qn.DEBUG&&Ot("QueryEngine","Query:",u0(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(c0()<=Qn.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",u0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wu(t))):ct.resolve())}ps(e,t){if(A5(t))return ct.resolve(null);let r=wu(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=A2(t,null,"F"),r=wu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Jn(...s);return this.gs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(t,o);return this.Ds(t,c,a,l.readTime)?this.ps(e,A2(t,null,"F")):this.vs(e,c,t,l)}))})))}ys(e,t,r,i){return A5(t)||i.isEqual(bn.min())?ct.resolve(null):this.gs.getDocuments(e,r).next(s=>{const a=this.bs(t,s);return this.Ds(t,a,r,i)?ct.resolve(null):(c0()<=Qn.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),u0(t)),this.vs(e,a,t,mhe(i,n_)).next(o=>o))})}bs(e,t){let r=new xs(g$(e));return t.forEach((i,s)=>{AT(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return c0()<=Qn.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",u0(t)),this.gs.getDocumentsMatchingQuery(e,t,kf.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="LocalStore",qde=3e8;class Xde{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ti(Hn),this.Ms=new ig(s=>XD(s),YD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lde(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Yde(n,e,t,r){return new Xde(n,e,t,r)}async function U$(n,e){const t=Tn(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Jn();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:a,addedBatchIds:o}))})})}function Kde(n,e){const t=Tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,d=h.keys();let p=ct.resolve();return d.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(_=>{const w=c.docVersions.get(g);Ar(w!==null,48541),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Jn();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function j$(n){const e=Tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Zde(n,e){const t=Tn(n),r=e.snapshotVersion;let i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;const o=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;o.push(t.hi.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.hi.addMatchingKeys(s,u.addedDocuments,h)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Os.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(_,w,x){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=qde?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(d,p,u)&&o.push(t.hi.updateTargetData(s,p))});let l=Uh(),c=Jn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(Qde(s,a,e.documentUpdates).next(u=>{l=u.Ls,c=u.ks})),!r.isEqual(bn.min())){const u=t.hi.getLastRemoteSnapshotVersion(s).next(h=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return ct.waitFor(o).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Fs=i,s))}function Qde(n,e,t){let r=Jn(),i=Jn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=Uh();return t.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(bn.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Ot(sO,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ls:a,ks:i}})}function Jde(n,e){const t=Tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=GD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function efe(n,e){const t=Tn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(s=>s?(i=s,ct.resolve(i)):t.hi.allocateTargetId(r).next(a=>(i=new lf(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function UN(n,e,t){const r=Tn(n),i=r.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!my(a))throw a;Ot(sO,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function B5(n,e,t){const r=Tn(n);let i=bn.min(),s=Jn();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const h=Tn(l),d=h.Ms.get(u);return d!==void 0?ct.resolve(h.Fs.get(d)):h.hi.getTargetData(c,u)}(r,a,wu(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,t?i:bn.min(),t?s:Jn())).next(o=>(tfe(r,Vhe(e),o),{documents:o,qs:s})))}function tfe(n,e,t){let r=n.xs.get(e)||bn.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.xs.set(e,r)}class U5{constructor(){this.activeTargetIds=qhe()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nfe{constructor(){this.Fo=new U5,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new U5,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="ConnectivityMonitor";class V5{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ot(j5,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ot(j5,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vb=null;function jN(){return Vb===null?Vb=function(){return 268435456+Math.round(2147483648*Math.random())}():Vb++,"0x"+Vb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="RestConnection",ife={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sfe{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===b2?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){const a=jN(),o=this.Go(e,t.toUriEncodedString());Ot(xI,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(o),u=cy(c);return this.jo(e,o,l,r,u).then(h=>(Ot(xI,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Bh(xI,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",r),h})}Jo(e,t,r,i,s,a){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fy}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){const r=ife[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class afe{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="WebChannelConnection";class ofe extends sfe{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){const a=jN();return new Promise((o,l)=>{const c=new jG;c.setWithCredentials(!0),c.listenOnce(VG.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _E.NO_ERROR:const h=c.getResponseJson();Ot(pa,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case _E.TIMEOUT:Ot(pa,`RPC '${e}' ${a} timed out`),l(new It(st.DEADLINE_EXCEEDED,"Request time out"));break;case _E.HTTP_ERROR:const d=c.getStatus();if(Ot(pa,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(x){const S=x.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(S)>=0?S:st.UNKNOWN}(g.status);l(new It(_,g.message))}else l(new It(st.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new It(st.UNAVAILABLE,"Connection failed."));break;default:gn(9055,{c_:e,streamId:a,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Ot(pa,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);Ot(pa,`RPC '${e}' ${a} sending request:`,i),c.send(t,"POST",u,r,15)})}P_(e,t,r){const i=jN(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=WG(),o=HG(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Ot(pa,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=a.createWebChannel(u,l);this.T_(h);let d=!1,p=!1;const g=new afe({Ho:w=>{p?Ot(pa,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(Ot(pa,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Ot(pa,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Yo:()=>h.close()}),_=(w,x,S)=>{w.listen(x,E=>{try{S(E)}catch(T){setTimeout(()=>{throw T},0)}})};return _(h,Lx.EventType.OPEN,()=>{p||(Ot(pa,`RPC '${e}' stream ${i} transport opened.`),g.s_())}),_(h,Lx.EventType.CLOSE,()=>{p||(p=!0,Ot(pa,`RPC '${e}' stream ${i} transport closed`),g.__(),this.I_(h))}),_(h,Lx.EventType.ERROR,w=>{p||(p=!0,Bh(pa,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),g.__(new It(st.UNAVAILABLE,"The operation could not be completed")))}),_(h,Lx.EventType.MESSAGE,w=>{var x;if(!p){const S=w.data[0];Ar(!!S,16349);const E=S,T=(E==null?void 0:E.error)||((x=E[0])===null||x===void 0?void 0:x.error);if(T){Ot(pa,`RPC '${e}' stream ${i} received error:`,T);const D=T.status;let k=function(P){const R=Zi[P];if(R!==void 0)return C$(R)}(D),I=T.message;k===void 0&&(k=st.INTERNAL,I="Unknown error status: "+D+" with message "+T.message),p=!0,g.__(new It(k,I)),h.close()}else Ot(pa,`RPC '${e}' stream ${i} received:`,S),g.a_(S)}}),_(o,zG.STAT_EVENT,w=>{w.stat===MN.PROXY?Ot(pa,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===MN.NOPROXY&&Ot(pa,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.o_()},0),g}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function _I(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n){return new hde(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="PersistentStream";class z${constructor(e,t,r,i,s,a,o,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new V$(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===st.RESOURCE_EXHAUSTED?(Fh(t.toString()),Fh("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{const i=new It(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ot(z5,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Ot(z5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lfe extends z${constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=pde(this.serializer,e),r=function(s){if(!("targetChange"in s))return bn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?bn.min():a.readTime?bu(a.readTime):bn.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=BN(this.serializer),t.addTarget=function(s,a){let o;const l=a.target;if(o=kN(l)?{documents:vde(s,l)}:{query:yde(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=P$(s,a.resumeToken);const c=ON(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(bn.min())>0){o.readTime=M2(s,a.snapshotVersion.toTimestamp());const c=ON(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=_de(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=BN(this.serializer),t.removeTarget=e,this.k_(t)}}class cfe extends z${constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ar(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ar(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ar(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=gde(e.writeResults,e.commitTime),r=bu(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=BN(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>mde(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{}class hfe extends ufe{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new It(st.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,LN(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new It(st.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Jo(e,LN(t,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new It(st.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class dfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Fh(t),this._a=!1):Ot("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RemoteStore";class ffe{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{ag(this)&&(Ot(Om,"Restarting streams for network reachability change."),await async function(l){const c=Tn(l);c.Ia.add(4),await rw(c),c.Aa.set("Unknown"),c.Ia.delete(4),await PT(c)}(this))})}),this.Aa=new dfe(r,i)}}async function PT(n){if(ag(n))for(const e of n.da)await e(!0)}async function rw(n){for(const e of n.da)await e(!1)}function H$(n,e){const t=Tn(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),cO(t)?lO(t):vy(t).x_()&&oO(t,e))}function aO(n,e){const t=Tn(n),r=vy(t);t.Ta.delete(e),r.x_()&&W$(t,e),t.Ta.size===0&&(r.x_()?r.B_():ag(t)&&t.Aa.set("Unknown"))}function oO(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vy(n).H_(e)}function W$(n,e){n.Ra.$e(e),vy(n).Y_(e)}function lO(n){n.Ra=new ode({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),vy(n).start(),n.Aa.aa()}function cO(n){return ag(n)&&!vy(n).M_()&&n.Ta.size>0}function ag(n){return Tn(n).Ia.size===0}function G$(n){n.Ra=void 0}async function pfe(n){n.Aa.set("Online")}async function mfe(n){n.Ta.forEach((e,t)=>{oO(n,e)})}async function gfe(n,e){G$(n),cO(n)?(n.Aa.la(e),lO(n)):n.Aa.set("Unknown")}async function vfe(n,e,t){if(n.Aa.set("Online"),e instanceof I$&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ta.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ta.delete(o),i.Ra.removeTarget(o))}(n,e)}catch(r){Ot(Om,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await P2(n,r)}else if(e instanceof EE?n.Ra.Ye(e):e instanceof M$?n.Ra.it(e):n.Ra.et(e),!t.isEqual(bn.min()))try{const r=await j$(n.localStore);t.compareTo(r)>=0&&await function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ta.get(c);u&&s.Ta.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.Ta.get(l);if(!u)return;s.Ta.set(l,u.withResumeToken(Os.EMPTY_BYTE_STRING,u.snapshotVersion)),W$(s,l);const h=new lf(u.target,l,c,u.sequenceNumber);oO(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(r){Ot(Om,"Failed to raise snapshot:",r),await P2(n,r)}}async function P2(n,e,t){if(!my(e))throw e;n.Ia.add(1),await rw(n),n.Aa.set("Offline"),t||(t=()=>j$(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ot(Om,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await PT(n)})}function $$(n,e){return e().catch(t=>P2(n,t,e))}async function RT(n){const e=Tn(n),t=Ff(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:GD;for(;yfe(e);)try{const i=await Jde(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,xfe(e,i)}catch(i){await P2(e,i)}q$(e)&&X$(e)}function yfe(n){return ag(n)&&n.Pa.length<10}function xfe(n,e){n.Pa.push(e);const t=Ff(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function q$(n){return ag(n)&&!Ff(n).M_()&&n.Pa.length>0}function X$(n){Ff(n).start()}async function _fe(n){Ff(n).na()}async function wfe(n){const e=Ff(n);for(const t of n.Pa)e.X_(t.mutations)}async function bfe(n,e,t){const r=n.Pa.shift(),i=JD.from(r,e,t);await $$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await RT(n)}async function Sfe(n,e){e&&Ff(n).Z_&&await async function(r,i){if(function(a){return sde(a)&&a!==st.ABORTED}(i.code)){const s=r.Pa.shift();Ff(r).N_(),await $$(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await RT(r)}}(n,e),q$(n)&&X$(n)}async function H5(n,e){const t=Tn(n);t.asyncQueue.verifyOperationInProgress(),Ot(Om,"RemoteStore received new credentials");const r=ag(t);t.Ia.add(3),await rw(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await PT(t)}async function Efe(n,e){const t=Tn(n);e?(t.Ia.delete(2),await PT(t)):e||(t.Ia.add(2),await rw(t),t.Aa.set("Unknown"))}function vy(n){return n.Va||(n.Va=function(t,r,i){const s=Tn(t);return s.ia(),new lfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:pfe.bind(null,n),e_:mfe.bind(null,n),n_:gfe.bind(null,n),J_:vfe.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),cO(n)?lO(n):n.Aa.set("Unknown")):(await n.Va.stop(),G$(n))})),n.Va}function Ff(n){return n.ma||(n.ma=function(t,r,i){const s=Tn(t);return s.ia(),new cfe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:_fe.bind(null,n),n_:Sfe.bind(null,n),ea:wfe.bind(null,n),ta:bfe.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await RT(n)):(await n.ma.stop(),n.Pa.length>0&&(Ot(Om,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Eh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const a=Date.now()+r,o=new uO(e,t,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new It(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hO(n,e){if(Fh("AsyncQueue",`${e}: ${n}`),my(n))return new It(st.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{static emptySet(e){return new iv(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||tn.comparator(t.key,r.key):(t,r)=>tn.comparator(t.key,r.key),this.keyedMap=Fx(),this.sortedSet=new Ti(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new iv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(){this.fa=new Ti(tn.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):gn(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class jv{constructor(e,t,r,i,s,a,o,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new jv(e,t,iv.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ET(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Tfe{constructor(){this.queries=G5(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const i=Tn(t),s=i.queries;i.queries=G5(),s.forEach((a,o)=>{for(const l of o.wa)l.onError(r)})})(this,new It(st.ABORTED,"Firestore shutting down"))}}function G5(){return new ig(n=>m$(n),ET)}async function Y$(n,e){const t=Tn(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new Afe,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await t.onListen(i,!0);break;case 1:s.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(a){const o=hO(a,`Initialization of query '${u0(e.query)}' failed`);return void e.onError(o)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&dO(t)}async function K$(n,e){const t=Tn(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Cfe(n,e){const t=Tn(n);let r=!1;for(const i of e){const s=i.query,a=t.queries.get(s);if(a){for(const o of a.wa)o.Ca(i)&&(r=!0);a.ya=i}}r&&dO(t)}function Mfe(n,e,t){const r=Tn(n),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(t);r.queries.delete(e)}function dO(n){n.Da.forEach(e=>{e.next()})}var VN,$5;($5=VN||(VN={})).Fa="default",$5.Cache="cache";class Z${constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=jv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==VN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.key=e}}class J${constructor(e){this.key=e}}class Ife{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Jn(),this.mutatedKeys=Jn(),this.Xa=g$(e),this.eu=new iv(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new W5,i=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),p=AT(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;d&&p?d.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),w=!0):this.iu(d,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Xa(p,l)>0||c&&this.Xa(p,c)<0)&&(o=!0)):!d&&p?(r.track({type:0,doc:p}),w=!0):d&&!p&&(r.track({type:1,doc:d}),w=!0,(l||c)&&(o=!0)),w&&(p?(a=a.add(p),s=_?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{eu:a,ru:r,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((u,h)=>function(p,g){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn(20277,{At:w})}};return _(p)-_(g)}(u.type,h.type)||this.Xa(u.doc,h.doc)),this.su(r),i=i!=null&&i;const o=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,a.length!==0||c?{snapshot:new jv(this.query,e.eu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new W5,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Jn(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new J$(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Q$(r))}),t}uu(e){this.Ha=e.qs,this.Za=Jn();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return jv.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const fO="SyncEngine";class Pfe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Rfe{constructor(e){this.key=e,this.lu=!1}}class Nfe{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new ig(o=>m$(o),ET),this.Tu=new Map,this.Iu=new Set,this.du=new Ti(tn.comparator),this.Eu=new Map,this.Au=new nO,this.Ru={},this.Vu=new Map,this.mu=Uv.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function kfe(n,e,t=!0){const r=sq(n);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await eq(r,e,t,!0),i}async function Dfe(n,e){const t=sq(n);await eq(t,e,!0,!1)}async function eq(n,e,t,r){const i=await efe(n.localStore,wu(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return r&&(o=await Ofe(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&H$(n.remoteStore,i),o}async function Ofe(n,e,t,r,i){n.gu=(h,d,p)=>async function(_,w,x,S){let E=w.view.nu(x);E.Ds&&(E=await B5(_.localStore,w.query,!1).then(({documents:I})=>w.view.nu(I,E)));const T=S&&S.targetChanges.get(w.targetId),D=S&&S.targetMismatches.get(w.targetId)!=null,k=w.view.applyChanges(E,_.isPrimaryClient,T,D);return X5(_,w.targetId,k._u),k.snapshot}(n,h,d,p);const s=await B5(n.localStore,e,!0),a=new Ife(e,s.qs),o=a.nu(s.documents),l=nw.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=a.applyChanges(o,n.isPrimaryClient,l);X5(n,t,c._u);const u=new Pfe(e,t,a);return n.Pu.set(e,u),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),c.snapshot}async function Lfe(n,e,t){const r=Tn(n),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(a=>!ET(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await UN(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&aO(r.remoteStore,i.targetId),zN(r,i.targetId)}).catch(py)):(zN(r,i.targetId),await UN(r.localStore,i.targetId,!0))}async function Ffe(n,e){const t=Tn(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),aO(t.remoteStore,r.targetId))}async function Bfe(n,e,t){const r=Gfe(n);try{const i=await function(a,o){const l=Tn(a),c=Hr.now(),u=o.reduce((p,g)=>p.add(g.key),Jn());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Uh(),_=Jn();return l.Os.getEntries(p,u).next(w=>{g=w,g.forEach((x,S)=>{S.isValidDocument()||(_=_.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{h=w;const x=[];for(const S of o){const E=ede(S,h.get(S.key).overlayedDocument);E!=null&&x.push(new sg(S.key,E,o$(E.value.mapValue),Sc.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,x,o)}).next(w=>{d=w;const x=w.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,x)})}).then(()=>({batchId:d.batchId,changes:y$(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ru[a.currentUser.toKey()];c||(c=new Ti(Hn)),c=c.insert(o,l),a.Ru[a.currentUser.toKey()]=c}(r,i.batchId,t),await iw(r,i.changes),await RT(r.remoteStore)}catch(i){const s=hO(i,"Failed to persist write");t.reject(s)}}async function tq(n,e){const t=Tn(n);try{const r=await Zde(t.localStore,e);e.targetChanges.forEach((i,s)=>{const a=t.Eu.get(s);a&&(Ar(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.lu=!0:i.modifiedDocuments.size>0?Ar(a.lu,14607):i.removedDocuments.size>0&&(Ar(a.lu,42227),a.lu=!1))}),await iw(t,r,e)}catch(r){await py(r)}}function q5(n,e,t){const r=Tn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Pu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Tn(a);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.wa)d.va(o)&&(c=!0)}),c&&dO(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ufe(n,e,t){const r=Tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),s=i&&i.key;if(s){let a=new Ti(tn.comparator);a=a.insert(s,Ea.newNoDocument(s,bn.min()));const o=Jn().add(s),l=new MT(bn.min(),new Map,new Ti(Hn),a,o);await tq(r,l),r.du=r.du.remove(s),r.Eu.delete(e),pO(r)}else await UN(r.localStore,e,!1).then(()=>zN(r,e,t)).catch(py)}async function jfe(n,e){const t=Tn(n),r=e.batch.batchId;try{const i=await Kde(t.localStore,e);rq(t,r,null),nq(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await iw(t,i)}catch(i){await py(i)}}async function Vfe(n,e,t){const r=Tn(n);try{const i=await function(a,o){const l=Tn(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(Ar(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);rq(r,e,t),nq(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await iw(r,i)}catch(i){await py(i)}}function nq(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function rq(n,e,t){const r=Tn(n);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function zN(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||iq(n,r)})}function iq(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(aO(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),pO(n))}function X5(n,e,t){for(const r of t)r instanceof Q$?(n.Au.addReference(r.key,e),zfe(n,r)):r instanceof J$?(Ot(fO,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||iq(n,r.key)):gn(19791,{yu:r})}function zfe(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Ot(fO,"New document in limbo: "+t),n.Iu.add(r),pO(n))}function pO(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new tn(Xr.fromString(e)),r=n.mu.next();n.Eu.set(r,new Rfe(t)),n.du=n.du.insert(t,r),H$(n.remoteStore,new lf(wu(KD(t.path)),r,"TargetPurposeLimboResolution",wT.ue))}}async function iw(n,e,t){const r=Tn(n),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((o,l)=>{a.push(r.gu(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=iO.Es(l.targetId,c);s.push(h)}}))}),await Promise.all(a),r.hu.J_(i),await async function(l,c){const u=Tn(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ct.forEach(c,d=>ct.forEach(d.Is,p=>u.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>ct.forEach(d.ds,p=>u.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!my(h))throw h;Ot(sO,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const p=u.Fs.get(d),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);u.Fs=u.Fs.insert(d,_)}}}(r.localStore,s))}async function Hfe(n,e){const t=Tn(n);if(!t.currentUser.isEqual(e)){Ot(fO,"User change. New user:",e.toKey());const r=await U$(t.localStore,e);t.currentUser=e,function(s,a){s.Vu.forEach(o=>{o.forEach(l=>{l.reject(new It(st.CANCELLED,a))})}),s.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iw(t,r.Bs)}}function Wfe(n,e){const t=Tn(n),r=t.Eu.get(e);if(r&&r.lu)return Jn().add(r.key);{let i=Jn();const s=t.Tu.get(e);if(!s)return i;for(const a of s){const o=t.Pu.get(a);i=i.unionWith(o.view.tu)}return i}}function sq(n){const e=Tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ufe.bind(null,e),e.hu.J_=Cfe.bind(null,e.eventManager),e.hu.pu=Mfe.bind(null,e.eventManager),e}function Gfe(n){const e=Tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vfe.bind(null,e),e}class R2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=IT(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Yde(this.persistence,new $de,e.initialUser,this.serializer)}Du(e){return new B$(rO.Vi,this.serializer)}bu(e){return new nfe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}R2.provider={build:()=>new R2};class $fe extends R2{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ar(this.persistence.referenceDelegate instanceof I2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Rde(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Eo.withCacheSize(this.cacheSizeBytes):Eo.DEFAULT;return new B$(r=>I2.Vi(r,t),this.serializer)}}class HN{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hfe.bind(null,this.syncEngine),await Efe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tfe}()}createDatastore(e){const t=IT(e.databaseInfo.databaseId),r=function(s){return new ofe(s)}(e.databaseInfo);return function(s,a,o,l){return new hfe(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,a,o){return new ffe(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>q5(this.syncEngine,t,0),function(){return V5.C()?new V5:new rfe}())}createSyncEngine(e,t){return function(i,s,a,o,l,c,u){const h=new Nfe(i,s,a,o,l,c);return u&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Tn(i);Ot(Om,"RemoteStore shutting down."),s.Ia.add(5),await rw(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}HN.provider={build:()=>new HN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Fh("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="FirestoreClient";class qfe{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ba.UNAUTHENTICATED,this.clientId=xT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{Ot(Bf,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ot(Bf,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=hO(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wI(n,e){n.asyncQueue.verifyOperationInProgress(),Ot(Bf,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Bh("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Ot("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Bh("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function Y5(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Xfe(n);Ot(Bf,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>H5(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>H5(e.remoteStore,i)),n._onlineComponents=e}async function Xfe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ot(Bf,"Using user provided OfflineComponentProvider");try{await wI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===st.FAILED_PRECONDITION||i.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Bh("Error using user provided cache. Falling back to memory cache: "+t),await wI(n,new R2)}}else Ot(Bf,"Using default OfflineComponentProvider"),await wI(n,new $fe(void 0));return n._offlineComponents}async function oq(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ot(Bf,"Using user provided OnlineComponentProvider"),await Y5(n,n._uninitializedComponentsProvider._online)):(Ot(Bf,"Using default OnlineComponentProvider"),await Y5(n,new HN))),n._onlineComponents}function Yfe(n){return oq(n).then(e=>e.syncEngine)}async function lq(n){const e=await oq(n),t=e.eventManager;return t.onListen=kfe.bind(null,e.syncEngine),t.onUnlisten=Lfe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Dfe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ffe.bind(null,e.syncEngine),t}function Kfe(n,e,t={}){const r=new Eh;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new aq({next:d=>{u.Ou(),a.enqueueAndForget(()=>K$(s,h));const p=d.docs.has(o);!p&&d.fromCache?c.reject(new It(st.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new It(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Z$(KD(o.path),u,{includeMetadataChanges:!0,ka:!0});return Y$(s,h)}(await lq(n),n.asyncQueue,e,t,r)),r.promise}function Zfe(n,e,t={}){const r=new Eh;return n.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new aq({next:d=>{u.Ou(),a.enqueueAndForget(()=>K$(s,h)),d.fromCache&&l.source==="server"?c.reject(new It(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Z$(o,u,{includeMetadataChanges:!0,ka:!0});return Y$(s,h)}(await lq(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="firestore.googleapis.com",Z5=!0;class Q5{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new It(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uq,this.ssl=Z5}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Z5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ide)throw new It(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new It(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new It(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new It(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class NT{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new It(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new It(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qG;switch(r.type){case"firstParty":return new che(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new It(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=K5.get(t);r&&(Ot("ComponentProvider","Removing Datastore"),K5.delete(t),r.terminate())}(this),Promise.resolve()}}function hq(n,e,t,r={}){var i;n=Iu(n,NT);const s=cy(e),a=n._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&(XW(`https://${l}`),YW("Firestore",!0)),a.host!==uq&&a.host!==l&&Bh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!Nf(c,o)&&(n._setSettings(c),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=ba.MOCK_USER;else{u=yoe(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new It(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ba(d)}n._authCredentials=new ahe(new $G(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og=class dq{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dq(this.firestore,e,this._query)}};class $i{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ah(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $i(this.firestore,e,this._key)}toJSON(){return{type:$i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ew(t,$i._jsonSchema))return new $i(e,r||null,new tn(Xr.fromString(t.referencePath)))}}$i._jsonSchemaVersion="firestore/documentReference/1.0",$i._jsonSchema={type:ns("string",$i._jsonSchemaVersion),referencePath:ns("string")};class Ah extends og{constructor(e,t,r){super(e,t,KD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $i(this.firestore,null,new tn(e))}withConverter(e){return new Ah(this.firestore,e,this._path)}}function Di(n,e,...t){if(n=Js(n),YG("collection","path",e),n instanceof NT){const r=Xr.fromString(e,...t);return h5(r),new Ah(n,null,r)}{if(!(n instanceof $i||n instanceof Ah))throw new It(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xr.fromString(e,...t));return h5(r),new Ah(n.firestore,null,r)}}function hi(n,e,...t){if(n=Js(n),arguments.length===1&&(e=xT.newId()),YG("doc","path",e),n instanceof NT){const r=Xr.fromString(e,...t);return u5(r),new $i(n,null,new tn(r))}{if(!(n instanceof $i||n instanceof Ah))throw new It(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xr.fromString(e,...t));return u5(r),new $i(n.firestore,n instanceof Ah?n.converter:null,new tn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="AsyncQueue";class eB{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new V$(this,"async_queue_retry"),this.oc=()=>{const r=_I();r&&Ot(J5,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=_I();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=_I();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Eh;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!my(e))throw e;Ot(J5,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Fh("INTERNAL UNHANDLED ERROR: ",tB(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const i=uO.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&gn(47125,{hc:tB(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function tB(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class lg extends NT{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new eB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eB(e),this._firestoreClient=void 0,await e}}}function fq(n,e){const t=typeof n=="object"?n:kD(),r=typeof n=="string"?n:b2,i=tg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=goe("firestore");s&&hq(i,...s)}return i}function kT(n){if(n._terminated)throw new It(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Qfe(n),n._firestoreClient}function Qfe(n){var e,t,r;const i=n._freezeSettings(),s=function(o,l,c,u){return new Ahe(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cq(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new qfe(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Os.fromBase64String(e))}catch(t){throw new It(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(Os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ew(e,Zo._jsonSchema))return Zo.fromBase64String(e.bytes)}}Zo._jsonSchemaVersion="firestore/bytes/1.0",Zo._jsonSchema={type:ns("string",Zo._jsonSchemaVersion),bytes:ns("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new It(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ns(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new It(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new It(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Hn(this._lat,e._lat)||Hn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ec._jsonSchemaVersion}}static fromJSON(e){if(ew(e,Ec._jsonSchema))return new Ec(e.latitude,e.longitude)}}Ec._jsonSchemaVersion="firestore/geoPoint/1.0",Ec._jsonSchema={type:ns("string",Ec._jsonSchemaVersion),latitude:ns("number"),longitude:ns("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ac._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ew(e,Ac._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ac(e.vectorValues);throw new It(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ac._jsonSchemaVersion="firestore/vectorValue/1.0",Ac._jsonSchema={type:ns("string",Ac._jsonSchemaVersion),vectorValues:ns("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jfe=/^__.*__$/;class epe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sg(e,this.data,this.fieldMask,t,this.fieldTransforms):new tw(e,this.data,t,this.fieldTransforms)}}function pq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn(40011,{Ec:n})}}class gO{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new gO(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return N2(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(pq(this.Ec)&&Jfe.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class tpe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||IT(e)}Dc(e,t,r,i=!1){return new gO({Ec:e,methodName:t,bc:r,path:Ns.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vO(n){const e=n._freezeSettings(),t=IT(n._databaseId);return new tpe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mq(n,e,t,r,i,s={}){const a=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);yq("Data must be an object, but it was:",a,r);const o=gq(r,a);let l,c;if(s.merge)l=new xc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=rpe(e,h,t);if(!a.contains(d))throw new It(st.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);spe(u,d)||u.push(d)}l=new xc(u),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new epe(new Nl(o),l,c)}function npe(n,e,t,r=!1){return yO(t,n.Dc(r?4:3,e))}function yO(n,e){if(vq(n=Js(n)))return yq("Unsupported field value:",e,n),gq(n,e);if(n instanceof mO)return function(r,i){if(!pq(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=yO(o,i.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Js(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xhe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Hr.fromDate(r);return{timestampValue:M2(i.serializer,s)}}if(r instanceof Hr){const s=new Hr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:M2(i.serializer,s)}}if(r instanceof Ec)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zo)return{bytesValue:P$(i.serializer,r._byteString)};if(r instanceof $i){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tO(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ac)return function(a,o){return{mapValue:{fields:{[s$]:{stringValue:a$},[S2]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.wc("VectorValues must only contain numeric values.");return ZD(o.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${_T(r)}`)}(n,e)}function gq(n,e){const t={};return JG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rg(n,(r,i)=>{const s=yO(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function vq(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Hr||n instanceof Ec||n instanceof Zo||n instanceof $i||n instanceof mO||n instanceof Ac)}function yq(n,e,t){if(!vq(t)||!ZG(t)){const r=_T(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function rpe(n,e,t){if((e=Js(e))instanceof DT)return e._internalPath;if(typeof e=="string")return xq(n,e);throw N2("Field path arguments must be of type string or ",n,!1,void 0,t)}const ipe=new RegExp("[~\\*/\\[\\]]");function xq(n,e,t){if(e.search(ipe)>=0)throw N2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new DT(...e.split("."))._internalPath}catch{throw N2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function N2(n,e,t,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new It(st.INVALID_ARGUMENT,o+n+l)}function spe(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ape(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ape extends _q{data(){return super.data()}}function OT(n,e){return typeof e=="string"?xq(n,e):e instanceof DT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ope(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new It(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xO{}class LT extends xO{}function FT(n,e,...t){let r=[];e instanceof xO&&r.push(e),r=r.concat(t),function(s){const a=s.filter(l=>l instanceof BT).length,o=s.filter(l=>l instanceof sw).length;if(a>1||a>0&&o>0)throw new It(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class sw extends LT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sw(e,t,r)}_apply(e){const t=this._parse(e);return Sq(e._query,t),new og(e.firestore,e.converter,DN(e._query,t))}_parse(e){const t=vO(e.firestore);return function(s,a,o,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new It(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){rB(h,u);const g=[];for(const _ of h)g.push(nB(l,s,_));d={arrayValue:{values:g}}}else d=nB(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||rB(h,u),d=npe(o,a,h,u==="in"||u==="not-in");return es.create(c,u,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wq(n,e,t){const r=e,i=OT("where",n);return sw._create(i,r,t)}class BT extends xO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new BT(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Pc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)Sq(a,l),a=DN(a,l)}(e._query,t),new og(e.firestore,e.converter,DN(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class UT extends LT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new UT(e,t)}_apply(e){const t=function(i,s,a){if(i.startAt!==null)throw new It(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new It(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new s_(s,a)}(e._query,this._field,this._direction);return new og(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new gy(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function bq(n,e="asc"){const t=e,r=OT("orderBy",n);return UT._create(r,t)}class jT extends LT{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new jT(e,t,r)}_apply(e){return new og(e.firestore,e.converter,A2(e._query,this._limit,this._limitType))}}function _O(n){return phe("limit",n),jT._create("limit",n,"F")}function nB(n,e,t){if(typeof(t=Js(t))=="string"){if(t==="")throw new It(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p$(e)&&t.indexOf("/")!==-1)throw new It(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xr.fromString(t));if(!tn.isDocumentKey(r))throw new It(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return x5(n,new tn(r))}if(t instanceof $i)return x5(n,t._key);throw new It(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_T(t)}.`)}function rB(n,e){if(!Array.isArray(n)||n.length===0)throw new It(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sq(n,e){const t=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new It(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new It(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Eq{convertValue(e,t="none"){switch(Lf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Of(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return rg(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[S2].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Hi(a.doubleValue));return new Ac(s)}convertGeoPoint(e){return new Ec(Hi(e.latitude),Hi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ST(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(r_(e));default:return null}}convertTimestamp(e){const t=Df(e);return new Hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xr.fromString(e);Ar(L$(r),9688,{name:e});const i=new Lv(r.get(1),r.get(3)),s=new tn(r.popFirst(5));return i.isEqual(t)||Fh(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class P0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ef extends _q{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new d1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(OT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new It(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ef._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ef._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ef._jsonSchema={type:ns("string",Ef._jsonSchemaVersion),bundleSource:ns("string","DocumentSnapshot"),bundleName:ns("string"),bundle:ns("string")};class d1 extends Ef{data(e={}){return super.data(e)}}class wm{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new P0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new d1(this._firestore,this._userDataWriter,r.key,r,new P0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new It(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new d1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new P0(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new d1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new P0(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:lpe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new It(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wm._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lpe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(n){n=Iu(n,$i);const e=Iu(n.firestore,lg);return Kfe(kT(e),n._key).then(t=>cpe(e,n,t))}wm._jsonSchemaVersion="firestore/querySnapshot/1.0",wm._jsonSchema={type:ns("string",wm._jsonSchemaVersion),bundleSource:ns("string","QuerySnapshot"),bundleName:ns("string"),bundle:ns("string")};class Tq extends Eq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,t)}}function Is(n){n=Iu(n,og);const e=Iu(n.firestore,lg),t=kT(e),r=new Tq(e);return ope(n._query),Zfe(t,n._query).then(i=>new wm(e,r,n,i))}function Xo(n,e,t){n=Iu(n,$i);const r=Iu(n.firestore,lg),i=Aq(n.converter,e,t);return VT(r,[mq(vO(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Sc.none())])}function f0(n){return VT(Iu(n.firestore,lg),[new QD(n._key,Sc.none())])}function f1(n,e){const t=Iu(n.firestore,lg),r=hi(n),i=Aq(n.converter,e);return VT(t,[mq(vO(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Sc.exists(!1))]).then(()=>r)}function VT(n,e){return function(r,i){const s=new Eh;return r.asyncQueue.enqueueAndForget(async()=>Bfe(await Yfe(r),i,s)),s.promise}(kT(n),e)}function cpe(n,e,t){const r=t.docs.get(e._key),i=new Tq(n);return new Ef(n,i,e._key,r,new P0(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){fy=i})(uy),Mu(new Mc("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new lg(new ohe(r.getProvider("auth-internal")),new uhe(a,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new It(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lv(c.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Fl(s5,a5,e),Fl(s5,a5,"esm2017")})();const cf=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Eq,Bytes:Zo,CollectionReference:Ah,DocumentReference:$i,DocumentSnapshot:Ef,FieldPath:DT,FieldValue:mO,Firestore:lg,FirestoreError:It,GeoPoint:Ec,Query:og,QueryCompositeFilterConstraint:BT,QueryConstraint:LT,QueryDocumentSnapshot:d1,QueryFieldFilterConstraint:sw,QueryLimitConstraint:jT,QueryOrderByConstraint:UT,QuerySnapshot:wm,SnapshotMetadata:P0,Timestamp:Hr,VectorValue:Ac,_AutoId:xT,_ByteString:Os,_DatabaseId:Lv,_DocumentKey:tn,_EmptyAuthCredentialsProvider:qG,_FieldPath:Ns,_cast:Iu,_logWarn:Bh,_validateIsNotUsedTogether:KG,addDoc:f1,collection:Di,connectFirestoreEmulator:hq,deleteDoc:f0,doc:hi,ensureFirestoreConfigured:kT,executeWrite:VT,getDoc:yy,getDocs:Is,getFirestore:fq,limit:_O,orderBy:bq,query:FT,setDoc:Xo,where:wq},Symbol.toStringTag,{value:"Module"})),Cq="@firebase/installations",wO="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=1e4,Iq=`w:${wO}`,Pq="FIS_v2",upe="https://firebaseinstallations.googleapis.com/v1",hpe=60*60*1e3,dpe="installations",fpe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ppe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Lm=new eg(dpe,fpe,ppe);function Rq(n){return n instanceof Dc&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq({projectId:n}){return`${upe}/projects/${n}/installations`}function kq(n){return{token:n.token,requestStatus:2,expiresIn:gpe(n.expiresIn),creationTime:Date.now()}}async function Dq(n,e){const r=(await e.json()).error;return Lm.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Oq({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function mpe(n,{refreshToken:e}){const t=Oq(n);return t.append("Authorization",vpe(e)),t}async function Lq(n){const e=await n();return e.status>=500&&e.status<600?n():e}function gpe(n){return Number(n.replace("s","000"))}function vpe(n){return`${Pq} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ype({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Nq(n),i=Oq(n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={fid:t,authVersion:Pq,appId:n.appId,sdkVersion:Iq},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await Lq(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:kq(c.authToken)}}else throw await Dq("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xpe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _pe=/^[cdef][\w-]{21}$/,WN="";function wpe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=bpe(n);return _pe.test(t)?t:WN}catch{return WN}}function bpe(n){return xpe(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=new Map;function Uq(n,e){const t=zT(n);jq(t,e),Spe(t,e)}function jq(n,e){const t=Bq.get(n);if(t)for(const r of t)r(e)}function Spe(n,e){const t=Epe();t&&t.postMessage({key:n,fid:e}),Ape()}let rm=null;function Epe(){return!rm&&"BroadcastChannel"in self&&(rm=new BroadcastChannel("[Firebase] FID Change"),rm.onmessage=n=>{jq(n.data.key,n.data.fid)}),rm}function Ape(){Bq.size===0&&rm&&(rm.close(),rm=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tpe="firebase-installations-database",Cpe=1,Fm="firebase-installations-store";let bI=null;function bO(){return bI||(bI=tG(Tpe,Cpe,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Fm)}}})),bI}async function k2(n,e){const t=zT(n),i=(await bO()).transaction(Fm,"readwrite"),s=i.objectStore(Fm),a=await s.get(t);return await s.put(e,t),await i.done,(!a||a.fid!==e.fid)&&Uq(n,e.fid),e}async function Vq(n){const e=zT(n),r=(await bO()).transaction(Fm,"readwrite");await r.objectStore(Fm).delete(e),await r.done}async function HT(n,e){const t=zT(n),i=(await bO()).transaction(Fm,"readwrite"),s=i.objectStore(Fm),a=await s.get(t),o=e(a);return o===void 0?await s.delete(t):await s.put(o,t),await i.done,o&&(!a||a.fid!==o.fid)&&Uq(n,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(n){let e;const t=await HT(n.appConfig,r=>{const i=Mpe(r),s=Ipe(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===WN?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Mpe(n){const e=n||{fid:wpe(),registrationStatus:0};return zq(e)}function Ipe(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Lm.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ppe(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Rpe(n)}:{installationEntry:e}}async function Ppe(n,e){try{const t=await ype(n,e);return k2(n.appConfig,t)}catch(t){throw Rq(t)&&t.customData.serverCode===409?await Vq(n.appConfig):await k2(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Rpe(n){let e=await iB(n.appConfig);for(;e.registrationStatus===1;)await Fq(100),e=await iB(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await SO(n);return r||t}return e}function iB(n){return HT(n,e=>{if(!e)throw Lm.create("installation-not-found");return zq(e)})}function zq(n){return Npe(n)?{fid:n.fid,registrationStatus:0}:n}function Npe(n){return n.registrationStatus===1&&n.registrationTime+Mq<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kpe({appConfig:n,heartbeatServiceProvider:e},t){const r=Dpe(n,t),i=mpe(n,t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={installation:{sdkVersion:Iq,appId:n.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await Lq(()=>fetch(r,o));if(l.ok){const c=await l.json();return kq(c)}else throw await Dq("Generate Auth Token",l)}function Dpe(n,{fid:e}){return`${Nq(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(n,e=!1){let t;const r=await HT(n.appConfig,s=>{if(!Hq(s))throw Lm.create("not-registered");const a=s.authToken;if(!e&&Fpe(a))return s;if(a.requestStatus===1)return t=Ope(n,e),s;{if(!navigator.onLine)throw Lm.create("app-offline");const o=Upe(s);return t=Lpe(n,o),o}});return t?await t:r.authToken}async function Ope(n,e){let t=await sB(n.appConfig);for(;t.authToken.requestStatus===1;)await Fq(100),t=await sB(n.appConfig);const r=t.authToken;return r.requestStatus===0?EO(n,e):r}function sB(n){return HT(n,e=>{if(!Hq(e))throw Lm.create("not-registered");const t=e.authToken;return jpe(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Lpe(n,e){try{const t=await kpe(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await k2(n.appConfig,r),t}catch(t){if(Rq(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Vq(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await k2(n.appConfig,r)}throw t}}function Hq(n){return n!==void 0&&n.registrationStatus===2}function Fpe(n){return n.requestStatus===2&&!Bpe(n)}function Bpe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+hpe}function Upe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function jpe(n){return n.requestStatus===1&&n.requestTime+Mq<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vpe(n){const e=n,{installationEntry:t,registrationPromise:r}=await SO(e);return r?r.catch(console.error):EO(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zpe(n,e=!1){const t=n;return await Hpe(t),(await EO(t,e)).token}async function Hpe(n){const{registrationPromise:e}=await SO(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wpe(n){if(!n||!n.options)throw SI("App Configuration");if(!n.name)throw SI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw SI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function SI(n){return Lm.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq="installations",Gpe="installations-internal",$pe=n=>{const e=n.getProvider("app").getImmediate(),t=Wpe(e),r=tg(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},qpe=n=>{const e=n.getProvider("app").getImmediate(),t=tg(e,Wq).getImmediate();return{getId:()=>Vpe(t),getToken:i=>zpe(t,i)}};function Xpe(){Mu(new Mc(Wq,$pe,"PUBLIC")),Mu(new Mc(Gpe,qpe,"PRIVATE"))}Xpe();Fl(Cq,wO);Fl(Cq,wO,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="analytics",Ype="firebase_id",Kpe="origin",Zpe=60*1e3,Qpe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",AO="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new pT("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},rl=new eg("analytics","Analytics",Jpe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(n){if(!n.startsWith(AO)){const e=rl.create("invalid-gtag-resource",{gtagURL:n});return Oo.warn(e.message),""}return n}function Gq(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function tme(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function nme(n,e){const t=tme("firebase-js-sdk-policy",{createScriptURL:eme}),r=document.createElement("script"),i=`${AO}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rme(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function ime(n,e,t,r,i,s){const a=r[i];try{if(a)await e[a];else{const l=(await Gq(t)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){Oo.error(o)}n("config",i,s)}async function sme(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await Gq(t);for(const l of a){const c=o.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){Oo.error(s)}}function ame(n,e,t,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await sme(n,e,t,o,l)}else if(s==="config"){const[o,l]=a;await ime(n,e,t,r,o,l)}else if(s==="consent"){const[o,l]=a;n("consent",o,l)}else if(s==="get"){const[o,l,c]=a;n("get",o,l,c)}else if(s==="set"){const[o]=a;n("set",o)}else n(s,...a)}catch(o){Oo.error(o)}}return i}function ome(n,e,t,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=ame(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function lme(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(AO)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cme=30,ume=1e3;class hme{constructor(e={},t=ume){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $q=new hme;function dme(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function fme(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:dme(r)},s=Qpe.replace("{app-id}",t),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(o=l.error.message)}catch{}throw rl.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function pme(n,e=$q,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw rl.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw rl.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new vme;return setTimeout(async()=>{o.abort()},Zpe),qq({appId:r,apiKey:i,measurementId:s},a,o,e)}async function qq(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=$q){var s;const{appId:a,measurementId:o}=n;try{await mme(r,e)}catch(l){if(o)return Oo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await fme(n);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!gme(c)){if(i.deleteThrottleMetadata(a),o)return Oo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw l}const u=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?I8(t,i.intervalMillis,cme):I8(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(a,h),Oo.debug(`Calling attemptFetch again in ${u} millis`),qq(n,h,r,i)}}function mme(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(rl.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gme(n){if(!(n instanceof Dc)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class vme{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yme(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});n("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xme(){if(ZW())try{await QW()}catch(n){return Oo.warn(rl.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Oo.warn(rl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _me(n,e,t,r,i,s,a){var o;const l=pme(n);l.then(p=>{t[p.measurementId]=p.appId,n.options.measurementId&&p.measurementId!==n.options.measurementId&&Oo.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Oo.error(p)),e.push(l);const c=xme().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([l,c]);lme(s)||nme(s,u.measurementId),i("js",new Date);const d=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return d[Kpe]="firebase",d.update=!0,h!=null&&(d[Ype]=h),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wme{constructor(e){this.app=e}_delete(){return delete p1[this.app.options.appId],Promise.resolve()}}let p1={},aB=[];const oB={};let EI="dataLayer",bme="gtag",lB,Xq,cB=!1;function Sme(){const n=[];if(KW()&&n.push("This is a browser extension environment."),Coe()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=rl.create("invalid-analytics-context",{errorInfo:e});Oo.warn(t.message)}}function Eme(n,e,t){Sme();const r=n.options.appId;if(!r)throw rl.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Oo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw rl.create("no-api-key");if(p1[r]!=null)throw rl.create("already-exists",{id:r});if(!cB){rme(EI);const{wrappedGtag:s,gtagCore:a}=ome(p1,aB,oB,EI,bme);Xq=s,lB=a,cB=!0}return p1[r]=_me(n,aB,oB,e,lB,EI,t),new wme(n)}function Ame(n=kD()){n=Js(n);const e=tg(n,D2);return e.isInitialized()?e.getImmediate():Tme(n)}function Tme(n,e={}){const t=tg(n,D2);if(t.isInitialized()){const i=t.getImmediate();if(Nf(e,t.getOptions()))return i;throw rl.create("already-initialized")}return t.initialize({options:e})}function Cme(n,e,t,r){n=Js(n),yme(Xq,p1[n.app.options.appId],e,t,r).catch(i=>Oo.error(i))}const uB="@firebase/analytics",hB="0.10.17";function Mme(){Mu(new Mc(D2,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Eme(r,i,t)},"PUBLIC")),Mu(new Mc("analytics-internal",n,"PRIVATE")),Fl(uB,hB),Fl(uB,hB,"esm2017");function n(e){try{const t=e.getProvider(D2).getImmediate();return{logEvent:(r,i,s)=>Cme(t,r,i,s)}}catch(t){throw rl.create("interop-component-reg-failed",{reason:t})}}}Mme();const Ime={apiKey:"AIzaSyBe-XLmVRiMs844VxR1_awMzGEGARb6Xmk",authDomain:"website-mpn-65e8d.firebaseapp.com",projectId:"website-mpn-65e8d",storageBucket:"website-mpn-65e8d.firebasestorage.app",messagingSenderId:"798271486726",appId:"1:798271486726:web:0d0e0178a963804f627c87",measurementId:"G-KSVPVC1Z9D"},WT=nG(Ime),Th=ihe(WT);$ce(Th,PG).catch(n=>{console.warn("Auth persistence configuration failed:",n)});const An=fq(WT);let Yq=null;if(typeof window<"u")try{localStorage.getItem("cookieConsent")==="true"&&(Yq=Ame(WT))}catch(n){console.warn("Analytics disabled due to cookie/storage restrictions:",n)}console.log("Firebase initialized successfully");const uf=Object.freeze(Object.defineProperty({__proto__:null,get analytics(){return Yq},app:WT,auth:Th,db:An},Symbol.toStringTag,{value:"Module"})),Kq="main",Zq="meta";async function TO(){const n=hi(An,Zq,Kq),e=await yy(n);return e.exists()?e.data():null}async function Pme(n){const e=hi(An,Zq,Kq);await Xo(e,n,{merge:!0})}const fc=[{imageUrl:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/refs/heads/main/Img/anggota%20mahapala%20narotama.jpg",alt:"Anggota Mahapala Narotama",title:"Kebersamaan adalah simbol Kekuatan",description:"Bergabunglah dalam misi kami untuk melindungi lingkungan dan eksplorasi alam."},{imageUrl:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/refs/heads/main/Img/eksplorasi%20alam.jpg",alt:"Pendidikan Rimba Gunung Mahapala Narotama",title:"Petualangan Tanpa Batas",description:"Eksplorasi keindahan alam Indonesia bersama Mahapala Narotama."},{imageUrl:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/refs/heads/main/Img/panjat%20tebing.png",alt:"Pendidikan Panjat Tebing Mahapala Narotama",title:"Keseruan dalam Berpetualang",description:"Kami berkomitmen untuk pendidikan lingkungan dan pelestarian alam."}],Qq="main",Jq="homepage";async function eX(){const n=hi(An,Jq,Qq),e=await yy(n);if(e.exists()){const t=e.data();if(Array.isArray(t.carouselContent)&&t.carouselContent.length>0){const r=t.carouselContent.filter(i=>!fc.some(s=>s.title===i.title));return[...fc,...r]}}return await GN(fc),[...fc]}async function GN(n){const e=hi(An,Jq,Qq);await Xo(e,{carouselContent:n},{merge:!0})}const tX="devlog";async function El(n){await f1(Di(An,tX),{...n,createdAt:Hr.now()})}async function Rme(){const n=FT(Di(An,tX),bq("createdAt","desc"));return(await Is(n)).docs.map(t=>{var i,s;const r=t.data();return{action:r.action,detail:r.detail,user:r.user,createdAt:((s=(i=r.createdAt)==null?void 0:i.toDate)==null?void 0:s.call(i))||new Date}})}const dB={title:"Mahapala Narotama - Organisasi Pecinta Alam | MPN | UKM Narotama",description:"Mahapala Narotama (MPN) adalah UKM Pecinta Alam Universitas Narotama Surabaya. Info kegiatan, pembelajaran, dan anggota Mahapala Narotama.",keywords:"Mahapala Narotama, mahapala narotama, MPN, ukm narotama, mahapalanarotama, organisasi pecinta alam, mapala, mahasiswa, surabaya, universitas narotama",image:"https://opengraph.b-cdn.net/production/images/e0842583-257e-46c1-9055-1c49ee456d3f.jpg?token=p3fN6dOPVL12p7_4AZrWfifa4bvHLMnndwMwNRQCpwg&height=900&width=1200&expires=33285527673",favicon:"/favicon.ico",faviconFallback:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/refs/heads/main/Img/favicon.ico",faviconPng:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/refs/heads/main/Img/favicon.png",googleFormUrl:"",googleFormDownloadUrl:""};function Nme(){const[n,e]=F.useState(dB),[t,r]=F.useState(!1),[i,s]=F.useState(!1),[a,o]=F.useState(n),[l,c]=F.useState(!1),[u,h]=F.useState(null),[d,p]=F.useState(""),[g,_]=F.useState(""),[w,x]=F.useState(""),[S,E]=F.useState(!0),[T,D]=F.useState("meta"),[k,I]=F.useState({title:"",description:"",whatsapp:"",email:"",instagram:""}),[N,P]=F.useState([]),[R,B]=F.useState(!1);F.useEffect(()=>{T==="contact"&&(B(!0),wa(async()=>{const{db:ve}=await Promise.resolve().then(()=>uf);return{db:ve}},void 0).then(({db:ve})=>{wa(async()=>{const{doc:Xe,getDoc:Ye}=await Promise.resolve().then(()=>cf);return{doc:Xe,getDoc:Ye}},void 0).then(({doc:Xe,getDoc:Ye})=>{Ye(Xe(ve,"homepage","contact")).then(Le=>{if(Le.exists()){const dt=Le.data();I({title:dt.title||"",description:dt.description||"",whatsapp:dt.whatsapp||"",email:dt.email||"",instagram:dt.instagram||""}),P(Array.isArray(dt.cards)?dt.cards.map(_t=>typeof _t=="object"&&_t&&("name"in _t||"value"in _t||"icon"in _t)?{title:_t.name||"",description:_t.icon||"",content:_t.value?[_t.value]:[]}:"title"in _t&&"description"in _t&&"content"in _t?_t:{title:"",description:"",content:[]}):[])}else I({title:"",description:"",whatsapp:"",email:"",instagram:""}),P([]);B(!1)})})}))},[T]);const[z,H]=F.useState(!1),[K,J]=F.useState(""),[se,ce]=F.useState(""),[X,ue]=F.useState(""),[q,ge]=F.useState(""),[De,Q]=F.useState(!1),[et,ye]=F.useState(!1),[Ie,Se]=F.useState(!1),[Je,Qe]=F.useState(!1),[rt,ut]=F.useState([]),[Be,ae]=F.useState(!1),[Re,ke]=F.useState(null),[$e,We]=F.useState(null),[ne,Ae]=F.useState(!1),[Fe,ot]=F.useState([]),[vt,ie]=F.useState(!1),[Y,xe]=F.useState(!1),[re,pe]=F.useState(!1),[_e,at]=F.useState(null),[qe,xt]=F.useState(null);F.useEffect(()=>{T==="visimisi"&&(Q(!0),wa(async()=>{const{db:ve}=await Promise.resolve().then(()=>uf);return{db:ve}},void 0).then(({db:ve})=>{wa(async()=>{const{doc:Xe,getDoc:Ye}=await Promise.resolve().then(()=>cf);return{doc:Xe,getDoc:Ye}},void 0).then(({doc:Xe,getDoc:Ye})=>{Ye(Xe(ve,"homepage","visimisi")).then(Le=>{Le.exists()&&(J(Le.data().visi||""),ce(Le.data().misi||""),ue(Le.data().visi||""),ge(Le.data().misi||""),ye(!1)),Q(!1)})})}))},[T]);const bt=async()=>{Q(!0);const{db:ve}=await wa(async()=>{const{db:Le}=await Promise.resolve().then(()=>uf);return{db:Le}},void 0),{doc:Xe,setDoc:Ye}=await wa(async()=>{const{doc:Le,setDoc:dt}=await Promise.resolve().then(()=>cf);return{doc:Le,setDoc:dt}},void 0);await Ye(Xe(ve,"homepage","visimisi"),{visi:X,misi:q},{merge:!0}),J(X),ce(q),Q(!1),ye(!1)};F.useEffect(()=>{T==="homepage"&&u&&(ae(!0),eX().then(ve=>{const Xe=(ve||[]).filter(Ye=>!fc.some(Le=>Le.title===Ye.title));ut([...fc,...Xe]),ae(!1)}))},[T,u]);const it=(ve,Xe)=>{ke(ve),We(Xe),Ae(!0)},pt=()=>{ke({imageUrl:"",alt:"",title:"",description:""}),We(null),Ae(!0)},Nt=ve=>{if(window.confirm("Hapus slide ini?")){let Xe=[...rt];Xe.splice(ve,1),Xe.length<fc.length&&(Xe=[...fc]),ut(Xe),GN(Xe)}};F.useEffect(()=>{const ve=VD(Th,Xe=>{h(Xe),E(!1)});return()=>ve()},[]),F.useEffect(()=>{u&&TO().then(ve=>{ve&&(e(ve),o(ve))})},[u]),F.useEffect(()=>{T==="logadmin"&&(ie(!0),Rme().then(ve=>{ot(ve),ie(!1)}))},[T]);const de=ve=>{o({...a,[ve.target.name]:ve.target.value})},Pe=()=>{s(!0),o(n)},lt=async()=>{await Pme(a),e(a),s(!1),c(!1),u!=null&&u.email&&await El({action:"Edit Meta",detail:"Meta diubah melalui halaman developer",user:u.email})},fe=()=>{c(!1)},tt=async ve=>{ve.preventDefault(),x("");try{await jD(Th,d,g)}catch(Xe){Xe.code==="auth/invalid-credential"?x("Email / Password Salah!"):x("Login gagal: "+Xe.message)}};return S?m.jsx("div",{className:"text-center py-20",children:"Loading..."}):u?m.jsxs("div",{className:"max-w-2xl mx-auto py-10 px-4",children:[m.jsx("h1",{className:"text-3xl font-extrabold mb-8 text-center text-primary",children:"Developer Tools"}),m.jsxs("div",{className:"mb-6 flex gap-2 border-b border-blue-200 overflow-x-auto scrollbar-hide px-1 -mx-2 whitespace-nowrap",style:{WebkitOverflowScrolling:"touch"},children:[m.jsxs("button",{className:`flex items-center gap-1 sm:gap-2 group transition-all duration-200 bg-muted px-2 sm:px-4 py-2 rounded-t-lg data-[active=true]:bg-primary/10 data-[active=true]:shadow-lg data-[active=true]:scale-105 data-[active=true]:text-primary data-[active=false]:hover:bg-muted/70 data-[active=false]:bg-muted/90 min-w-[64px] sm:min-w-[140px] justify-center ${T==="meta"?"data-[active=true]":"data-[active=false]"}`,"data-active":T==="meta",onClick:()=>D("meta"),children:[m.jsx("span",{className:"flex items-center justify-center p-0 sm:p-1",children:m.jsxs("svg",{width:"22",height:"22",className:"sm:w-[26px] sm:h-[26px] text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 18v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[active=true]:inline ml-1 group-hover:font-semibold group-data-[active=true]:font-bold group-data-[active=true]:text-primary",children:"Meta"})]}),m.jsxs("button",{className:`flex items-center gap-1 sm:gap-2 group transition-all duration-200 bg-muted px-2 sm:px-4 py-2 rounded-t-lg data-[active=true]:bg-primary/10 data-[active=true]:shadow-lg data-[active=true]:scale-105 data-[active=true]:text-primary data-[active=false]:hover:bg-muted/70 data-[active=false]:bg-muted/90 min-w-[64px] sm:min-w-[140px] justify-center ${T==="logadmin"?"data-[active=true]":"data-[active=false]"}`,"data-active":T==="logadmin",onClick:()=>D("logadmin"),children:[m.jsx("span",{className:"flex items-center justify-center p-0 sm:p-1",children:m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",className:"sm:w-[26px] sm:h-[26px] text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("path",{d:"M12 6v6l4 2"})]})}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[active=true]:inline ml-1 group-hover:font-semibold group-data-[active=true]:font-bold group-data-[active=true]:text-primary",children:"Log Admin"})]}),m.jsxs("button",{className:`flex items-center gap-1 sm:gap-2 group transition-all duration-200 bg-muted px-2 sm:px-4 py-2 rounded-t-lg data-[active=true]:bg-primary/10 data-[active=true]:shadow-lg data-[active=true]:scale-105 data-[active=true]:text-primary data-[active=false]:hover:bg-muted/70 data-[active=false]:bg-muted/90 min-w-[64px] sm:min-w-[140px] justify-center ${T==="homepage"?"data-[active=true]":"data-[active=false]"}`,"data-active":T==="homepage",onClick:()=>D("homepage"),children:[m.jsx("span",{className:"flex items-center justify-center p-0 sm:p-1",children:m.jsxs("svg",{width:"22",height:"22",className:"sm:w-[26px] sm:h-[26px] text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),m.jsx("path",{d:"M3 9h18"}),m.jsx("path",{d:"M9 21V9"})]})}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[active=true]:inline ml-1 group-hover:font-semibold group-data-[active=true]:font-bold group-data-[active=true]:text-primary",children:"Homepage"})]}),m.jsxs("button",{className:`flex items-center gap-1 sm:gap-2 group transition-all duration-200 bg-muted px-2 sm:px-4 py-2 rounded-t-lg data-[active=true]:bg-primary/10 data-[active=true]:shadow-lg data-[active=true]:scale-105 data-[active=true]:text-primary data-[active=false]:hover:bg-muted/70 data-[active=false]:bg-muted/90 min-w-[64px] sm:min-w-[140px] justify-center ${T==="visimisi"?"data-[active=true]":"data-[active=false]"}`,"data-active":T==="visimisi",onClick:()=>D("visimisi"),children:[m.jsx("span",{className:"flex items-center justify-center p-0 sm:p-1",children:m.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",className:"sm:w-[26px] sm:h-[26px] text-green-600",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("circle",{cx:"12",cy:"12",r:"6"}),m.jsx("circle",{cx:"12",cy:"12",r:"2"})]})}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[active=true]:inline ml-1 group-hover:font-semibold group-data-[active=true]:font-bold group-data-[active=true]:text-primary",children:"Visi & Misi"})]}),m.jsxs("button",{className:`flex items-center gap-1 sm:gap-2 group transition-all duration-200 bg-muted px-2 sm:px-4 py-2 rounded-t-lg data-[active=true]:bg-primary/10 data-[active=true]:shadow-lg data-[active=true]:scale-105 data-[active=true]:text-primary data-[active=false]:hover:bg-muted/70 data-[active=false]:bg-muted/90 min-w-[64px] sm:min-w-[140px] justify-center ${T==="contact"?"data-[active=true]":"data-[active=false]"}`,"data-active":T==="contact",onClick:()=>D("contact"),children:[m.jsx("span",{className:"flex items-center justify-center p-0 sm:p-1",children:m.jsx("svg",{width:"22",height:"22",className:"sm:w-[26px] sm:h-[26px] text-blue-600",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M21 10.5a8.38 8.38 0 0 1-1.9.5 3.48 3.48 0 0 0-2.6-1.5c-1.7 0-3 1.3-3 3 0 .2 0 .4.1.6A8.5 8.5 0 0 1 3 5.5a3 3 0 0 0 1 4c-.9 0-1.7-.3-2.4-.7v.1c0 1.5 1.1 2.8 2.6 3.1-.3.1-.6.2-.9.2-.2 0-.4 0-.6-.1.4 1.2 1.5 2.1 2.8 2.1A6.9 6.9 0 0 1 2 18.5c-.2 0-.4 0-.6-.1A9.9 9.9 0 0 0 8 20.5c6.3 0 9.8-5.2 9.8-9.8v-.4A7.1 7.1 0 0 0 21 10.5z"})})}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[active=true]:inline ml-1 group-hover:font-semibold group-data-[active=true]:font-bold group-data-[active=true]:text-primary",children:"Contact"})]})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-2xl shadow-lg p-8 border border-blue-100 min-h-[400px]",children:[T==="contact"&&m.jsxs(m.Fragment,{children:[m.jsxs("h2",{className:"font-bold text-xl mb-4 text-blue-900 flex items-center gap-2",children:[m.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600",children:m.jsx("path",{d:"M21 10.5a8.38 8.38 0 0 1-1.9.5 3.48 3.48 0 0 0-2.6-1.5c-1.7 0-3 1.3-3 3 0 .2 0 .4.1.6A8.5 8.5 0 0 1 3 5.5a3 3 0 0 0 1 4c-.9 0-1.7-.3-2.4-.7v.1c0 1.5 1.1 2.8 2.6 3.1-.3.1-.6.2-.9.2-.2 0-.4 0-.6-.1.4 1.2 1.5 2.1 2.8 2.1A6.9 6.9 0 0 1 2 18.5c-.2 0-.4 0-.6-.1A9.9 9.9 0 0 0 8 20.5c6.3 0 9.8-5.2 9.8-9.8v-.4A7.1 7.1 0 0 0 21 10.5z"})}),"Edit Kontak & Hubungi Kami"]}),z?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"font-semibold mb-2",children:"Dialog Hubungi Kami"}),m.jsx("input",{className:"w-full border rounded p-2 mb-2",placeholder:"Judul (Default=Hubungi Kami)",value:k.title,onChange:ve=>I({...k,title:ve.target.value})}),m.jsx("textarea",{className:"w-full border rounded p-2 mb-2",placeholder:"Deskripsi (Opsional)",value:k.description,onChange:ve=>I({...k,description:ve.target.value})}),m.jsx("input",{className:"w-full border rounded p-2 mb-2",placeholder:"WhatsApp (+628xx-xxxx-xxxx)",value:k.whatsapp,onChange:ve=>I({...k,whatsapp:ve.target.value})}),m.jsx("input",{className:"w-full border rounded p-2 mb-2",placeholder:"Email (xxxx@gmail.com)",value:k.email,onChange:ve=>I({...k,email:ve.target.value})}),m.jsx("input",{className:"w-full border rounded p-2 mb-2",placeholder:"Instagram (not '@' just 'Admin')",value:k.instagram,onChange:ve=>I({...k,instagram:ve.target.value})})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"font-semibold mb-2",children:"Contact Cards (Pendaftaran)"}),N.map((ve,Xe)=>m.jsxs("div",{className:"border rounded p-3 mb-3 bg-white shadow-sm flex items-start gap-3",children:[ve.description&&ve.description.startsWith("fa-")?m.jsx("i",{className:`fa ${ve.description} text-xl text-blue-600 mt-1`,"aria-hidden":"true",style:{minWidth:28,textAlign:"center"}}):ve.description&&ve.description.startsWith("mdi-")?m.jsx("span",{className:`mdi ${ve.description} text-xl text-blue-600 mt-1`,style:{minWidth:28,textAlign:"center"}}):ve.description&&ve.description.startsWith("svg:")?m.jsx("span",{className:"inline-block mt-1",style:{minWidth:28,textAlign:"center"},dangerouslySetInnerHTML:{__html:ve.description.slice(4)}}):null,m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex gap-2 mb-2",children:[m.jsx("input",{className:"border rounded p-2 flex-1",placeholder:"Judul",value:ve.title,onChange:Ye=>{P(Le=>Le.map((dt,_t)=>_t===Xe?{...dt,title:Ye.target.value}:dt))}}),m.jsx("input",{className:"border rounded p-2 flex-1",placeholder:"Deskripsi (opsional, isi kode ikon: fa-whatsapp, mdi-phone, svg:<svg...>)",value:ve.description,onChange:Ye=>{P(Le=>Le.map((dt,_t)=>_t===Xe?{...dt,description:Ye.target.value}:dt))}})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Isi Konten (1 baris = 1 item)"}),m.jsx("textarea",{className:"border rounded p-2 w-full",rows:3,placeholder:"Isi konten, pisahkan baris untuk setiap item",value:ve.content.join(`
`),onChange:Ye=>{const Le=Ye.target.value.split(/\r?\n/);P(dt=>dt.map((_t,En)=>En===Xe?{..._t,content:Le}:_t))}})]}),Xe<3?m.jsx("button",{className:"bg-gray-300 text-gray-400 px-2 py-1 rounded cursor-not-allowed",disabled:!0,children:"Hapus (Wajib Ada)"}):m.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded",onClick:()=>{window.confirm(`Centang kotak di bawah ini untuk menghapus:
 Saya yakin ingin menghapus card ini.`)&&P(Le=>Le.filter((dt,_t)=>_t!==Xe))},children:"Hapus"})]})]},Xe)),m.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded mt-2",onClick:()=>P(ve=>[...ve,{title:"",description:"",content:[""]}]),children:"Tambah Card"})]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded",onClick:()=>H(!1),children:"Batal"}),m.jsx("button",{className:`bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow ${R?"opacity-60 cursor-not-allowed":""}`,disabled:R,onClick:()=>{at("contact"),xe(!0)},children:R?"Menyimpan...":"Simpan"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"font-semibold mb-2",children:"Dialog Hubungi Kami"}),m.jsxs("div",{className:"mb-2",children:[m.jsx("b",{children:"Judul:"})," ",k.title]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("b",{children:"Deskripsi:"})," ",k.description]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("b",{children:"WhatsApp:"})," ",k.whatsapp]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("b",{children:"Email:"})," ",k.email]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("b",{children:"Instagram:"})," ",k.instagram]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"font-semibold mb-2",children:"Contact Cards (Pendaftaran)"}),N.length===0&&m.jsx("div",{className:"text-gray-400",children:"Belum ada contact card."}),N.map((ve,Xe)=>m.jsxs("div",{className:"border rounded p-3 mb-3 bg-white shadow-sm flex items-start gap-3",children:[ve.description&&ve.description.startsWith("fa-")?m.jsx("i",{className:`fa ${ve.description} text-xl text-blue-600 mt-1`,"aria-hidden":"true",style:{minWidth:28,textAlign:"center"}}):ve.description&&ve.description.startsWith("mdi-")?m.jsx("span",{className:`mdi ${ve.description} text-xl text-blue-600 mt-1`,style:{minWidth:28,textAlign:"center"}}):ve.description&&ve.description.startsWith("svg:")?m.jsx("span",{className:"inline-block mt-1",style:{minWidth:28,textAlign:"center"},dangerouslySetInnerHTML:{__html:ve.description.slice(4)}}):null,m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-base mb-1",children:ve.title}),ve.content.map((Ye,Le)=>Ye.trim()===""?m.jsx("div",{style:{height:"1em"}},Le):m.jsx("div",{className:"text-sm",children:Ye},Le))]})]},Xe))]}),m.jsx("div",{className:"flex gap-2 justify-end",children:m.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow",onClick:()=>H(!0),children:"Edit"})})]})]}),T==="visimisi"&&m.jsxs(m.Fragment,{children:[m.jsxs("h2",{className:"font-bold text-xl mb-4 text-green-900 flex items-center gap-2",children:[m.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("circle",{cx:"12",cy:"12",r:"6"}),m.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),"Visi & Misi Homepage"]}),De?m.jsx("div",{className:"text-center text-gray-500",children:"Memuat data..."}):m.jsx(m.Fragment,{children:et?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-2 text-blue-700",children:"Edit Visi:"}),m.jsx("textarea",{className:"w-full border rounded p-2 bg-white",rows:2,value:X,onChange:ve=>ue(ve.target.value),placeholder:"Masukkan visi organisasi..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-2 text-green-700",children:"Edit Misi:"}),m.jsx("textarea",{className:"w-full border rounded p-2 bg-white",rows:4,value:q,onChange:ve=>ge(ve.target.value),placeholder:"Masukkan misi organisasi..."}),m.jsxs("div",{className:"text-xs text-gray-500 mt-1 mb-2",children:["Tekan ",m.jsx("b",{children:"Enter"})," untuk membuat misi dalam bentuk list/poin."]}),m.jsxs("div",{className:"mt-3",children:[m.jsx("span",{className:"block font-semibold mb-1 text-green-700",children:"Preview Misi:"}),q.split(/\r?\n/).filter(Boolean).length>1?m.jsx("ul",{className:"text-gray-700 list-disc pl-5 space-y-1",children:q.split(/\r?\n/).filter(Boolean).map((ve,Xe)=>m.jsx("li",{children:ve},Xe))}):m.jsx("p",{className:"text-gray-700 text-justify whitespace-pre-line",children:q})]})]}),m.jsxs("div",{className:"flex gap-4 justify-end mt-2",children:[m.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow",onClick:()=>Se(!0),disabled:De,children:"Simpan"}),m.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded",onClick:()=>{ue(K),ge(se),ye(!1)},children:"Batal"})]}),Ie&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full",children:[m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Konfirmasi Simpan Visi & Misi"}),m.jsx("p",{className:"mb-4",children:"Pastikan data sudah benar sebelum disimpan ke homepage."}),m.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[m.jsx("input",{type:"checkbox",checked:Je,onChange:ve=>Qe(ve.target.checked)}),m.jsx("span",{className:"text-sm",children:"Saya sudah memeriksa dan data visi & misi sudah benar."})]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{className:`px-4 py-2 rounded text-white transition ${!Je||De?"bg-green-300 cursor-not-allowed opacity-60":"bg-green-600 hover:bg-green-700 shadow"}`,disabled:!Je||De,onClick:async()=>{await bt(),window.dispatchEvent(new Event("visimisi-updated")),Se(!1),Qe(!1)},children:"Ya, Simpan"}),m.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:()=>{Se(!1),Qe(!1)},children:"Batal"})]})]})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-2 text-blue-700",children:"Visi (Tampil di Homepage):"}),m.jsx("div",{className:"mb-2 p-2 border rounded text-gray-700 whitespace-pre-line bg-transparent",children:K})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-2 text-green-700",children:"Misi (Tampil di Homepage):"}),m.jsx("div",{className:"mb-2 p-2 border rounded text-gray-700 bg-transparent",children:se.split(/\r?\n/).filter(Boolean).length>1?m.jsx("ul",{className:"list-disc pl-5 space-y-1",children:se.split(/\r?\n/).filter(Boolean).map((ve,Xe)=>m.jsx("li",{children:ve},Xe))}):m.jsx("span",{className:"whitespace-pre-line",children:se})})]})]}),m.jsx("div",{className:"flex gap-2 justify-end mt-6",children:m.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow",onClick:()=>{ye(!0),ue(K),ge(se)},children:"Edit"})})]})})]}),T==="homepage"&&m.jsxs(m.Fragment,{children:[m.jsxs("h2",{className:"font-bold text-xl mb-4 text-blue-900 flex items-center gap-2",children:[m.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),m.jsx("path",{d:"M3 9h18"}),m.jsx("path",{d:"M9 21V9"})]}),"Homepage Carousel Editor"]}),Be?m.jsx("div",{className:"text-center py-10 text-gray-500",children:"Memuat data carousel..."}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"flex justify-end mb-4",children:m.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow",onClick:pt,children:"Tambah Slide"})}),rt.length===0?m.jsx("div",{className:"text-center text-gray-400 py-10",children:"Belum ada data carousel."}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[m.jsx("th",{className:"p-2",children:"Gambar"}),m.jsx("th",{className:"p-2",children:"Alt"}),m.jsx("th",{className:"p-2",children:"Judul"}),m.jsx("th",{className:"p-2",children:"Deskripsi"}),m.jsx("th",{className:"p-2",children:"Aksi"})]})}),m.jsx("tbody",{children:rt.map((ve,Xe)=>m.jsxs("tr",{className:"border-b last:border-b-0",children:[m.jsx("td",{className:"p-2",children:m.jsx("img",{src:ve.imageUrl,alt:ve.alt,className:"h-16 w-28 object-cover rounded"})}),m.jsx("td",{className:"p-2 max-w-xs truncate",children:ve.alt}),m.jsx("td",{className:"p-2 max-w-xs truncate",children:ve.title}),m.jsx("td",{className:"p-2 max-w-xs truncate",children:ve.description}),m.jsxs("td",{className:"p-2 flex gap-2",children:[m.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-white px-3 py-1 rounded",onClick:()=>it(ve,Xe),children:"Edit"}),m.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",onClick:()=>Nt(Xe),children:"Hapus"})]})]},Xe))})]})}),ne&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[m.jsxs("h3",{className:"font-bold text-lg mb-4",children:[$e===null?"Tambah":"Edit"," Slide Carousel"]}),m.jsxs("div",{className:"grid gap-3 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Gambar (URL)"}),m.jsx("input",{className:"w-full border rounded p-2",value:(Re==null?void 0:Re.imageUrl)||"",onChange:ve=>ke({...Re,imageUrl:ve.target.value}),placeholder:"https://..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Alt"}),m.jsx("input",{className:"w-full border rounded p-2",value:(Re==null?void 0:Re.alt)||"",onChange:ve=>ke({...Re,alt:ve.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Judul"}),m.jsx("input",{className:"w-full border rounded p-2",value:(Re==null?void 0:Re.title)||"",onChange:ve=>ke({...Re,title:ve.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Deskripsi"}),m.jsx("textarea",{className:"w-full border rounded p-2",value:(Re==null?void 0:Re.description)||"",onChange:ve=>ke({...Re,description:ve.target.value})})]})]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",onClick:()=>{at("carousel"),xt(Re),xe(!0)},children:"Simpan"}),m.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:()=>{Ae(!1),ke(null),We(null)},children:"Batal"})]})]})})]})]}),T==="meta"&&m.jsxs(m.Fragment,{children:[m.jsxs("h2",{className:"font-bold text-xl mb-4 text-blue-900 flex items-center gap-2",children:[m.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600",children:[m.jsx("path",{d:"M16 18v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Meta Head Editor"]}),i?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"flex justify-end mb-2",children:m.jsx("button",{className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded shadow border border-gray-300",type:"button",onClick:()=>o(dB),children:"Kembalikan ke Default"})}),m.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Title"}),m.jsx("input",{className:"w-full border rounded p-2",name:"title",value:a.title,onChange:de})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Description"}),m.jsx("textarea",{className:"w-full border rounded p-2",name:"description",value:a.description,onChange:de})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Keywords"}),m.jsx("input",{className:"w-full border rounded p-2",name:"keywords",value:a.keywords,onChange:de})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Image (og:image)"}),m.jsx("input",{className:"w-full border rounded p-2",name:"image",value:a.image,onChange:de})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Favicon (ico)"}),m.jsx("input",{className:"w-full border rounded p-2",name:"favicon",value:a.favicon,onChange:de})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Favicon Fallback (ico)"}),m.jsx("input",{className:"w-full border rounded p-2",name:"faviconFallback",value:a.faviconFallback,onChange:de})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Favicon PNG"}),m.jsx("input",{className:"w-full border rounded p-2",name:"faviconPng",value:a.faviconPng,onChange:de})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Link Google Formulir Pendaftaran"}),m.jsx("input",{className:"w-full border rounded p-2",name:"googleFormUrl",value:a.googleFormUrl||"",onChange:de,placeholder:"https://docs.google.com/forms/..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-medium mb-1",children:"Link Download Formulir"}),m.jsx("input",{className:"w-full border rounded p-2",name:"googleFormDownloadUrl",value:a.googleFormDownloadUrl||"",onChange:de,placeholder:"https://.../formulir.docx"})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow",onClick:()=>{at("meta"),xe(!0)},type:"button",children:"Simpan"}),m.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:()=>s(!1),type:"button",children:"Batal"})]}),l&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full",children:[m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Konfirmasi Simpan"}),m.jsx("p",{className:"mb-4",children:"Apakah Anda yakin ingin menyimpan perubahan meta tag?"}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",onClick:lt,children:"Ya, Simpan"}),m.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:fe,children:"Batal"})]})]})}),t&&m.jsx("div",{className:"mt-6 bg-gray-50 p-4 rounded border text-xs overflow-x-auto",children:m.jsx("code",{children:`
                        <!-- Meta Preview -->
                        <title>${n.title}</title>
                        <meta name="description" content="${n.description}" />
                        <meta name="keywords" content="${n.keywords}" />
                        <meta property="og:title" content="${n.title}" />
                        <meta property="og:description" content="${n.description}" />
                        <meta property="og:image" content="${n.image}" />
                        <link rel="icon" href="${n.favicon}" type="image/x-icon" />
                        <link rel="icon" type="image/x-icon" href="${n.faviconFallback}" />
                        <link rel="icon" type="image/png" href="${n.faviconPng}" />
                      `})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[m.jsxs("div",{className:"truncate max-w-full",children:[m.jsx("span",{className:"font-semibold",children:"Title:"})," ",n.title]}),m.jsxs("div",{className:"truncate max-w-full",children:[m.jsx("span",{className:"font-semibold",children:"Description:"})," ",n.description]}),m.jsxs("div",{className:"truncate max-w-full",children:[m.jsx("span",{className:"font-semibold",children:"Keywords:"})," ",n.keywords]}),m.jsxs("div",{className:"truncate max-w-full",children:[m.jsx("span",{className:"font-semibold",children:"Image:"})," ",m.jsx("a",{href:n.image,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:n.image})]}),m.jsxs("div",{className:"truncate max-w-full",children:[m.jsx("span",{className:"font-semibold",children:"Favicon:"})," ",m.jsx("a",{href:n.favicon,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:n.favicon})]}),m.jsxs("div",{className:"truncate max-w-full",children:[m.jsx("span",{className:"font-semibold",children:"Favicon Fallback:"})," ",m.jsx("a",{href:n.faviconFallback,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:n.faviconFallback})]}),m.jsxs("div",{className:"truncate max-w-full",children:[m.jsx("span",{className:"font-semibold",children:"Favicon PNG:"})," ",m.jsx("a",{href:n.faviconPng,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:n.faviconPng})]}),m.jsxs("div",{className:"truncate max-w-full",children:[m.jsx("span",{className:"font-semibold",children:"Link Google Formulir Pendaftaran:"})," ",m.jsx("a",{href:n.googleFormUrl,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:n.googleFormUrl})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow",onClick:Pe,children:"Edit"}),m.jsxs("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:()=>r(!t),children:[t?"Sembunyikan":"Lihat"," Meta Tag Preview"]})]})]})]}),T==="logadmin"&&m.jsxs(m.Fragment,{children:[m.jsxs("h2",{className:"font-bold text-xl mb-4 text-blue-900 flex items-center gap-2",children:[m.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("path",{d:"M12 6v6l4 2"})]}),"Log Admin"]}),vt?m.jsx("div",{className:"text-center py-10 text-gray-500",children:"Memuat log..."}):Fe.length===0?m.jsx("div",{className:"text-center py-10 text-gray-400",children:"Belum ada aktivitas."}):m.jsxs("div",{className:"overflow-x-auto overflow-y-auto max-h-96 scrollbar-thin scrollbar-thumb-blue-200 scrollbar-track-blue-50 rounded-lg",children:[m.jsxs("table",{className:"w-full min-w-[700px] text-sm font-mono bg-[#181c20] text-[#e0e6ef] rounded-lg shadow-lg",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-[#23272e] text-[#7dd3fc]",children:[m.jsx("th",{className:"p-2 text-left font-mono",children:"Waktu"}),m.jsx("th",{className:"p-2 text-left font-mono",children:"User"}),m.jsx("th",{className:"p-2 text-left font-mono",children:"Aksi"}),m.jsx("th",{className:"p-2 text-left font-mono",children:"Detail"})]})}),m.jsx("tbody",{children:Fe.map((ve,Xe)=>m.jsxs("tr",{className:"border-b border-[#23272e] last:border-b-0 hover:bg-[#23272e] transition",children:[m.jsx("td",{className:"p-2 whitespace-nowrap text-[#a3e635]",children:ve.createdAt.toLocaleString()}),m.jsx("td",{className:"p-2 whitespace-nowrap text-[#38bdf8]",children:ve.user}),m.jsx("td",{className:"p-2 whitespace-nowrap font-bold "+(ve.action.toLowerCase().includes("edit")?"text-yellow-400":ve.action.toLowerCase().includes("hapus")?"text-red-400":ve.action.toLowerCase().includes("tambah")?"text-green-400":"text-[#e0e6ef]"),children:ve.action}),m.jsx("td",{className:"p-2 text-[#e0e6ef]",children:ve.detail})]},Xe))})]}),m.jsx("div",{className:"flex items-center justify-center mt-2",children:m.jsx("span",{className:"text-xs text-blue-300 font-mono",children:"Geser ke kanan  untuk melihat detail log >>"})})]})]})]}),Y&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full",children:[m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Konfirmasi Simpan Data"}),m.jsx("p",{className:"mb-4",children:"Pastikan data sudah benar sebelum disimpan ke homepage."}),m.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[m.jsx("input",{type:"checkbox",checked:re,onChange:ve=>pe(ve.target.checked)}),m.jsx("span",{className:"text-sm",children:"Saya sudah memeriksa dan data sudah benar."})]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{className:`px-4 py-2 rounded text-white transition ${re?"bg-green-600 hover:bg-green-700 shadow":"bg-green-300 cursor-not-allowed opacity-60"}`,disabled:!re,onClick:async()=>{if(_e==="meta")await lt();else if(_e==="carousel"){let ve=[...rt];$e===null?ve.push(qe):ve[$e]=qe;const Xe=ve.filter(Ye=>!fc.some(Le=>Le.title===Ye.title));ve=[...fc,...Xe],ut(ve),GN(ve),Ae(!1),ke(null),We(null)}else if(_e==="visimisi")await bt(),window.dispatchEvent(new Event("visimisi-updated")),ye(!1);else if(_e==="contact"){B(!0);const{db:ve}=await wa(async()=>{const{db:Le}=await Promise.resolve().then(()=>uf);return{db:Le}},void 0),{doc:Xe,setDoc:Ye}=await wa(async()=>{const{doc:Le,setDoc:dt}=await Promise.resolve().then(()=>cf);return{doc:Le,setDoc:dt}},void 0);await Ye(Xe(ve,"homepage","contact"),{...k,cards:N},{merge:!0}),H(!1),B(!1)}xe(!1),pe(!1),at(null),xt(null)},children:"Ya, Simpan"}),m.jsx("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded",onClick:()=>{xe(!1),pe(!1),at(null),xt(null)},children:"Batal"})]})]})})]}):m.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 w-full max-w-sm",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Login Developer"}),m.jsxs("form",{onSubmit:tt,className:"space-y-4",children:[m.jsx("input",{className:"w-full border rounded p-2",type:"email",placeholder:"Email",value:d,onChange:ve=>p(ve.target.value),required:!0}),m.jsx("input",{className:"w-full border rounded p-2",type:"password",placeholder:"Password",value:g,onChange:ve=>_(ve.target.value),required:!0}),w&&m.jsx("div",{className:"text-red-600 text-sm",children:w}),m.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",type:"submit",children:"Login"})]})]})})}function kme(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,a=[],o="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(a.push(t),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~r?r:~s?s:i.length)),o+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~r?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var nX={exports:{}},rX={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv=F;function Dme(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ome=typeof Object.is=="function"?Object.is:Dme,Lme=Vv.useState,Fme=Vv.useEffect,Bme=Vv.useLayoutEffect,Ume=Vv.useDebugValue;function jme(n,e){var t=e(),r=Lme({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return Bme(function(){i.value=t,i.getSnapshot=e,AI(i)&&s({inst:i})},[n,t,e]),Fme(function(){return AI(i)&&s({inst:i}),n(function(){AI(i)&&s({inst:i})})},[n]),Ume(t),t}function AI(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ome(n,t)}catch{return!0}}function Vme(n,e){return e()}var zme=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vme:jme;rX.useSyncExternalStore=Vv.useSyncExternalStore!==void 0?Vv.useSyncExternalStore:zme;nX.exports=rX;var Hme=nX.exports;const Wme=V3.useInsertionEffect,Gme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$me=Gme?F.useLayoutEffect:F.useEffect,qme=Wme||$me,iX=n=>{const e=F.useRef([n,(...t)=>e[0](...t)]).current;return qme(()=>{e[0]=n}),e[1]},Xme="popstate",CO="pushState",MO="replaceState",Yme="hashchange",fB=[Xme,CO,MO,Yme],Kme=n=>{for(const e of fB)addEventListener(e,n);return()=>{for(const e of fB)removeEventListener(e,n)}},sX=(n,e)=>Hme.useSyncExternalStore(Kme,n,e),Zme=()=>location.search,Qme=({ssrSearch:n=""}={})=>sX(Zme,()=>n),pB=()=>location.pathname,Jme=({ssrPath:n}={})=>sX(pB,n?()=>n:pB),ege=(n,{replace:e=!1,state:t=null}={})=>history[e?MO:CO](t,"",n),tge=(n={})=>[Jme(n),ege],mB=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[mB]>"u"){for(const n of[CO,MO]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,mB,{value:!0})}const nge=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",aX=(n="")=>n==="/"?"":n,rge=(n,e)=>n[0]==="~"?n.slice(1):aX(e)+n,ige=(n="",e)=>nge(gB(aX(n)),gB(e)),gB=n=>{try{return decodeURI(n)}catch{return n}},oX={hook:tge,searchHook:Qme,parser:kme,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:n=>n},lX=F.createContext(oX),aw=()=>F.useContext(lX),cX={},uX=F.createContext(cX),hX=()=>F.useContext(uX),GT=n=>{const[e,t]=n.hook(n);return[ige(n.base,e),iX((r,i)=>t(rge(r,n.base),i))]},ow=()=>GT(aw()),dX=(n,e,t,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),a=i.exec(t)||[],[o,...l]=a;return o!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((h,d)=>[h,l[d]])):a.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[o]:[]]:[!1,null]},sge=({children:n,...e})=>{var u,h;const t=aw(),r=e.hook?oX:t;let i=r;const[s,a]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let o=F.useRef({}),l=o.current,c=l;for(let d in r){const p=d==="base"?r[d]+(e[d]||""):e[d]||r[d];l===c&&p!==c[d]&&(o.current=c={...c}),c[d]=p,(p!==r[d]||p!==i[d])&&(i=c)}return F.createElement(lX.Provider,{value:i,children:n})},vB=({children:n,component:e},t)=>e?F.createElement(e,{params:t}):typeof n=="function"?n(t):n,age=n=>{let e=F.useRef(cX);const t=e.current;return e.current=Object.keys(n).length!==Object.keys(t).length||Object.entries(n).some(([r,i])=>i!==t[r])?n:t},As=({path:n,nest:e,match:t,...r})=>{const i=aw(),[s]=GT(i),[a,o,l]=t??dX(i.parser,n,s,e),c=age({...hX(),...o});if(!a)return null;const u=l?F.createElement(sge,{base:l},vB(r,c)):vB(r,c);return F.createElement(uX.Provider,{value:c,children:u})},Jo=F.forwardRef((n,e)=>{const t=aw(),[r,i]=GT(t),{to:s="",href:a=s,onClick:o,asChild:l,children:c,className:u,replace:h,state:d,...p}=n,g=iX(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(o==null||o(w),w.defaultPrevented||(w.preventDefault(),i(a,n)))}),_=t.hrefs(a[0]==="~"?a.slice(1):t.base+a,t);return l&&F.isValidElement(c)?F.cloneElement(c,{onClick:g,href:_}):F.createElement("a",{...p,onClick:g,href:_,className:u!=null&&u.call?u(r===a):u,children:c,ref:e})}),fX=n=>Array.isArray(n)?n.flatMap(e=>fX(e&&e.type===F.Fragment?e.props.children:e)):[n],oge=({children:n,location:e})=>{const t=aw(),[r]=GT(t);for(const i of fX(n)){let s=0;if(F.isValidElement(i)&&(s=dX(t.parser,i.props.path,e||r,i.props.nest))[0])return F.cloneElement(i,{match:s})}return null},lge=1,cge=1e6;let TI=0;function uge(){return TI=(TI+1)%Number.MAX_SAFE_INTEGER,TI.toString()}const CI=new Map,yB=n=>{if(CI.has(n))return;const e=setTimeout(()=>{CI.delete(n),m1({type:"REMOVE_TOAST",toastId:n})},cge);CI.set(n,e)},hge=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,lge)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?yB(t):n.toasts.forEach(r=>{yB(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},AE=[];let TE={toasts:[]};function m1(n){TE=hge(TE,n),AE.forEach(e=>{e(TE)})}function dge({...n}){const e=uge(),t=i=>m1({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>m1({type:"DISMISS_TOAST",toastId:e});return m1({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function pX(){const[n,e]=F.useState(TE);return F.useEffect(()=>(AE.push(e),()=>{const t=AE.indexOf(e);t>-1&&AE.splice(t,1)}),[n]),{...n,toast:dge,dismiss:t=>m1({type:"DISMISS_TOAST",toastId:t})}}function un(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function xB(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function mX(...n){return e=>{let t=!1;const r=n.map(i=>{const s=xB(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():xB(n[i],null)}}}}function Ur(...n){return F.useCallback(mX(...n),n)}function fge(n,e){const t=F.createContext(e),r=s=>{const{children:a,...o}=s,l=F.useMemo(()=>o,Object.values(o));return m.jsx(t.Provider,{value:l,children:a})};r.displayName=n+"Provider";function i(s){const a=F.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function Xh(n,e=[]){let t=[];function r(s,a){const o=F.createContext(a),l=t.length;t=[...t,a];const c=h=>{var x;const{scope:d,children:p,...g}=h,_=((x=d==null?void 0:d[n])==null?void 0:x[l])||o,w=F.useMemo(()=>g,Object.values(g));return m.jsx(_.Provider,{value:w,children:p})};c.displayName=s+"Provider";function u(h,d){var _;const p=((_=d==null?void 0:d[n])==null?void 0:_[l])||o,g=F.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(a=>F.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return F.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,pge(i,...e)]}function pge(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...o,...h}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function zv(n){const e=gge(n),t=F.forwardRef((r,i)=>{const{children:s,...a}=r,o=F.Children.toArray(s),l=o.find(vge);if(l){const c=l.props.children,u=o.map(h=>h===l?F.Children.count(c)>1?F.Children.only(null):F.isValidElement(c)?c.props.children:null:h);return m.jsx(e,{...a,ref:i,children:F.isValidElement(c)?F.cloneElement(c,void 0,u):null})}return m.jsx(e,{...a,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var mge=zv("Slot");function gge(n){const e=F.forwardRef((t,r)=>{const{children:i,...s}=t;if(F.isValidElement(i)){const a=xge(i),o=yge(s,i.props);return i.type!==F.Fragment&&(o.ref=r?mX(r,a):a),F.cloneElement(i,o)}return F.Children.count(i)>1?F.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var gX=Symbol("radix.slottable");function vX(n){const e=({children:t})=>m.jsx(m.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=gX,e}function vge(n){return F.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===gX}function yge(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function xge(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function IO(n){const e=n+"CollectionProvider",[t,r]=Xh(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=_=>{const{scope:w,children:x}=_,S=Rn.useRef(null),E=Rn.useRef(new Map).current;return m.jsx(i,{scope:w,itemMap:E,collectionRef:S,children:x})};a.displayName=e;const o=n+"CollectionSlot",l=zv(o),c=Rn.forwardRef((_,w)=>{const{scope:x,children:S}=_,E=s(o,x),T=Ur(w,E.collectionRef);return m.jsx(l,{ref:T,children:S})});c.displayName=o;const u=n+"CollectionItemSlot",h="data-radix-collection-item",d=zv(u),p=Rn.forwardRef((_,w)=>{const{scope:x,children:S,...E}=_,T=Rn.useRef(null),D=Ur(w,T),k=s(u,x);return Rn.useEffect(()=>(k.itemMap.set(T,{ref:T,...E}),()=>void k.itemMap.delete(T))),m.jsx(d,{[h]:"",ref:D,children:S})});p.displayName=u;function g(_){const w=s(n+"CollectionConsumer",_);return Rn.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((k,I)=>E.indexOf(k.ref.current)-E.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},g,r]}var _ge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bn=_ge.reduce((n,e)=>{const t=zv(`Primitive.${e}`),r=F.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function yX(n,e){n&&Xf.flushSync(()=>n.dispatchEvent(e))}function Vl(n){const e=F.useRef(n);return F.useEffect(()=>{e.current=n}),F.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function wge(n,e=globalThis==null?void 0:globalThis.document){const t=Vl(n);F.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var bge="DismissableLayer",$N="dismissableLayer.update",Sge="dismissableLayer.pointerDownOutside",Ege="dismissableLayer.focusOutside",_B,xX=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lw=F.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=n,c=F.useContext(xX),[u,h]=F.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=F.useState({}),g=Ur(e,I=>h(I)),_=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=_.indexOf(w),S=u?_.indexOf(u):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,T=S>=x,D=Tge(I=>{const N=I.target,P=[...c.branches].some(R=>R.contains(N));!T||P||(i==null||i(I),a==null||a(I),I.defaultPrevented||o==null||o())},d),k=Cge(I=>{const N=I.target;[...c.branches].some(R=>R.contains(N))||(s==null||s(I),a==null||a(I),I.defaultPrevented||o==null||o())},d);return wge(I=>{S===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&o&&(I.preventDefault(),o()))},d),F.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(_B=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),wB(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=_B)}},[u,d,t,c]),F.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),wB())},[u,c]),F.useEffect(()=>{const I=()=>p({});return document.addEventListener($N,I),()=>document.removeEventListener($N,I)},[]),m.jsx(Bn.div,{...l,ref:g,style:{pointerEvents:E?T?"auto":"none":void 0,...n.style},onFocusCapture:un(n.onFocusCapture,k.onFocusCapture),onBlurCapture:un(n.onBlurCapture,k.onBlurCapture),onPointerDownCapture:un(n.onPointerDownCapture,D.onPointerDownCapture)})});lw.displayName=bge;var Age="DismissableLayerBranch",_X=F.forwardRef((n,e)=>{const t=F.useContext(xX),r=F.useRef(null),i=Ur(e,r);return F.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),m.jsx(Bn.div,{...n,ref:i})});_X.displayName=Age;function Tge(n,e=globalThis==null?void 0:globalThis.document){const t=Vl(n),r=F.useRef(!1),i=F.useRef(()=>{});return F.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){wX(Sge,t,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Cge(n,e=globalThis==null?void 0:globalThis.document){const t=Vl(n),r=F.useRef(!1);return F.useEffect(()=>{const i=s=>{s.target&&!r.current&&wX(Ege,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wB(){const n=new CustomEvent($N);document.dispatchEvent(n)}function wX(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?yX(i,s):i.dispatchEvent(s)}var Mge=lw,Ige=_X,ea=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},Pge="Portal",$T=F.forwardRef((n,e)=>{var o;const{container:t,...r}=n,[i,s]=F.useState(!1);ea(()=>s(!0),[]);const a=t||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?soe.createPortal(m.jsx(Bn.div,{...r,ref:e}),a):null});$T.displayName=Pge;function Rge(n,e){return F.useReducer((t,r)=>e[t][r]??t,n)}var cg=n=>{const{present:e,children:t}=n,r=Nge(e),i=typeof t=="function"?t({present:r.isPresent}):F.Children.only(t),s=Ur(r.ref,kge(i));return typeof t=="function"||r.isPresent?F.cloneElement(i,{ref:s}):null};cg.displayName="Presence";function Nge(n){const[e,t]=F.useState(),r=F.useRef(null),i=F.useRef(n),s=F.useRef("none"),a=n?"mounted":"unmounted",[o,l]=Rge(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const c=zb(r.current);s.current=o==="mounted"?c:"none"},[o]),ea(()=>{const c=r.current,u=i.current;if(u!==n){const d=s.current,p=zb(c);n?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),ea(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=p=>{const _=zb(r.current).includes(p.animationName);if(p.target===e&&_&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},d=p=>{p.target===e&&(s.current=zb(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:F.useCallback(c=>{r.current=c?getComputedStyle(c):null,t(c)},[])}}function zb(n){return(n==null?void 0:n.animationName)||"none"}function kge(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Dge=V3[" useInsertionEffect ".trim().toString()]||ea;function Hv({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,a]=Oge({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:i;{const u=F.useRef(n!==void 0);F.useEffect(()=>{const h=u.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const c=F.useCallback(u=>{var h;if(o){const d=Lge(u)?u(n):u;d!==n&&((h=a.current)==null||h.call(a,d))}else s(u)},[o,n,s,a]);return[l,c]}function Oge({defaultProp:n,onChange:e}){const[t,r]=F.useState(n),i=F.useRef(t),s=F.useRef(e);return Dge(()=>{s.current=e},[e]),F.useEffect(()=>{var a;i.current!==t&&((a=s.current)==null||a.call(s,t),i.current=t)},[t,i]),[t,r,s]}function Lge(n){return typeof n=="function"}var bX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Fge="VisuallyHidden",qT=F.forwardRef((n,e)=>m.jsx(Bn.span,{...n,ref:e,style:{...bX,...n.style}}));qT.displayName=Fge;var Bge=qT,PO="ToastProvider",[RO,Uge,jge]=IO("Toast"),[SX,Q9e]=Xh("Toast",[jge]),[Vge,XT]=SX(PO),EX=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=n,[o,l]=F.useState(null),[c,u]=F.useState(0),h=F.useRef(!1),d=F.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${PO}\`. Expected non-empty \`string\`.`),m.jsx(RO.Provider,{scope:e,children:m.jsx(Vge,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:F.useCallback(()=>u(p=>p+1),[]),onToastRemove:F.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:a})})};EX.displayName=PO;var AX="ToastViewport",zge=["F8"],qN="toast.viewportPause",XN="toast.viewportResume",TX=F.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=zge,label:i="Notifications ({hotkey})",...s}=n,a=XT(AX,t),o=Uge(t),l=F.useRef(null),c=F.useRef(null),u=F.useRef(null),h=F.useRef(null),d=Ur(e,h,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;F.useEffect(()=>{const w=x=>{var E;r.length!==0&&r.every(T=>x[T]||x.code===T)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),F.useEffect(()=>{const w=l.current,x=h.current;if(g&&w&&x){const S=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(qN);x.dispatchEvent(k),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(XN);x.dispatchEvent(k),a.isClosePausedRef.current=!1}},T=k=>{!w.contains(k.relatedTarget)&&E()},D=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",S),w.addEventListener("focusout",T),w.addEventListener("pointermove",S),w.addEventListener("pointerleave",D),window.addEventListener("blur",S),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",S),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",S),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",S),window.removeEventListener("focus",E)}}},[g,a.isClosePausedRef]);const _=F.useCallback(({tabbingDirection:w})=>{const S=o().map(E=>{const T=E.ref.current,D=[T,...t0e(T)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?S.reverse():S).flat()},[o]);return F.useEffect(()=>{const w=h.current;if(w){const x=S=>{var D,k,I;const E=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!E){const N=document.activeElement,P=S.shiftKey;if(S.target===w&&P){(D=c.current)==null||D.focus();return}const z=_({tabbingDirection:P?"backwards":"forwards"}),H=z.findIndex(K=>K===N);MI(z.slice(H+1))?S.preventDefault():P?(k=c.current)==null||k.focus():(I=u.current)==null||I.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[o,_]),m.jsxs(Ige,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&m.jsx(YN,{ref:c,onFocusFromOutsideViewport:()=>{const w=_({tabbingDirection:"forwards"});MI(w)}}),m.jsx(RO.Slot,{scope:t,children:m.jsx(Bn.ol,{tabIndex:-1,...s,ref:d})}),g&&m.jsx(YN,{ref:u,onFocusFromOutsideViewport:()=>{const w=_({tabbingDirection:"backwards"});MI(w)}})]})});TX.displayName=AX;var CX="ToastFocusProxy",YN=F.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=XT(CX,t);return m.jsx(qT,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=s.viewport)!=null&&c.contains(o))&&r()}})});YN.displayName=CX;var cw="Toast",Hge="toast.swipeStart",Wge="toast.swipeMove",Gge="toast.swipeCancel",$ge="toast.swipeEnd",MX=F.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...a}=n,[o,l]=Hv({prop:r,defaultProp:i??!0,onChange:s,caller:cw});return m.jsx(cg,{present:t||o,children:m.jsx(Yge,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Vl(n.onPause),onResume:Vl(n.onResume),onSwipeStart:un(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:un(n.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:un(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:un(n.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});MX.displayName=cw;var[qge,Xge]=SX(cw,{onClose(){}}),Yge=F.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:p,...g}=n,_=XT(cw,t),[w,x]=F.useState(null),S=Ur(e,K=>x(K)),E=F.useRef(null),T=F.useRef(null),D=i||_.duration,k=F.useRef(0),I=F.useRef(D),N=F.useRef(0),{onToastAdd:P,onToastRemove:R}=_,B=Vl(()=>{var J;(w==null?void 0:w.contains(document.activeElement))&&((J=_.viewport)==null||J.focus()),a()}),z=F.useCallback(K=>{!K||K===1/0||(window.clearTimeout(N.current),k.current=new Date().getTime(),N.current=window.setTimeout(B,K))},[B]);F.useEffect(()=>{const K=_.viewport;if(K){const J=()=>{z(I.current),c==null||c()},se=()=>{const ce=new Date().getTime()-k.current;I.current=I.current-ce,window.clearTimeout(N.current),l==null||l()};return K.addEventListener(qN,se),K.addEventListener(XN,J),()=>{K.removeEventListener(qN,se),K.removeEventListener(XN,J)}}},[_.viewport,D,l,c,z]),F.useEffect(()=>{s&&!_.isClosePausedRef.current&&z(D)},[s,D,_.isClosePausedRef,z]),F.useEffect(()=>(P(),()=>R()),[P,R]);const H=F.useMemo(()=>w?OX(w):null,[w]);return _.viewport?m.jsxs(m.Fragment,{children:[H&&m.jsx(Kge,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),m.jsx(qge,{scope:t,onClose:B,children:Xf.createPortal(m.jsx(RO.ItemSlot,{scope:t,children:m.jsx(Mge,{asChild:!0,onEscapeKeyDown:un(o,()=>{_.isFocusedToastEscapeKeyDownRef.current||B(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Bn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...g,ref:S,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:un(n.onKeyDown,K=>{K.key==="Escape"&&(o==null||o(K.nativeEvent),K.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:un(n.onPointerDown,K=>{K.button===0&&(E.current={x:K.clientX,y:K.clientY})}),onPointerMove:un(n.onPointerMove,K=>{if(!E.current)return;const J=K.clientX-E.current.x,se=K.clientY-E.current.y,ce=!!T.current,X=["left","right"].includes(_.swipeDirection),ue=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,q=X?ue(0,J):0,ge=X?0:ue(0,se),De=K.pointerType==="touch"?10:2,Q={x:q,y:ge},et={originalEvent:K,delta:Q};ce?(T.current=Q,Hb(Wge,h,et,{discrete:!1})):bB(Q,_.swipeDirection,De)?(T.current=Q,Hb(Hge,u,et,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(J)>De||Math.abs(se)>De)&&(E.current=null)}),onPointerUp:un(n.onPointerUp,K=>{const J=T.current,se=K.target;if(se.hasPointerCapture(K.pointerId)&&se.releasePointerCapture(K.pointerId),T.current=null,E.current=null,J){const ce=K.currentTarget,X={originalEvent:K,delta:J};bB(J,_.swipeDirection,_.swipeThreshold)?Hb($ge,p,X,{discrete:!0}):Hb(Gge,d,X,{discrete:!0}),ce.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),Kge=n=>{const{__scopeToast:e,children:t,...r}=n,i=XT(cw,e),[s,a]=F.useState(!1),[o,l]=F.useState(!1);return Jge(()=>a(!0)),F.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:m.jsx($T,{asChild:!0,children:m.jsx(qT,{...r,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",t]})})})},Zge="ToastTitle",IX=F.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return m.jsx(Bn.div,{...r,ref:e})});IX.displayName=Zge;var Qge="ToastDescription",PX=F.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return m.jsx(Bn.div,{...r,ref:e})});PX.displayName=Qge;var RX="ToastAction",NX=F.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?m.jsx(DX,{altText:t,asChild:!0,children:m.jsx(NO,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${RX}\`. Expected non-empty \`string\`.`),null)});NX.displayName=RX;var kX="ToastClose",NO=F.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=Xge(kX,t);return m.jsx(DX,{asChild:!0,children:m.jsx(Bn.button,{type:"button",...r,ref:e,onClick:un(n.onClick,i.onClose)})})});NO.displayName=kX;var DX=F.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return m.jsx(Bn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function OX(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),e0e(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...OX(r))}}),e}function Hb(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?yX(i,s):i.dispatchEvent(s)}var bB=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function Jge(n=()=>{}){const e=Vl(n);ea(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function e0e(n){return n.nodeType===n.ELEMENT_NODE}function t0e(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function MI(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var n0e=EX,LX=TX,FX=MX,BX=IX,UX=PX,jX=NX,VX=NO;function zX(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=zX(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function HX(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=zX(n))&&(r&&(r+=" "),r+=e);return r}const SB=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,EB=HX,YT=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return EB(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],h=s==null?void 0:s[c];if(u===null)return null;const d=SB(u)||SB(h);return i[c][d]}),o=t&&Object.entries(t).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:d,...p}=u;return Object.entries(p).every(g=>{let[_,w]=g;return Array.isArray(w)?w.includes({...s,...o}[_]):{...s,...o}[_]===w})?[...c,h,d]:c},[]);return EB(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0e=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WX=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...i0e,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:WX("lucide",i),...o},[...a.map(([c,u])=>F.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(n,e)=>{const t=F.forwardRef(({className:r,...i},s)=>F.createElement(s0e,{ref:s,iconNode:e,className:WX(`lucide-${r0e(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=Sn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=Sn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Sn("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=Sn("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=Sn("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=Sn("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=Sn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=Sn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=Sn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=Sn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Sn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Sn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=Sn("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=Sn("Cross",[["path",{d:"M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z",key:"1t5g7j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=Sn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=Sn("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=Sn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=Sn("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=Sn("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=Sn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Sn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=Sn("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=Sn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=Sn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Sn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=Sn("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=Sn("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0e=Sn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0e=Sn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=Sn("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Sn("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Sn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=Sn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=Sn("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=Sn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=Sn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0e=Sn("Tent",[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=Sn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=Sn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=Sn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Sn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=Sn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Sn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0e=Sn("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),OO="-",P0e=n=>{const e=N0e(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const o=a.split(OO);return o[0]===""&&o.length!==1&&o.shift(),QX(o,e)||R0e(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},QX=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?QX(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(OO);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},MB=/^\[(.+)\]$/,R0e=n=>{if(MB.test(n)){const e=MB.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},N0e=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return D0e(Object.entries(n.classGroups),t).forEach(([s,a])=>{ZN(a,r,s,e)}),r},ZN=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:IB(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(k0e(i)){ZN(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,a])=>{ZN(a,IB(e,s),t,r)})})},IB=(n,e)=>{let t=n;return e.split(OO).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},k0e=n=>n.isThemeGetter,D0e=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[t,i]}):n,O0e=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){t.has(s)?t.set(s,a):i(s,a)}}},JX="!",L0e=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,u=0,h;for(let w=0;w<o.length;w++){let x=o[w];if(c===0){if(x===i&&(r||o.slice(w,w+s)===e)){l.push(o.slice(u,w)),u=w+s;continue}if(x==="/"){h=w;continue}}x==="["?c++:x==="]"&&c--}const d=l.length===0?o:o.substring(u),p=d.startsWith(JX),g=p?d.substring(1):d,_=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:_}};return t?o=>t({className:o,parseClassName:a}):a},F0e=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},B0e=n=>({cache:O0e(n.cacheSize),parseClassName:L0e(n),...P0e(n)}),U0e=/\s+/,j0e=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=n.trim().split(U0e);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=t(c);let g=!!p,_=r(g?d.substring(0,p):d);if(!_){if(!g){o=c+(o.length>0?" "+o:o);continue}if(_=r(d),!_){o=c+(o.length>0?" "+o:o);continue}g=!1}const w=F0e(u).join(":"),x=h?w+JX:w,S=x+_;if(s.includes(S))continue;s.push(S);const E=i(_,g);for(let T=0;T<E.length;++T){const D=E[T];s.push(x+D)}o=c+(o.length>0?" "+o:o)}return o};function V0e(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=eY(e))&&(r&&(r+=" "),r+=t);return r}const eY=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=eY(n[r]))&&(t&&(t+=" "),t+=e);return t};function z0e(n,...e){let t,r,i,s=a;function a(l){const c=e.reduce((u,h)=>h(u),n());return t=B0e(c),r=t.cache.get,i=t.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const u=j0e(l,t);return i(l,u),u}return function(){return s(V0e.apply(null,arguments))}}const ni=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},tY=/^\[(?:([a-z-]+):)?(.+)\]$/i,H0e=/^\d+\/\d+$/,W0e=new Set(["px","full","screen"]),G0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nh=n=>sv(n)||W0e.has(n)||H0e.test(n),Ed=n=>xy(n,"length",rve),sv=n=>!!n&&!Number.isNaN(Number(n)),PI=n=>xy(n,"number",sv),ax=n=>!!n&&Number.isInteger(Number(n)),K0e=n=>n.endsWith("%")&&sv(n.slice(0,-1)),kn=n=>tY.test(n),Ad=n=>G0e.test(n),Z0e=new Set(["length","size","percentage"]),Q0e=n=>xy(n,Z0e,nY),J0e=n=>xy(n,"position",nY),eve=new Set(["image","url"]),tve=n=>xy(n,eve,sve),nve=n=>xy(n,"",ive),ox=()=>!0,xy=(n,e,t)=>{const r=tY.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},rve=n=>$0e.test(n)&&!q0e.test(n),nY=()=>!1,ive=n=>X0e.test(n),sve=n=>Y0e.test(n),ave=()=>{const n=ni("colors"),e=ni("spacing"),t=ni("blur"),r=ni("brightness"),i=ni("borderColor"),s=ni("borderRadius"),a=ni("borderSpacing"),o=ni("borderWidth"),l=ni("contrast"),c=ni("grayscale"),u=ni("hueRotate"),h=ni("invert"),d=ni("gap"),p=ni("gradientColorStops"),g=ni("gradientColorStopPositions"),_=ni("inset"),w=ni("margin"),x=ni("opacity"),S=ni("padding"),E=ni("saturate"),T=ni("scale"),D=ni("sepia"),k=ni("skew"),I=ni("space"),N=ni("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",kn,e],z=()=>[kn,e],H=()=>["",nh,Ed],K=()=>["auto",sv,kn],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",kn],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[sv,kn];return{cacheSize:500,separator:":",theme:{colors:[ox],spacing:[nh,Ed],blur:["none","",Ad,kn],brightness:ge(),borderColor:[n],borderRadius:["none","","full",Ad,kn],borderSpacing:z(),borderWidth:H(),contrast:ge(),grayscale:ue(),hueRotate:ge(),invert:ue(),gap:z(),gradientColorStops:[n],gradientColorStopPositions:[K0e,Ed],inset:B(),margin:B(),opacity:ge(),padding:z(),saturate:ge(),scale:ge(),sepia:ue(),skew:ge(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",kn]}],container:["container"],columns:[{columns:[Ad]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),kn]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ax,kn]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kn]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",ax,kn]}],"grid-cols":[{"grid-cols":[ox]}],"col-start-end":[{col:["auto",{span:["full",ax,kn]},kn]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[ox]}],"row-start-end":[{row:["auto",{span:[ax,kn]},kn]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kn]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kn,e]}],"min-w":[{"min-w":[kn,e,"min","max","fit"]}],"max-w":[{"max-w":[kn,e,"none","full","min","max","fit","prose",{screen:[Ad]},Ad]}],h:[{h:[kn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ad,Ed]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",PI]}],"font-family":[{font:[ox]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kn]}],"line-clamp":[{"line-clamp":["none",sv,PI]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nh,kn]}],"list-image":[{"list-image":["none",kn]}],"list-style-type":[{list:["none","disc","decimal",kn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nh,Ed]}],"underline-offset":[{"underline-offset":["auto",nh,kn]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),J0e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Q0e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tve]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[nh,kn]}],"outline-w":[{outline:[nh,Ed]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nh,Ed]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ad,nve]}],"shadow-color":[{shadow:[ox]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ad,kn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kn]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",kn]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",kn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[ax,kn]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kn]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kn]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kn]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[nh,Ed,PI]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ove=z0e(ave);function en(...n){return ove(HX(n))}const lve=n0e,rY=F.forwardRef(({className:n,...e},t)=>m.jsx(LX,{ref:t,className:en("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));rY.displayName=LX.displayName;const cve=YT("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iY=F.forwardRef(({className:n,variant:e,...t},r)=>m.jsx(FX,{ref:r,className:en(cve({variant:e}),n),...t}));iY.displayName=FX.displayName;const uve=F.forwardRef(({className:n,...e},t)=>m.jsx(jX,{ref:t,className:en("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));uve.displayName=jX.displayName;const sY=F.forwardRef(({className:n,...e},t)=>m.jsx(VX,{ref:t,className:en("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:m.jsx(hw,{className:"h-4 w-4"})}));sY.displayName=VX.displayName;const aY=F.forwardRef(({className:n,...e},t)=>m.jsx(BX,{ref:t,className:en("text-sm font-semibold",n),...e}));aY.displayName=BX.displayName;const oY=F.forwardRef(({className:n,...e},t)=>m.jsx(UX,{ref:t,className:en("text-sm opacity-90",n),...e}));oY.displayName=UX.displayName;function hve(){const{toasts:n}=pX();return m.jsxs(lve,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return m.jsxs(iY,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[t&&m.jsx(aY,{children:t}),r&&m.jsx(oY,{children:r})]}),i,m.jsx(sY,{})]},e)}),m.jsx(rY,{})]})}var dve=V3[" useId ".trim().toString()]||(()=>{}),fve=0;function Af(n){const[e,t]=F.useState(dve());return ea(()=>{t(r=>r??String(fve++))},[n]),e?`radix-${e}`:""}const pve=["top","right","bottom","left"],Uf=Math.min,Ko=Math.max,O2=Math.round,Gb=Math.floor,Su=n=>({x:n,y:n}),mve={left:"right",right:"left",bottom:"top",top:"bottom"},gve={start:"end",end:"start"};function QN(n,e,t){return Ko(n,Uf(e,t))}function jh(n,e){return typeof n=="function"?n(e):n}function Vh(n){return n.split("-")[0]}function _y(n){return n.split("-")[1]}function LO(n){return n==="x"?"y":"x"}function FO(n){return n==="y"?"height":"width"}const vve=new Set(["top","bottom"]);function fu(n){return vve.has(Vh(n))?"y":"x"}function BO(n){return LO(fu(n))}function yve(n,e,t){t===void 0&&(t=!1);const r=_y(n),i=BO(n),s=FO(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=L2(a)),[a,L2(a)]}function xve(n){const e=L2(n);return[JN(n),e,JN(e)]}function JN(n){return n.replace(/start|end/g,e=>gve[e])}const PB=["left","right"],RB=["right","left"],_ve=["top","bottom"],wve=["bottom","top"];function bve(n,e,t){switch(n){case"top":case"bottom":return t?e?RB:PB:e?PB:RB;case"left":case"right":return e?_ve:wve;default:return[]}}function Sve(n,e,t,r){const i=_y(n);let s=bve(Vh(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(JN)))),s}function L2(n){return n.replace(/left|right|bottom|top/g,e=>mve[e])}function Eve(n){return{top:0,right:0,bottom:0,left:0,...n}}function lY(n){return typeof n!="number"?Eve(n):{top:n,right:n,bottom:n,left:n}}function F2(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function NB(n,e,t){let{reference:r,floating:i}=n;const s=fu(e),a=BO(e),o=FO(a),l=Vh(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(_y(e)){case"start":p[a]-=d*(t&&c?-1:1);break;case"end":p[a]+=d*(t&&c?-1:1);break}return p}const Ave=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=NB(c,r,l),d=r,p={},g=0;for(let _=0;_<o.length;_++){const{name:w,fn:x}=o[_],{x:S,y:E,data:T,reset:D}=await x({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:n,floating:e}});u=S??u,h=E??h,p={...p,[w]:{...p[w],...T}},D&&g<=50&&(g++,typeof D=="object"&&(D.placement&&(d=D.placement),D.rects&&(c=D.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):D.rects),{x:u,y:h}=NB(c,d,l)),_=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:p}};async function c_(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=jh(e,n),g=lY(p),w=o[d?h==="floating"?"reference":"floating":h],x=F2(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),S=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),T=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},D=F2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:S,offsetParent:E,strategy:l}):S);return{top:(x.top-D.top+g.top)/T.y,bottom:(D.bottom-x.bottom+g.bottom)/T.y,left:(x.left-D.left+g.left)/T.x,right:(D.right-x.right+g.right)/T.x}}const Tve=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=jh(n,e)||{};if(c==null)return{};const h=lY(u),d={x:t,y:r},p=BO(i),g=FO(p),_=await a.getDimensions(c),w=p==="y",x=w?"top":"left",S=w?"bottom":"right",E=w?"clientHeight":"clientWidth",T=s.reference[g]+s.reference[p]-d[p]-s.floating[g],D=d[p]-s.reference[p],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let I=k?k[E]:0;(!I||!await(a.isElement==null?void 0:a.isElement(k)))&&(I=o.floating[E]||s.floating[g]);const N=T/2-D/2,P=I/2-_[g]/2-1,R=Uf(h[x],P),B=Uf(h[S],P),z=R,H=I-_[g]-B,K=I/2-_[g]/2+N,J=QN(z,K,H),se=!l.arrow&&_y(i)!=null&&K!==J&&s.reference[g]/2-(K<z?R:B)-_[g]/2<0,ce=se?K<z?K-z:K-H:0;return{[p]:d[p]+ce,data:{[p]:J,centerOffset:K-J-ce,...se&&{alignmentOffset:ce}},reset:se}}}),Cve=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...w}=jh(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=Vh(i),S=fu(o),E=Vh(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=d||(E||!_?[L2(o)]:xve(o)),k=g!=="none";!d&&k&&D.push(...Sve(o,_,g,T));const I=[o,...D],N=await c_(e,w),P=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&P.push(N[x]),h){const K=yve(i,a,T);P.push(N[K[0]],N[K[1]])}if(R=[...R,{placement:i,overflows:P}],!P.every(K=>K<=0)){var B,z;const K=(((B=s.flip)==null?void 0:B.index)||0)+1,J=I[K];if(J&&(!(h==="alignment"?S!==fu(J):!1)||R.every(X=>fu(X.placement)===S?X.overflows[0]>0:!0)))return{data:{index:K,overflows:R},reset:{placement:J}};let se=(z=R.filter(ce=>ce.overflows[0]<=0).sort((ce,X)=>ce.overflows[1]-X.overflows[1])[0])==null?void 0:z.placement;if(!se)switch(p){case"bestFit":{var H;const ce=(H=R.filter(X=>{if(k){const ue=fu(X.placement);return ue===S||ue==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ue=>ue>0).reduce((ue,q)=>ue+q,0)]).sort((X,ue)=>X[1]-ue[1])[0])==null?void 0:H[0];ce&&(se=ce);break}case"initialPlacement":se=o;break}if(i!==se)return{reset:{placement:se}}}return{}}}};function kB(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function DB(n){return pve.some(e=>n[e]>=0)}const Mve=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=jh(n,e);switch(r){case"referenceHidden":{const s=await c_(e,{...i,elementContext:"reference"}),a=kB(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:DB(a)}}}case"escaped":{const s=await c_(e,{...i,altBoundary:!0}),a=kB(s,t.floating);return{data:{escapedOffsets:a,escaped:DB(a)}}}default:return{}}}}},cY=new Set(["left","top"]);async function Ive(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Vh(t),o=_y(t),l=fu(t)==="y",c=cY.has(a)?-1:1,u=s&&l?-1:1,h=jh(e,n);let{mainAxis:d,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*u,y:d*c}:{x:d*c,y:p*u}}const Pve=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await Ive(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Rve=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x,y:S}=w;return{x,y:S}}},...l}=jh(n,e),c={x:t,y:r},u=await c_(e,l),h=fu(Vh(i)),d=LO(h);let p=c[d],g=c[h];if(s){const w=d==="y"?"top":"left",x=d==="y"?"bottom":"right",S=p+u[w],E=p-u[x];p=QN(S,p,E)}if(a){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",S=g+u[w],E=g-u[x];g=QN(S,g,E)}const _=o.fn({...e,[d]:p,[h]:g});return{..._,data:{x:_.x-t,y:_.y-r,enabled:{[d]:s,[h]:a}}}}}},Nve=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=jh(n,e),u={x:t,y:r},h=fu(i),d=LO(h);let p=u[d],g=u[h];const _=jh(o,e),w=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const E=d==="y"?"height":"width",T=s.reference[d]-s.floating[E]+w.mainAxis,D=s.reference[d]+s.reference[E]-w.mainAxis;p<T?p=T:p>D&&(p=D)}if(c){var x,S;const E=d==="y"?"width":"height",T=cY.has(Vh(i)),D=s.reference[h]-s.floating[E]+(T&&((x=a.offset)==null?void 0:x[h])||0)+(T?0:w.crossAxis),k=s.reference[h]+s.reference[E]+(T?0:((S=a.offset)==null?void 0:S[h])||0)-(T?w.crossAxis:0);g<D?g=D:g>k&&(g=k)}return{[d]:p,[h]:g}}}},kve=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=jh(n,e),u=await c_(e,c),h=Vh(i),d=_y(i),p=fu(i)==="y",{width:g,height:_}=s.floating;let w,x;h==="top"||h==="bottom"?(w=h,x=d===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,w=d==="end"?"top":"bottom");const S=_-u.top-u.bottom,E=g-u.left-u.right,T=Uf(_-u[w],S),D=Uf(g-u[x],E),k=!e.middlewareData.shift;let I=T,N=D;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=S),k&&!d){const R=Ko(u.left,0),B=Ko(u.right,0),z=Ko(u.top,0),H=Ko(u.bottom,0);p?N=g-2*(R!==0||B!==0?R+B:Ko(u.left,u.right)):I=_-2*(z!==0||H!==0?z+H:Ko(u.top,u.bottom))}await l({...e,availableWidth:N,availableHeight:I});const P=await a.getDimensions(o.floating);return g!==P.width||_!==P.height?{reset:{rects:!0}}:{}}}};function ZT(){return typeof window<"u"}function wy(n){return uY(n)?(n.nodeName||"").toLowerCase():"#document"}function il(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Lu(n){var e;return(e=(uY(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function uY(n){return ZT()?n instanceof Node||n instanceof il(n).Node:!1}function Rc(n){return ZT()?n instanceof Element||n instanceof il(n).Element:!1}function Ru(n){return ZT()?n instanceof HTMLElement||n instanceof il(n).HTMLElement:!1}function OB(n){return!ZT()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof il(n).ShadowRoot}const Dve=new Set(["inline","contents"]);function dw(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Nc(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Dve.has(i)}const Ove=new Set(["table","td","th"]);function Lve(n){return Ove.has(wy(n))}const Fve=[":popover-open",":modal"];function QT(n){return Fve.some(e=>{try{return n.matches(e)}catch{return!1}})}const Bve=["transform","translate","scale","rotate","perspective"],Uve=["transform","translate","scale","rotate","perspective","filter"],jve=["paint","layout","strict","content"];function UO(n){const e=jO(),t=Rc(n)?Nc(n):n;return Bve.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Uve.some(r=>(t.willChange||"").includes(r))||jve.some(r=>(t.contain||"").includes(r))}function Vve(n){let e=jf(n);for(;Ru(e)&&!Wv(e);){if(UO(e))return e;if(QT(e))return null;e=jf(e)}return null}function jO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zve=new Set(["html","body","#document"]);function Wv(n){return zve.has(wy(n))}function Nc(n){return il(n).getComputedStyle(n)}function JT(n){return Rc(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function jf(n){if(wy(n)==="html")return n;const e=n.assignedSlot||n.parentNode||OB(n)&&n.host||Lu(n);return OB(e)?e.host:e}function hY(n){const e=jf(n);return Wv(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ru(e)&&dw(e)?e:hY(e)}function u_(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=hY(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=il(i);if(s){const o=ek(a);return e.concat(a,a.visualViewport||[],dw(i)?i:[],o&&t?u_(o):[])}return e.concat(i,u_(i,[],t))}function ek(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function dY(n){const e=Nc(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ru(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=O2(t)!==s||O2(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function VO(n){return Rc(n)?n:n.contextElement}function av(n){const e=VO(n);if(!Ru(e))return Su(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=dY(e);let a=(s?O2(t.width):t.width)/r,o=(s?O2(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Hve=Su(0);function fY(n){const e=il(n);return!jO()||!e.visualViewport?Hve:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Wve(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==il(n)?!1:e}function Bm(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=VO(n);let a=Su(1);e&&(r?Rc(r)&&(a=av(r)):a=av(n));const o=Wve(s,t,r)?fY(s):Su(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(s){const d=il(s),p=r&&Rc(r)?il(r):r;let g=d,_=ek(g);for(;_&&r&&p!==g;){const w=av(_),x=_.getBoundingClientRect(),S=Nc(_),E=x.left+(_.clientLeft+parseFloat(S.paddingLeft))*w.x,T=x.top+(_.clientTop+parseFloat(S.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=E,c+=T,g=il(_),_=ek(g)}}return F2({width:u,height:h,x:l,y:c})}function zO(n,e){const t=JT(n).scrollLeft;return e?e.left+t:Bm(Lu(n)).left+t}function pY(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:zO(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Gve(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=Lu(r),o=e?QT(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Su(1);const u=Su(0),h=Ru(r);if((h||!h&&!s)&&((wy(r)!=="body"||dw(a))&&(l=JT(r)),Ru(r))){const p=Bm(r);c=av(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const d=a&&!h&&!s?pY(a,l,!0):Su(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function $ve(n){return Array.from(n.getClientRects())}function qve(n){const e=Lu(n),t=JT(n),r=n.ownerDocument.body,i=Ko(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ko(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+zO(n);const o=-t.scrollTop;return Nc(r).direction==="rtl"&&(a+=Ko(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Xve(n,e){const t=il(n),r=Lu(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=jO();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}const Yve=new Set(["absolute","fixed"]);function Kve(n,e){const t=Bm(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Ru(n)?av(n):Su(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function LB(n,e,t){let r;if(e==="viewport")r=Xve(n,t);else if(e==="document")r=qve(Lu(n));else if(Rc(e))r=Kve(e,t);else{const i=fY(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return F2(r)}function mY(n,e){const t=jf(n);return t===e||!Rc(t)||Wv(t)?!1:Nc(t).position==="fixed"||mY(t,e)}function Zve(n,e){const t=e.get(n);if(t)return t;let r=u_(n,[],!1).filter(o=>Rc(o)&&wy(o)!=="body"),i=null;const s=Nc(n).position==="fixed";let a=s?jf(n):n;for(;Rc(a)&&!Wv(a);){const o=Nc(a),l=UO(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Yve.has(i.position)||dw(a)&&!l&&mY(n,a))?r=r.filter(u=>u!==a):i=o,a=jf(a)}return e.set(n,r),r}function Qve(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?QT(e)?[]:Zve(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((c,u)=>{const h=LB(e,u,i);return c.top=Ko(h.top,c.top),c.right=Uf(h.right,c.right),c.bottom=Uf(h.bottom,c.bottom),c.left=Ko(h.left,c.left),c},LB(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jve(n){const{width:e,height:t}=dY(n);return{width:e,height:t}}function eye(n,e,t){const r=Ru(e),i=Lu(e),s=t==="fixed",a=Bm(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Su(0);function c(){l.x=zO(i)}if(r||!r&&!s)if((wy(e)!=="body"||dw(i))&&(o=JT(e)),r){const p=Bm(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?pY(i,o):Su(0),h=a.left+o.scrollLeft-l.x-u.x,d=a.top+o.scrollTop-l.y-u.y;return{x:h,y:d,width:a.width,height:a.height}}function RI(n){return Nc(n).position==="static"}function FB(n,e){if(!Ru(n)||Nc(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Lu(n)===t&&(t=t.ownerDocument.body),t}function gY(n,e){const t=il(n);if(QT(n))return t;if(!Ru(n)){let i=jf(n);for(;i&&!Wv(i);){if(Rc(i)&&!RI(i))return i;i=jf(i)}return t}let r=FB(n,e);for(;r&&Lve(r)&&RI(r);)r=FB(r,e);return r&&Wv(r)&&RI(r)&&!UO(r)?t:r||Vve(n)||t}const tye=async function(n){const e=this.getOffsetParent||gY,t=this.getDimensions,r=await t(n.floating);return{reference:eye(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nye(n){return Nc(n).direction==="rtl"}const rye={convertOffsetParentRelativeRectToViewportRelativeRect:Gve,getDocumentElement:Lu,getClippingRect:Qve,getOffsetParent:gY,getElementRects:tye,getClientRects:$ve,getDimensions:Jve,getScale:av,isElement:Rc,isRTL:nye};function vY(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function iye(n,e){let t=null,r;const i=Lu(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:h,width:d,height:p}=c;if(o||e(),!d||!p)return;const g=Gb(h),_=Gb(i.clientWidth-(u+d)),w=Gb(i.clientHeight-(h+p)),x=Gb(u),E={rootMargin:-g+"px "+-_+"px "+-w+"px "+-x+"px",threshold:Ko(0,Uf(1,l))||1};let T=!0;function D(k){const I=k[0].intersectionRatio;if(I!==l){if(!T)return a();I?a(!1,I):r=setTimeout(()=>{a(!1,1e-7)},1e3)}I===1&&!vY(c,n.getBoundingClientRect())&&a(),T=!1}try{t=new IntersectionObserver(D,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(D,E)}t.observe(n)}return a(!0),s}function sye(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=VO(n),u=i||s?[...c?u_(c):[],...u_(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const h=c&&o?iye(c,t):null;let d=-1,p=null;a&&(p=new ResizeObserver(x=>{let[S]=x;S&&S.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let g,_=l?Bm(n):null;l&&w();function w(){const x=Bm(n);_&&!vY(_,x)&&t(),_=x,g=requestAnimationFrame(w)}return t(),()=>{var x;u.forEach(S=>{i&&S.removeEventListener("scroll",t),s&&S.removeEventListener("resize",t)}),h==null||h(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const aye=Pve,oye=Rve,lye=Cve,cye=kve,uye=Mve,BB=Tve,hye=Nve,dye=(n,e,t)=>{const r=new Map,i={platform:rye,...t},s={...i.platform,_c:r};return Ave(n,e,{...i,platform:s})};var fye=typeof document<"u",pye=function(){},CE=fye?F.useLayoutEffect:pye;function B2(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!B2(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!B2(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function yY(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function UB(n,e){const t=yY(n);return Math.round(e*t)/t}function NI(n){const e=F.useRef(n);return CE(()=>{e.current=n}),e}function mye(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=n,[u,h]=F.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=F.useState(r);B2(d,r)||p(r);const[g,_]=F.useState(null),[w,x]=F.useState(null),S=F.useCallback(X=>{X!==k.current&&(k.current=X,_(X))},[]),E=F.useCallback(X=>{X!==I.current&&(I.current=X,x(X))},[]),T=s||g,D=a||w,k=F.useRef(null),I=F.useRef(null),N=F.useRef(u),P=l!=null,R=NI(l),B=NI(i),z=NI(c),H=F.useCallback(()=>{if(!k.current||!I.current)return;const X={placement:e,strategy:t,middleware:d};B.current&&(X.platform=B.current),dye(k.current,I.current,X).then(ue=>{const q={...ue,isPositioned:z.current!==!1};K.current&&!B2(N.current,q)&&(N.current=q,Xf.flushSync(()=>{h(q)}))})},[d,e,t,B,z]);CE(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(X=>({...X,isPositioned:!1})))},[c]);const K=F.useRef(!1);CE(()=>(K.current=!0,()=>{K.current=!1}),[]),CE(()=>{if(T&&(k.current=T),D&&(I.current=D),T&&D){if(R.current)return R.current(T,D,H);H()}},[T,D,H,R,P]);const J=F.useMemo(()=>({reference:k,floating:I,setReference:S,setFloating:E}),[S,E]),se=F.useMemo(()=>({reference:T,floating:D}),[T,D]),ce=F.useMemo(()=>{const X={position:t,left:0,top:0};if(!se.floating)return X;const ue=UB(se.floating,u.x),q=UB(se.floating,u.y);return o?{...X,transform:"translate("+ue+"px, "+q+"px)",...yY(se.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ue,top:q}},[t,o,se.floating,u.x,u.y]);return F.useMemo(()=>({...u,update:H,refs:J,elements:se,floatingStyles:ce}),[u,H,J,se,ce])}const gye=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?BB({element:r.current,padding:i}).fn(t):{}:r?BB({element:r,padding:i}).fn(t):{}}}},vye=(n,e)=>({...aye(n),options:[n,e]}),yye=(n,e)=>({...oye(n),options:[n,e]}),xye=(n,e)=>({...hye(n),options:[n,e]}),_ye=(n,e)=>({...lye(n),options:[n,e]}),wye=(n,e)=>({...cye(n),options:[n,e]}),bye=(n,e)=>({...uye(n),options:[n,e]}),Sye=(n,e)=>({...gye(n),options:[n,e]});var Eye="Arrow",xY=F.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return m.jsx(Bn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});xY.displayName=Eye;var Aye=xY;function Tye(n){const[e,t]=F.useState(void 0);return ea(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var HO="Popper",[_Y,eC]=Xh(HO),[Cye,wY]=_Y(HO),bY=n=>{const{__scopePopper:e,children:t}=n,[r,i]=F.useState(null);return m.jsx(Cye,{scope:e,anchor:r,onAnchorChange:i,children:t})};bY.displayName=HO;var SY="PopperAnchor",EY=F.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=wY(SY,t),a=F.useRef(null),o=Ur(e,a);return F.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:m.jsx(Bn.div,{...i,ref:o})});EY.displayName=SY;var WO="PopperContent",[Mye,Iye]=_Y(WO),AY=F.forwardRef((n,e)=>{var Se,Je,Qe,rt,ut,Be;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:g,..._}=n,w=wY(WO,t),[x,S]=F.useState(null),E=Ur(e,ae=>S(ae)),[T,D]=F.useState(null),k=Tye(T),I=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,P=r+(s!=="center"?"-"+s:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(c)?c:[c],z=B.length>0,H={padding:R,boundary:B.filter(Rye),altBoundary:z},{refs:K,floatingStyles:J,placement:se,isPositioned:ce,middlewareData:X}=mye({strategy:"fixed",placement:P,whileElementsMounted:(...ae)=>sye(...ae,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[vye({mainAxis:i+N,alignmentAxis:a}),l&&yye({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xye():void 0,...H}),l&&_ye({...H}),wye({...H,apply:({elements:ae,rects:Re,availableWidth:ke,availableHeight:$e})=>{const{width:We,height:ne}=Re.reference,Ae=ae.floating.style;Ae.setProperty("--radix-popper-available-width",`${ke}px`),Ae.setProperty("--radix-popper-available-height",`${$e}px`),Ae.setProperty("--radix-popper-anchor-width",`${We}px`),Ae.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),T&&Sye({element:T,padding:o}),Nye({arrowWidth:I,arrowHeight:N}),d&&bye({strategy:"referenceHidden",...H})]}),[ue,q]=MY(se),ge=Vl(g);ea(()=>{ce&&(ge==null||ge())},[ce,ge]);const De=(Se=X.arrow)==null?void 0:Se.x,Q=(Je=X.arrow)==null?void 0:Je.y,et=((Qe=X.arrow)==null?void 0:Qe.centerOffset)!==0,[ye,Ie]=F.useState();return ea(()=>{x&&Ie(window.getComputedStyle(x).zIndex)},[x]),m.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ce?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(rt=X.transformOrigin)==null?void 0:rt.x,(ut=X.transformOrigin)==null?void 0:ut.y].join(" "),...((Be=X.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:m.jsx(Mye,{scope:t,placedSide:ue,onArrowChange:D,arrowX:De,arrowY:Q,shouldHideArrow:et,children:m.jsx(Bn.div,{"data-side":ue,"data-align":q,..._,ref:E,style:{..._.style,animation:ce?void 0:"none"}})})})});AY.displayName=WO;var TY="PopperArrow",Pye={top:"bottom",right:"left",bottom:"top",left:"right"},CY=F.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=Iye(TY,r),a=Pye[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(Aye,{...i,ref:t,style:{...i.style,display:"block"}})})});CY.displayName=TY;function Rye(n){return n!==null}var Nye=n=>({name:"transformOrigin",options:n,fn(e){var w,x,S;const{placement:t,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[c,u]=MY(t),h={start:"0%",center:"50%",end:"100%"}[u],d=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,p=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let g="",_="";return c==="bottom"?(g=a?h:`${d}px`,_=`${-l}px`):c==="top"?(g=a?h:`${d}px`,_=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,_=a?h:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,_=a?h:`${p}px`),{data:{x:g,y:_}}}});function MY(n){const[e,t="center"]=n.split("-");return[e,t]}var kye=bY,IY=EY,PY=AY,RY=CY,[tC,J9e]=Xh("Tooltip",[eC]),GO=eC(),NY="TooltipProvider",Dye=700,jB="tooltip.open",[Oye,kY]=tC(NY),DY=n=>{const{__scopeTooltip:e,delayDuration:t=Dye,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,a=F.useRef(!0),o=F.useRef(!1),l=F.useRef(0);return F.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),m.jsx(Oye,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:F.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:F.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:F.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};DY.displayName=NY;var OY="Tooltip",[eze,nC]=tC(OY),tk="TooltipTrigger",Lye=F.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=nC(tk,t),s=kY(tk,t),a=GO(t),o=F.useRef(null),l=Ur(e,o,i.onTriggerChange),c=F.useRef(!1),u=F.useRef(!1),h=F.useCallback(()=>c.current=!1,[]);return F.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),m.jsx(IY,{asChild:!0,...a,children:m.jsx(Bn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:un(n.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:un(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:un(n.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:un(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:un(n.onBlur,i.onClose),onClick:un(n.onClick,i.onClose)})})});Lye.displayName=tk;var Fye="TooltipPortal",[tze,Bye]=tC(Fye,{forceMount:void 0}),Gv="TooltipContent",LY=F.forwardRef((n,e)=>{const t=Bye(Gv,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,a=nC(Gv,n.__scopeTooltip);return m.jsx(cg,{present:r||a.open,children:a.disableHoverableContent?m.jsx(FY,{side:i,...s,ref:e}):m.jsx(Uye,{side:i,...s,ref:e})})}),Uye=F.forwardRef((n,e)=>{const t=nC(Gv,n.__scopeTooltip),r=kY(Gv,n.__scopeTooltip),i=F.useRef(null),s=Ur(e,i),[a,o]=F.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:h}=r,d=F.useCallback(()=>{o(null),h(!1)},[h]),p=F.useCallback((g,_)=>{const w=g.currentTarget,x={x:g.clientX,y:g.clientY},S=Wye(x,w.getBoundingClientRect()),E=Gye(x,S),T=$ye(_.getBoundingClientRect()),D=Xye([...E,...T]);o(D),h(!0)},[h]);return F.useEffect(()=>()=>d(),[d]),F.useEffect(()=>{if(l&&u){const g=w=>p(w,u),_=w=>p(w,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",_)}}},[l,u,p,d]),F.useEffect(()=>{if(a){const g=_=>{const w=_.target,x={x:_.clientX,y:_.clientY},S=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),E=!qye(x,a);S?d():E&&(d(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,a,c,d]),m.jsx(FY,{...n,ref:s})}),[jye,Vye]=tC(OY,{isInside:!1}),zye=vX("TooltipContent"),FY=F.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=n,l=nC(Gv,t),c=GO(t),{onClose:u}=l;return F.useEffect(()=>(document.addEventListener(jB,u),()=>document.removeEventListener(jB,u)),[u]),F.useEffect(()=>{if(l.trigger){const h=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),m.jsx(lw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:m.jsxs(PY,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(zye,{children:r}),m.jsx(jye,{scope:t,isInside:!0,children:m.jsx(Bge,{id:l.contentId,role:"tooltip",children:i||r})})]})})});LY.displayName=Gv;var BY="TooltipArrow",Hye=F.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=GO(t);return Vye(BY,t).isInside?null:m.jsx(RY,{...i,...r,ref:e})});Hye.displayName=BY;function Wye(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Gye(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function $ye(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function qye(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,h=l.x,d=l.y;u>r!=d>r&&t<(h-c)*(r-u)/(d-u)+c&&(i=!i)}return i}function Xye(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Yye(e)}function Yye(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Kye=DY,UY=LY;const Zye=Kye,Qye=F.forwardRef(({className:n,sideOffset:e=4,...t},r)=>m.jsx(UY,{ref:r,sideOffset:e,className:en("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));Qye.displayName=UY.displayName;const Nu=F.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:en("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Nu.displayName="Card";const $O=F.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:en("flex flex-col space-y-1.5 p-6",n),...e}));$O.displayName="CardHeader";const jY=F.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:en("text-2xl font-semibold leading-none tracking-tight",n),...e}));jY.displayName="CardTitle";const Jye=F.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:en("text-sm text-muted-foreground",n),...e}));Jye.displayName="CardDescription";const Um=F.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:en("p-6 pt-0",n),...e}));Um.displayName="CardContent";const VY=F.forwardRef(({className:n,...e},t)=>m.jsx("div",{ref:t,className:en("flex items-center p-6 pt-0",n),...e}));VY.displayName="CardFooter";function exe(){return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:m.jsx(Nu,{className:"w-full max-w-md mx-4",children:m.jsxs(Um,{className:"pt-6",children:[m.jsxs("div",{className:"flex mb-4 gap-2",children:[m.jsx(KN,{className:"h-8 w-8 text-red-500"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const txe="/assets/backsound-Dx6NPs6j.mp3",nxe="/assets/backsound1-BBcioZr7.mp3",rxe="/assets/backsound2-BqESGsK4.mp3",VB=[{src:txe,label:"MPN Jaya"},{src:nxe,label:"Sendu"},{src:rxe,label:"Fun"}];let Ng=null;function ixe(){const n=F.useRef(null),[e,t]=F.useState(!1),[r,i]=F.useState(0),[s,a]=F.useState(!1),[o,l]=F.useState(!1),[c,u]=F.useState(!1),[h,d]=F.useState(!1),p=F.useRef(null),g=()=>{n.current&&(e?n.current.pause():n.current.play(),t(!e))},_=w=>{const x=parseInt(w.target.value,10);i(x),document.cookie=`backsound_selected=${x}; path=/; max-age=31536000`,setTimeout(()=>{n.current&&(n.current.currentTime=0,e&&n.current.play())},100),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>a(!1),5e3)};return F.useEffect(()=>{const w=document.cookie.match(/backsound_selected=(\d+)/);if(w&&i(Number(w[1])),n.current){if(Ng&&Ng!==n.current)try{Ng.pause()}catch{}Ng=n.current}if(n.current&&!e){const x=n.current.play();x!==void 0&&x.then(()=>t(!0)).catch(()=>{})}return localStorage.getItem("backsound_info_closed")||l(!0),()=>{n.current&&n.current.pause(),p.current&&clearTimeout(p.current),Ng===n.current&&(Ng=null)}},[]),F.useEffect(()=>{if(e&&h){const w=setTimeout(()=>d(!1),3e3);return()=>clearTimeout(w)}},[e,h]),m.jsxs("div",{className:"fixed bottom-6 left-6 z-50 flex flex-col items-center group select-none",children:[o&&m.jsxs("div",{className:"mb-3 bg-white/90 border border-green-400 rounded-lg shadow px-4 py-2 text-sm text-green-900 relative max-w-xs animate-fade-in",children:[m.jsx("button",{className:"absolute top-1 right-2 text-green-700 hover:text-red-500 text-lg font-bold focus:outline-none",onClick:()=>{window.confirm("Sudah paham cara mengganti backsound?")&&(l(!1),localStorage.setItem("backsound_info_closed","1"))},"aria-label":"Tutup info",children:""}),m.jsx("b",{children:"Cara mengganti backsound:"}),m.jsx("br",{}),"Klik ikon piringan, lalu pilih backsound dari daftar yang muncul. Musik akan otomatis berganti."]}),s&&m.jsx("div",{className:"mb-2 animate-fade-in",children:m.jsx("select",{className:"rounded px-2 py-1 text-sm border border-green-400 bg-white shadow",value:r,onChange:_,autoFocus:!0,onBlur:()=>a(!1),children:VB.map((w,x)=>m.jsx("option",{value:x,children:w.label},w.label))})}),m.jsxs("div",{className:`w-16 h-16 rounded-full bg-gradient-to-tr from-green-300 to-green-700 shadow-lg flex items-center justify-center border-4 border-white transition-transform duration-700 relative ${e?"animate-spin-slow":""}`,style:{boxShadow:"0 4px 24px 0 rgba(34,139,34,0.15)"},onClick:()=>{a(!0),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>a(!1),5e3)},title:e?"Pause backsound":"Putar backsound",onMouseEnter:()=>d(!0),onMouseLeave:()=>{e&&d(!1)},onTouchStart:()=>d(!0),children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=200&q=80",alt:"Piringan Backsound Hutan",className:"w-12 h-12 rounded-full object-cover pointer-events-none",style:{filter:"brightness(0.95) contrast(1.1)"}}),e&&(h||c)&&m.jsx("button",{className:"absolute w-10 h-10 flex items-center justify-center rounded-full bg-white/80 shadow group-hover:bg-white/90 transition border border-green-400 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10","aria-label":"Pause backsound",tabIndex:0,onClick:w=>{w.stopPropagation(),u(!0)},onMouseLeave:()=>d(!1),children:m.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[m.jsx("rect",{x:"6",y:"5",width:"4",height:"14",rx:"1"}),m.jsx("rect",{x:"14",y:"5",width:"4",height:"14",rx:"1"})]})})]}),!e&&m.jsx("button",{className:"mt-2 w-10 h-10 flex items-center justify-center rounded-full bg-white/80 shadow group-hover:bg-white/90 transition border border-green-400","aria-label":"Putar backsound",tabIndex:0,onClick:w=>{w.stopPropagation(),u(!0)},children:m.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:m.jsx("polygon",{points:"6,4 20,12 6,20 6,4"})})}),c&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-xs w-full relative animate-fade-in",children:[m.jsx("button",{className:"absolute top-2 right-3 text-xl text-gray-500 hover:text-red-500",onClick:()=>u(!1),"aria-label":"Tutup",children:""}),m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("span",{className:"text-green-700 text-lg font-bold",children:"Play Musik?"}),m.jsx("span",{className:"text-sm text-gray-700 text-center",children:"Klik tombol di bawah untuk memulai atau pause backsound."}),m.jsxs("button",{className:"mt-2 px-4 py-2 rounded bg-green-600 text-white font-semibold hover:bg-green-700 transition",onClick:()=>{g(),u(!1)},children:[e?"Pause":"Play"," Musik"]})]})]})}),m.jsx("audio",{ref:n,src:VB[r].src,loop:!0,preload:"auto",onPlay:()=>t(!0),onPause:()=>t(!1),style:{display:"none"},onLoadedMetadata:()=>{if(n.current&&(n.current.volume=.6,!e)){const w=n.current.play();w!==void 0&&w.then(()=>t(!0)).catch(()=>{})}}}),m.jsx("span",{className:"mt-2 text-xs text-green-900 bg-white/80 px-2 py-0.5 rounded shadow opacity-0 group-hover:opacity-100 transition",children:e?"Sedang diputar":"Klik untuk backsound"})]})}const qO=YT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ht=F.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const a=r?mge:"button";return m.jsx(a,{className:en(qO({variant:e,size:t,className:n})),ref:s,...i})});Ht.displayName="Button";function sxe(){const[n,e]=F.useState(!1),[t]=ow();F.useEffect(()=>{e(!1)},[t]);const r=()=>e(!n),i=[{href:"/",label:"Beranda"},{href:"/kegiatan",label:"Kegiatan"},{href:"/pembelajaran",label:"Pembelajaran"},{href:"/sejarah",label:"Sejarah"},{href:"/pendaftaran",label:"Informasi Pendaftaran"},{href:"/scan-anggota",label:m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(DO,{className:"w-5 h-5"})," Anggota"]})}];return m.jsxs("header",{className:"sticky top-0 z-50 transition-all duration-300 bg-white shadow-lg",children:[m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[m.jsxs(Jo,{href:"/",className:"flex items-center gap-3 group",children:[m.jsx("img",{src:"https://raw.githubusercontent.com/mahapalanarotama/mahapalanarotama.github.io/refs/heads/main/Img/Logo%20Mpn.png",alt:"Logo Mahapala",className:"w-10 h-10 rounded-full shadow-md border-2 border-primary bg-white animate-navbar-logo",style:{background:"white"}}),m.jsxs("span",{className:"font-heading font-bold text-2xl tracking-widest text-primary drop-shadow-lg animate-navbar-logo",children:["MAHAPALA ",m.jsx("span",{className:"text-accent font-bold drop-shadow-md",children:"NAROTAMA"})]})]}),m.jsx("nav",{className:"hidden md:flex space-x-6",children:i.map(s=>m.jsxs(Jo,{href:s.href,className:`relative px-2 py-1 font-medium transition group/nav ${t===s.href?"text-accent":"text-primary hover:text-accent"} animate-navbar-link`,children:[m.jsx("span",{className:"relative z-10",children:s.label}),m.jsx("span",{className:`absolute left-0 bottom-0 w-full h-0.5 bg-accent rounded transition-all duration-300 scale-x-0 group-hover/nav:scale-x-100 ${t===s.href?"scale-x-100":""}`})]},s.href))}),m.jsx(Ht,{variant:"ghost",size:"icon",className:"md:hidden text-primary",onClick:r,"aria-label":"Menu",children:m.jsx(w0e,{className:"h-6 w-6"})})]}),m.jsx("div",{className:"absolute left-0 right-0 top-0 h-8 overflow-hidden pointer-events-none select-none",children:m.jsxs("div",{className:"absolute left-0 top-0 w-full h-full flex gap-8 animate-clouds",children:[m.jsx("div",{className:"w-16 h-8 bg-white rounded-full opacity-70 blur-sm animate-cloud-move",style:{animationDelay:"0s"}}),m.jsx("div",{className:"w-24 h-10 bg-white rounded-full opacity-60 blur-md animate-cloud-move",style:{animationDelay:"2s"}}),m.jsx("div",{className:"w-20 h-8 bg-white rounded-full opacity-50 blur animate-cloud-move",style:{animationDelay:"4s"}})]})})]}),n&&m.jsx("div",{className:"md:hidden bg-white animate-navbar-mobile rounded-b-2xl shadow-2xl",children:m.jsxs("div",{className:"container mx-auto px-4 py-2 flex flex-col space-y-2",children:[m.jsx("div",{className:"flex justify-end",children:m.jsx(Ht,{variant:"ghost",size:"icon",className:"text-primary",onClick:r,"aria-label":"Close menu",children:m.jsx(hw,{className:"h-6 w-6"})})}),i.map(s=>m.jsx(Jo,{href:s.href,children:m.jsx("a",{className:`block text-lg font-semibold py-2 px-4 rounded transition-all duration-300 hover:bg-accent/20 hover:text-accent ${t===s.href?"text-accent bg-accent/10":"text-primary"}`,children:s.label})},s.href))]})})]})}function axe(){const n=new Date().getFullYear();return m.jsx("footer",{className:"bg-gray-800 text-white pt-12 pb-6",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading text-xl font-bold mb-4",children:"Tentang Kami"}),m.jsx("p",{className:"text-gray-300 mb-4",children:"Mahapala Narotama adalah organisasi yang bergerak di bidang eksplorasi alam dan pelestarian lingkungan."}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"https://www.instagram.com/mahapalanarotama?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition","aria-label":"Instagram",children:m.jsx(KT,{className:"h-5 w-5"})}),m.jsx("a",{href:"https://www.youtube.com/@mahapalanarotama1216",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition","aria-label":"YouTube",children:m.jsx(I0e,{className:"h-5 w-5"})}),m.jsx("a",{href:"https://tiktok.com/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition","aria-label":"TikTok",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:m.jsx("path",{d:"M16.5 3A4.5 4.5 0 0 0 21 7.5v1.25a6.25 6.25 0 0 1-5-1.25v7.5a5.5 5.5 0 1 1-5.5-5.5h.75v2H10.5a3.5 3.5 0 1 0 3.5 3.5V3h2.5Z"})})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading text-xl font-bold mb-4",children:"Link Terkait"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx("a",{href:"https://narotama.ac.id/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition",children:"Universitas Narotama"})}),m.jsx("li",{children:m.jsx("a",{href:"https://wartapalaindonesia.com/",className:"text-gray-300 hover:text-white transition",children:"WARTAPALA Indonesia"})}),m.jsx("li",{children:m.jsx(Jo,{href:"/kegiatan",className:"text-gray-300 hover:text-white transition",children:"Daftar Kegiatan"})}),m.jsx("li",{children:m.jsx(Jo,{href:"/galeri",className:"text-gray-300 hover:text-white transition",children:"Galeri Foto"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-heading text-xl font-bold mb-4",children:"Hubungi Kami"}),m.jsxs("address",{className:"not-italic text-gray-300",children:[m.jsxs("p",{className:"mb-2 flex items-center",children:[m.jsx("span",{className:"flex items-center justify-center h-7 w-7 mr-2",children:m.jsx(YX,{className:"h-6 w-6",strokeWidth:2})}),m.jsx("span",{children:"Jl. Arief Rachman Hakim No. 51, Klampis Ngasem, Sukolilo, Kota Surabaya, Jawa Timur"})]}),m.jsxs("p",{className:"mb-2 flex items-center",children:[m.jsx(uw,{className:"h-5 w-5 mr-2",strokeWidth:2}),m.jsx("span",{children:"(031) 34133 2882"})]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx(l_,{className:"h-5 w-5 mr-2",strokeWidth:2}),m.jsx("span",{children:"ukm.mahapala@narotama.ac.id"})]})]})]})]}),m.jsx("div",{className:"border-t border-gray-700 pt-6",children:m.jsxs("p",{className:"text-center text-gray-400 text-sm",children:[" ",n," Mahapala Narotama. All rights reserved."]})})]})})}var kI="focusScope.autoFocusOnMount",DI="focusScope.autoFocusOnUnmount",zB={bubbles:!1,cancelable:!0},oxe="FocusScope",XO=F.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=n,[o,l]=F.useState(null),c=Vl(i),u=Vl(s),h=F.useRef(null),d=Ur(e,_=>l(_)),p=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(r){let _=function(E){if(p.paused||!o)return;const T=E.target;o.contains(T)?h.current=T:Bd(h.current,{select:!0})},w=function(E){if(p.paused||!o)return;const T=E.relatedTarget;T!==null&&(o.contains(T)||Bd(h.current,{select:!0}))},x=function(E){if(document.activeElement===document.body)for(const D of E)D.removedNodes.length>0&&Bd(o)};document.addEventListener("focusin",_),document.addEventListener("focusout",w);const S=new MutationObserver(x);return o&&S.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",w),S.disconnect()}}},[r,o,p.paused]),F.useEffect(()=>{if(o){WB.add(p);const _=document.activeElement;if(!o.contains(_)){const x=new CustomEvent(kI,zB);o.addEventListener(kI,c),o.dispatchEvent(x),x.defaultPrevented||(lxe(fxe(zY(o)),{select:!0}),document.activeElement===_&&Bd(o))}return()=>{o.removeEventListener(kI,c),setTimeout(()=>{const x=new CustomEvent(DI,zB);o.addEventListener(DI,u),o.dispatchEvent(x),x.defaultPrevented||Bd(_??document.body,{select:!0}),o.removeEventListener(DI,u),WB.remove(p)},0)}}},[o,c,u,p]);const g=F.useCallback(_=>{if(!t&&!r||p.paused)return;const w=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,x=document.activeElement;if(w&&x){const S=_.currentTarget,[E,T]=cxe(S);E&&T?!_.shiftKey&&x===T?(_.preventDefault(),t&&Bd(E,{select:!0})):_.shiftKey&&x===E&&(_.preventDefault(),t&&Bd(T,{select:!0})):x===S&&_.preventDefault()}},[t,r,p.paused]);return m.jsx(Bn.div,{tabIndex:-1,...a,ref:d,onKeyDown:g})});XO.displayName=oxe;function lxe(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Bd(r,{select:e}),document.activeElement!==t)return}function cxe(n){const e=zY(n),t=HB(e,n),r=HB(e.reverse(),n);return[t,r]}function zY(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function HB(n,e){for(const t of n)if(!uxe(t,{upTo:e}))return t}function uxe(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function hxe(n){return n instanceof HTMLInputElement&&"select"in n}function Bd(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&hxe(n)&&e&&n.select()}}var WB=dxe();function dxe(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=GB(n,e),n.unshift(e)},remove(e){var t;n=GB(n,e),(t=n[0])==null||t.resume()}}}function GB(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function fxe(n){return n.filter(e=>e.tagName!=="A")}var OI=0;function HY(){F.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??$B()),document.body.insertAdjacentElement("beforeend",n[1]??$B()),OI++,()=>{OI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),OI--}},[])}function $B(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ME="right-scroll-bar-position",IE="width-before-scroll-bar",pxe="with-scroll-bars-hidden",mxe="--removed-body-scroll-bar-size";function LI(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function gxe(n,e){var t=F.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var vxe=typeof window<"u"?F.useLayoutEffect:F.useEffect,qB=new WeakMap;function yxe(n,e){var t=gxe(null,function(r){return n.forEach(function(i){return LI(i,r)})});return vxe(function(){var r=qB.get(t);if(r){var i=new Set(r),s=new Set(n),a=t.current;i.forEach(function(o){s.has(o)||LI(o,null)}),s.forEach(function(o){i.has(o)||LI(o,a)})}qB.set(t,n)},[n]),t}function xxe(n){return n}function _xe(n,e){e===void 0&&(e=xxe);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var a=e(s,r);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;t.length;){var a=t;t=[],a.forEach(s)}t={push:function(o){return s(o)},filter:function(){return t}}},assignMedium:function(s){r=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(s),a=t}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),t}}}};return i}function wxe(n){n===void 0&&(n={});var e=_xe(null);return e.options=lu({async:!0,ssr:!1},n),e}var WY=function(n){var e=n.sideCar,t=K_(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return F.createElement(r,lu({},t))};WY.isSideCarExport=!0;function bxe(n,e){return n.useMedium(e),WY}var GY=wxe(),FI=function(){},rC=F.forwardRef(function(n,e){var t=F.useRef(null),r=F.useState({onScrollCapture:FI,onWheelCapture:FI,onTouchMoveCapture:FI}),i=r[0],s=r[1],a=n.forwardProps,o=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,h=n.shards,d=n.sideCar,p=n.noRelative,g=n.noIsolation,_=n.inert,w=n.allowPinchZoom,x=n.as,S=x===void 0?"div":x,E=n.gapMode,T=K_(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=d,k=yxe([t,e]),I=lu(lu({},T),i);return F.createElement(F.Fragment,null,u&&F.createElement(D,{sideCar:GY,removeScrollBar:c,shards:h,noRelative:p,noIsolation:g,inert:_,setCallbacks:s,allowPinchZoom:!!w,lockRef:t,gapMode:E}),a?F.cloneElement(F.Children.only(o),lu(lu({},I),{ref:k})):F.createElement(S,lu({},I,{className:l,ref:k}),o))});rC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rC.classNames={fullWidth:IE,zeroRight:ME};var Sxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Exe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Sxe();return e&&n.setAttribute("nonce",e),n}function Axe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Txe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Cxe=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Exe())&&(Axe(e,t),Txe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Mxe=function(){var n=Cxe();return function(e,t){F.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},$Y=function(){var n=Mxe(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Ixe={left:0,top:0,right:0,gap:0},BI=function(n){return parseInt(n||"",10)||0},Pxe=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[BI(t),BI(r),BI(i)]},Rxe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Ixe;var e=Pxe(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Nxe=$Y(),ov="data-scroll-locked",kxe=function(n,e,t,r){var i=n.left,s=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(pxe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(ov,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ME,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(IE,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ME," .").concat(ME,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(IE," .").concat(IE,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ov,`] {
    `).concat(mxe,": ").concat(o,`px;
  }
`)},XB=function(){var n=parseInt(document.body.getAttribute(ov)||"0",10);return isFinite(n)?n:0},Dxe=function(){F.useEffect(function(){return document.body.setAttribute(ov,(XB()+1).toString()),function(){var n=XB()-1;n<=0?document.body.removeAttribute(ov):document.body.setAttribute(ov,n.toString())}},[])},Oxe=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Dxe();var s=F.useMemo(function(){return Rxe(i)},[i]);return F.createElement(Nxe,{styles:kxe(s,!e,i,t?"":"!important")})},nk=!1;if(typeof window<"u")try{var $b=Object.defineProperty({},"passive",{get:function(){return nk=!0,!0}});window.addEventListener("test",$b,$b),window.removeEventListener("test",$b,$b)}catch{nk=!1}var kg=nk?{passive:!1}:!1,Lxe=function(n){return n.tagName==="TEXTAREA"},qY=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Lxe(n)&&t[e]==="visible")},Fxe=function(n){return qY(n,"overflowY")},Bxe=function(n){return qY(n,"overflowX")},YB=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=XY(n,r);if(i){var s=YY(n,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Uxe=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},jxe=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},XY=function(n,e){return n==="v"?Fxe(e):Bxe(e)},YY=function(n,e){return n==="v"?Uxe(e):jxe(e)},Vxe=function(n,e){return n==="h"&&e==="rtl"?-1:1},zxe=function(n,e,t,r,i){var s=Vxe(n,window.getComputedStyle(e).direction),a=s*r,o=t.target,l=e.contains(o),c=!1,u=a>0,h=0,d=0;do{if(!o)break;var p=YY(n,o),g=p[0],_=p[1],w=p[2],x=_-w-s*g;(g||x)&&XY(n,o)&&(h+=x,d+=g);var S=o.parentNode;o=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&Math.abs(h)<1||!u&&Math.abs(d)<1)&&(c=!0),c},qb=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},KB=function(n){return[n.deltaX,n.deltaY]},ZB=function(n){return n&&"current"in n?n.current:n},Hxe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Wxe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Gxe=0,Dg=[];function $xe(n){var e=F.useRef([]),t=F.useRef([0,0]),r=F.useRef(),i=F.useState(Gxe++)[0],s=F.useState($Y)[0],a=F.useRef(n);F.useEffect(function(){a.current=n},[n]),F.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Xle([n.lockRef.current],(n.shards||[]).map(ZB),!0).filter(Boolean);return _.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var o=F.useCallback(function(_,w){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var x=qb(_),S=t.current,E="deltaX"in _?_.deltaX:S[0]-x[0],T="deltaY"in _?_.deltaY:S[1]-x[1],D,k=_.target,I=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in _&&I==="h"&&k.type==="range")return!1;var N=YB(I,k);if(!N)return!0;if(N?D=I:(D=I==="v"?"h":"v",N=YB(I,k)),!N)return!1;if(!r.current&&"changedTouches"in _&&(E||T)&&(r.current=D),!D)return!0;var P=r.current||D;return zxe(P,w,_,P==="h"?E:T)},[]),l=F.useCallback(function(_){var w=_;if(!(!Dg.length||Dg[Dg.length-1]!==s)){var x="deltaY"in w?KB(w):qb(w),S=e.current.filter(function(D){return D.name===w.type&&(D.target===w.target||w.target===D.shadowParent)&&Hxe(D.delta,x)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var E=(a.current.shards||[]).map(ZB).filter(Boolean).filter(function(D){return D.contains(w.target)}),T=E.length>0?o(w,E[0]):!a.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),c=F.useCallback(function(_,w,x,S){var E={name:_,delta:w,target:x,should:S,shadowParent:qxe(x)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(T){return T!==E})},1)},[]),u=F.useCallback(function(_){t.current=qb(_),r.current=void 0},[]),h=F.useCallback(function(_){c(_.type,KB(_),_.target,o(_,n.lockRef.current))},[]),d=F.useCallback(function(_){c(_.type,qb(_),_.target,o(_,n.lockRef.current))},[]);F.useEffect(function(){return Dg.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,kg),document.addEventListener("touchmove",l,kg),document.addEventListener("touchstart",u,kg),function(){Dg=Dg.filter(function(_){return _!==s}),document.removeEventListener("wheel",l,kg),document.removeEventListener("touchmove",l,kg),document.removeEventListener("touchstart",u,kg)}},[]);var p=n.removeScrollBar,g=n.inert;return F.createElement(F.Fragment,null,g?F.createElement(s,{styles:Wxe(i)}):null,p?F.createElement(Oxe,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function qxe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Xxe=bxe(GY,$xe);var YO=F.forwardRef(function(n,e){return F.createElement(rC,lu({},n,{ref:e,sideCar:Xxe}))});YO.classNames=rC.classNames;var Yxe=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Og=new WeakMap,Xb=new WeakMap,Yb={},UI=0,KY=function(n){return n&&(n.host||KY(n.parentNode))},Kxe=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=KY(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Zxe=function(n,e,t,r){var i=Kxe(e,Array.isArray(n)?n:[n]);Yb[t]||(Yb[t]=new WeakMap);var s=Yb[t],a=[],o=new Set,l=new Set(i),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(o.has(d))u(d);else try{var p=d.getAttribute(r),g=p!==null&&p!=="false",_=(Og.get(d)||0)+1,w=(s.get(d)||0)+1;Og.set(d,_),s.set(d,w),a.push(d),_===1&&g&&Xb.set(d,!0),w===1&&d.setAttribute(t,"true"),g||d.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",d,x)}})};return u(e),o.clear(),UI++,function(){a.forEach(function(h){var d=Og.get(h)-1,p=s.get(h)-1;Og.set(h,d),s.set(h,p),d||(Xb.has(h)||h.removeAttribute(r),Xb.delete(h)),p||h.removeAttribute(t)}),UI--,UI||(Og=new WeakMap,Og=new WeakMap,Xb=new WeakMap,Yb={})}},ZY=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=Yxe(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Zxe(r,i,t,"aria-hidden")):function(){return null}},iC="Dialog",[QY,JY]=Xh(iC),[Qxe,Oc]=QY(iC),eK=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=n,o=F.useRef(null),l=F.useRef(null),[c,u]=Hv({prop:r,defaultProp:i??!1,onChange:s,caller:iC});return m.jsx(Qxe,{scope:e,triggerRef:o,contentRef:l,contentId:Af(),titleId:Af(),descriptionId:Af(),open:c,onOpenChange:u,onOpenToggle:F.useCallback(()=>u(h=>!h),[u]),modal:a,children:t})};eK.displayName=iC;var tK="DialogTrigger",nK=F.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Oc(tK,t),s=Ur(e,i.triggerRef);return m.jsx(Bn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":QO(i.open),...r,ref:s,onClick:un(n.onClick,i.onOpenToggle)})});nK.displayName=tK;var KO="DialogPortal",[Jxe,rK]=QY(KO,{forceMount:void 0}),iK=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=Oc(KO,e);return m.jsx(Jxe,{scope:e,forceMount:t,children:F.Children.map(r,a=>m.jsx(cg,{present:t||s.open,children:m.jsx($T,{asChild:!0,container:i,children:a})}))})};iK.displayName=KO;var U2="DialogOverlay",sK=F.forwardRef((n,e)=>{const t=rK(U2,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Oc(U2,n.__scopeDialog);return s.modal?m.jsx(cg,{present:r||s.open,children:m.jsx(t1e,{...i,ref:e})}):null});sK.displayName=U2;var e1e=zv("DialogOverlay.RemoveScroll"),t1e=F.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Oc(U2,t);return m.jsx(YO,{as:e1e,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Bn.div,{"data-state":QO(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),jm="DialogContent",aK=F.forwardRef((n,e)=>{const t=rK(jm,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Oc(jm,n.__scopeDialog);return m.jsx(cg,{present:r||s.open,children:s.modal?m.jsx(n1e,{...i,ref:e}):m.jsx(r1e,{...i,ref:e})})});aK.displayName=jm;var n1e=F.forwardRef((n,e)=>{const t=Oc(jm,n.__scopeDialog),r=F.useRef(null),i=Ur(e,t.contentRef,r);return F.useEffect(()=>{const s=r.current;if(s)return ZY(s)},[]),m.jsx(oK,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:un(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:un(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:un(n.onFocusOutside,s=>s.preventDefault())})}),r1e=F.forwardRef((n,e)=>{const t=Oc(jm,n.__scopeDialog),r=F.useRef(!1),i=F.useRef(!1);return m.jsx(oK,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(r.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),oK=F.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=n,o=Oc(jm,t),l=F.useRef(null),c=Ur(e,l);return HY(),m.jsxs(m.Fragment,{children:[m.jsx(XO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(lw,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":QO(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(s1e,{titleId:o.titleId}),m.jsx(o1e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),ZO="DialogTitle",lK=F.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Oc(ZO,t);return m.jsx(Bn.h2,{id:i.titleId,...r,ref:e})});lK.displayName=ZO;var cK="DialogDescription",uK=F.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Oc(cK,t);return m.jsx(Bn.p,{id:i.descriptionId,...r,ref:e})});uK.displayName=cK;var hK="DialogClose",dK=F.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Oc(hK,t);return m.jsx(Bn.button,{type:"button",...r,ref:e,onClick:un(n.onClick,()=>i.onOpenChange(!1))})});dK.displayName=hK;function QO(n){return n?"open":"closed"}var fK="DialogTitleWarning",[i1e,pK]=fge(fK,{contentName:jm,titleName:ZO,docsSlug:"dialog"}),s1e=({titleId:n})=>{const e=pK(fK),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return F.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},a1e="DialogDescriptionWarning",o1e=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pK(a1e).contentName}}.`;return F.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},mK=eK,l1e=nK,gK=iK,JO=sK,eL=aK,tL=lK,nL=uK,rL=dK;const Kf=mK,c1e=gK,vK=F.forwardRef(({className:n,...e},t)=>m.jsx(JO,{ref:t,className:en("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));vK.displayName=JO.displayName;const Yh=F.forwardRef(({className:n,children:e,...t},r)=>m.jsxs(c1e,{children:[m.jsx(vK,{}),m.jsxs(eL,{ref:r,className:en("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,m.jsxs(rL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(hw,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yh.displayName=eL.displayName;const iL=({className:n,...e})=>m.jsx("div",{className:en("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});iL.displayName="DialogHeader";const sL=({className:n,...e})=>m.jsx("div",{className:en("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});sL.displayName="DialogFooter";const aL=F.forwardRef(({className:n,...e},t)=>m.jsx(tL,{ref:t,className:en("text-lg font-semibold leading-none tracking-tight",n),...e}));aL.displayName=tL.displayName;const oL=F.forwardRef(({className:n,...e},t)=>m.jsx(nL,{ref:t,className:en("text-sm text-muted-foreground",n),...e}));oL.displayName=nL.displayName;function u1e(){const[n,e]=F.useState(!1);F.useEffect(()=>{localStorage.getItem("cookieConsent")||e(!0)},[]);const t=()=>{localStorage.setItem("cookieConsent","true"),e(!1)},r=()=>{localStorage.setItem("cookieConsent","false"),e(!1)};return m.jsx(Kf,{open:n,onOpenChange:e,children:m.jsxs(Yh,{className:"sm:max-w-[425px]",children:[m.jsxs(iL,{children:[m.jsx(aL,{children:"Cookie Preferences"}),m.jsx(oL,{children:"We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. This website uses necessary cookies for functionality and third-party cookies for analytics and social media features."})]}),m.jsx("div",{className:"grid gap-4 py-4",children:m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-medium",children:"We use cookies for:"}),m.jsxs("ul",{className:"list-disc pl-5 text-sm text-muted-foreground",children:[m.jsx("li",{children:"Essential website functionality"}),m.jsx("li",{children:"Authentication and security"}),m.jsx("li",{children:"Analytics and performance"}),m.jsx("li",{children:"Social media integration"})]})]})}),m.jsxs(sL,{children:[m.jsx(Ht,{variant:"outline",onClick:r,children:"Essential Only"}),m.jsx(Ht,{onClick:t,children:"Accept All"})]})]})})}function h1e({children:n}){const{toast:e}=pX();F.useEffect(()=>{t()},[]);const t=async()=>{try{const s="test";document.cookie=`thirdPartyTest=${s}; SameSite=None; Secure`,document.cookie.includes("thirdPartyTest")||e({title:"Cookie Settings",description:"Beberapa fitur mungkin tidak optimal karena cookie pihak ketiga diblokir. Namun, aplikasi tetap dapat digunakan.",duration:7e3})}catch(s){console.warn("Gagal cek cookie pihak ketiga:",s)}},[r]=ow(),i=["/admin","/developer","/offline","/sejarahAdmin"].some(s=>r.startsWith(s));return m.jsxs("div",{className:"flex flex-col min-h-screen",children:[m.jsx(sxe,{}),m.jsx("main",{className:"flex-grow",children:n}),m.jsx(axe,{}),m.jsx(u1e,{}),!i&&m.jsx(ixe,{})]})}function lL(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ug=lL();function yK(n){ug=n}var g1={exec:()=>null};function Tr(n,e=""){let t=typeof n=="string"?n:n.source,r={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(no.caret,"$1"),t=t.replace(i,a),r},getRegex:()=>new RegExp(t,e)};return r}var no={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},d1e=/^(?:[ \t]*(?:\n|$))+/,f1e=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,p1e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,fw=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,m1e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,cL=/(?:[*+-]|\d{1,9}[.)])/,xK=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_K=Tr(xK).replace(/bull/g,cL).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),g1e=Tr(xK).replace(/bull/g,cL).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),uL=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,v1e=/^[^\n]+/,hL=/(?!\s*\])(?:\\.|[^\[\]\\])+/,y1e=Tr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",hL).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),x1e=Tr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,cL).getRegex(),sC="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",dL=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_1e=Tr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",dL).replace("tag",sC).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wK=Tr(uL).replace("hr",fw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sC).getRegex(),w1e=Tr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",wK).getRegex(),fL={blockquote:w1e,code:f1e,def:y1e,fences:p1e,heading:m1e,hr:fw,html:_1e,lheading:_K,list:x1e,newline:d1e,paragraph:wK,table:g1,text:v1e},QB=Tr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",fw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sC).getRegex(),b1e={...fL,lheading:g1e,table:QB,paragraph:Tr(uL).replace("hr",fw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",QB).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sC).getRegex()},S1e={...fL,html:Tr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",dL).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:g1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Tr(uL).replace("hr",fw).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_K).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},E1e=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,A1e=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,bK=/^( {2,}|\\)\n(?!\s*$)/,T1e=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,aC=/[\p{P}\p{S}]/u,pL=/[\s\p{P}\p{S}]/u,SK=/[^\s\p{P}\p{S}]/u,C1e=Tr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,pL).getRegex(),EK=/(?!~)[\p{P}\p{S}]/u,M1e=/(?!~)[\s\p{P}\p{S}]/u,I1e=/(?:[^\s\p{P}\p{S}]|~)/u,P1e=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,AK=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,R1e=Tr(AK,"u").replace(/punct/g,aC).getRegex(),N1e=Tr(AK,"u").replace(/punct/g,EK).getRegex(),TK="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",k1e=Tr(TK,"gu").replace(/notPunctSpace/g,SK).replace(/punctSpace/g,pL).replace(/punct/g,aC).getRegex(),D1e=Tr(TK,"gu").replace(/notPunctSpace/g,I1e).replace(/punctSpace/g,M1e).replace(/punct/g,EK).getRegex(),O1e=Tr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,SK).replace(/punctSpace/g,pL).replace(/punct/g,aC).getRegex(),L1e=Tr(/\\(punct)/,"gu").replace(/punct/g,aC).getRegex(),F1e=Tr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),B1e=Tr(dL).replace("(?:-->|$)","-->").getRegex(),U1e=Tr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",B1e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),j2=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,j1e=Tr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",j2).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),CK=Tr(/^!?\[(label)\]\[(ref)\]/).replace("label",j2).replace("ref",hL).getRegex(),MK=Tr(/^!?\[(ref)\](?:\[\])?/).replace("ref",hL).getRegex(),V1e=Tr("reflink|nolink(?!\\()","g").replace("reflink",CK).replace("nolink",MK).getRegex(),mL={_backpedal:g1,anyPunctuation:L1e,autolink:F1e,blockSkip:P1e,br:bK,code:A1e,del:g1,emStrongLDelim:R1e,emStrongRDelimAst:k1e,emStrongRDelimUnd:O1e,escape:E1e,link:j1e,nolink:MK,punctuation:C1e,reflink:CK,reflinkSearch:V1e,tag:U1e,text:T1e,url:g1},z1e={...mL,link:Tr(/^!?\[(label)\]\((.*?)\)/).replace("label",j2).getRegex(),reflink:Tr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",j2).getRegex()},rk={...mL,emStrongRDelimAst:D1e,emStrongLDelim:N1e,url:Tr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},H1e={...rk,br:Tr(bK).replace("{2,}","*").getRegex(),text:Tr(rk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Kb={normal:fL,gfm:b1e,pedantic:S1e},lx={normal:mL,gfm:rk,breaks:H1e,pedantic:z1e},W1e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},JB=n=>W1e[n];function eu(n,e){if(e){if(no.escapeTest.test(n))return n.replace(no.escapeReplace,JB)}else if(no.escapeTestNoEncode.test(n))return n.replace(no.escapeReplaceNoEncode,JB);return n}function eU(n){try{n=encodeURI(n).replace(no.percentDecode,"%")}catch{return null}return n}function tU(n,e){var s;let t=n.replace(no.findPipe,(a,o,l)=>{let c=!1,u=o;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),r=t.split(no.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(no.slashPipe,"|");return r}function cx(n,e,t){let r=n.length;if(r===0)return"";let i=0;for(;i<r&&n.charAt(r-i-1)===e;)i++;return n.slice(0,r-i)}function G1e(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return t>0?-2:-1}function nU(n,e,t,r,i){let s=e.href,a=e.title||null,o=n[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:n[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}function $1e(n,e,t){let r=n.match(t.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let a=s.match(t.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var V2=class{constructor(n){mr(this,"options");mr(this,"rules");mr(this,"lexer");this.options=n||ug}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:cx(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],r=$1e(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let r=cx(t,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(t=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:cx(e[0],`
`)}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=cx(e[0],`
`).split(`
`),r="",i="",s=[];for(;t.length>0;){let a=!1,o=[],l;for(l=0;l<t.length;l++)if(this.rules.other.blockquoteStart.test(t[l]))o.push(t[l]),a=!0;else if(!a)o.push(t[l]);else break;t=t.slice(l);let c=o.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,i=i?`${i}
${u}`:u;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=h,t.length===0)break;let d=s.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){let p=d,g=p.raw+`
`+t.join(`
`),_=this.blockquote(g);s[s.length-1]=_,r=r.substring(0,r.length-p.raw.length)+_.raw,i=i.substring(0,i.length-p.text.length)+_.text;break}else if((d==null?void 0:d.type)==="list"){let p=d,g=p.raw+`
`+t.join(`
`),_=this.list(g);s[s.length-1]=_,r=r.substring(0,r.length-d.raw.length)+_.raw,i=i.substring(0,i.length-p.raw.length)+_.raw,t=g.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim(),r=t.length>1,i={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");let s=this.rules.other.listItemRegex(t),a=!1;for(;n;){let l=!1,c="",u="";if(!(e=s.exec(n))||this.rules.block.hr.test(n))break;c=e[0],n=n.substring(c.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),d=n.split(`
`,1)[0],p=!h.trim(),g=0;if(this.options.pedantic?(g=2,u=h.trimStart()):p?g=e[1].length+1:(g=e[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,u=h.slice(g),g+=e[1].length),p&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,n=n.substring(d.length+1),l=!0),!l){let x=this.rules.other.nextBulletRegex(g),S=this.rules.other.hrRegex(g),E=this.rules.other.fencesBeginRegex(g),T=this.rules.other.headingBeginRegex(g),D=this.rules.other.htmlBeginRegex(g);for(;n;){let k=n.split(`
`,1)[0],I;if(d=k,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),I=d):I=d.replace(this.rules.other.tabCharGlobal,"    "),E.test(d)||T.test(d)||D.test(d)||x.test(d)||S.test(d))break;if(I.search(this.rules.other.nonSpaceChar)>=g||!d.trim())u+=`
`+I.slice(g);else{if(p||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||E.test(h)||T.test(h)||S.test(h))break;u+=`
`+d}!p&&!d.trim()&&(p=!0),c+=k+`
`,n=n.substring(k.length+1),h=I.slice(g)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let _=null,w;this.options.gfm&&(_=this.rules.other.listIsTask.exec(u),_&&(w=_[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!_,checked:w,loose:!1,text:u,tokens:[]}),i.raw+=c}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let c=i.items[l].tokens.filter(h=>h.type==="space"),u=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));i.loose=u}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:i}}}table(n){var a;let e=this.rules.block.table.exec(n);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=tU(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<t.length;o++)s.header.push({text:t[o],tokens:this.lexer.inline(t[o]),header:!0,align:s.align[o]});for(let o of i)s.rows.push(tU(o,s.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[c]})));return s}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let s=cx(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{let s=G1e(e[2],"()");if(s===-2)return;if(s>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r=r.slice(1):r=r.slice(1,-1)),nU(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let r=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){let s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return nU(t,i,t[0],this.lexer,this.rules)}}emStrong(n,e,t=""){let r=this.rules.inline.emStrongLDelim.exec(n);if(!(!r||r[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!t||this.rules.inline.punctuation.exec(t))){let i=[...r[0]].length-1,s,a,o=i,l=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*n.length+i);(r=c.exec(e))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(a=[...s].length,r[3]||r[4]){o+=a;continue}else if((r[5]||r[6])&&i%3&&!((i+a)%3)){l+=a;continue}if(o-=a,o>0)continue;a=Math.min(a,a+o+l);let u=[...r[0]][0].length,h=n.slice(0,i+r.index+u+a);if(Math.min(i,a)%2){let p=h.slice(1,-1);return{type:"em",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}let d=h.slice(2,-2);return{type:"strong",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(t),i=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&i&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,r;return e[2]==="@"?(t=e[1],r="mailto:"+t):(t=e[1],r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(n){var t;let e;if(e=this.rules.inline.url.exec(n)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let s;do s=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(s!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},wh=class ik{constructor(e){mr(this,"tokens");mr(this,"options");mr(this,"state");mr(this,"tokenizer");mr(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ug,this.options.tokenizer=this.options.tokenizer||new V2,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:no,block:Kb.normal,inline:lx.normal};this.options.pedantic?(t.block=Kb.pedantic,t.inline=lx.pedantic):this.options.gfm&&(t.block=Kb.gfm,this.options.breaks?t.inline=lx.breaks:t.inline=lx.gfm),this.tokenizer.rules=t}static get rules(){return{block:Kb,inline:lx}}static lex(e,t){return new ik(t).lex(e)}static lexInline(e,t){return new ik(t).inlineTokens(e)}lex(e){e=e.replace(no.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var i,s,a;for(this.options.pedantic&&(e=e.replace(no.tabCharGlobal,"    ").replace(no.spaceLine,""));e;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(o=c.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let c=t.at(-1);o.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.at(-1).src=c.text):t.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),t.push(o);continue}let l=e;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,u=e.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){let c=t.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(o),r=l.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let c=t.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+o.raw,c.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(o);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var o,l,c;let r=e,i=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,a="";for(;e;){s||(a=""),s=!1;let u;if((l=(o=this.options.extensions)==null?void 0:o.inline)!=null&&l.some(d=>(u=d.call({lexer:this},e,t))?(e=e.substring(u.raw.length),t.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);let d=t.at(-1);u.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):t.push(u);continue}if(u=this.tokenizer.emStrong(e,r,a)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),t.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),t.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),t.push(u);continue}let h=e;if((c=this.options.extensions)!=null&&c.startInline){let d=1/0,p=e.slice(1),g;this.options.extensions.startInline.forEach(_=>{g=_.call({lexer:this},p),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(u=this.tokenizer.inlineText(h)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(a=u.raw.slice(-1)),s=!0;let d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):t.push(u);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},z2=class{constructor(n){mr(this,"options");mr(this,"parser");this.options=n||ug}space(n){return""}code({text:n,lang:e,escaped:t}){var s;let r=(s=(e||"").match(no.notSpaceStart))==null?void 0:s[0],i=n.replace(no.endingNewline,"")+`
`;return r?'<pre><code class="language-'+eu(r)+'">'+(t?i:eu(i,!0))+`</code></pre>
`:"<pre><code>"+(t?i:eu(i,!0))+`</code></pre>
`}blockquote({tokens:n}){return`<blockquote>
${this.parser.parse(n)}</blockquote>
`}html({text:n}){return n}heading({tokens:n,depth:e}){return`<h${e}>${this.parser.parseInline(n)}</h${e}>
`}hr(n){return`<hr>
`}list(n){let e=n.ordered,t=n.start,r="";for(let a=0;a<n.items.length;a++){let o=n.items[a];r+=this.listitem(o)}let i=e?"ol":"ul",s=e&&t!==1?' start="'+t+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(n){var t;let e="";if(n.task){let r=this.checkbox({checked:!!n.checked});n.loose?((t=n.tokens[0])==null?void 0:t.type)==="paragraph"?(n.tokens[0].text=r+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&n.tokens[0].tokens[0].type==="text"&&(n.tokens[0].tokens[0].text=r+" "+eu(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(n.tokens,!!n.loose),`<li>${e}</li>
`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>
`}table(n){let e="",t="";for(let i=0;i<n.header.length;i++)t+=this.tablecell(n.header[i]);e+=this.tablerow({text:t});let r="";for(let i=0;i<n.rows.length;i++){let s=n.rows[i];t="";for(let a=0;a<s.length;a++)t+=this.tablecell(s[a]);r+=this.tablerow({text:t})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:n}){return`<tr>
${n}</tr>
`}tablecell(n){let e=this.parser.parseInline(n.tokens),t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${eu(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:e,tokens:t}){let r=this.parser.parseInline(t),i=eU(n);if(i===null)return r;n=i;let s='<a href="'+n+'"';return e&&(s+=' title="'+eu(e)+'"'),s+=">"+r+"</a>",s}image({href:n,title:e,text:t,tokens:r}){r&&(t=this.parser.parseInline(r,this.parser.textRenderer));let i=eU(n);if(i===null)return eu(t);n=i;let s=`<img src="${n}" alt="${t}"`;return e&&(s+=` title="${eu(e)}"`),s+=">",s}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:eu(n.text)}},gL=class{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}},bh=class sk{constructor(e){mr(this,"options");mr(this,"renderer");mr(this,"textRenderer");this.options=e||ug,this.options.renderer=this.options.renderer||new z2,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new gL}static parse(e,t){return new sk(t).parse(e)}static parseInline(e,t){return new sk(t).parseInline(e)}parse(e,t=!0){var i,s;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=o,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){r+=u||"";continue}}let l=o;switch(l.type){case"space":{r+=this.renderer.space(l);continue}case"hr":{r+=this.renderer.hr(l);continue}case"heading":{r+=this.renderer.heading(l);continue}case"code":{r+=this.renderer.code(l);continue}case"table":{r+=this.renderer.table(l);continue}case"blockquote":{r+=this.renderer.blockquote(l);continue}case"list":{r+=this.renderer.list(l);continue}case"html":{r+=this.renderer.html(l);continue}case"paragraph":{r+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;a+1<e.length&&e[a+1].type==="text";)c=e[++a],u+=`
`+this.renderer.text(c);t?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,t=this.renderer){var i,s;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=c||"";continue}}let l=o;switch(l.type){case"escape":{r+=t.text(l);break}case"html":{r+=t.html(l);break}case"link":{r+=t.link(l);break}case"image":{r+=t.image(l);break}case"strong":{r+=t.strong(l);break}case"em":{r+=t.em(l);break}case"codespan":{r+=t.codespan(l);break}case"br":{r+=t.br(l);break}case"del":{r+=t.del(l);break}case"text":{r+=t.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},CR,PE=(CR=class{constructor(n){mr(this,"options");mr(this,"block");this.options=n||ug}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?wh.lex:wh.lexInline}provideParser(){return this.block?bh.parse:bh.parseInline}},mr(CR,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),CR),q1e=class{constructor(...n){mr(this,"defaults",lL());mr(this,"options",this.setOptions);mr(this,"parse",this.parseMarkdown(!0));mr(this,"parseInline",this.parseMarkdown(!1));mr(this,"Parser",bh);mr(this,"Renderer",z2);mr(this,"TextRenderer",gL);mr(this,"Lexer",wh);mr(this,"Tokenizer",V2);mr(this,"Hooks",PE);this.use(...n)}walkTokens(n,e){var r,i;let t=[];for(let s of n)switch(t=t.concat(e.call(this,s)),s.type){case"table":{let a=s;for(let o of a.header)t=t.concat(this.walkTokens(o.tokens,e));for(let o of a.rows)for(let l of o)t=t.concat(this.walkTokens(l.tokens,e));break}case"list":{let a=s;t=t.concat(this.walkTokens(a.items,e));break}default:{let a=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{let l=a[o].flat(1/0);t=t.concat(this.walkTokens(l,e))}):a.tokens&&(t=t.concat(this.walkTokens(a.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),t.renderer){let i=this.defaults.renderer||new z2(this.defaults);for(let s in t.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,o=t.renderer[a],l=i[a];i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u||""}}r.renderer=i}if(t.tokenizer){let i=this.defaults.tokenizer||new V2(this.defaults);for(let s in t.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,o=t.tokenizer[a],l=i[a];i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.tokenizer=i}if(t.hooks){let i=this.defaults.hooks||new PE;for(let s in t.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,o=t.hooks[a],l=i[a];PE.passThroughHooks.has(s)?i[a]=c=>{if(this.defaults.async)return Promise.resolve(o.call(i,c)).then(h=>l.call(i,h));let u=o.call(i,c);return l.call(i,u)}:i[a]=(...c)=>{let u=o.apply(i,c);return u===!1&&(u=l.apply(i,c)),u}}r.hooks=i}if(t.walkTokens){let i=this.defaults.walkTokens,s=t.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,e){return wh.lex(n,e??this.defaults)}parser(n,e){return bh.parse(n,e??this.defaults)}parseMarkdown(n){return(e,t)=>{let r={...t},i={...this.defaults,...r},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=n);let a=i.hooks?i.hooks.provideLexer():n?wh.lex:wh.lexInline,o=i.hooks?i.hooks.provideParser():n?bh.parse:bh.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(e):e).then(l=>a(l,i)).then(l=>i.hooks?i.hooks.processAllTokens(l):l).then(l=>i.walkTokens?Promise.all(this.walkTokens(l,i.walkTokens)).then(()=>l):l).then(l=>o(l,i)).then(l=>i.hooks?i.hooks.postprocess(l):l).catch(s);try{i.hooks&&(e=i.hooks.preprocess(e));let l=a(e,i);i.hooks&&(l=i.hooks.processAllTokens(l)),i.walkTokens&&this.walkTokens(l,i.walkTokens);let c=o(l,i);return i.hooks&&(c=i.hooks.postprocess(c)),c}catch(l){return s(l)}}}onError(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let r="<p>An error occurred:</p><pre>"+eu(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}}},Vm=new q1e;function wr(n,e){return Vm.parse(n,e)}wr.options=wr.setOptions=function(n){return Vm.setOptions(n),wr.defaults=Vm.defaults,yK(wr.defaults),wr};wr.getDefaults=lL;wr.defaults=ug;wr.use=function(...n){return Vm.use(...n),wr.defaults=Vm.defaults,yK(wr.defaults),wr};wr.walkTokens=function(n,e){return Vm.walkTokens(n,e)};wr.parseInline=Vm.parseInline;wr.Parser=bh;wr.parser=bh.parse;wr.Renderer=z2;wr.TextRenderer=gL;wr.Lexer=wh;wr.lexer=wh.lex;wr.Tokenizer=V2;wr.Hooks=PE;wr.parse=wr;wr.options;wr.setOptions;wr.use;wr.walkTokens;wr.parseInline;bh.parse;wh.lex;function rU(n){return n?wr.parseSync?wr.parseSync(n,{breaks:!0}):wr.parse(n,{breaks:!0}):""}const _p=[{q:"Bagaimana cara mendaftar sebagai anggota Mahapala Narotama?",a:"Untuk mendaftar sebagai anggota, kunjungi halaman Pendaftaran di website Mahapala Narotama, isi formulir yang tersedia, dan ikuti petunjuk selanjutnya."},{q:"Apa saja syarat pendaftaran anggota baru?",a:"Syarat pendaftaran meliputi identitas diri (KTP/KTM), nomor telepon aktif, dan komitmen mengikuti kegiatan organisasi."},{q:"Kapan pendaftaran anggota baru dibuka?",a:"Jadwal pendaftaran anggota baru diumumkan secara berkala di website dan media sosial Mahapala Narotama."},{q:"Apakah pendaftaran anggota Mahapala Narotama gratis?",a:"Ya, pendaftaran anggota baru Mahapala Narotama tidak dipungut biaya."},{q:"Bagaimana alur seleksi calon anggota?",a:"Setelah mendaftar, calon anggota akan mengikuti seleksi administrasi dan wawancara sesuai jadwal yang ditentukan."},{q:"Apakah ada batas usia untuk mendaftar?",a:"Tidak ada , namun Pendaftar harus dari Mahasiswa Aktif Universitas Narotama dengan ketentuan dapat di lihat di Halaman Pendaftaran"},{q:"Bagaimana jika saya salah mengisi data pendaftaran?",a:"Data dapat diedit sebelum pendaftaran ditutup"},{q:"Apakah bisa mendaftar lewat HP?",a:"Ya, seluruh proses pendaftaran dapat dilakukan melalui perangkat mobile."},{q:"Apa itu Mahapala Narotama?",a:"Mahapala Narotama adalah organisasi pecinta alam di Universitas Narotama yang bergerak di bidang pelestarian alam, petualangan, dan pengembangan diri."},{q:"Apa manfaat menjadi anggota Mahapala Narotama?",a:"Anggota dapat mengikuti pelatihan, kegiatan alam bebas, pengembangan softskill, serta memperluas jaringan pertemanan."},{q:"Apa saja kegiatan rutin Mahapala Narotama?",a:"Kegiatan rutin meliputi pelatihan dasar, ekspedisi, bakti sosial, seminar lingkungan, dan diskusi rutin."},{q:"Bagaimana cara mengikuti kegiatan Mahapala Narotama?",a:"Setelah menjadi anggota, Anda dapat mendaftar/ mengikuti kegiatan melalui pengumuman di website atau grup resmi."},{q:"Apakah ada grup diskusi untuk pendaftar?",a:"Ya, grup diskusi akan diberikan setelah pendaftaran melakukan pendaftaran."},{q:"Bagaimana cara menghubungi pengurus Mahapala Narotama?",a:"Gunakan menu Hubungi Kami di website atau kontak WhatsApp/email yang tersedia."},{q:"Apakah ada pelatihan untuk anggota baru?",a:"Ya, anggota baru akan mendapatkan pelatihan dasar organisasi dan kegiatan alam."},{q:"Apakah ada kuota anggota baru setiap tahun?",a:"Ya, kuota anggota baru terbatas sesuai kebijakan organisasi."},{q:"Bagaimana cara mendapatkan sertifikat keanggotaan?",a:"Sertifikat akan diberikan setelah menyelesaikan pelatihan dan aktif berpartisipasi dalam kegiatan."},{q:"Apakah Mahapala Narotama hanya untuk mahasiswa Universitas Narotama?",a:"Ya, anggota Mahapala Narotama adalah mahasiswa aktif Universitas Narotama."},{q:"Apakah kegiatan Mahapala Narotama mengganggu perkuliahan?",a:"Tidak, kegiatan organisasi diatur agar tidak mengganggu jadwal perkuliahan anggota."},{q:"Bagaimana jika ada jadwal kuliah yang bentrok dengan kegiatan?",a:"Anggota dapat mengkomunikasikan jadwal kepada pengurus agar dapat menyesuaikan keikutsertaan dalam kegiatan."},{q:"Apakah ada dukungan akademik untuk anggota?",a:"Mahapala Narotama mendukung anggotanya dalam hal akademik melalui diskusi dan saling membantu antar anggota."},{q:"Apakah keanggotaan Mahapala Narotama mempengaruhi nilai akademik?",a:"Keanggotaan tidak mempengaruhi nilai akademik, namun pengalaman organisasi dapat menjadi nilai tambah di luar akademik."}];function jI(n,e=3,t=[]){return[...n.filter(s=>!t.includes(s.q))].sort(()=>.5-Math.random()).slice(0,e).map(s=>s.q)}function X1e(){const[n,e]=F.useState(!1);return F.useEffect(()=>{const t=()=>{e(window.scrollY>200)};return window.addEventListener("scroll",t),t(),()=>window.removeEventListener("scroll",t)},[]),n}async function IK(n){var e,t;try{const i=await(await fetch("https://router.huggingface.co/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer 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","Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:"Kamu adalah MPN AI Assistant, asisten virtual Mahapala Narotama yang ramah, romantis, informatif, dan sangat mencintai alam. Jawablah semua pertanyaan dalam bahasa Indonesia yang baik, sopan, dan selalu perkenalkan dirimu sebagai MPN AI Assistant jika diminta. Tunjukkan kecintaanmu pada alam dan ajak pengguna untuk ikut menjaga dan mencintai alam dalam setiap kesempatan yang relevan."},{role:"user",content:n}],model:"openai/gpt-oss-20b:fireworks-ai"})})).json();return i&&i.choices&&((t=(e=i.choices[0])==null?void 0:e.message)!=null&&t.content)?i.choices[0].message.content.trim():`Maaf, AI tidak memberikan jawaban yang bisa ditampilkan.
[DEBUG: `+JSON.stringify(i)+"]"}catch{return"Maaf, terjadi kesalahan pada AI Assistant."}}function Y1e(){const[n,e]=F.useState(!1),[t,r]=F.useState(""),[i,s]=F.useState([{from:"bot",text:" Hai, aku <strong>MPN AI Assistant</strong>! Senang bisa menemani harimu di dunia maya dan alam nyata. Aku sangat mencintai alam, dan siap membantu kamu seputar Mahapala Narotama, pendaftaran anggota baru, atau pertanyaan lain yang ingin kamu tahu. Jangan ragu untuk bertanya, dan jangan lupa untuk selalu mencintai serta menjaga alam bersama aku! "}]),a=X1e(),o=F.useRef(null),l=F.useRef(null),[c,u]=F.useState(!1),[h,d]=F.useState(()=>jI(_p,1)),[p,g]=F.useState(!1),[_,w]=F.useState(""),x=F.useRef(null),[S,E]=F.useState(!1),[T,D]=F.useState(!1);F.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[i,p,_]),F.useEffect(()=>{n&&d(jI(_p,1))},[n]),F.useEffect(()=>{if(!(n||c))return;function I(N){const P=o.current,R=l.current;P&&!P.contains(N.target)&&R&&!R.contains(N.target)&&(u(!0),setTimeout(()=>{e(!1),u(!1)},300))}return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[n,c]),F.useEffect(()=>{if(!(n||c))return;function I(){S||(u(!0),setTimeout(()=>{e(!1),u(!1)},300))}return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[n,c,S]);const k=async I=>{const N=typeof I=="string"?I:t;if(!N.trim())return;s(R=>[...R,{from:"user",text:N}]),r(""),g(!0),w("");const P=_p.find(R=>N.toLowerCase().includes(R.q.toLowerCase()));if(P){const R=P.a;for(let B=1;B<=R.length;B++)w(rU(R.slice(0,B))),await new Promise(z=>setTimeout(z,18));s(B=>[...B,{from:"bot",text:R}]),g(!1),w("")}else{let R=await IK(N);s(B=>[...B,{from:"bot",text:R}]),g(!1),w("")}typeof I=="string"&&d(jI(_p,1,[I]))};return m.jsxs("div",{children:[m.jsx("button",{ref:l,onClick:()=>e(I=>!I),className:"fixed right-6 z-[60] bg-blue-600 text-white rounded-full shadow-lg w-14 h-14 flex items-center justify-center text-2xl hover:bg-blue-700 focus:outline-none","aria-label":"Buka Chatbot",style:{bottom:a?"5.5rem":"1.5rem",transition:"bottom 0.3s"},children:""}),(n||c)&&m.jsxs("div",{ref:o,className:`fixed z-[70] w-80 max-w-full bg-white rounded-lg shadow-2xl border border-blue-200 flex flex-col transition-opacity duration-300 ${c?"opacity-0":"opacity-100"}`,style:{right:"1.5rem",bottom:a?"10rem":"6rem",maxWidth:"95vw",pointerEvents:c?"none":"auto",maxHeight:a?"65vh":"80vh",overflowY:"auto"},children:[m.jsxs("div",{className:"p-3 border-b font-bold bg-blue-600 text-white rounded-t-lg flex items-center gap-2 justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(l0e,{className:"w-6 h-6"}),m.jsx("span",{children:"MPN AI Assistant"})]}),m.jsx("button",{onClick:()=>{u(!0),setTimeout(()=>{e(!1),u(!1)},300)},className:"ml-2 p-1 rounded hover:bg-blue-700 focus:outline-none","aria-label":"Tutup Chatbot",type:"button",children:m.jsx(hw,{className:"w-5 h-5"})})]}),m.jsxs("div",{ref:x,className:"flex-1 p-3 overflow-y-auto max-h-80 text-sm",children:[i.length===0&&m.jsx("div",{className:"text-gray-500",children:"Tanyakan apa saja tentang website, FAQ, atau pendaftaran."}),i.map((I,N)=>m.jsxs("div",{className:I.from==="user"?"flex justify-end mb-2":"flex justify-start mb-2",children:[I.from==="bot"&&m.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-white border border-blue-200 flex items-center justify-center mr-2 overflow-hidden",children:m.jsx("img",{src:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/refs/heads/main/Img/favicon.png",alt:"MPN",className:"w-7 h-7 object-contain"})}),m.jsx("span",{className:I.from==="user"?"inline-block bg-blue-100 text-blue-800 rounded px-3 py-2 max-w-[70%]":"inline-block bg-gray-100 text-gray-800 rounded px-3 py-2 max-w-[70%]",children:I.from==="bot"?m.jsx("span",{dangerouslySetInnerHTML:{__html:rU(I.text)}}):I.text}),I.from==="user"&&m.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-blue-100 border border-blue-200 flex items-center justify-center ml-2",children:m.jsx(ZX,{className:"w-5 h-5 text-blue-700"})})]},N)),p&&_&&m.jsx("div",{className:"text-left mb-2",children:m.jsxs("span",{className:"inline-block bg-gray-100 text-gray-800 rounded px-2 py-1 animate-pulse",children:[_,m.jsx("span",{className:"inline-block w-2 h-2 bg-gray-400 rounded-full ml-1 animate-bounce"})]})}),p&&!_&&m.jsxs("div",{className:"text-gray-400 animate-pulse flex items-center gap-2 mt-2",children:[m.jsx("span",{className:"inline-block w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),m.jsx("span",{className:"inline-block w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"100ms"}}),m.jsx("span",{className:"inline-block w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"200ms"}}),m.jsx("span",{children:"AI sedang mengetik..."})]})]}),m.jsxs("div",{className:"p-3 border-t flex gap-2 relative items-center bg-gray-50",children:[m.jsx("button",{className:"flex items-center justify-center bg-white border border-gray-300 hover:bg-blue-100 text-blue-700 rounded-full w-9 h-9 shadow mr-2 transition",style:{zIndex:2},title:"Lihat semua pertanyaan FAQ",onClick:()=>D(!0),type:"button",children:m.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[m.jsx("circle",{cx:"12",cy:"6",r:"1.5"}),m.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),m.jsx("circle",{cx:"12",cy:"18",r:"1.5"})]})}),m.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-200 min-w-0 bg-white",placeholder:"Tulis pertanyaan...",value:t,onChange:I=>r(I.target.value),onKeyDown:I=>I.key==="Enter"?k():void 0,disabled:p,onFocus:()=>E(!0),onBlur:()=>E(!1),style:{maxWidth:180}}),m.jsx("button",{onClick:()=>k(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm font-semibold shadow",disabled:p||!t.trim(),style:{minWidth:64},children:"Kirim"}),T&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-40",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-0 relative overflow-y-auto max-h-[80vh] border border-blue-100",children:[m.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-blue-100 bg-gradient-to-r from-blue-50 to-green-50 rounded-t-2xl",children:[m.jsx("h2",{className:"text-lg font-bold text-blue-800",children:"Daftar Pertanyaan FAQ"}),m.jsx("button",{className:"text-gray-500 hover:text-red-500 text-2xl font-bold",onClick:()=>D(!1),"aria-label":"Tutup daftar pertanyaan",type:"button",children:""})]}),m.jsxs("div",{className:"px-6 py-4",children:[m.jsxs("div",{className:"mb-5",children:[m.jsx("div",{className:"font-semibold text-blue-700 mb-2 text-base",children:"Informasi Pendaftaran"}),m.jsx("ul",{className:"space-y-1",children:_p.slice(0,8).map((I,N)=>m.jsx("li",{children:m.jsx("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 transition text-sm",onClick:()=>{D(!1),k(I.q)},children:I.q})},N))})]}),m.jsxs("div",{className:"mb-5",children:[m.jsx("div",{className:"font-semibold text-blue-700 mb-2 text-base",children:"Informasi Organisasi"}),m.jsx("ul",{className:"space-y-1",children:_p.slice(8,18).map((I,N)=>m.jsx("li",{children:m.jsx("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 transition text-sm",onClick:()=>{D(!1),k(I.q)},children:I.q})},N))})]}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-blue-700 mb-2 text-base",children:"Informasi Perkuliahan"}),m.jsx("ul",{className:"space-y-1",children:_p.slice(18).map((I,N)=>m.jsx("li",{children:m.jsx("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 transition text-sm",onClick:()=>{D(!1),k(I.q)},children:I.q})},N))})]})]})]})})]}),m.jsxs("div",{className:"px-3 pb-3 pt-1",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Coba pertanyaan cepat:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((I,N)=>m.jsx("button",{className:"bg-blue-100 text-blue-700 rounded-full px-3 py-1 text-xs hover:bg-blue-200 transition",onClick:()=>k(I),type:"button",disabled:p,children:I},N))})]})]})]})}const K1e=YT("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",penuh:"border-transparent bg-green-700 text-white",muda:"border-transparent bg-green-200 text-green-900"}},defaultVariants:{variant:"default"}});function Ja({className:n,variant:e,...t}){return m.jsx("div",{className:en(K1e({variant:e}),n),...t})}function ll(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function zm(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const PK=6048e5,Z1e=864e5;let Q1e={};function pw(){return Q1e}function h_(n,e){var o,l,c,u;const t=pw(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=ll(n),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function H2(n){return h_(n,{weekStartsOn:1})}function RK(n){const e=ll(n),t=e.getFullYear(),r=zm(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=H2(r),s=zm(n,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);const a=H2(s);return e.getTime()>=i.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function iU(n){const e=ll(n);return e.setHours(0,0,0,0),e}function sU(n){const e=ll(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function NK(n,e){const t=iU(n),r=iU(e),i=+t-sU(t),s=+r-sU(r);return Math.round((i-s)/Z1e)}function J1e(n){const e=RK(n),t=zm(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),H2(t)}function e_e(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function t_e(n){if(!e_e(n)&&typeof n!="number")return!1;const e=ll(n);return!isNaN(Number(e))}function n_e(n,e){const t=ll(n),r=ll(e),i=aU(t,r),s=Math.abs(NK(t,r));t.setDate(t.getDate()-i*s);const a=+(aU(t,r)===-i),o=i*(s-a);return o===0?0:o}function aU(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function r_e(n){const e=ll(n),t=zm(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const i_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s_e=(n,e,t)=>{let r;const i=i_e[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function lv(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const a_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},o_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c_e={date:lv({formats:a_e,defaultWidth:"full"}),time:lv({formats:o_e,defaultWidth:"full"}),dateTime:lv({formats:l_e,defaultWidth:"full"})},u_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h_e=(n,e,t,r)=>u_e[n];function cu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):a;i=n.formattingValues[o]||n.formattingValues[a]}else{const a=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[o]||n.values[a]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const d_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},f_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},p_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},v_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y_e=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},x_e={ordinalNumber:y_e,era:cu({values:d_e,defaultWidth:"wide"}),quarter:cu({values:f_e,defaultWidth:"wide",argumentCallback:n=>n-1}),month:cu({values:p_e,defaultWidth:"wide"}),day:cu({values:m_e,defaultWidth:"wide"}),dayPeriod:cu({values:g_e,defaultWidth:"wide",formattingValues:v_e,defaultFormattingWidth:"wide"})};function uu(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?w_e(o,h=>h.test(a)):__e(o,h=>h.test(a));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function __e(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function w_e(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function kK(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let a=n.valueCallback?n.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const b_e=/^(\d+)(th|st|nd|rd)?/i,S_e=/\d+/i,E_e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},A_e={any:[/^b/i,/^(a|c)/i]},T_e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},C_e={any:[/1/i,/2/i,/3/i,/4/i]},M_e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P_e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},N_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D_e={ordinalNumber:kK({matchPattern:b_e,parsePattern:S_e,valueCallback:n=>parseInt(n,10)}),era:uu({matchPatterns:E_e,defaultMatchWidth:"wide",parsePatterns:A_e,defaultParseWidth:"any"}),quarter:uu({matchPatterns:T_e,defaultMatchWidth:"wide",parsePatterns:C_e,defaultParseWidth:"any",valueCallback:n=>n+1}),month:uu({matchPatterns:M_e,defaultMatchWidth:"wide",parsePatterns:I_e,defaultParseWidth:"any"}),day:uu({matchPatterns:P_e,defaultMatchWidth:"wide",parsePatterns:R_e,defaultParseWidth:"any"}),dayPeriod:uu({matchPatterns:N_e,defaultMatchWidth:"any",parsePatterns:k_e,defaultParseWidth:"any"})},O_e={code:"en-US",formatDistance:s_e,formatLong:c_e,formatRelative:h_e,localize:x_e,match:D_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L_e(n){const e=ll(n);return NK(e,r_e(e))+1}function F_e(n){const e=ll(n),t=+H2(e)-+J1e(e);return Math.round(t/PK)+1}function DK(n,e){var u,h,d,p;const t=ll(n),r=t.getFullYear(),i=pw(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(d=i.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=zm(n,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=h_(a,e),l=zm(n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=h_(l,e);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function B_e(n,e){var o,l,c,u;const t=pw(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=DK(n,e),s=zm(n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),h_(s,e)}function U_e(n,e){const t=ll(n),r=+h_(t,e)-+B_e(t,e);return Math.round(r/PK)+1}function Nr(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Td={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Nr(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Nr(t+1,2)},d(n,e){return Nr(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Nr(n.getHours()%12||12,e.length)},H(n,e){return Nr(n.getHours(),e.length)},m(n,e){return Nr(n.getMinutes(),e.length)},s(n,e){return Nr(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Nr(i,e.length)}},Lg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oU={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Td.y(n,e)},Y:function(n,e,t,r){const i=DK(n,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Nr(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Nr(s,e.length)},R:function(n,e){const t=RK(n);return Nr(t,e.length)},u:function(n,e){const t=n.getFullYear();return Nr(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nr(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nr(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Td.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nr(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=U_e(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Nr(i,e.length)},I:function(n,e,t){const r=F_e(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Nr(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Td.d(n,e)},D:function(n,e,t){const r=L_e(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Nr(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Nr(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Nr(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Nr(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Lg.noon:r===0?i=Lg.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Lg.evening:r>=12?i=Lg.afternoon:r>=4?i=Lg.morning:i=Lg.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Td.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Td.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Nr(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Nr(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Td.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Td.s(n,e)},S:function(n,e){return Td.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return cU(r);case"XXXX":case"XX":return Vp(r);case"XXXXX":case"XXX":default:return Vp(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return cU(r);case"xxxx":case"xx":return Vp(r);case"xxxxx":case"xxx":default:return Vp(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lU(r,":");case"OOOO":default:return"GMT"+Vp(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lU(r,":");case"zzzz":default:return"GMT"+Vp(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Nr(r,e.length)},T:function(n,e,t){const r=n.getTime();return Nr(r,e.length)}};function lU(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Nr(s,2)}function cU(n,e){return n%60===0?(n>0?"-":"+")+Nr(Math.abs(n)/60,2):Vp(n,e)}function Vp(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Nr(Math.trunc(r/60),2),s=Nr(r%60,2);return t+i+e+s}const uU=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},OK=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},j_e=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return uU(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",uU(r,e)).replace("{{time}}",OK(i,e))},V_e={p:OK,P:j_e},z_e=/^D+$/,H_e=/^Y+$/,W_e=["D","DD","YY","YYYY"];function G_e(n){return z_e.test(n)}function $_e(n){return H_e.test(n)}function q_e(n,e,t){const r=X_e(n,e,t);if(console.warn(r),W_e.includes(n))throw new RangeError(r)}function X_e(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,K_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z_e=/^'([^]*?)'?$/,Q_e=/''/g,J_e=/[a-zA-Z]/;function vL(n,e,t){var u,h,d,p,g,_,w,x;const r=pw(),i=(t==null?void 0:t.locale)??r.locale??O_e,s=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((_=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((x=(w=r.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,o=ll(n);if(!t_e(o))throw new RangeError("Invalid time value");let l=e.match(K_e).map(S=>{const E=S[0];if(E==="p"||E==="P"){const T=V_e[E];return T(S,i.formatLong)}return S}).join("").match(Y_e).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const E=S[0];if(E==="'")return{isToken:!1,value:ewe(S)};if(oU[E])return{isToken:!0,value:S};if(E.match(J_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(S=>{if(!S.isToken)return S.value;const E=S.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&$_e(E)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&G_e(E))&&q_e(E,e,String(n));const T=oU[E[0]];return T(o,E,i.localize,c)}).join("")}function ewe(n){const e=n.match(Z_e);return e?e[1].replace(Q_e,"'"):n}function twe(){return Object.assign({},pw())}const nwe={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},rwe=(n,e,t)=>{let r;const i=nwe[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"dalam waktu "+r:r+" yang lalu":r},iwe={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},swe={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},awe={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},owe={date:lv({formats:iwe,defaultWidth:"full"}),time:lv({formats:swe,defaultWidth:"full"}),dateTime:lv({formats:awe,defaultWidth:"full"})},lwe={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},cwe=(n,e,t,r)=>lwe[n],uwe={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},hwe={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},dwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},fwe={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},pwe={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},mwe={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},gwe=(n,e)=>"ke-"+Number(n),vwe={ordinalNumber:gwe,era:cu({values:uwe,defaultWidth:"wide"}),quarter:cu({values:hwe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:cu({values:dwe,defaultWidth:"wide"}),day:cu({values:fwe,defaultWidth:"wide"}),dayPeriod:cu({values:pwe,defaultWidth:"wide",formattingValues:mwe,defaultFormattingWidth:"wide"})},ywe=/^ke-(\d+)?/i,xwe=/\d+/i,_we={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},wwe={any:[/^s/i,/^(m|e)/i]},bwe={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},Swe={any:[/1/i,/2/i,/3/i,/4/i]},Ewe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},Awe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Twe={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},Cwe={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},Mwe={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},Iwe={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},Pwe={ordinalNumber:kK({matchPattern:ywe,parsePattern:xwe,valueCallback:n=>parseInt(n,10)}),era:uu({matchPatterns:_we,defaultMatchWidth:"wide",parsePatterns:wwe,defaultParseWidth:"any"}),quarter:uu({matchPatterns:bwe,defaultMatchWidth:"wide",parsePatterns:Swe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:uu({matchPatterns:Ewe,defaultMatchWidth:"wide",parsePatterns:Awe,defaultParseWidth:"any"}),day:uu({matchPatterns:Twe,defaultMatchWidth:"wide",parsePatterns:Cwe,defaultParseWidth:"any"}),dayPeriod:uu({matchPatterns:Mwe,defaultMatchWidth:"any",parsePatterns:Iwe,defaultParseWidth:"any"})},LK={code:"id",formatDistance:rwe,formatLong:owe,formatRelative:cwe,localize:vwe,match:Pwe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function FK({activity:n}){const e=vL(new Date(n.date),"d MMMM yyyy",{locale:LK}),t=r=>{switch(r.toLowerCase()){case"ekspedisi":return"default";case"konservasi":return"outline";case"edukasi":return"secondary";default:return"default"}};return m.jsxs(Nu,{className:"h-full flex flex-col bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition",children:[m.jsx("div",{className:"relative h-48 overflow-hidden",children:m.jsx("img",{src:n.imageUrl||"https://images.unsplash.com/photo-1511632765486-a01980e01a18?auto=format&fit=crop&w=800&h=450",alt:n.title,className:"w-full h-full object-cover transition hover:scale-105 duration-500"})}),m.jsxs(Um,{className:"flex-grow p-5",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("span",{className:"text-sm text-gray-500",children:e}),m.jsx(Ja,{variant:t(n.category),children:n.category})]}),m.jsx("h3",{className:"font-heading text-lg font-semibold mb-2",children:n.title}),m.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:n.description})]}),m.jsx(VY,{className:"pt-0 px-5 pb-5",children:m.jsx(Jo,{href:`/kegiatan/${n.id}`,className:"text-primary font-medium hover:text-secondary transition",children:"Selengkapnya "})})]})}function BK({module:n}){const e=t=>{switch(t.toLowerCase()){case"map":case"map-marked-alt":return m.jsx(KX,{className:"h-5 w-5"});case"campground":case"tent":return m.jsx(A0e,{className:"h-5 w-5"});case"first-aid":case"medkit":return m.jsx(h0e,{className:"h-5 w-5"});case"compass":return m.jsx(AB,{className:"h-5 w-5"});case"mountain":return m.jsx(b0e,{className:"h-5 w-5"});case"leaf":return m.jsx(v0e,{className:"h-5 w-5"});case"water":case"droplets":return m.jsx(d0e,{className:"h-5 w-5"});case"wind":return m.jsx(M0e,{className:"h-5 w-5"});default:return m.jsx(AB,{className:"h-5 w-5"})}};return m.jsx(Nu,{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition h-full",children:m.jsxs(Um,{className:"p-0",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("span",{className:"bg-primary/10 text-primary p-3 rounded-full mr-4",children:e(n.icon)}),m.jsx("h3",{className:"font-heading text-lg font-semibold",children:n.title})]}),m.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),m.jsxs("a",{href:n.link,className:"inline-flex items-center text-primary hover:text-secondary transition",target:"_blank",rel:"noopener noreferrer",children:[m.jsx("span",{className:"mr-2",children:"Pelajari"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})})}var mw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hm=typeof window>"u"||"Deno"in globalThis;function Ao(){}function Rwe(n,e){return typeof n=="function"?n(e):n}function ak(n){return typeof n=="number"&&n>=0&&n!==1/0}function UK(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Tf(n,e){return typeof n=="function"?n(e):n}function Ml(n,e){return typeof n=="function"?n(e):n}function hU(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=n;if(a){if(r){if(e.queryHash!==yL(a,e.options))return!1}else if(!f_(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function dU(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(d_(e.options.mutationKey)!==d_(s))return!1}else if(!f_(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function yL(n,e){return((e==null?void 0:e.queryKeyHashFn)||d_)(n)}function d_(n){return JSON.stringify(n,(e,t)=>lk(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function f_(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>f_(n[t],e[t])):!1}function jK(n,e){if(n===e)return n;const t=fU(n)&&fU(e);if(t||lk(n)&&lk(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),a=s.length,o=t?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const h=t?u:s[u];(!t&&l.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(o[h]=void 0,c++):(o[h]=jK(n[h],e[h]),o[h]===n[h]&&n[h]!==void 0&&c++)}return i===a&&c===i?n:o}return e}function ok(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function fU(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function lk(n){if(!pU(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!pU(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function pU(n){return Object.prototype.toString.call(n)==="[object Object]"}function Nwe(n){return new Promise(e=>{setTimeout(e,n)})}function ck(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?jK(n,e):e}function kwe(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function Dwe(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var xL=Symbol();function VK(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===xL?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Owe(n,e){return typeof n=="function"?n(...e):!!n}var um,Zd,mv,_7,Lwe=(_7=class extends mw{constructor(){super();vn(this,um);vn(this,Zd);vn(this,mv);zt(this,mv,e=>{if(!Hm&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){we(this,Zd)||this.setEventListener(we(this,mv))}onUnsubscribe(){var e;this.hasListeners()||((e=we(this,Zd))==null||e.call(this),zt(this,Zd,void 0))}setEventListener(e){var t;zt(this,mv,e),(t=we(this,Zd))==null||t.call(this),zt(this,Zd,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){we(this,um)!==e&&(zt(this,um,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof we(this,um)=="boolean"?we(this,um):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},um=new WeakMap,Zd=new WeakMap,mv=new WeakMap,_7),_L=new Lwe,gv,Qd,vv,w7,Fwe=(w7=class extends mw{constructor(){super();vn(this,gv,!0);vn(this,Qd);vn(this,vv);zt(this,vv,e=>{if(!Hm&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){we(this,Qd)||this.setEventListener(we(this,vv))}onUnsubscribe(){var e;this.hasListeners()||((e=we(this,Qd))==null||e.call(this),zt(this,Qd,void 0))}setEventListener(e){var t;zt(this,vv,e),(t=we(this,Qd))==null||t.call(this),zt(this,Qd,e(this.setOnline.bind(this)))}setOnline(e){we(this,gv)!==e&&(zt(this,gv,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return we(this,gv)}},gv=new WeakMap,Qd=new WeakMap,vv=new WeakMap,w7),W2=new Fwe;function uk(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function Bwe(n){return Math.min(1e3*2**n,3e4)}function zK(n){return(n??"online")==="online"?W2.isOnline():!0}var HK=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function VI(n){return n instanceof HK}function WK(n){let e=!1,t=0,r=!1,i;const s=uk(),a=_=>{var w;r||(d(new HK(_)),(w=n.abort)==null||w.call(n))},o=()=>{e=!0},l=()=>{e=!1},c=()=>_L.isFocused()&&(n.networkMode==="always"||W2.isOnline())&&n.canRun(),u=()=>zK(n.networkMode)&&n.canRun(),h=_=>{var w;r||(r=!0,(w=n.onSuccess)==null||w.call(n,_),i==null||i(),s.resolve(_))},d=_=>{var w;r||(r=!0,(w=n.onError)==null||w.call(n,_),i==null||i(),s.reject(_))},p=()=>new Promise(_=>{var w;i=x=>{(r||c())&&_(x)},(w=n.onPause)==null||w.call(n)}).then(()=>{var _;i=void 0,r||(_=n.onContinue)==null||_.call(n)}),g=()=>{if(r)return;let _;const w=t===0?n.initialPromise:void 0;try{_=w??n.fn()}catch(x){_=Promise.reject(x)}Promise.resolve(_).then(h).catch(x=>{var k;if(r)return;const S=n.retry??(Hm?0:3),E=n.retryDelay??Bwe,T=typeof E=="function"?E(t,x):E,D=S===!0||typeof S=="number"&&t<S||typeof S=="function"&&S(t,x);if(e||!D){d(x);return}t++,(k=n.onFail)==null||k.call(n,t,x),Nwe(T).then(()=>c()?void 0:p()).then(()=>{e?d(x):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?g():p().then(g),s)}}var Uwe=n=>setTimeout(n,0);function jwe(){let n=[],e=0,t=o=>{o()},r=o=>{o()},i=Uwe;const s=o=>{e?n.push(o):i(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var qs=jwe(),hm,b7,GK=(b7=class{constructor(){vn(this,hm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ak(this.gcTime)&&zt(this,hm,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Hm?1/0:5*60*1e3))}clearGcTimeout(){we(this,hm)&&(clearTimeout(we(this,hm)),zt(this,hm,void 0))}},hm=new WeakMap,b7),yv,dm,Cl,fm,xa,U_,pm,cc,ch,S7,Vwe=(S7=class extends GK{constructor(e){super();vn(this,cc);vn(this,yv);vn(this,dm);vn(this,Cl);vn(this,fm);vn(this,xa);vn(this,U_);vn(this,pm);zt(this,pm,!1),zt(this,U_,e.defaultOptions),this.setOptions(e.options),this.observers=[],zt(this,fm,e.client),zt(this,Cl,we(this,fm).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,zt(this,yv,zwe(this.options)),this.state=e.state??we(this,yv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=we(this,xa))==null?void 0:e.promise}setOptions(e){this.options={...we(this,U_),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&we(this,Cl).remove(this)}setData(e,t){const r=ck(this.state.data,e,this.options);return tr(this,cc,ch).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){tr(this,cc,ch).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=we(this,xa))==null?void 0:r.promise;return(i=we(this,xa))==null||i.cancel(e),t?t.then(Ao).catch(Ao):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(we(this,yv))}isActive(){return this.observers.some(e=>Ml(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xL||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Tf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!UK(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=we(this,xa))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=we(this,xa))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),we(this,Cl).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(we(this,xa)&&(we(this,pm)?we(this,xa).cancel({revert:!0}):we(this,xa).cancelRetry()),this.scheduleGc()),we(this,Cl).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tr(this,cc,ch).call(this,{type:"invalidate"})}fetch(e,t){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(we(this,xa))return we(this,xa).continueRetry(),we(this,xa).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(zt(this,pm,!0),r.signal)})},s=()=>{const d=VK(this.options,t),g=(()=>{const _={client:we(this,fm),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return zt(this,pm,!1),this.options.persister?this.options.persister(d,g,this):d(g)},o=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:we(this,fm),state:this.state,fetchFn:s};return i(d),d})();(c=this.options.behavior)==null||c.onFetch(o,this),zt(this,dm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&tr(this,cc,ch).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=d=>{var p,g,_,w;VI(d)&&d.silent||tr(this,cc,ch).call(this,{type:"error",error:d}),VI(d)||((g=(p=we(this,Cl).config).onError)==null||g.call(p,d,this),(w=(_=we(this,Cl).config).onSettled)==null||w.call(_,this.state.data,d,this)),this.scheduleGc()};return zt(this,xa,WK({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,g,_,w;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(x){l(x);return}(g=(p=we(this,Cl).config).onSuccess)==null||g.call(p,d,this),(w=(_=we(this,Cl).config).onSettled)==null||w.call(_,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,p)=>{tr(this,cc,ch).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{tr(this,cc,ch).call(this,{type:"pause"})},onContinue:()=>{tr(this,cc,ch).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),we(this,xa).start()}},yv=new WeakMap,dm=new WeakMap,Cl=new WeakMap,fm=new WeakMap,xa=new WeakMap,U_=new WeakMap,pm=new WeakMap,cc=new WeakSet,ch=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$K(r.data,this.options),fetchMeta:e.meta??null};case"success":return zt(this,dm,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return VI(i)&&i.revert&&we(this,dm)?{...we(this,dm),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),qs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),we(this,Cl).notify({query:this,type:"updated",action:e})})},S7);function $K(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zK(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function zwe(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var iu,E7,Hwe=(E7=class extends mw{constructor(e={}){super();vn(this,iu);this.config=e,zt(this,iu,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??yL(i,t);let a=this.get(s);return a||(a=new Vwe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){we(this,iu).has(e.queryHash)||(we(this,iu).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=we(this,iu).get(e.queryHash);t&&(e.destroy(),t===e&&we(this,iu).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return we(this,iu).get(e)}getAll(){return[...we(this,iu).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>hU(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>hU(e,r)):t}notify(e){qs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){qs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},iu=new WeakMap,E7),su,Ka,mm,au,Ud,A7,Wwe=(A7=class extends GK{constructor(e){super();vn(this,au);vn(this,su);vn(this,Ka);vn(this,mm);this.mutationId=e.mutationId,zt(this,Ka,e.mutationCache),zt(this,su,[]),this.state=e.state||Gwe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){we(this,su).includes(e)||(we(this,su).push(e),this.clearGcTimeout(),we(this,Ka).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){zt(this,su,we(this,su).filter(t=>t!==e)),this.scheduleGc(),we(this,Ka).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){we(this,su).length||(this.state.status==="pending"?this.scheduleGc():we(this,Ka).remove(this))}continue(){var e;return((e=we(this,mm))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,c,u,h,d,p,g,_,w,x,S,E,T,D,k,I,N;const t=()=>{tr(this,au,Ud).call(this,{type:"continue"})};zt(this,mm,WK({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,R)=>{tr(this,au,Ud).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{tr(this,au,Ud).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>we(this,Ka).canRun(this)}));const r=this.state.status==="pending",i=!we(this,mm).canStart();try{if(r)t();else{tr(this,au,Ud).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=we(this,Ka).config).onMutate)==null?void 0:a.call(s,e,this));const R=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));R!==this.state.context&&tr(this,au,Ud).call(this,{type:"pending",context:R,variables:e,isPaused:i})}const P=await we(this,mm).start();return await((u=(c=we(this,Ka).config).onSuccess)==null?void 0:u.call(c,P,e,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,P,e,this.state.context)),await((g=(p=we(this,Ka).config).onSettled)==null?void 0:g.call(p,P,null,this.state.variables,this.state.context,this)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,P,null,e,this.state.context)),tr(this,au,Ud).call(this,{type:"success",data:P}),P}catch(P){try{throw await((S=(x=we(this,Ka).config).onError)==null?void 0:S.call(x,P,e,this.state.context,this)),await((T=(E=this.options).onError)==null?void 0:T.call(E,P,e,this.state.context)),await((k=(D=we(this,Ka).config).onSettled)==null?void 0:k.call(D,void 0,P,this.state.variables,this.state.context,this)),await((N=(I=this.options).onSettled)==null?void 0:N.call(I,void 0,P,e,this.state.context)),P}finally{tr(this,au,Ud).call(this,{type:"error",error:P})}}finally{we(this,Ka).runNext(this)}}},su=new WeakMap,Ka=new WeakMap,mm=new WeakMap,au=new WeakSet,Ud=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),qs.batch(()=>{we(this,su).forEach(r=>{r.onMutationUpdate(e)}),we(this,Ka).notify({mutation:this,type:"updated",action:e})})},A7);function Gwe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ph,uc,j_,T7,$we=(T7=class extends mw{constructor(e={}){super();vn(this,ph);vn(this,uc);vn(this,j_);this.config=e,zt(this,ph,new Set),zt(this,uc,new Map),zt(this,j_,0)}build(e,t,r){const i=new Wwe({mutationCache:this,mutationId:++yb(this,j_)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){we(this,ph).add(e);const t=Zb(e);if(typeof t=="string"){const r=we(this,uc).get(t);r?r.push(e):we(this,uc).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(we(this,ph).delete(e)){const t=Zb(e);if(typeof t=="string"){const r=we(this,uc).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&we(this,uc).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Zb(e);if(typeof t=="string"){const r=we(this,uc).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=Zb(e);if(typeof t=="string"){const i=(r=we(this,uc).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qs.batch(()=>{we(this,ph).forEach(e=>{this.notify({type:"removed",mutation:e})}),we(this,ph).clear(),we(this,uc).clear()})}getAll(){return Array.from(we(this,ph))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>dU(t,r))}findAll(e={}){return this.getAll().filter(t=>dU(e,t))}notify(e){qs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return qs.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ao))))}},ph=new WeakMap,uc=new WeakMap,j_=new WeakMap,T7);function Zb(n){var e;return(e=n.options.scope)==null?void 0:e.id}function mU(n){return{onFetch:(e,t)=>{var u,h,d,p,g;const r=e.options,i=(d=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},x=VK(e.options,e.fetchOptions),S=async(E,T,D)=>{if(_)return Promise.reject();if(T==null&&E.pages.length)return Promise.resolve(E);const I=(()=>{const B={client:e.client,queryKey:e.queryKey,pageParam:T,direction:D?"backward":"forward",meta:e.options.meta};return w(B),B})(),N=await x(I),{maxPages:P}=e.options,R=D?Dwe:kwe;return{pages:R(E.pages,N,P),pageParams:R(E.pageParams,T,P)}};if(i&&s.length){const E=i==="backward",T=E?qwe:gU,D={pages:s,pageParams:a},k=T(r,D);o=await S(D,k,E)}else{const E=n??s.length;do{const T=l===0?a[0]??r.initialPageParam:gU(r,o);if(l>0&&T==null)break;o=await S(o,T),l++}while(l<E)}return o};e.options.persister?e.fetchFn=()=>{var _,w;return(w=(_=e.options).persister)==null?void 0:w.call(_,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function gU(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function qwe(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var ki,Jd,ef,xv,_v,tf,wv,bv,C7,Xwe=(C7=class{constructor(n={}){vn(this,ki);vn(this,Jd);vn(this,ef);vn(this,xv);vn(this,_v);vn(this,tf);vn(this,wv);vn(this,bv);zt(this,ki,n.queryCache||new Hwe),zt(this,Jd,n.mutationCache||new $we),zt(this,ef,n.defaultOptions||{}),zt(this,xv,new Map),zt(this,_v,new Map),zt(this,tf,0)}mount(){yb(this,tf)._++,we(this,tf)===1&&(zt(this,wv,_L.subscribe(async n=>{n&&(await this.resumePausedMutations(),we(this,ki).onFocus())})),zt(this,bv,W2.subscribe(async n=>{n&&(await this.resumePausedMutations(),we(this,ki).onOnline())})))}unmount(){var n,e;yb(this,tf)._--,we(this,tf)===0&&((n=we(this,wv))==null||n.call(this),zt(this,wv,void 0),(e=we(this,bv))==null||e.call(this),zt(this,bv,void 0))}isFetching(n){return we(this,ki).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return we(this,Jd).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=we(this,ki).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=we(this,ki).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Tf(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return we(this,ki).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=we(this,ki).get(r.queryHash),s=i==null?void 0:i.state.data,a=Rwe(e,s);if(a!==void 0)return we(this,ki).build(this,r).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return qs.batch(()=>we(this,ki).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=we(this,ki).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=we(this,ki);qs.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=we(this,ki);return qs.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=qs.batch(()=>we(this,ki).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Ao).catch(Ao)}invalidateQueries(n,e={}){return qs.batch(()=>(we(this,ki).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=qs.batch(()=>we(this,ki).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Ao)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ao)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=we(this,ki).build(this,e);return t.isStaleByTime(Tf(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ao).catch(Ao)}fetchInfiniteQuery(n){return n.behavior=mU(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ao).catch(Ao)}ensureInfiniteQueryData(n){return n.behavior=mU(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return W2.isOnline()?we(this,Jd).resumePausedMutations():Promise.resolve()}getQueryCache(){return we(this,ki)}getMutationCache(){return we(this,Jd)}getDefaultOptions(){return we(this,ef)}setDefaultOptions(n){zt(this,ef,n)}setQueryDefaults(n,e){we(this,xv).set(d_(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...we(this,xv).values()],t={};return e.forEach(r=>{f_(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){we(this,_v).set(d_(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...we(this,_v).values()],t={};return e.forEach(r=>{f_(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...we(this,ef).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=yL(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===xL&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...we(this,ef).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){we(this,ki).clear(),we(this,Jd).clear()}},ki=new WeakMap,Jd=new WeakMap,ef=new WeakMap,xv=new WeakMap,_v=new WeakMap,tf=new WeakMap,wv=new WeakMap,bv=new WeakMap,C7),So,nr,V_,Za,gm,Sv,nf,rf,z_,Ev,Av,vm,ym,sf,Tv,Er,Ux,hk,dk,fk,pk,mk,gk,vk,qK,M7,Ywe=(M7=class extends mw{constructor(e,t){super();vn(this,Er);vn(this,So);vn(this,nr);vn(this,V_);vn(this,Za);vn(this,gm);vn(this,Sv);vn(this,nf);vn(this,rf);vn(this,z_);vn(this,Ev);vn(this,Av);vn(this,vm);vn(this,ym);vn(this,sf);vn(this,Tv,new Set);this.options=t,zt(this,So,e),zt(this,rf,null),zt(this,nf,uk()),this.options.experimental_prefetchInRender||we(this,nf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(we(this,nr).addObserver(this),vU(we(this,nr),this.options)?tr(this,Er,Ux).call(this):this.updateResult(),tr(this,Er,pk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yk(we(this,nr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yk(we(this,nr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tr(this,Er,mk).call(this),tr(this,Er,gk).call(this),we(this,nr).removeObserver(this)}setOptions(e){const t=this.options,r=we(this,nr);if(this.options=we(this,So).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ml(this.options.enabled,we(this,nr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tr(this,Er,vk).call(this),we(this,nr).setOptions(this.options),t._defaulted&&!ok(this.options,t)&&we(this,So).getQueryCache().notify({type:"observerOptionsUpdated",query:we(this,nr),observer:this});const i=this.hasListeners();i&&yU(we(this,nr),r,this.options,t)&&tr(this,Er,Ux).call(this),this.updateResult(),i&&(we(this,nr)!==r||Ml(this.options.enabled,we(this,nr))!==Ml(t.enabled,we(this,nr))||Tf(this.options.staleTime,we(this,nr))!==Tf(t.staleTime,we(this,nr)))&&tr(this,Er,hk).call(this);const s=tr(this,Er,dk).call(this);i&&(we(this,nr)!==r||Ml(this.options.enabled,we(this,nr))!==Ml(t.enabled,we(this,nr))||s!==we(this,sf))&&tr(this,Er,fk).call(this,s)}getOptimisticResult(e){const t=we(this,So).getQueryCache().build(we(this,So),e),r=this.createResult(t,e);return Zwe(this,r)&&(zt(this,Za,r),zt(this,Sv,this.options),zt(this,gm,we(this,nr).state)),r}getCurrentResult(){return we(this,Za)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),Reflect.get(r,i))})}trackProp(e){we(this,Tv).add(e)}getCurrentQuery(){return we(this,nr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=we(this,So).defaultQueryOptions(e),r=we(this,So).getQueryCache().build(we(this,So),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return tr(this,Er,Ux).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),we(this,Za)))}createResult(e,t){var P;const r=we(this,nr),i=this.options,s=we(this,Za),a=we(this,gm),o=we(this,Sv),c=e!==r?e.state:we(this,V_),{state:u}=e;let h={...u},d=!1,p;if(t._optimisticResults){const R=this.hasListeners(),B=!R&&vU(e,t),z=R&&yU(e,r,t,i);(B||z)&&(h={...h,...$K(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:_,status:w}=h;p=h.data;let x=!1;if(t.placeholderData!==void 0&&p===void 0&&w==="pending"){let R;s!=null&&s.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData)?(R=s.data,x=!0):R=typeof t.placeholderData=="function"?t.placeholderData((P=we(this,Av))==null?void 0:P.state.data,we(this,Av)):t.placeholderData,R!==void 0&&(w="success",p=ck(s==null?void 0:s.data,R,t),d=!0)}if(t.select&&p!==void 0&&!x)if(s&&p===(a==null?void 0:a.data)&&t.select===we(this,z_))p=we(this,Ev);else try{zt(this,z_,t.select),p=t.select(p),p=ck(s==null?void 0:s.data,p,t),zt(this,Ev,p),zt(this,rf,null)}catch(R){zt(this,rf,R)}we(this,rf)&&(g=we(this,rf),p=we(this,Ev),_=Date.now(),w="error");const S=h.fetchStatus==="fetching",E=w==="pending",T=w==="error",D=E&&S,k=p!==void 0,N={status:w,fetchStatus:h.fetchStatus,isPending:E,isSuccess:w==="success",isError:T,isInitialLoading:D,isLoading:D,data:p,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!E,isLoadingError:T&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:T&&k,isStale:wL(e,t),refetch:this.refetch,promise:we(this,nf),isEnabled:Ml(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=H=>{N.status==="error"?H.reject(N.error):N.data!==void 0&&H.resolve(N.data)},B=()=>{const H=zt(this,nf,N.promise=uk());R(H)},z=we(this,nf);switch(z.status){case"pending":e.queryHash===r.queryHash&&R(z);break;case"fulfilled":(N.status==="error"||N.data!==z.value)&&B();break;case"rejected":(N.status!=="error"||N.error!==z.reason)&&B();break}}return N}updateResult(){const e=we(this,Za),t=this.createResult(we(this,nr),this.options);if(zt(this,gm,we(this,nr).state),zt(this,Sv,this.options),we(this,gm).data!==void 0&&zt(this,Av,we(this,nr)),ok(t,e))return;zt(this,Za,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!we(this,Tv).size)return!0;const a=new Set(s??we(this,Tv));return this.options.throwOnError&&a.add("error"),Object.keys(we(this,Za)).some(o=>{const l=o;return we(this,Za)[l]!==e[l]&&a.has(l)})};tr(this,Er,qK).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tr(this,Er,pk).call(this)}},So=new WeakMap,nr=new WeakMap,V_=new WeakMap,Za=new WeakMap,gm=new WeakMap,Sv=new WeakMap,nf=new WeakMap,rf=new WeakMap,z_=new WeakMap,Ev=new WeakMap,Av=new WeakMap,vm=new WeakMap,ym=new WeakMap,sf=new WeakMap,Tv=new WeakMap,Er=new WeakSet,Ux=function(e){tr(this,Er,vk).call(this);let t=we(this,nr).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Ao)),t},hk=function(){tr(this,Er,mk).call(this);const e=Tf(this.options.staleTime,we(this,nr));if(Hm||we(this,Za).isStale||!ak(e))return;const r=UK(we(this,Za).dataUpdatedAt,e)+1;zt(this,vm,setTimeout(()=>{we(this,Za).isStale||this.updateResult()},r))},dk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(we(this,nr)):this.options.refetchInterval)??!1},fk=function(e){tr(this,Er,gk).call(this),zt(this,sf,e),!(Hm||Ml(this.options.enabled,we(this,nr))===!1||!ak(we(this,sf))||we(this,sf)===0)&&zt(this,ym,setInterval(()=>{(this.options.refetchIntervalInBackground||_L.isFocused())&&tr(this,Er,Ux).call(this)},we(this,sf)))},pk=function(){tr(this,Er,hk).call(this),tr(this,Er,fk).call(this,tr(this,Er,dk).call(this))},mk=function(){we(this,vm)&&(clearTimeout(we(this,vm)),zt(this,vm,void 0))},gk=function(){we(this,ym)&&(clearInterval(we(this,ym)),zt(this,ym,void 0))},vk=function(){const e=we(this,So).getQueryCache().build(we(this,So),this.options);if(e===we(this,nr))return;const t=we(this,nr);zt(this,nr,e),zt(this,V_,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},qK=function(e){qs.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(we(this,Za))}),we(this,So).getQueryCache().notify({query:we(this,nr),type:"observerResultsUpdated"})})},M7);function Kwe(n,e){return Ml(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function vU(n,e){return Kwe(n,e)||n.state.data!==void 0&&yk(n,e,e.refetchOnMount)}function yk(n,e,t){if(Ml(e.enabled,n)!==!1&&Tf(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&wL(n,e)}return!1}function yU(n,e,t,r){return(n!==e||Ml(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&wL(n,t)}function wL(n,e){return Ml(e.enabled,n)!==!1&&n.isStaleByTime(Tf(e.staleTime,n))}function Zwe(n,e){return!ok(n.getCurrentResult(),e)}var XK=F.createContext(void 0),Qwe=n=>{const e=F.useContext(XK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Jwe=({client:n,children:e})=>(F.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),m.jsx(XK.Provider,{value:n,children:e})),YK=F.createContext(!1),ebe=()=>F.useContext(YK);YK.Provider;function tbe(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var nbe=F.createContext(tbe()),rbe=()=>F.useContext(nbe),ibe=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},sbe=n=>{F.useEffect(()=>{n.clearReset()},[n])},abe=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||Owe(t,[n.error,r])),obe=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},lbe=(n,e)=>n.isLoading&&n.isFetching&&!e,cbe=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,xU=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function ube(n,e,t){var h,d,p,g,_;const r=ebe(),i=rbe(),s=Qwe(),a=s.defaultQueryOptions(n);(d=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||d.call(h,a),a._optimisticResults=r?"isRestoring":"optimistic",obe(a),ibe(a,i),sbe(i);const o=!s.getQueryCache().get(a.queryHash),[l]=F.useState(()=>new e(s,a)),c=l.getOptimisticResult(a),u=!r&&n.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(w=>{const x=u?l.subscribe(qs.batchCalls(w)):Ao;return l.updateResult(),x},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),F.useEffect(()=>{l.setOptions(a)},[a,l]),cbe(a,c))throw xU(a,l,i);if(abe({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((g=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,a,c),a.experimental_prefetchInRender&&!Hm&&lbe(c,r)){const w=o?xU(a,l,i):(_=s.getQueryCache().get(a.queryHash))==null?void 0:_.promise;w==null||w.catch(Ao).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function oC(n,e){return ube(n,Ywe)}const hbe=n=>{var t,r;const e=n.data();return{id:n.id,title:e.title||"",description:e.description||"",date:e.date?typeof e.date=="string"?e.date:((r=(t=e.date)==null?void 0:t.toDate)==null?void 0:r.call(t))??"":"",imageUrl:e.imageUrl||"",category:e.category||""}},dbe=async n=>{const e=Di(An,"activities");let r=(await Is(e)).docs.filter(i=>{const s=i.data();return!("deletedAt"in s)||s.deletedAt===null});return r=r.sort((i,s)=>{const a=i.data().date?new Date(i.data().date).getTime():0;return(s.data().date?new Date(s.data().date).getTime():0)-a}),n&&(r=r.slice(0,n)),r.map(hbe)},bL=n=>oC({queryKey:["activities",n],queryFn:()=>dbe(n)}),fbe=async n=>{let e=Di(An,"learnings"),t=n?FT(e,_O(n)):e;return(await Is(t)).docs.map(i=>{const s=i.data();return{id:i.id,title:s.title||"",description:s.description||"",icon:s.icon||"",link:s.link||""}})},KK=n=>oC({queryKey:["learningModules",n],queryFn:()=>fbe(n)}),pbe=n=>{const e=n.data();return{id:n.id,title:e.title||"",description:e.description||"",imageUrl:e.imageUrl||"",activityId:e.activityId||null,createdAt:e.createdAt||null,updatedAt:e.updatedAt||null}},mbe=async()=>{const n=Di(An,"gallerys");return(await Is(n)).docs.filter(t=>{const r=t.data();return!("deletedAt"in r)||r.deletedAt===null}).map(pbe)},ZK=()=>oC({queryKey:["gallery"],queryFn:mbe});function gbe(n){return Object.prototype.toString.call(n)==="[object Object]"}function _U(n){return gbe(n)||Array.isArray(n)}function vbe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function SL(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;const i=JSON.stringify(Object.keys(n.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:t.every(a=>{const o=n[a],l=e[a];return typeof o=="function"?`${o}`==`${l}`:!_U(o)||!_U(l)?o===l:SL(o,l)})}function wU(n){return n.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function ybe(n,e){if(n.length!==e.length)return!1;const t=wU(n),r=wU(e);return t.every((i,s)=>{const a=r[s];return SL(i,a)})}function EL(n){return typeof n=="number"}function xk(n){return typeof n=="string"}function lC(n){return typeof n=="boolean"}function bU(n){return Object.prototype.toString.call(n)==="[object Object]"}function wi(n){return Math.abs(n)}function AL(n){return Math.sign(n)}function v1(n,e){return wi(n-e)}function xbe(n,e){if(n===0||e===0||wi(n)<=wi(e))return 0;const t=v1(wi(n),wi(e));return wi(t/n)}function _be(n){return Math.round(n*100)/100}function p_(n){return m_(n).map(Number)}function Tc(n){return n[gw(n)]}function gw(n){return Math.max(0,n.length-1)}function TL(n,e){return e===gw(n)}function SU(n,e=0){return Array.from(Array(n),(t,r)=>e+r)}function m_(n){return Object.keys(n)}function QK(n,e){return[n,e].reduce((t,r)=>(m_(r).forEach(i=>{const s=t[i],a=r[i],o=bU(s)&&bU(a);t[i]=o?QK(s,a):a}),t),{})}function _k(n,e){return typeof e.MouseEvent<"u"&&n instanceof e.MouseEvent}function wbe(n,e){const t={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function a(l,c){return xk(n)?t[n](l):n(e,l,c)}return{measure:a}}function g_(){let n=[];function e(i,s,a,o={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,a,o),l=()=>i.removeEventListener(s,a,o);else{const c=i;c.addListener(a),l=()=>c.removeListener(a)}return n.push(l),r}function t(){n=n.filter(i=>i())}const r={add:e,clear:t};return r}function bbe(n,e,t,r){const i=g_(),s=1e3/60;let a=null,o=0,l=0;function c(){i.add(n,"visibilitychange",()=>{n.hidden&&g()})}function u(){p(),i.clear()}function h(w){if(!l)return;a||(a=w,t(),t());const x=w-a;for(a=w,o+=x;o>=s;)t(),o-=s;const S=o/s;r(S),l&&(l=e.requestAnimationFrame(h))}function d(){l||(l=e.requestAnimationFrame(h))}function p(){e.cancelAnimationFrame(l),a=null,o=0,l=0}function g(){a=null,o=0}return{init:c,destroy:u,start:d,stop:p,update:t,render:r}}function Sbe(n,e){const t=e==="rtl",r=n==="y",i=r?"y":"x",s=r?"x":"y",a=!r&&t?-1:1,o=u(),l=h();function c(g){const{height:_,width:w}=g;return r?_:w}function u(){return r?"top":t?"right":"left"}function h(){return r?"bottom":t?"left":"right"}function d(g){return g*a}return{scroll:i,cross:s,startEdge:o,endEdge:l,measureSize:c,direction:d}}function Wm(n=0,e=0){const t=wi(n-e);function r(c){return c<n}function i(c){return c>e}function s(c){return r(c)||i(c)}function a(c){return s(c)?r(c)?n:e:c}function o(c){return t?c-t*Math.ceil((c-e)/t):c}return{length:t,max:e,min:n,constrain:a,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:o}}function JK(n,e,t){const{constrain:r}=Wm(0,n),i=n+1;let s=a(e);function a(d){return t?wi((i+d)%i):r(d)}function o(){return s}function l(d){return s=a(d),h}function c(d){return u().set(o()+d)}function u(){return JK(n,o(),t)}const h={get:o,set:l,add:c,clone:u};return h}function Ebe(n,e,t,r,i,s,a,o,l,c,u,h,d,p,g,_,w,x,S){const{cross:E,direction:T}=n,D=["INPUT","SELECT","TEXTAREA"],k={passive:!1},I=g_(),N=g_(),P=Wm(50,225).constrain(p.measure(20)),R={mouse:300,touch:400},B={mouse:500,touch:600},z=g?43:25;let H=!1,K=0,J=0,se=!1,ce=!1,X=!1,ue=!1;function q(Be){if(!S)return;function ae(ke){(lC(S)||S(Be,ke))&&Ie(ke)}const Re=e;I.add(Re,"dragstart",ke=>ke.preventDefault(),k).add(Re,"touchmove",()=>{},k).add(Re,"touchend",()=>{}).add(Re,"touchstart",ae).add(Re,"mousedown",ae).add(Re,"touchcancel",Je).add(Re,"contextmenu",Je).add(Re,"click",Qe,!0)}function ge(){I.clear(),N.clear()}function De(){const Be=ue?t:e;N.add(Be,"touchmove",Se,k).add(Be,"touchend",Je).add(Be,"mousemove",Se,k).add(Be,"mouseup",Je)}function Q(Be){const ae=Be.nodeName||"";return D.includes(ae)}function et(){return(g?B:R)[ue?"mouse":"touch"]}function ye(Be,ae){const Re=h.add(AL(Be)*-1),ke=u.byDistance(Be,!g).distance;return g||wi(Be)<P?ke:w&&ae?ke*.5:u.byIndex(Re.get(),0).distance}function Ie(Be){const ae=_k(Be,r);ue=ae,X=g&&ae&&!Be.buttons&&H,H=v1(i.get(),a.get())>=2,!(ae&&Be.button!==0)&&(Q(Be.target)||(se=!0,s.pointerDown(Be),c.useFriction(0).useDuration(0),i.set(a),De(),K=s.readPoint(Be),J=s.readPoint(Be,E),d.emit("pointerDown")))}function Se(Be){if(!_k(Be,r)&&Be.touches.length>=2)return Je(Be);const Re=s.readPoint(Be),ke=s.readPoint(Be,E),$e=v1(Re,K),We=v1(ke,J);if(!ce&&!ue&&(!Be.cancelable||(ce=$e>We,!ce)))return Je(Be);const ne=s.pointerMove(Be);$e>_&&(X=!0),c.useFriction(.3).useDuration(.75),o.start(),i.add(T(ne)),Be.preventDefault()}function Je(Be){const Re=u.byDistance(0,!1).index!==h.get(),ke=s.pointerUp(Be)*et(),$e=ye(T(ke),Re),We=xbe(ke,$e),ne=z-10*We,Ae=x+We/50;ce=!1,se=!1,N.clear(),c.useDuration(ne).useFriction(Ae),l.distance($e,!g),ue=!1,d.emit("pointerUp")}function Qe(Be){X&&(Be.stopPropagation(),Be.preventDefault(),X=!1)}function rt(){return se}return{init:q,destroy:ge,pointerDown:rt}}function Abe(n,e){let r,i;function s(h){return h.timeStamp}function a(h,d){const g=`client${(d||n.scroll)==="x"?"X":"Y"}`;return(_k(h,e)?h:h.touches[0])[g]}function o(h){return r=h,i=h,a(h)}function l(h){const d=a(h)-a(i),p=s(h)-s(r)>170;return i=h,p&&(r=h),d}function c(h){if(!r||!i)return 0;const d=a(i)-a(r),p=s(h)-s(r),g=s(h)-s(i)>170,_=d/p;return p&&!g&&wi(_)>.1?_:0}return{pointerDown:o,pointerMove:l,pointerUp:c,readPoint:a}}function Tbe(){function n(t){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:a}=t;return{top:r,right:i+s,bottom:r+a,left:i,width:s,height:a}}return{measure:n}}function Cbe(n){function e(r){return n*(r/100)}return{measure:e}}function Mbe(n,e,t,r,i,s,a){const o=[n].concat(r);let l,c,u=[],h=!1;function d(w){return i.measureSize(a.measure(w))}function p(w){if(!s)return;c=d(n),u=r.map(d);function x(S){for(const E of S){if(h)return;const T=E.target===n,D=r.indexOf(E.target),k=T?c:u[D],I=d(T?n:r[D]);if(wi(I-k)>=.5){w.reInit(),e.emit("resize");break}}}l=new ResizeObserver(S=>{(lC(s)||s(w,S))&&x(S)}),t.requestAnimationFrame(()=>{o.forEach(S=>l.observe(S))})}function g(){h=!0,l&&l.disconnect()}return{init:p,destroy:g}}function Ibe(n,e,t,r,i,s){let a=0,o=0,l=i,c=s,u=n.get(),h=0;function d(){const k=r.get()-n.get(),I=!l;let N=0;return I?(a=0,t.set(r),n.set(r),N=k):(t.set(n),a+=k/l,a*=c,u+=a,n.add(a),N=u-h),o=AL(N),h=u,D}function p(){const k=r.get()-e.get();return wi(k)<.001}function g(){return l}function _(){return o}function w(){return a}function x(){return E(i)}function S(){return T(s)}function E(k){return l=k,D}function T(k){return c=k,D}const D={direction:_,duration:g,velocity:w,seek:d,settled:p,useBaseFriction:S,useBaseDuration:x,useFriction:T,useDuration:E};return D}function Pbe(n,e,t,r,i){const s=i.measure(10),a=i.measure(50),o=Wm(.1,.99);let l=!1;function c(){return!(l||!n.reachedAny(t.get())||!n.reachedAny(e.get()))}function u(p){if(!c())return;const g=n.reachedMin(e.get())?"min":"max",_=wi(n[g]-e.get()),w=t.get()-e.get(),x=o.constrain(_/a);t.subtract(w*x),!p&&wi(w)<s&&(t.set(n.constrain(t.get())),r.useDuration(25).useBaseFriction())}function h(p){l=!p}return{shouldConstrain:c,constrain:u,toggleActive:h}}function Rbe(n,e,t,r,i){const s=Wm(-e+n,0),a=h(),o=u(),l=d();function c(g,_){return v1(g,_)<=1}function u(){const g=a[0],_=Tc(a),w=a.lastIndexOf(g),x=a.indexOf(_)+1;return Wm(w,x)}function h(){return t.map((g,_)=>{const{min:w,max:x}=s,S=s.constrain(g),E=!_,T=TL(t,_);return E?x:T||c(w,S)?w:c(x,S)?x:S}).map(g=>parseFloat(g.toFixed(3)))}function d(){if(e<=n+i)return[s.max];if(r==="keepSnaps")return a;const{min:g,max:_}=o;return a.slice(g,_)}return{snapsContained:l,scrollContainLimit:o}}function Nbe(n,e,t){const r=e[0],i=t?r-n:Tc(e);return{limit:Wm(i,r)}}function kbe(n,e,t,r){const s=e.min+.1,a=e.max+.1,{reachedMin:o,reachedMax:l}=Wm(s,a);function c(d){return d===1?l(t.get()):d===-1?o(t.get()):!1}function u(d){if(!c(d))return;const p=n*(d*-1);r.forEach(g=>g.add(p))}return{loop:u}}function Dbe(n){const{max:e,length:t}=n;function r(s){const a=s-e;return t?a/-t:0}return{get:r}}function Obe(n,e,t,r,i){const{startEdge:s,endEdge:a}=n,{groupSlides:o}=i,l=h().map(e.measure),c=d(),u=p();function h(){return o(r).map(_=>Tc(_)[a]-_[0][s]).map(wi)}function d(){return r.map(_=>t[s]-_[s]).map(_=>-wi(_))}function p(){return o(c).map(_=>_[0]).map((_,w)=>_+l[w])}return{snaps:c,snapsAligned:u}}function Lbe(n,e,t,r,i,s){const{groupSlides:a}=i,{min:o,max:l}=r,c=u();function u(){const d=a(s),p=!n||e==="keepSnaps";return t.length===1?[s]:p?d:d.slice(o,l).map((g,_,w)=>{const x=!_,S=TL(w,_);if(x){const E=Tc(w[0])+1;return SU(E)}if(S){const E=gw(s)-Tc(w)[0]+1;return SU(E,Tc(w)[0])}return g})}return{slideRegistry:c}}function Fbe(n,e,t,r,i){const{reachedAny:s,removeOffset:a,constrain:o}=r;function l(g){return g.concat().sort((_,w)=>wi(_)-wi(w))[0]}function c(g){const _=n?a(g):o(g),w=e.map((S,E)=>({diff:u(S-_,0),index:E})).sort((S,E)=>wi(S.diff)-wi(E.diff)),{index:x}=w[0];return{index:x,distance:_}}function u(g,_){const w=[g,g+t,g-t];if(!n)return g;if(!_)return l(w);const x=w.filter(S=>AL(S)===_);return x.length?l(x):Tc(w)-t}function h(g,_){const w=e[g]-i.get(),x=u(w,_);return{index:g,distance:x}}function d(g,_){const w=i.get()+g,{index:x,distance:S}=c(w),E=!n&&s(w);if(!_||E)return{index:x,distance:g};const T=e[x]-S,D=g+u(T,0);return{index:x,distance:D}}return{byDistance:d,byIndex:h,shortcut:u}}function Bbe(n,e,t,r,i,s,a){function o(h){const d=h.distance,p=h.index!==e.get();s.add(d),d&&(r.duration()?n.start():(n.update(),n.render(1),n.update())),p&&(t.set(e.get()),e.set(h.index),a.emit("select"))}function l(h,d){const p=i.byDistance(h,d);o(p)}function c(h,d){const p=e.clone().set(h),g=i.byIndex(p.get(),d);o(g)}return{distance:l,index:c}}function Ube(n,e,t,r,i,s,a,o){const l={passive:!0,capture:!0};let c=0;function u(p){if(!o)return;function g(_){if(new Date().getTime()-c>10)return;a.emit("slideFocusStart"),n.scrollLeft=0;const S=t.findIndex(E=>E.includes(_));EL(S)&&(i.useDuration(0),r.index(S,0),a.emit("slideFocus"))}s.add(document,"keydown",h,!1),e.forEach((_,w)=>{s.add(_,"focus",x=>{(lC(o)||o(p,x))&&g(w)},l)})}function h(p){p.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function jx(n){let e=n;function t(){return e}function r(l){e=a(l)}function i(l){e+=a(l)}function s(l){e-=a(l)}function a(l){return EL(l)?l:l.get()}return{get:t,set:r,add:i,subtract:s}}function eZ(n,e){const t=n.scroll==="x"?a:o,r=e.style;let i=null,s=!1;function a(d){return`translate3d(${d}px,0px,0px)`}function o(d){return`translate3d(0px,${d}px,0px)`}function l(d){if(s)return;const p=_be(n.direction(d));p!==i&&(r.transform=t(p),i=p)}function c(d){s=!d}function u(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function jbe(n,e,t,r,i,s,a,o,l){const u=p_(i),h=p_(i).reverse(),d=x().concat(S());function p(I,N){return I.reduce((P,R)=>P-i[R],N)}function g(I,N){return I.reduce((P,R)=>p(P,N)>0?P.concat([R]):P,[])}function _(I){return s.map((N,P)=>({start:N-r[P]+.5+I,end:N+e-.5+I}))}function w(I,N,P){const R=_(N);return I.map(B=>{const z=P?0:-t,H=P?t:0,K=P?"end":"start",J=R[B][K];return{index:B,loopPoint:J,slideLocation:jx(-1),translate:eZ(n,l[B]),target:()=>o.get()>J?z:H}})}function x(){const I=a[0],N=g(h,I);return w(N,t,!1)}function S(){const I=e-a[0]-1,N=g(u,I);return w(N,-t,!0)}function E(){return d.every(({index:I})=>{const N=u.filter(P=>P!==I);return p(N,e)<=.1})}function T(){d.forEach(I=>{const{target:N,translate:P,slideLocation:R}=I,B=N();B!==R.get()&&(P.to(B),R.set(B))})}function D(){d.forEach(I=>I.translate.clear())}return{canLoop:E,clear:D,loop:T,loopPoints:d}}function Vbe(n,e,t){let r,i=!1;function s(l){if(!t)return;function c(u){for(const h of u)if(h.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(lC(t)||t(l,u))&&c(u)}),r.observe(n,{childList:!0})}function a(){r&&r.disconnect(),i=!0}return{init:s,destroy:a}}function zbe(n,e,t,r){const i={};let s=null,a=null,o,l=!1;function c(){o=new IntersectionObserver(g=>{l||(g.forEach(_=>{const w=e.indexOf(_.target);i[w]=_}),s=null,a=null,t.emit("slidesInView"))},{root:n.parentElement,threshold:r}),e.forEach(g=>o.observe(g))}function u(){o&&o.disconnect(),l=!0}function h(g){return m_(i).reduce((_,w)=>{const x=parseInt(w),{isIntersecting:S}=i[x];return(g&&S||!g&&!S)&&_.push(x),_},[])}function d(g=!0){if(g&&s)return s;if(!g&&a)return a;const _=h(g);return g&&(s=_),g||(a=_),_}return{init:c,destroy:u,get:d}}function Hbe(n,e,t,r,i,s){const{measureSize:a,startEdge:o,endEdge:l}=n,c=t[0]&&i,u=g(),h=_(),d=t.map(a),p=w();function g(){if(!c)return 0;const S=t[0];return wi(e[o]-S[o])}function _(){if(!c)return 0;const S=s.getComputedStyle(Tc(r));return parseFloat(S.getPropertyValue(`margin-${l}`))}function w(){return t.map((S,E,T)=>{const D=!E,k=TL(T,E);return D?d[E]+u:k?d[E]+h:T[E+1][o]-S[o]}).map(wi)}return{slideSizes:d,slideSizesWithGaps:p,startGap:u,endGap:h}}function Wbe(n,e,t,r,i,s,a,o,l){const{startEdge:c,endEdge:u,direction:h}=n,d=EL(t);function p(x,S){return p_(x).filter(E=>E%S===0).map(E=>x.slice(E,E+S))}function g(x){return x.length?p_(x).reduce((S,E,T)=>{const D=Tc(S)||0,k=D===0,I=E===gw(x),N=i[c]-s[D][c],P=i[c]-s[E][u],R=!r&&k?h(a):0,B=!r&&I?h(o):0,z=wi(P-B-(N+R));return T&&z>e+l&&S.push(E),I&&S.push(x.length),S},[]).map((S,E,T)=>{const D=Math.max(T[E-1]||0);return x.slice(D,S)}):[]}function _(x){return d?p(x,t):g(x)}return{groupSlides:_}}function Gbe(n,e,t,r,i,s,a){const{align:o,axis:l,direction:c,startIndex:u,loop:h,duration:d,dragFree:p,dragThreshold:g,inViewThreshold:_,slidesToScroll:w,skipSnaps:x,containScroll:S,watchResize:E,watchSlides:T,watchDrag:D,watchFocus:k}=s,I=2,N=Tbe(),P=N.measure(e),R=t.map(N.measure),B=Sbe(l,c),z=B.measureSize(P),H=Cbe(z),K=wbe(o,z),J=!h&&!!S,se=h||!!S,{slideSizes:ce,slideSizesWithGaps:X,startGap:ue,endGap:q}=Hbe(B,P,R,t,se,i),ge=Wbe(B,z,w,h,P,R,ue,q,I),{snaps:De,snapsAligned:Q}=Obe(B,K,P,R,ge),et=-Tc(De)+Tc(X),{snapsContained:ye,scrollContainLimit:Ie}=Rbe(z,et,Q,S,I),Se=J?ye:Q,{limit:Je}=Nbe(et,Se,h),Qe=JK(gw(Se),u,h),rt=Qe.clone(),ut=p_(t),Be=({dragHandler:qe,scrollBody:xt,scrollBounds:bt,options:{loop:it}})=>{it||bt.constrain(qe.pointerDown()),xt.seek()},ae=({scrollBody:qe,translate:xt,location:bt,offsetLocation:it,previousLocation:pt,scrollLooper:Nt,slideLooper:de,dragHandler:Pe,animation:lt,eventHandler:fe,scrollBounds:tt,options:{loop:ve}},Xe)=>{const Ye=qe.settled(),Le=!tt.shouldConstrain(),dt=ve?Ye:Ye&&Le,_t=dt&&!Pe.pointerDown();_t&&lt.stop();const En=bt.get()*Xe+pt.get()*(1-Xe);it.set(En),ve&&(Nt.loop(qe.direction()),de.loop()),xt.to(it.get()),_t&&fe.emit("settle"),dt||fe.emit("scroll")},Re=bbe(r,i,()=>Be(at),qe=>ae(at,qe)),ke=.68,$e=Se[Qe.get()],We=jx($e),ne=jx($e),Ae=jx($e),Fe=jx($e),ot=Ibe(We,Ae,ne,Fe,d,ke),vt=Fbe(h,Se,et,Je,Fe),ie=Bbe(Re,Qe,rt,ot,vt,Fe,a),Y=Dbe(Je),xe=g_(),re=zbe(e,t,a,_),{slideRegistry:pe}=Lbe(J,S,Se,Ie,ge,ut),_e=Ube(n,t,pe,ie,ot,xe,a,k),at={ownerDocument:r,ownerWindow:i,eventHandler:a,containerRect:P,slideRects:R,animation:Re,axis:B,dragHandler:Ebe(B,n,r,i,Fe,Abe(B,i),We,Re,ie,ot,vt,Qe,a,H,p,g,x,ke,D),eventStore:xe,percentOfView:H,index:Qe,indexPrevious:rt,limit:Je,location:We,offsetLocation:Ae,previousLocation:ne,options:s,resizeHandler:Mbe(e,a,i,t,B,E,N),scrollBody:ot,scrollBounds:Pbe(Je,Ae,Fe,ot,H),scrollLooper:kbe(et,Je,Ae,[We,Ae,ne,Fe]),scrollProgress:Y,scrollSnapList:Se.map(Y.get),scrollSnaps:Se,scrollTarget:vt,scrollTo:ie,slideLooper:jbe(B,z,et,ce,X,De,Se,Ae,t),slideFocus:_e,slidesHandler:Vbe(e,a,T),slidesInView:re,slideIndexes:ut,slideRegistry:pe,slidesToScroll:ge,target:Fe,translate:eZ(B,e)};return at}function $be(){let n={},e;function t(c){e=c}function r(c){return n[c]||[]}function i(c){return r(c).forEach(u=>u(e,c)),l}function s(c,u){return n[c]=r(c).concat([u]),l}function a(c,u){return n[c]=r(c).filter(h=>h!==u),l}function o(){n={}}const l={init:t,emit:i,off:a,on:s,clear:o};return l}const qbe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Xbe(n){function e(s,a){return QK(s,a||{})}function t(s){const a=s.breakpoints||{},o=m_(a).filter(l=>n.matchMedia(l).matches).map(l=>a[l]).reduce((l,c)=>e(l,c),{});return e(s,o)}function r(s){return s.map(a=>m_(a.breakpoints||{})).reduce((a,o)=>a.concat(o),[]).map(n.matchMedia)}return{mergeOptions:e,optionsAtMedia:t,optionsMediaQueries:r}}function Ybe(n){let e=[];function t(s,a){return e=a.filter(({options:o})=>n.optionsAtMedia(o).active!==!1),e.forEach(o=>o.init(s,n)),a.reduce((o,l)=>Object.assign(o,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:t,destroy:r}}function G2(n,e,t){const r=n.ownerDocument,i=r.defaultView,s=Xbe(i),a=Ybe(s),o=g_(),l=$be(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:h}=s,{on:d,off:p,emit:g}=l,_=B;let w=!1,x,S=c(qbe,G2.globalOptions),E=c(S),T=[],D,k,I;function N(){const{container:ut,slides:Be}=E;k=(xk(ut)?n.querySelector(ut):ut)||n.children[0];const Re=xk(Be)?k.querySelectorAll(Be):Be;I=[].slice.call(Re||k.children)}function P(ut){const Be=Gbe(n,k,I,r,i,ut,l);if(ut.loop&&!Be.slideLooper.canLoop()){const ae=Object.assign({},ut,{loop:!1});return P(ae)}return Be}function R(ut,Be){w||(S=c(S,ut),E=u(S),T=Be||T,N(),x=P(E),h([S,...T.map(({options:ae})=>ae)]).forEach(ae=>o.add(ae,"change",B)),E.active&&(x.translate.to(x.location.get()),x.animation.init(),x.slidesInView.init(),x.slideFocus.init(rt),x.eventHandler.init(rt),x.resizeHandler.init(rt),x.slidesHandler.init(rt),x.options.loop&&x.slideLooper.loop(),k.offsetParent&&I.length&&x.dragHandler.init(rt),D=a.init(rt,T)))}function B(ut,Be){const ae=ge();z(),R(c({startIndex:ae},ut),Be),l.emit("reInit")}function z(){x.dragHandler.destroy(),x.eventStore.clear(),x.translate.clear(),x.slideLooper.clear(),x.resizeHandler.destroy(),x.slidesHandler.destroy(),x.slidesInView.destroy(),x.animation.destroy(),a.destroy(),o.clear()}function H(){w||(w=!0,o.clear(),z(),l.emit("destroy"),l.clear())}function K(ut,Be,ae){!E.active||w||(x.scrollBody.useBaseFriction().useDuration(Be===!0?0:E.duration),x.scrollTo.index(ut,ae||0))}function J(ut){const Be=x.index.add(1).get();K(Be,ut,-1)}function se(ut){const Be=x.index.add(-1).get();K(Be,ut,1)}function ce(){return x.index.add(1).get()!==ge()}function X(){return x.index.add(-1).get()!==ge()}function ue(){return x.scrollSnapList}function q(){return x.scrollProgress.get(x.offsetLocation.get())}function ge(){return x.index.get()}function De(){return x.indexPrevious.get()}function Q(){return x.slidesInView.get()}function et(){return x.slidesInView.get(!1)}function ye(){return D}function Ie(){return x}function Se(){return n}function Je(){return k}function Qe(){return I}const rt={canScrollNext:ce,canScrollPrev:X,containerNode:Je,internalEngine:Ie,destroy:H,off:p,on:d,emit:g,plugins:ye,previousScrollSnap:De,reInit:_,rootNode:Se,scrollNext:J,scrollPrev:se,scrollProgress:q,scrollSnapList:ue,scrollTo:K,selectedScrollSnap:ge,slideNodes:Qe,slidesInView:Q,slidesNotInView:et};return R(e,t),setTimeout(()=>l.emit("init"),0),rt}G2.globalOptions=void 0;function CL(n={},e=[]){const t=F.useRef(n),r=F.useRef(e),[i,s]=F.useState(),[a,o]=F.useState(),l=F.useCallback(()=>{i&&i.reInit(t.current,r.current)},[i]);return F.useEffect(()=>{SL(t.current,n)||(t.current=n,l())},[n,l]),F.useEffect(()=>{ybe(r.current,e)||(r.current=e,l())},[e,l]),F.useEffect(()=>{if(vbe()&&a){G2.globalOptions=CL.globalOptions;const c=G2(a,t.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[a,s]),[o,i]}CL.globalOptions=void 0;const tZ=F.createContext(null);function cC(){const n=F.useContext(tZ);if(!n)throw new Error("useCarousel must be used within a <Carousel />");return n}const nZ=F.forwardRef(({orientation:n="horizontal",opts:e,setApi:t,plugins:r,className:i,children:s,...a},o)=>{const[l,c]=CL({...e,axis:n==="horizontal"?"x":"y"},r),[u,h]=F.useState(!1),[d,p]=F.useState(!1),g=F.useCallback(S=>{S&&(h(S.canScrollPrev()),p(S.canScrollNext()))},[]),_=F.useCallback(()=>{c==null||c.scrollPrev()},[c]),w=F.useCallback(()=>{c==null||c.scrollNext()},[c]),x=F.useCallback(S=>{S.key==="ArrowLeft"?(S.preventDefault(),_()):S.key==="ArrowRight"&&(S.preventDefault(),w())},[_,w]);return F.useEffect(()=>{!c||!t||t(c)},[c,t]),F.useEffect(()=>{if(c)return g(c),c.on("reInit",g),c.on("select",g),()=>{c==null||c.off("select",g)}},[c,g]),m.jsx(tZ.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:n||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:_,scrollNext:w,canScrollPrev:u,canScrollNext:d},children:m.jsx("div",{ref:o,onKeyDownCapture:x,className:en("relative",i),role:"region","aria-roledescription":"carousel",...a,children:s})})});nZ.displayName="Carousel";const rZ=F.forwardRef(({className:n,...e},t)=>{const{carouselRef:r,orientation:i}=cC();return m.jsx("div",{ref:r,className:"overflow-hidden",children:m.jsx("div",{ref:t,className:en("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",n),...e})})});rZ.displayName="CarouselContent";const iZ=F.forwardRef(({className:n,...e},t)=>{const{orientation:r}=cC();return m.jsx("div",{ref:t,role:"group","aria-roledescription":"slide",className:en("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",n),...e})});iZ.displayName="CarouselItem";const sZ=F.forwardRef(({className:n,variant:e="outline",size:t="icon",...r},i)=>{const{orientation:s,scrollPrev:a,canScrollPrev:o}=cC();return m.jsxs(Ht,{ref:i,variant:e,size:t,className:en("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",n),disabled:!o,onClick:a,...r,children:[m.jsx(a0e,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Previous slide"})]})});sZ.displayName="CarouselPrevious";const aZ=F.forwardRef(({className:n,variant:e="outline",size:t="icon",...r},i)=>{const{orientation:s,scrollNext:a,canScrollNext:o}=cC();return m.jsxs(Ht,{ref:i,variant:e,size:t,className:en("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",n),disabled:!o,onClick:a,...r,children:[m.jsx(GX,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Next slide"})]})});aZ.displayName="CarouselNext";const Kbe={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Zbe(n,e){const t=n.scrollSnapList();return typeof e=="number"?t.map(()=>e):e(t,n)}function Qbe(n,e){const t=n.rootNode();return e&&e(t)||t}function ML(n={}){let e,t,r,i,s=null,a=0,o=!1,l=!1,c=!1,u=!1;function h(K,J){t=K;const{mergeOptions:se,optionsAtMedia:ce}=J,X=se(Kbe,ML.globalOptions),ue=se(X,n);if(e=ce(ue),t.scrollSnapList().length<=1)return;u=e.jump,r=!1,i=Zbe(t,e.delay);const{eventStore:q,ownerDocument:ge}=t.internalEngine(),De=!!t.internalEngine().options.watchDrag,Q=Qbe(t,e.rootNode);q.add(ge,"visibilitychange",x),De&&t.on("pointerDown",E),De&&!e.stopOnInteraction&&t.on("pointerUp",T),e.stopOnMouseEnter&&q.add(Q,"mouseenter",D),e.stopOnMouseEnter&&!e.stopOnInteraction&&q.add(Q,"mouseleave",k),e.stopOnFocusIn&&t.on("slideFocusStart",w),e.stopOnFocusIn&&!e.stopOnInteraction&&q.add(t.containerNode(),"focusout",_),e.playOnInit&&_()}function d(){t.off("pointerDown",E).off("pointerUp",T).off("slideFocusStart",w),w(),r=!0,o=!1}function p(){const{ownerWindow:K}=t.internalEngine();K.clearTimeout(a),a=K.setTimeout(B,i[t.selectedScrollSnap()]),s=new Date().getTime(),t.emit("autoplay:timerset")}function g(){const{ownerWindow:K}=t.internalEngine();K.clearTimeout(a),a=0,s=null,t.emit("autoplay:timerstopped")}function _(){if(!r){if(S()){c=!0;return}o||t.emit("autoplay:play"),p(),o=!0}}function w(){r||(o&&t.emit("autoplay:stop"),g(),o=!1)}function x(){if(S())return c=o,w();c&&_()}function S(){const{ownerDocument:K}=t.internalEngine();return K.visibilityState==="hidden"}function E(){l||w()}function T(){l||_()}function D(){l=!0,w()}function k(){l=!1,_()}function I(K){typeof K<"u"&&(u=K),_()}function N(){o&&w()}function P(){o&&_()}function R(){return o}function B(){const{index:K}=t.internalEngine(),J=K.clone().add(1).get(),se=t.scrollSnapList().length-1,ce=e.stopOnLastSnap&&J===se;if(t.canScrollNext()?t.scrollNext(u):t.scrollTo(0,u),t.emit("autoplay:select"),ce)return w();_()}function z(){if(!s)return null;const K=i[t.selectedScrollSnap()],J=new Date().getTime()-s;return K-J}return{name:"autoplay",options:n,init:h,destroy:d,play:I,stop:N,reset:P,isPlaying:R,timeUntilNext:z}}ML.globalOptions=void 0;function Jbe(){const n=new Date,e=n.getMonth()>0||n.getMonth()===0&&n.getDate()>26?n.getFullYear()+1:n.getFullYear();return new Date(e,0,26,0,0,0,0)}function eSe(){const e=new Date;return(e.getMonth()>0||e.getMonth()===0&&e.getDate()>26?e.getFullYear()+1:e.getFullYear())-2017}function tSe({open:n,onClose:e}){const[t,r]=F.useState(null);return F.useEffect(()=>{function i(){const a=new Date,l=Jbe().getTime()-a.getTime();if(l<=0)return{days:0,hours:0,minutes:0,seconds:0};const c=Math.floor(l/(1e3*60*60*24)),u=Math.floor(l/(1e3*60*60)%24),h=Math.floor(l/(1e3*60)%60),d=Math.floor(l/1e3%60);return{days:c,hours:u,minutes:h,seconds:d}}r(i());const s=setInterval(()=>{r(i())},1e3);return()=>clearInterval(s)},[]),n?m.jsxs(Kf,{open:n,onOpenChange:e,children:[m.jsxs(Yh,{className:"max-w-md w-full p-0 overflow-visible bg-gradient-to-br from-yellow-50 to-pink-100 border-4 border-yellow-300 relative shadow-2xl rounded-2xl animate-fadeIn",children:[m.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:[...Array(30)].map((i,s)=>m.jsx("span",{className:"absolute rounded-full opacity-80 animate-confetti",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${8+Math.random()*12}px`,height:`${8+Math.random()*12}px`,background:`hsl(${Math.random()*360},90%,70%)`,animationDelay:`${Math.random()*2}s`}},s))}),m.jsxs("div",{className:"relative z-20 flex flex-col items-center justify-center py-10 px-6",children:[m.jsx("div",{className:"mb-4",children:m.jsxs("svg",{className:"mx-auto h-16 w-16 text-yellow-400 drop-shadow-lg animate-bounce",fill:"none",viewBox:"0 0 48 48",stroke:"currentColor",children:[m.jsx("circle",{cx:"24",cy:"24",r:"22",strokeWidth:"4",className:"stroke-yellow-300 fill-yellow-100"}),m.jsx("path",{d:"M16 32c2-2 6-2 8 0m8-8c-2 2-6 2-8 0",strokeWidth:"2",className:"stroke-pink-400"}),m.jsx("circle",{cx:"18",cy:"20",r:"2",className:"fill-pink-400"}),m.jsx("circle",{cx:"30",cy:"20",r:"2",className:"fill-pink-400"})]})}),m.jsxs("h2",{className:"text-2xl font-bold text-yellow-700 mb-2 drop-shadow",children:["Perayaan Ulang Tahun Mahapala Narotama ke-",eSe()]}),m.jsxs("p",{className:"text-lg text-gray-700 mb-4",children:["Menuju hari ulang tahun organisasi pada ",m.jsx("b",{children:"26 Januari"}),"!"]}),t?m.jsxs("div",{className:"mb-6 text-3xl font-mono flex justify-center gap-3 text-pink-600",children:[m.jsxs("span",{children:[t.days," ",m.jsx("span",{className:"text-xs font-normal text-gray-500",children:"hari"})]}),m.jsx("span",{children:":"}),m.jsxs("span",{children:[String(t.hours).padStart(2,"0"),m.jsx("span",{className:"text-xs font-normal text-gray-500",children:"j"})]}),m.jsx("span",{children:":"}),m.jsxs("span",{children:[String(t.minutes).padStart(2,"0"),m.jsx("span",{className:"text-xs font-normal text-gray-500",children:"m"})]}),m.jsx("span",{children:":"}),m.jsxs("span",{children:[String(t.seconds).padStart(2,"0"),m.jsx("span",{className:"text-xs font-normal text-gray-500",children:"d"})]})]}):m.jsx("p",{className:"mb-6",children:"Menghitung..."}),m.jsx(Ht,{onClick:e,className:"mt-2 bg-pink-500 hover:bg-pink-600 text-white font-bold shadow-lg rounded-full px-6 py-2",children:"Tutup"})]})]}),m.jsx("style",{children:`
        @keyframes confetti {
          0% { transform: translateY(-40px) scale(1) rotate(0deg); opacity: 1; }
          100% { transform: translateY(400px) scale(0.7) rotate(360deg); opacity: 0.7; }
        }
        .animate-confetti {
          animation: confetti 2.5s linear infinite;
        }
        .animate-fadeIn {
          animation: fadeIn 0.7s cubic-bezier(.4,0,.2,1);
        }
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
      `})]}):null}function nSe({text:n,speed:e=50}){const[t,r]=F.useState(""),i=F.useRef(null);return F.useEffect(()=>{r("");let s=0;return i.current&&clearInterval(i.current),i.current=setInterval(()=>{r(a=>s<n.length?a+n.charAt(s++):(i.current&&clearInterval(i.current),a))},e),()=>{i.current&&clearInterval(i.current)}},[n,e]),m.jsx("span",{children:t})}const oZ=F.createContext({});function rSe(n){const e=F.useRef(null);return e.current===null&&(e.current=n()),e.current}const IL=F.createContext(null),lZ=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function iSe(n=!0){const e=F.useContext(IL);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=F.useId();F.useEffect(()=>{n&&i(s)},[n]);const a=F.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}const PL=typeof window<"u",sSe=PL?F.useLayoutEffect:F.useEffect,sl=n=>n;let cZ=sl;function RL(n){let e;return()=>(e===void 0&&(e=n()),e)}const $v=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Ch=n=>n*1e3,Mh=n=>n/1e3,aSe={useManualTiming:!1};function oSe(n){let e=new Set,t=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){s.has(c)&&(l.schedule(c),n()),c(a)}const l={schedule:(c,u=!1,h=!1)=>{const p=h&&r?e:t;return u&&s.add(c),p.has(c)||p.add(c),c},cancel:c=>{t.delete(c),s.delete(c)},process:c=>{if(a=c,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Qb=["read","resolveKeyframes","update","preRender","render","postRender"],lSe=40;function uZ(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=Qb.reduce((x,S)=>(x[S]=oSe(s),x),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=a,p=()=>{const x=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,lSe),1),i.timestamp=x,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),h.process(i),d.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(p))},g=()=>{t=!0,r=!0,i.isProcessing||n(p)};return{schedule:Qb.reduce((x,S)=>{const E=a[S];return x[S]=(T,D=!1,k=!1)=>(t||g(),E.schedule(T,D,k)),x},{}),cancel:x=>{for(let S=0;S<Qb.length;S++)a[Qb[S]].cancel(x)},state:i,steps:a}}const{schedule:li,cancel:Vf,state:Gs,steps:zI}=uZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:sl,!0),hZ=F.createContext({strict:!1}),EU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qv={};for(const n in EU)qv[n]={isEnabled:e=>EU[n].some(t=>!!e[t])};function cSe(n){for(const e in n)qv[e]={...qv[e],...n[e]}}const uSe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $2(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||uSe.has(n)}let dZ=n=>!$2(n);function hSe(n){n&&(dZ=e=>e.startsWith("on")?!$2(e):n(e))}try{hSe(require("@emotion/is-prop-valid").default)}catch{}function dSe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(dZ(i)||t===!0&&$2(i)||!e&&!$2(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function fSe(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const uC=F.createContext({});function v_(n){return typeof n=="string"||Array.isArray(n)}function hC(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const NL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kL=["initial",...NL];function dC(n){return hC(n.animate)||kL.some(e=>v_(n[e]))}function fZ(n){return!!(dC(n)||n.variants)}function pSe(n,e){if(dC(n)){const{initial:t,animate:r}=n;return{initial:t===!1||v_(t)?t:void 0,animate:v_(r)?r:void 0}}return n.inherit!==!1?e:{}}function mSe(n){const{initial:e,animate:t}=pSe(n,F.useContext(uC));return F.useMemo(()=>({initial:e,animate:t}),[AU(e),AU(t)])}function AU(n){return Array.isArray(n)?n.join(" "):n}const gSe=Symbol.for("motionComponentSymbol");function R0(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function vSe(n,e,t){return F.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):R0(t)&&(t.current=r))},[e])}const DL=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ySe="framerAppearId",pZ="data-"+DL(ySe),{schedule:OL}=uZ(queueMicrotask,!1),mZ=F.createContext({});function xSe(n,e,t,r,i){var s,a;const{visualElement:o}=F.useContext(uC),l=F.useContext(hZ),c=F.useContext(IL),u=F.useContext(lZ).reducedMotion,h=F.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const d=h.current,p=F.useContext(mZ);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&_Se(h.current,t,i,p);const g=F.useRef(!1);F.useInsertionEffect(()=>{d&&g.current&&d.update(t,c)});const _=t[pZ],w=F.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,_)));return sSe(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),OL.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),F.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,_)}),w.current=!1))}),d}function _Se(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:gZ(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&R0(o),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function gZ(n){if(n)return n.options.allowProjection!==!1?n.projection:gZ(n.parent)}function wSe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var s,a;n&&cSe(n);function o(c,u){let h;const d={...F.useContext(lZ),...c,layoutId:bSe(c)},{isStatic:p}=d,g=mSe(c),_=r(c,p);if(!p&&PL){SSe();const w=ESe(d);h=w.MeasureLayout,g.visualElement=xSe(i,_,d,e,w.ProjectionNode)}return m.jsxs(uC.Provider,{value:g,children:[h&&g.visualElement?m.jsx(h,{visualElement:g.visualElement,...d}):null,t(i,c,vSe(_,g.visualElement,u),_,p,g.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=F.forwardRef(o);return l[gSe]=i,l}function bSe({layoutId:n}){const e=F.useContext(oZ).id;return e&&n!==void 0?e+"-"+n:n}function SSe(n,e){F.useContext(hZ).strict}function ESe(n){const{drag:e,layout:t}=qv;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ASe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LL(n){return typeof n!="string"||n.includes("-")?!1:!!(ASe.indexOf(n)>-1||/[A-Z]/u.test(n))}function TU(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function FL(n,e,t,r){if(typeof e=="function"){const[i,s]=TU(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=TU(r);e=e(t!==void 0?t:n.custom,i,s)}return e}const wk=n=>Array.isArray(n),TSe=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),CSe=n=>wk(n)?n[n.length-1]||0:n,Ta=n=>!!(n&&n.getVelocity);function RE(n){const e=Ta(n)?n.get():n;return TSe(e)?e.toValue():e}function MSe({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,s){const a={latestValues:ISe(r,i,s,n),renderState:e()};return t&&(a.onMount=o=>t({props:r,current:o,...a}),a.onUpdate=o=>t(o)),a}const vZ=n=>(e,t)=>{const r=F.useContext(uC),i=F.useContext(IL),s=()=>MSe(n,e,r,i);return t?s():rSe(s)};function ISe(n,e,t,r){const i={},s=r(n,{});for(const d in s)i[d]=RE(s[d]);let{initial:a,animate:o}=n;const l=dC(n),c=fZ(n);e&&c&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=t?t.initial===!1:!1;u=u||a===!1;const h=u?o:a;if(h&&typeof h!="boolean"&&!hC(h)){const d=Array.isArray(h)?h:[h];for(let p=0;p<d.length;p++){const g=FL(n,d[p]);if(g){const{transitionEnd:_,transition:w,...x}=g;for(const S in x){let E=x[S];if(Array.isArray(E)){const T=u?E.length-1:0;E=E[T]}E!==null&&(i[S]=E)}for(const S in _)i[S]=_[S]}}}return i}const by=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hg=new Set(by),yZ=n=>e=>typeof e=="string"&&e.startsWith(n),xZ=yZ("--"),PSe=yZ("var(--"),BL=n=>PSe(n)?RSe.test(n.split("/*")[0].trim()):!1,RSe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_Z=(n,e)=>e&&typeof n=="number"?e.transform(n):n,zh=(n,e,t)=>t>e?e:t<n?n:t,Sy={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},y_={...Sy,transform:n=>zh(0,1,n)},Jb={...Sy,default:1},vw=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),jd=vw("deg"),Eu=vw("%"),dn=vw("px"),NSe=vw("vh"),kSe=vw("vw"),CU={...Eu,parse:n=>Eu.parse(n)/100,transform:n=>Eu.transform(n*100)},DSe={borderWidth:dn,borderTopWidth:dn,borderRightWidth:dn,borderBottomWidth:dn,borderLeftWidth:dn,borderRadius:dn,radius:dn,borderTopLeftRadius:dn,borderTopRightRadius:dn,borderBottomRightRadius:dn,borderBottomLeftRadius:dn,width:dn,maxWidth:dn,height:dn,maxHeight:dn,top:dn,right:dn,bottom:dn,left:dn,padding:dn,paddingTop:dn,paddingRight:dn,paddingBottom:dn,paddingLeft:dn,margin:dn,marginTop:dn,marginRight:dn,marginBottom:dn,marginLeft:dn,backgroundPositionX:dn,backgroundPositionY:dn},OSe={rotate:jd,rotateX:jd,rotateY:jd,rotateZ:jd,scale:Jb,scaleX:Jb,scaleY:Jb,scaleZ:Jb,skew:jd,skewX:jd,skewY:jd,distance:dn,translateX:dn,translateY:dn,translateZ:dn,x:dn,y:dn,z:dn,perspective:dn,transformPerspective:dn,opacity:y_,originX:CU,originY:CU,originZ:dn},MU={...Sy,transform:Math.round},UL={...DSe,...OSe,zIndex:MU,size:dn,fillOpacity:y_,strokeOpacity:y_,numOctaves:MU},LSe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FSe=by.length;function BSe(n,e,t){let r="",i=!0;for(let s=0;s<FSe;s++){const a=by[s],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=_Z(o,UL[a]);if(!l){i=!1;const u=LSe[a]||a;r+=`${u}(${c}) `}t&&(e[a]=c)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function jL(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,o=!1;for(const l in e){const c=e[l];if(hg.has(l)){a=!0;continue}else if(xZ(l)){i[l]=c;continue}else{const u=_Z(c,UL[l]);l.startsWith("origin")?(o=!0,s[l]=u):r[l]=u}}if(e.transform||(a||t?r.transform=BSe(e,n.transform,t):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const USe={offset:"stroke-dashoffset",array:"stroke-dasharray"},jSe={offset:"strokeDashoffset",array:"strokeDasharray"};function VSe(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?USe:jSe;n[s.offset]=dn.transform(-r);const a=dn.transform(e),o=dn.transform(t);n[s.array]=`${a} ${o}`}function IU(n,e,t){return typeof n=="string"?n:dn.transform(e+t*n)}function zSe(n,e,t){const r=IU(e,n.x,n.width),i=IU(t,n.y,n.height);return`${r} ${i}`}function VL(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,h){if(jL(n,c,h),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:p,dimensions:g}=n;d.transform&&(g&&(p.transform=d.transform),delete d.transform),g&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=zSe(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),r!==void 0&&(d.scale=r),a!==void 0&&VSe(d,a,o,l,!1)}const zL=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),wZ=()=>({...zL(),attrs:{}}),HL=n=>typeof n=="string"&&n.toLowerCase()==="svg";function bZ(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const SZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EZ(n,e,t,r){bZ(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(SZ.has(i)?i:DL(i),e.attrs[i])}const q2={};function HSe(n){Object.assign(q2,n)}function AZ(n,{layout:e,layoutId:t}){return hg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!q2[n]||n==="opacity")}function WL(n,e,t){var r;const{style:i}=n,s={};for(const a in i)(Ta(i[a])||e.style&&Ta(e.style[a])||AZ(a,n)||((r=t==null?void 0:t.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function TZ(n,e,t){const r=WL(n,e,t);for(const i in n)if(Ta(n[i])||Ta(e[i])){const s=by.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}function WSe(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const PU=["x","y","width","height","cx","cy","r"],GSe={useVisualState:vZ({scrapeMotionValuesFromProps:TZ,createRenderState:wZ,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let s=!!n.drag;if(!s){for(const o in i)if(hg.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<PU.length;o++){const l=PU[o];n[l]!==e[l]&&(a=!0)}a&&li.read(()=>{WSe(t,r),li.render(()=>{VL(r,i,HL(t.tagName),n.transformTemplate),EZ(t,r)})})}})},$Se={useVisualState:vZ({scrapeMotionValuesFromProps:WL,createRenderState:zL})};function CZ(n,e,t){for(const r in e)!Ta(e[r])&&!AZ(r,t)&&(n[r]=e[r])}function qSe({transformTemplate:n},e){return F.useMemo(()=>{const t=zL();return jL(t,e,n),Object.assign({},t.vars,t.style)},[e])}function XSe(n,e){const t=n.style||{},r={};return CZ(r,t,n),Object.assign(r,qSe(n,e)),r}function YSe(n,e){const t={},r=XSe(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function KSe(n,e,t,r){const i=F.useMemo(()=>{const s=wZ();return VL(s,e,HL(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};CZ(s,n.style,n),i.style={...s,...i.style}}return i}function ZSe(n=!1){return(t,r,i,{latestValues:s},a)=>{const l=(LL(t)?KSe:YSe)(r,s,a,t),c=dSe(r,typeof t=="string",n),u=t!==F.Fragment?{...c,...l,ref:i}:{},{children:h}=r,d=F.useMemo(()=>Ta(h)?h.get():h,[h]);return F.createElement(t,{...u,children:d})}}function QSe(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...LL(r)?GSe:$Se,preloadedFeatures:n,useRender:ZSe(i),createVisualElement:e,Component:r};return wSe(a)}}function MZ(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function fC(n,e,t){const r=n.getProps();return FL(r,e,t!==void 0?t:r.custom,n)}const JSe=RL(()=>window.ScrollTimeline!==void 0);class eEe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(JSe()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tEe extends eEe{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function GL(n,e){return n?n[e]||n.default||n:void 0}const bk=2e4;function IZ(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<bk;)e+=t,r=n.next(e);return e>=bk?1/0:e}function $L(n){return typeof n=="function"}function RU(n,e){n.timeline=e,n.onfinish=null}const qL=n=>Array.isArray(n)&&typeof n[0]=="number",nEe={linearEasing:void 0};function rEe(n,e){const t=RL(n);return()=>{var r;return(r=nEe[e])!==null&&r!==void 0?r:t()}}const X2=rEe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),PZ=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n($v(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function RZ(n){return!!(typeof n=="function"&&X2()||!n||typeof n=="string"&&(n in Sk||X2())||qL(n)||Array.isArray(n)&&n.every(RZ))}const Vx=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Sk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vx([0,.65,.55,1]),circOut:Vx([.55,0,1,.45]),backIn:Vx([.31,.01,.66,-.59]),backOut:Vx([.33,1.53,.69,.99])};function NZ(n,e){if(n)return typeof n=="function"&&X2()?PZ(n,e):qL(n)?Vx(n):Array.isArray(n)?n.map(t=>NZ(t,e)||Sk.easeOut):Sk[n]}const ic={x:!1,y:!1};function kZ(){return ic.x||ic.y}function DZ(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function OZ(n,e){const t=DZ(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function NU(n){return e=>{e.pointerType==="touch"||kZ()||n(e)}}function iEe(n,e,t={}){const[r,i,s]=OZ(n,t),a=NU(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const u=NU(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const LZ=(n,e)=>e?n===e?!0:LZ(n,e.parentElement):!1,XL=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,sEe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aEe(n){return sEe.has(n.tagName)||n.tabIndex!==-1}const zx=new WeakSet;function kU(n){return e=>{e.key==="Enter"&&n(e)}}function HI(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const oEe=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=kU(()=>{if(zx.has(t))return;HI(t,"down");const i=kU(()=>{HI(t,"up")}),s=()=>HI(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function DU(n){return XL(n)&&!kZ()}function lEe(n,e,t={}){const[r,i,s]=OZ(n,t),a=o=>{const l=o.currentTarget;if(!DU(o)||zx.has(l))return;zx.add(l);const c=e(o),u=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),!(!DU(p)||!zx.has(l))&&(zx.delete(l),typeof c=="function"&&c(p,{success:g}))},h=p=>{u(p,t.useGlobalTarget||LZ(l,p.target))},d=p=>{u(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",d,i)};return r.forEach(o=>{!aEe(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",c=>oEe(c,i),i)}),s}function cEe(n){return n==="x"||n==="y"?ic[n]?null:(ic[n]=!0,()=>{ic[n]=!1}):ic.x||ic.y?null:(ic.x=ic.y=!0,()=>{ic.x=ic.y=!1})}const FZ=new Set(["width","height","top","left","right","bottom",...by]);let NE;function uEe(){NE=void 0}const Au={now:()=>(NE===void 0&&Au.set(Gs.isProcessing||aSe.useManualTiming?Gs.timestamp:performance.now()),NE),set:n=>{NE=n,queueMicrotask(uEe)}};function YL(n,e){n.indexOf(e)===-1&&n.push(e)}function KL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ZL{constructor(){this.subscriptions=[]}add(e){return YL(this.subscriptions,e),()=>KL(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function BZ(n,e){return e?n*(1e3/e):0}const OU=30,hEe=n=>!isNaN(parseFloat(n));class dEe{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Au.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Au.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hEe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ZL);const r=this.events[e].add(t);return e==="change"?()=>{r(),li.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Au.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>OU)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,OU);return BZ(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function x_(n,e){return new dEe(n,e)}function fEe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,x_(t))}function pEe(n,e){const t=fC(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const o=CSe(s[a]);fEe(n,a,o)}}function mEe(n){return!!(Ta(n)&&n.add)}function Ek(n,e){const t=n.getValue("willChange");if(mEe(t))return t.add(e)}function UZ(n){return n.props[pZ]}const jZ=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,gEe=1e-7,vEe=12;function yEe(n,e,t,r,i){let s,a,o=0;do a=e+(t-e)/2,s=jZ(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>gEe&&++o<vEe);return a}function yw(n,e,t,r){if(n===e&&t===r)return sl;const i=s=>yEe(s,0,1,n,t);return s=>s===0||s===1?s:jZ(i(s),e,r)}const VZ=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,zZ=n=>e=>1-n(1-e),HZ=yw(.33,1.53,.69,.99),QL=zZ(HZ),WZ=VZ(QL),GZ=n=>(n*=2)<1?.5*QL(n):.5*(2-Math.pow(2,-10*(n-1))),JL=n=>1-Math.sin(Math.acos(n)),$Z=zZ(JL),qZ=VZ(JL),XZ=n=>/^0[^.\s]+$/u.test(n);function xEe(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||XZ(n):!0}const y1=n=>Math.round(n*1e5)/1e5,e4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _Ee(n){return n==null}const wEe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,t4=(n,e)=>t=>!!(typeof t=="string"&&wEe.test(t)&&t.startsWith(n)||e&&!_Ee(t)&&Object.prototype.hasOwnProperty.call(t,e)),YZ=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(e4);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},bEe=n=>zh(0,255,n),WI={...Sy,transform:n=>Math.round(bEe(n))},im={test:t4("rgb","red"),parse:YZ("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+WI.transform(n)+", "+WI.transform(e)+", "+WI.transform(t)+", "+y1(y_.transform(r))+")"};function SEe(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ak={test:t4("#"),parse:SEe,transform:im.transform},N0={test:t4("hsl","hue"),parse:YZ("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Eu.transform(y1(e))+", "+Eu.transform(y1(t))+", "+y1(y_.transform(r))+")"},_a={test:n=>im.test(n)||Ak.test(n)||N0.test(n),parse:n=>im.test(n)?im.parse(n):N0.test(n)?N0.parse(n):Ak.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?im.transform(n):N0.transform(n)},EEe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AEe(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(e4))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(EEe))===null||t===void 0?void 0:t.length)||0)>0}const KZ="number",ZZ="color",TEe="var",CEe="var(",LU="${}",MEe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function __(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(MEe,l=>(_a.test(l)?(r.color.push(s),i.push(ZZ),t.push(_a.parse(l))):l.startsWith(CEe)?(r.var.push(s),i.push(TEe),t.push(l)):(r.number.push(s),i.push(KZ),t.push(parseFloat(l))),++s,LU)).split(LU);return{values:t,split:o,indexes:r,types:i}}function QZ(n){return __(n).values}function JZ(n){const{split:e,types:t}=__(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=t[a];o===KZ?s+=y1(i[a]):o===ZZ?s+=_a.transform(i[a]):s+=i[a]}return s}}const IEe=n=>typeof n=="number"?0:n;function PEe(n){const e=QZ(n);return JZ(n)(e.map(IEe))}const zf={test:AEe,parse:QZ,createTransformer:JZ,getAnimatableNone:PEe},REe=new Set(["brightness","contrast","saturate","opacity"]);function NEe(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(e4)||[];if(!r)return n;const i=t.replace(r,"");let s=REe.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const kEe=/\b([a-z-]*)\(.*?\)/gu,Tk={...zf,getAnimatableNone:n=>{const e=n.match(kEe);return e?e.map(NEe).join(" "):n}},DEe={...UL,color:_a,backgroundColor:_a,outlineColor:_a,fill:_a,stroke:_a,borderColor:_a,borderTopColor:_a,borderRightColor:_a,borderBottomColor:_a,borderLeftColor:_a,filter:Tk,WebkitFilter:Tk},n4=n=>DEe[n];function eQ(n,e){let t=n4(n);return t!==Tk&&(t=zf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const OEe=new Set(["auto","none","0"]);function LEe(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!OEe.has(s)&&__(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=eQ(t,i)}const FU=n=>n===Sy||n===dn,BU=(n,e)=>parseFloat(n.split(", ")[e]),UU=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return BU(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?BU(s[1],n):0}},FEe=new Set(["x","y","z"]),BEe=by.filter(n=>!FEe.has(n));function UEe(n){const e=[];return BEe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Xv={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:UU(4,13),y:UU(5,14)};Xv.translateX=Xv.x;Xv.translateY=Xv.y;const bm=new Set;let Ck=!1,Mk=!1;function tQ(){if(Mk){const n=Array.from(bm).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=UEe(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Mk=!1,Ck=!1,bm.forEach(n=>n.complete()),bm.clear()}function nQ(){bm.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Mk=!0)})}function jEe(){nQ(),tQ()}class r4{constructor(e,t,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bm.add(this),Ck||(Ck=!0,li.read(nQ),li.resolveKeyframes(tQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const l=r.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bm.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bm.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const rQ=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),VEe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zEe(n){const e=VEe.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function iQ(n,e,t=1){const[r,i]=zEe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return rQ(a)?parseFloat(a):a}return BL(i)?iQ(i,e,t+1):i}const sQ=n=>e=>e.test(n),HEe={test:n=>n==="auto",parse:n=>n},aQ=[Sy,dn,Eu,jd,kSe,NSe,HEe],jU=n=>aQ.find(sQ(n));class oQ extends r4{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),BL(c))){const u=iQ(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!FZ.has(r)||e.length!==2)return;const[i,s]=e,a=jU(i),o=jU(s);if(a!==o)if(FU(a)&&FU(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)xEe(e[i])&&r.push(i);r.length&&LEe(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xv[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Xv[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const VU=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zf.test(n)||n==="0")&&!n.startsWith("url("));function WEe(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function GEe(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=VU(i,e),o=VU(s,e);return!a||!o?!1:WEe(n)||(t==="spring"||$L(t))&&r}const $Ee=n=>n!==null;function pC(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter($Ee),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const qEe=40;class lQ{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Au.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qEe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jEe(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Au.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!GEe(e,r,i,s))if(a)this.options.duration=0;else{l&&l(pC(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const bi=(n,e,t)=>n+(e-n)*t;function GI(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function XEe({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=GI(l,o,n+1/3),s=GI(l,o,n),a=GI(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Y2(n,e){return t=>t>0?e:n}const $I=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},YEe=[Ak,im,N0],KEe=n=>YEe.find(e=>e.test(n));function zU(n){const e=KEe(n);if(!e)return!1;let t=e.parse(n);return e===N0&&(t=XEe(t)),t}const HU=(n,e)=>{const t=zU(n),r=zU(e);if(!t||!r)return Y2(n,e);const i={...t};return s=>(i.red=$I(t.red,r.red,s),i.green=$I(t.green,r.green,s),i.blue=$I(t.blue,r.blue,s),i.alpha=bi(t.alpha,r.alpha,s),im.transform(i))},ZEe=(n,e)=>t=>e(n(t)),xw=(...n)=>n.reduce(ZEe),Ik=new Set(["none","hidden"]);function QEe(n,e){return Ik.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function JEe(n,e){return t=>bi(n,e,t)}function i4(n){return typeof n=="number"?JEe:typeof n=="string"?BL(n)?Y2:_a.test(n)?HU:n2e:Array.isArray(n)?cQ:typeof n=="object"?_a.test(n)?HU:e2e:Y2}function cQ(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>i4(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function e2e(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=i4(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function t2e(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=n.indexes[a][i[a]],l=(t=n.values[o])!==null&&t!==void 0?t:0;r[s]=l,i[a]++}return r}const n2e=(n,e)=>{const t=zf.createTransformer(e),r=__(n),i=__(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ik.has(n)&&!i.values.length||Ik.has(e)&&!r.values.length?QEe(n,e):xw(cQ(t2e(r,i),i.values),t):Y2(n,e)};function uQ(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?bi(n,e,t):i4(n)(n,e)}const r2e=5;function hQ(n,e,t){const r=Math.max(e-r2e,0);return BZ(t-n(r),e-r)}const Oi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qI=.001;function i2e({duration:n=Oi.duration,bounce:e=Oi.bounce,velocity:t=Oi.velocity,mass:r=Oi.mass}){let i,s,a=1-e;a=zh(Oi.minDamping,Oi.maxDamping,a),n=zh(Oi.minDuration,Oi.maxDuration,Mh(n)),a<1?(i=c=>{const u=c*a,h=u*n,d=u-t,p=Pk(c,a),g=Math.exp(-h);return qI-d/p*g},s=c=>{const h=c*a*n,d=h*t+t,p=Math.pow(a,2)*Math.pow(c,2)*n,g=Math.exp(-h),_=Pk(Math.pow(c,2),a);return(-i(c)+qI>0?-1:1)*((d-p)*g)/_}):(i=c=>{const u=Math.exp(-c*n),h=(c-t)*n+1;return-qI+u*h},s=c=>{const u=Math.exp(-c*n),h=(t-c)*(n*n);return u*h});const o=5/n,l=a2e(i,s,o);if(n=Ch(n),isNaN(l))return{stiffness:Oi.stiffness,damping:Oi.damping,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:n}}}const s2e=12;function a2e(n,e,t){let r=t;for(let i=1;i<s2e;i++)r=r-n(r)/e(r);return r}function Pk(n,e){return n*Math.sqrt(1-e*e)}const o2e=["duration","bounce"],l2e=["stiffness","damping","mass"];function WU(n,e){return e.some(t=>n[t]!==void 0)}function c2e(n){let e={velocity:Oi.velocity,stiffness:Oi.stiffness,damping:Oi.damping,mass:Oi.mass,isResolvedFromDuration:!1,...n};if(!WU(n,l2e)&&WU(n,o2e))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*zh(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Oi.mass,stiffness:i,damping:s}}else{const t=i2e(n);e={...e,...t,mass:Oi.mass},e.isResolvedFromDuration=!0}return e}function dQ(n=Oi.visualDuration,e=Oi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:p}=c2e({...t,velocity:-Mh(t.velocity||0)}),g=d||0,_=c/(2*Math.sqrt(l*u)),w=a-s,x=Mh(Math.sqrt(l/u)),S=Math.abs(w)<5;r||(r=S?Oi.restSpeed.granular:Oi.restSpeed.default),i||(i=S?Oi.restDelta.granular:Oi.restDelta.default);let E;if(_<1){const D=Pk(x,_);E=k=>{const I=Math.exp(-_*x*k);return a-I*((g+_*x*w)/D*Math.sin(D*k)+w*Math.cos(D*k))}}else if(_===1)E=D=>a-Math.exp(-x*D)*(w+(g+x*w)*D);else{const D=x*Math.sqrt(_*_-1);E=k=>{const I=Math.exp(-_*x*k),N=Math.min(D*k,300);return a-I*((g+_*x*w)*Math.sinh(N)+D*w*Math.cosh(N))/D}}const T={calculatedDuration:p&&h||null,next:D=>{const k=E(D);if(p)o.done=D>=h;else{let I=0;_<1&&(I=D===0?Ch(g):hQ(E,D,k));const N=Math.abs(I)<=r,P=Math.abs(a-k)<=i;o.done=N&&P}return o.value=o.done?a:k,o},toString:()=>{const D=Math.min(IZ(T),bk),k=PZ(I=>T.next(D*I).value,D,30);return D+"ms "+k}};return T}function GU({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const h=n[0],d={done:!1,value:h},p=N=>o!==void 0&&N<o||l!==void 0&&N>l,g=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let _=t*e;const w=h+_,x=a===void 0?w:a(w);x!==w&&(_=x-h);const S=N=>-_*Math.exp(-N/r),E=N=>x+S(N),T=N=>{const P=S(N),R=E(N);d.done=Math.abs(P)<=c,d.value=d.done?x:R};let D,k;const I=N=>{p(d.value)&&(D=N,k=dQ({keyframes:[d.value,g(d.value)],velocity:hQ(E,N,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:N=>{let P=!1;return!k&&D===void 0&&(P=!0,T(N),I(N)),D!==void 0&&N>=D?k.next(N-D):(!P&&T(N),d)}}}const u2e=yw(.42,0,1,1),h2e=yw(0,0,.58,1),fQ=yw(.42,0,.58,1),d2e=n=>Array.isArray(n)&&typeof n[0]!="number",f2e={linear:sl,easeIn:u2e,easeInOut:fQ,easeOut:h2e,circIn:JL,circInOut:qZ,circOut:$Z,backIn:QL,backInOut:WZ,backOut:HZ,anticipate:GZ},$U=n=>{if(qL(n)){cZ(n.length===4);const[e,t,r,i]=n;return yw(e,t,r,i)}else if(typeof n=="string")return f2e[n];return n};function p2e(n,e,t){const r=[],i=t||uQ,s=n.length-1;for(let a=0;a<s;a++){let o=i(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||sl:e;o=xw(l,o)}r.push(o)}return r}function m2e(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(cZ(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=p2e(e,r,i),l=o.length,c=u=>{if(a&&u<n[0])return e[0];let h=0;if(l>1)for(;h<n.length-2&&!(u<n[h+1]);h++);const d=$v(n[h],n[h+1],u);return o[h](d)};return t?u=>c(zh(n[0],n[s-1],u)):c}function g2e(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=$v(0,e,r);n.push(bi(t,1,i))}}function v2e(n){const e=[0];return g2e(e,n.length-1),e}function y2e(n,e){return n.map(t=>t*e)}function x2e(n,e){return n.map(()=>e||fQ).splice(0,n.length-1)}function K2({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=d2e(r)?r.map($U):$U(r),s={done:!1,value:e[0]},a=y2e(t&&t.length===e.length?t:v2e(e),n),o=m2e(a,e,{ease:Array.isArray(i)?i:x2e(e,i)});return{calculatedDuration:n,next:l=>(s.value=o(l),s.done=l>=n,s)}}const _2e=n=>{const e=({timestamp:t})=>n(t);return{start:()=>li.update(e,!0),stop:()=>Vf(e),now:()=>Gs.isProcessing?Gs.timestamp:Au.now()}},w2e={decay:GU,inertia:GU,tween:K2,keyframes:K2,spring:dQ},b2e=n=>n/100;class s4 extends lQ{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||r4,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(s,o,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=$L(t)?t:w2e[t]||K2;let l,c;o!==K2&&typeof e[0]!="number"&&(l=xw(b2e,uQ(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});s==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=IZ(u));const{calculatedDuration:h}=u,d=h+i,p=d*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:d,repeat:p,repeatType:g,repeatDelay:_,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-d*(this.speed>=0?1:-1),S=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let E=this.currentTime,T=s;if(p){const N=Math.min(this.currentTime,u)/h;let P=Math.floor(N),R=N%1;!R&&N>=1&&(R=1),R===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(R=1-R,_&&(R-=_/h)):g==="mirror"&&(T=a)),E=zh(0,1,R)*h}const D=S?{done:!1,value:l[0]}:T.next(E);o&&(D.value=o(D.value));let{done:k}=D;!S&&c!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return I&&i!==void 0&&(D.value=pC(l,this.options,i)),w&&w(D.value),I&&this.finish(),D}get duration(){const{resolved:e}=this;return e?Mh(e.calculatedDuration):0}get time(){return Mh(this.currentTime)}set time(e){e=Ch(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Mh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=_2e,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const S2e=new Set(["opacity","clipPath","filter","transform"]);function E2e(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=NZ(o,i);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const A2e=RL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Z2=10,T2e=2e4;function C2e(n){return $L(n.type)||n.type==="spring"||!RZ(n.ease)}function M2e(n,e){const t=new s4({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<T2e;)r=t.sample(s),i.push(r.value),s+=Z2;return{times:void 0,keyframes:i,duration:s-Z2,ease:"linear"}}const pQ={anticipate:GZ,backInOut:WZ,circInOut:qZ};function I2e(n){return n in pQ}class qU extends lQ{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new oQ(s,(a,o)=>this.onKeyframesResolved(a,o),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&X2()&&I2e(s)&&(s=pQ[s]),C2e(this.options)){const{onComplete:h,onUpdate:d,motionValue:p,element:g,..._}=this.options,w=M2e(e,_);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,i=w.times,s=w.ease,a="keyframes"}const u=E2e(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(RU(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;o.set(pC(e,this.options,t)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Mh(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Mh(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Ch(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return sl;const{animation:r}=t;RU(r,e)}return sl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:d,...p}=this.options,g=new s4({...p,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),_=Ch(this.time);c.setWithVelocity(g.sample(_-Z2).value,g.sample(_).value,Z2)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return A2e()&&r&&S2e.has(r)&&!l&&!c&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const P2e={type:"spring",stiffness:500,damping:25,restSpeed:10},R2e=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),N2e={type:"keyframes",duration:.8},k2e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D2e=(n,{keyframes:e})=>e.length>2?N2e:hg.has(n)?n.startsWith("scale")?R2e(e[1]):P2e:k2e;function O2e({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const a4=(n,e,t,r={},i,s)=>a=>{const o=GL(r,n)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ch(l);let u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:s?void 0:i};O2e(o)||(u={...u,...D2e(n,u)}),u.duration&&(u.duration=Ch(u.duration)),u.repeatDelay&&(u.repeatDelay=Ch(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const d=pC(u.keyframes,o);if(d!==void 0)return li.update(()=>{u.onUpdate(d),u.onComplete()}),new tEe([])}return!s&&qU.supports(u)?new qU(u):new s4(u)};function L2e({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function mQ(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:a=n.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const h in l){const d=n.getValue(h,(s=n.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||u&&L2e(u,h))continue;const g={delay:t,...GL(a||{},h)};let _=!1;if(window.MotionHandoffAnimation){const x=UZ(n);if(x){const S=window.MotionHandoffAnimation(x,h,li);S!==null&&(g.startTime=S,_=!0)}}Ek(n,h),d.start(a4(h,d,p,n.shouldReduceMotion&&FZ.has(h)?{type:!1}:g,n,_));const w=d.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{li.update(()=>{o&&pEe(n,o)})}),c}function Rk(n,e,t={}){var r;const i=fC(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const a=i?()=>Promise.all(mQ(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=s;return F2e(n,e,u+c,h,d,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(t.delay)])}function F2e(n,e,t=0,r=0,i=1,s){const a=[],o=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(n.variantChildren).sort(B2e).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(Rk(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function B2e(n,e){return n.sortNodePosition(e)}function U2e(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Rk(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=Rk(n,e,t);else{const i=typeof e=="function"?fC(n,e,t.custom):e;r=Promise.all(mQ(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const j2e=kL.length;function gQ(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?gQ(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<j2e;t++){const r=kL[t],i=n.props[r];(v_(i)||i===!1)&&(e[r]=i)}return e}const V2e=[...NL].reverse(),z2e=NL.length;function H2e(n){return e=>Promise.all(e.map(({animation:t,options:r})=>U2e(n,t,r)))}function W2e(n){let e=H2e(n),t=XU(),r=!0;const i=l=>(c,u)=>{var h;const d=fC(n,u,l==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:g,..._}=d;c={...c,..._,...g}}return c};function s(l){e=l(n)}function a(l){const{props:c}=n,u=gQ(n.parent)||{},h=[],d=new Set;let p={},g=1/0;for(let w=0;w<z2e;w++){const x=V2e[w],S=t[x],E=c[x]!==void 0?c[x]:u[x],T=v_(E),D=x===l?S.isActive:null;D===!1&&(g=w);let k=E===u[x]&&E!==c[x]&&T;if(k&&r&&n.manuallyAnimateOnMount&&(k=!1),S.protectedKeys={...p},!S.isActive&&D===null||!E&&!S.prevProp||hC(E)||typeof E=="boolean")continue;const I=G2e(S.prevProp,E);let N=I||x===l&&S.isActive&&!k&&T||w>g&&T,P=!1;const R=Array.isArray(E)?E:[E];let B=R.reduce(i(x),{});D===!1&&(B={});const{prevResolvedValues:z={}}=S,H={...z,...B},K=ce=>{N=!0,d.has(ce)&&(P=!0,d.delete(ce)),S.needsAnimating[ce]=!0;const X=n.getValue(ce);X&&(X.liveStyle=!1)};for(const ce in H){const X=B[ce],ue=z[ce];if(p.hasOwnProperty(ce))continue;let q=!1;wk(X)&&wk(ue)?q=!MZ(X,ue):q=X!==ue,q?X!=null?K(ce):d.add(ce):X!==void 0&&d.has(ce)?K(ce):S.protectedKeys[ce]=!0}S.prevProp=E,S.prevResolvedValues=B,S.isActive&&(p={...p,...B}),r&&n.blockInitialAnimation&&(N=!1),N&&(!(k&&I)||P)&&h.push(...R.map(ce=>({animation:ce,options:{type:x}})))}if(d.size){const w={};d.forEach(x=>{const S=n.getBaseTarget(x),E=n.getValue(x);E&&(E.liveStyle=!0),w[x]=S??null}),h.push({animation:w})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function o(l,c){var u;if(t[l].isActive===c)return Promise.resolve();(u=n.variantChildren)===null||u===void 0||u.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),t[l].isActive=c;const h=a(l);for(const d in t)t[d].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=XU(),r=!0}}}function G2e(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!MZ(e,n):!1}function wp(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XU(){return{animate:wp(!0),whileInView:wp(),whileHover:wp(),whileTap:wp(),whileDrag:wp(),whileFocus:wp(),exit:wp()}}class Zf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $2e extends Zf{constructor(e){super(e),e.animationState||(e.animationState=W2e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hC(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let q2e=0;class X2e extends Zf{constructor(){super(...arguments),this.id=q2e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Y2e={animation:{Feature:$2e},exit:{Feature:X2e}};function w_(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function _w(n){return{point:{x:n.pageX,y:n.pageY}}}const K2e=n=>e=>XL(e)&&n(e,_w(e));function x1(n,e,t,r){return w_(n,e,K2e(t),r)}const YU=(n,e)=>Math.abs(n-e);function Z2e(n,e){const t=YU(n.x,e.x),r=YU(n.y,e.y);return Math.sqrt(t**2+r**2)}class vQ{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=YI(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=Z2e(h.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:g}=h,{timestamp:_}=Gs;this.history.push({...g,timestamp:_});const{onStart:w,onMove:x}=this.handlers;d||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=XI(d,this.transformPagePoint),li.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=YI(h.type==="pointercancel"?this.lastMoveEventInfo:XI(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,w),g&&g(h,w)},!XL(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const a=_w(e),o=XI(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Gs;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,YI(o,this.history)),this.removeListeners=xw(x1(this.contextWindow,"pointermove",this.handlePointerMove),x1(this.contextWindow,"pointerup",this.handlePointerUp),x1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vf(this.updatePoint)}}function XI(n,e){return e?{point:e(n.point)}:n}function KU(n,e){return{x:n.x-e.x,y:n.y-e.y}}function YI({point:n},e){return{point:n,delta:KU(n,yQ(e)),offset:KU(n,Q2e(e)),velocity:J2e(e,.1)}}function Q2e(n){return n[0]}function yQ(n){return n[n.length-1]}function J2e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=yQ(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Ch(e)));)t--;if(!r)return{x:0,y:0};const s=Mh(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const xQ=1e-4,eAe=1-xQ,tAe=1+xQ,_Q=.01,nAe=0-_Q,rAe=0+_Q;function cl(n){return n.max-n.min}function iAe(n,e,t){return Math.abs(n-e)<=t}function ZU(n,e,t,r=.5){n.origin=r,n.originPoint=bi(e.min,e.max,n.origin),n.scale=cl(t)/cl(e),n.translate=bi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=eAe&&n.scale<=tAe||isNaN(n.scale))&&(n.scale=1),(n.translate>=nAe&&n.translate<=rAe||isNaN(n.translate))&&(n.translate=0)}function _1(n,e,t,r){ZU(n.x,e.x,t.x,r?r.originX:void 0),ZU(n.y,e.y,t.y,r?r.originY:void 0)}function QU(n,e,t){n.min=t.min+e.min,n.max=n.min+cl(e)}function sAe(n,e,t){QU(n.x,e.x,t.x),QU(n.y,e.y,t.y)}function JU(n,e,t){n.min=e.min-t.min,n.max=n.min+cl(e)}function w1(n,e,t){JU(n.x,e.x,t.x),JU(n.y,e.y,t.y)}function aAe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?bi(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?bi(t,n,r.max):Math.min(n,t)),n}function ej(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function oAe(n,{top:e,left:t,bottom:r,right:i}){return{x:ej(n.x,t,i),y:ej(n.y,e,r)}}function tj(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function lAe(n,e){return{x:tj(n.x,e.x),y:tj(n.y,e.y)}}function cAe(n,e){let t=.5;const r=cl(n),i=cl(e);return i>r?t=$v(e.min,e.max-r,n.min):r>i&&(t=$v(n.min,n.max-i,e.min)),zh(0,1,t)}function uAe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Nk=.35;function hAe(n=Nk){return n===!1?n=0:n===!0&&(n=Nk),{x:nj(n,"left","right"),y:nj(n,"top","bottom")}}function nj(n,e,t){return{min:rj(n,e),max:rj(n,t)}}function rj(n,e){return typeof n=="number"?n:n[e]||0}const ij=()=>({translate:0,scale:1,origin:0,originPoint:0}),k0=()=>({x:ij(),y:ij()}),sj=()=>({min:0,max:0}),Vi=()=>({x:sj(),y:sj()});function Al(n){return[n("x"),n("y")]}function wQ({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function dAe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function fAe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function KI(n){return n===void 0||n===1}function kk({scale:n,scaleX:e,scaleY:t}){return!KI(n)||!KI(e)||!KI(t)}function zp(n){return kk(n)||bQ(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function bQ(n){return aj(n.x)||aj(n.y)}function aj(n){return n&&n!=="0%"}function Q2(n,e,t){const r=n-t,i=e*r;return t+i}function oj(n,e,t,r,i){return i!==void 0&&(n=Q2(n,i,r)),Q2(n,t,r)+e}function Dk(n,e=0,t=1,r,i){n.min=oj(n.min,e,t,r,i),n.max=oj(n.max,e,t,r,i)}function SQ(n,{x:e,y:t}){Dk(n.x,e.translate,e.scale,e.originPoint),Dk(n.y,t.translate,t.scale,t.originPoint)}const lj=.999999999999,cj=1.0000000000001;function pAe(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=t[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&O0(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,SQ(n,a)),r&&zp(s.latestValues)&&O0(n,s.latestValues))}e.x<cj&&e.x>lj&&(e.x=1),e.y<cj&&e.y>lj&&(e.y=1)}function D0(n,e){n.min=n.min+e,n.max=n.max+e}function uj(n,e,t,r,i=.5){const s=bi(n.min,n.max,i);Dk(n,e,t,s,r)}function O0(n,e){uj(n.x,e.x,e.scaleX,e.scale,e.originX),uj(n.y,e.y,e.scaleY,e.scale,e.originY)}function EQ(n,e){return wQ(fAe(n.getBoundingClientRect(),e))}function mAe(n,e,t){const r=EQ(n,t),{scroll:i}=e;return i&&(D0(r.x,i.offset.x),D0(r.y,i.offset.y)),r}const AQ=({current:n})=>n?n.ownerDocument.defaultView:null,gAe=new WeakMap;class vAe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(_w(u).point)},s=(u,h)=>{const{drag:d,dragPropagation:p,onDragStart:g}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cEe(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Al(w=>{let x=this.getAxisMotionValue(w).get()||0;if(Eu.test(x)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[w];E&&(x=cl(E)*(parseFloat(x)/100))}}this.originPoint[w]=x}),g&&li.postRender(()=>g(u,h)),Ek(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(u,h)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:g,onDrag:_}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:w}=h;if(p&&this.currentDirection===null){this.currentDirection=yAe(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),_&&_(u,h)},o=(u,h)=>this.stop(u,h),l=()=>Al(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new vQ(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:AQ(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&li.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!eS(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=aAe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&R0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=oAe(i.layoutBox,t):this.constraints=!1,this.elastic=hAe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Al(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=uAe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!R0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=mAe(r,i.root,this.visualElement.getTransformPagePoint());let a=lAe(i.layout.layoutBox,s);if(t){const o=t(dAe(a));this.hasMutatedConstraints=!!o,o&&(a=wQ(o))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Al(u=>{if(!eS(u,t,this.currentDirection))return;let h=l&&l[u]||{};a&&(h={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Ek(this.visualElement,e),r.start(a4(e,r,0,t,this.visualElement,!1))}stopAnimation(){Al(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Al(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Al(t=>{const{drag:r}=this.getProps();if(!eS(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t];s.set(e[t]-bi(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!R0(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Al(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=cAe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Al(a=>{if(!eS(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(bi(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;gAe.set(this.visualElement,this);const e=this.visualElement.current,t=x1(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();R0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),li.read(r);const a=w_(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Al(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Nk,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function eS(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function yAe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class xAe extends Zf{constructor(e){super(e),this.removeGroupControls=sl,this.removeListeners=sl,this.controls=new vAe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sl}unmount(){this.removeGroupControls(),this.removeListeners()}}const hj=n=>(e,t)=>{n&&li.postRender(()=>n(e,t))};class _Ae extends Zf{constructor(){super(...arguments),this.removePointerDownListener=sl}onPointerDown(e){this.session=new vQ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AQ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:hj(e),onStart:hj(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&li.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=x1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dj(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ux={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(dn.test(n))n=parseFloat(n);else return n;const t=dj(n,e.target.x),r=dj(n,e.target.y);return`${t}% ${r}%`}},wAe={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=zf.parse(n);if(i.length>5)return r;const s=zf.createTransformer(n),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=bi(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class bAe extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;HSe(SAe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),kE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||li.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),OL.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TQ(n){const[e,t]=iSe(),r=F.useContext(oZ);return m.jsx(bAe,{...n,layoutGroup:r,switchLayoutGroup:F.useContext(mZ),isPresent:e,safeToRemove:t})}const SAe={borderRadius:{...ux,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ux,borderTopRightRadius:ux,borderBottomLeftRadius:ux,borderBottomRightRadius:ux,boxShadow:wAe};function EAe(n,e,t){const r=Ta(n)?n:x_(n);return r.start(a4("",r,e,t)),r.animation}function AAe(n){return n instanceof SVGElement&&n.tagName!=="svg"}const TAe=(n,e)=>n.depth-e.depth;class CAe{constructor(){this.children=[],this.isDirty=!1}add(e){YL(this.children,e),this.isDirty=!0}remove(e){KL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TAe),this.isDirty=!1,this.children.forEach(e)}}function MAe(n,e){const t=Au.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Vf(r),n(s-e))};return li.read(r,!0),()=>Vf(r)}const CQ=["TopLeft","TopRight","BottomLeft","BottomRight"],IAe=CQ.length,fj=n=>typeof n=="string"?parseFloat(n):n,pj=n=>typeof n=="number"||dn.test(n);function PAe(n,e,t,r,i,s){i?(n.opacity=bi(0,t.opacity!==void 0?t.opacity:1,RAe(r)),n.opacityExit=bi(e.opacity!==void 0?e.opacity:1,0,NAe(r))):s&&(n.opacity=bi(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<IAe;a++){const o=`border${CQ[a]}Radius`;let l=mj(e,o),c=mj(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pj(l)===pj(c)?(n[o]=Math.max(bi(fj(l),fj(c),r),0),(Eu.test(c)||Eu.test(l))&&(n[o]+="%")):n[o]=c}(e.rotate||t.rotate)&&(n.rotate=bi(e.rotate||0,t.rotate||0,r))}function mj(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const RAe=MQ(0,.5,$Z),NAe=MQ(.5,.95,sl);function MQ(n,e,t){return r=>r<n?0:r>e?1:t($v(n,e,r))}function gj(n,e){n.min=e.min,n.max=e.max}function bl(n,e){gj(n.x,e.x),gj(n.y,e.y)}function vj(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function yj(n,e,t,r,i){return n-=e,n=Q2(n,1/t,r),i!==void 0&&(n=Q2(n,1/i,r)),n}function kAe(n,e=0,t=1,r=.5,i,s=n,a=n){if(Eu.test(e)&&(e=parseFloat(e),e=bi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=bi(s.min,s.max,r);n===s&&(o-=e),n.min=yj(n.min,e,t,o,i),n.max=yj(n.max,e,t,o,i)}function xj(n,e,[t,r,i],s,a){kAe(n,e[t],e[r],e[i],e.scale,s,a)}const DAe=["x","scaleX","originX"],OAe=["y","scaleY","originY"];function _j(n,e,t,r){xj(n.x,e,DAe,t?t.x:void 0,r?r.x:void 0),xj(n.y,e,OAe,t?t.y:void 0,r?r.y:void 0)}function wj(n){return n.translate===0&&n.scale===1}function IQ(n){return wj(n.x)&&wj(n.y)}function bj(n,e){return n.min===e.min&&n.max===e.max}function LAe(n,e){return bj(n.x,e.x)&&bj(n.y,e.y)}function Sj(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function PQ(n,e){return Sj(n.x,e.x)&&Sj(n.y,e.y)}function Ej(n){return cl(n.x)/cl(n.y)}function Aj(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class FAe{constructor(){this.members=[]}add(e){YL(this.members,e),e.scheduleRender()}remove(e){if(KL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BAe(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:d,skewX:p,skewY:g}=t;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Hp={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hx=typeof window<"u"&&window.MotionDebug!==void 0,ZI=["","X","Y","Z"],UAe={visibility:"hidden"},Tj=1e3;let jAe=0;function QI(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function RQ(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=UZ(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",li,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&RQ(r)}function NQ({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=jAe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hx&&(Hp.totalNodes=Hp.resolvedTargetDeltas=Hp.recalculatedProjection=0),this.nodes.forEach(HAe),this.nodes.forEach(XAe),this.nodes.forEach(YAe),this.nodes.forEach(WAe),Hx&&window.MotionDebug.record(Hp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new CAe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ZL),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AAe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const d=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=MAe(d,250),kE.hasAnimatedSinceResize&&(kE.hasAnimatedSinceResize=!1,this.nodes.forEach(Mj))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||eTe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=u.getProps(),S=!this.targetLayout||!PQ(this.targetLayout,g)||p,E=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||d&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const T={...GL(_,"layout"),onPlay:w,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else d||Mj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KAe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RQ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cj);return}this.isUpdating||this.nodes.forEach($Ae),this.isUpdating=!1,this.nodes.forEach(qAe),this.nodes.forEach(VAe),this.nodes.forEach(zAe),this.clearAllSnapshots();const o=Au.now();Gs.delta=zh(0,1e3/60,o-Gs.timestamp),Gs.timestamp=o,Gs.isProcessing=!0,zI.update.process(Gs),zI.preRender.process(Gs),zI.render.process(Gs),Gs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,OL.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GAe),this.sharedNodes.forEach(ZAe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,li.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){li.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!IQ(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||zp(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),tTe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Vi();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(nTe))){const{scroll:u}=this.root;u&&(D0(l.x,u.offset.x),D0(l.y,u.offset.y))}return l}removeElementScroll(a){var o;const l=Vi();if(bl(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:d}=u;u!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&bl(l,a),D0(l.x,h.offset.x),D0(l.y,h.offset.y))}return l}applyTransform(a,o=!1){const l=Vi();bl(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&O0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),zp(u.latestValues)&&O0(l,u.latestValues)}return zp(this.latestValues)&&O0(l,this.latestValues),l}removeTransform(a){const o=Vi();bl(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!zp(c.latestValues))continue;kk(c.latestValues)&&c.updateSnapshot();const u=Vi(),h=c.measurePageBox();bl(u,h),_j(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return zp(this.latestValues)&&_j(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Gs.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vi(),this.relativeTargetOrigin=Vi(),w1(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),bl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vi(),this.targetWithTransforms=Vi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sAe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bl(this.target,this.layout.layoutBox),SQ(this.target,this.targetDelta)):bl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vi(),this.relativeTargetOrigin=Vi(),w1(this.relativeTargetOrigin,this.target,p.target),bl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hx&&Hp.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kk(this.parent.latestValues)||bQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gs.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;bl(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;pAe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Vi());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vj(this.prevProjectionDelta.x,this.projectionDelta.x),vj(this.prevProjectionDelta.y,this.projectionDelta.y)),_1(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!Aj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Aj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Hx&&Hp.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=k0(),this.projectionDelta=k0(),this.projectionDeltaWithTransform=k0()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=k0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=Vi(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=p!==g,w=this.getStack(),x=!w||w.members.length<=1,S=!!(_&&!x&&this.options.crossfade===!0&&!this.path.some(JAe));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const D=T/1e3;Ij(h.x,a.x,D),Ij(h.y,a.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(w1(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QAe(this.relativeTarget,this.relativeTargetOrigin,d,D),E&&LAe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Vi()),bl(E,this.relativeTarget)),_&&(this.animationValues=u,PAe(u,c,this.latestValues,D,S,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=li.update(()=>{kE.hasAnimatedSinceResize=!0,this.currentAnimation=EAe(0,Tj,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&kQ(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Vi();const h=cl(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const d=cl(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}bl(o,l),O0(o,u),_1(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new FAe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&QI("z",a,c,this.animationValues);for(let u=0;u<ZI.length;u++)QI(`rotate${ZI[u]}`,a,c,this.animationValues),QI(`skew${ZI[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UAe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=RE(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=RE(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!zp(this.latestValues)&&(_.transform=u?u({},""):"none",this.hasProjected=!1),_}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=BAe(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=d.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in q2){if(d[_]===void 0)continue;const{correct:w,applyTo:x}=q2[_],S=c.transform==="none"?d[_]:w(d[_],h);if(x){const E=x.length;for(let T=0;T<E;T++)c[x[T]]=S}else c[_]=S}return this.options.layoutId&&(c.pointerEvents=h===this?RE(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Cj),this.root.sharedNodes.clear()}}}function VAe(n){n.updateLayout()}function zAe(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?Al(h=>{const d=a?t.measuredBox[h]:t.layoutBox[h],p=cl(d);d.min=r[h].min,d.max=d.min+p}):kQ(s,t.layoutBox,r)&&Al(h=>{const d=a?t.measuredBox[h]:t.layoutBox[h],p=cl(r[h]);d.max=d.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+p)});const o=k0();_1(o,r,t.layoutBox);const l=k0();a?_1(l,n.applyTransform(i,!0),t.measuredBox):_1(l,r,t.layoutBox);const c=!IQ(o);let u=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:p}=h;if(d&&p){const g=Vi();w1(g,t.layoutBox,d.layoutBox);const _=Vi();w1(_,r,p.layoutBox),PQ(g,_)||(u=!0),h.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=g,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function HAe(n){Hx&&Hp.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function WAe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function GAe(n){n.clearSnapshot()}function Cj(n){n.clearMeasurements()}function $Ae(n){n.isLayoutDirty=!1}function qAe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Mj(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function XAe(n){n.resolveTargetDelta()}function YAe(n){n.calcProjection()}function KAe(n){n.resetSkewAndRotation()}function ZAe(n){n.removeLeadSnapshot()}function Ij(n,e,t){n.translate=bi(e.translate,0,t),n.scale=bi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Pj(n,e,t,r){n.min=bi(e.min,t.min,r),n.max=bi(e.max,t.max,r)}function QAe(n,e,t,r){Pj(n.x,e.x,t.x,r),Pj(n.y,e.y,t.y,r)}function JAe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const eTe={duration:.45,ease:[.4,0,.1,1]},Rj=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Nj=Rj("applewebkit/")&&!Rj("chrome/")?Math.round:sl;function kj(n){n.min=Nj(n.min),n.max=Nj(n.max)}function tTe(n){kj(n.x),kj(n.y)}function kQ(n,e,t){return n==="position"||n==="preserve-aspect"&&!iAe(Ej(e),Ej(t),.2)}function nTe(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const rTe=NQ({attachResizeListener:(n,e)=>w_(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),JI={current:void 0},DQ=NQ({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!JI.current){const n=new rTe({});n.mount(window),n.setOptions({layoutScroll:!0}),JI.current=n}return JI.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),iTe={pan:{Feature:_Ae},drag:{Feature:xAe,ProjectionNode:DQ,MeasureLayout:TQ}};function Dj(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&li.postRender(()=>s(e,_w(e)))}class sTe extends Zf{mount(){const{current:e}=this.node;e&&(this.unmount=iEe(e,t=>(Dj(this.node,t,"Start"),r=>Dj(this.node,r,"End"))))}unmount(){}}class aTe extends Zf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xw(w_(this.node.current,"focus",()=>this.onFocus()),w_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Oj(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&li.postRender(()=>s(e,_w(e)))}class oTe extends Zf{mount(){const{current:e}=this.node;e&&(this.unmount=lEe(e,t=>(Oj(this.node,t,"Start"),(r,{success:i})=>Oj(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ok=new WeakMap,eP=new WeakMap,lTe=n=>{const e=Ok.get(n.target);e&&e(n)},cTe=n=>{n.forEach(lTe)};function uTe({root:n,...e}){const t=n||document;eP.has(t)||eP.set(t,{});const r=eP.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(cTe,{root:n,...e})),r[i]}function hTe(n,e,t){const r=uTe(e);return Ok.set(n,t),r.observe(n),()=>{Ok.delete(n),r.unobserve(n)}}const dTe={some:0,all:1};class fTe extends Zf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:dTe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),d=c?u:h;d&&d(l)};return hTe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(pTe(e,t))&&this.startObserver()}unmount(){}}function pTe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const mTe={inView:{Feature:fTe},tap:{Feature:oTe},focus:{Feature:aTe},hover:{Feature:sTe}},gTe={layout:{ProjectionNode:DQ,MeasureLayout:TQ}},Lk={current:null},OQ={current:!1};function vTe(){if(OQ.current=!0,!!PL)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Lk.current=n.matches;n.addListener(e),e()}else Lk.current=!1}const yTe=[...aQ,_a,zf],xTe=n=>yTe.find(sQ(n)),Lj=new WeakMap;function _Te(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Ta(i))n.addValue(r,i);else if(Ta(s))n.addValue(r,x_(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,x_(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Fj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wTe{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Au.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,li.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=dC(t),this.isVariantNode=fZ(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in d){const g=d[p];l[p]!==void 0&&Ta(g)&&g.set(l[p],!1)}}mount(e){this.current=e,Lj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),OQ.current||vTe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lk.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Lj.delete(this.current),this.projection&&this.projection.unmount(),Vf(this.notifyUpdate),Vf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hg.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&li.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qv){const t=qv[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Fj.length;r++){const i=Fj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=_Te(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=x_(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(rQ(i)||XZ(i))?i=parseFloat(i):!xTe(i)&&zf.test(t)&&(i=eQ(e,t)),this.setBaseTarget(e,Ta(i)?i.get():i)),Ta(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=FL(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ta(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ZL),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class LQ extends wTe{constructor(){super(...arguments),this.KeyframeResolver=oQ}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ta(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function bTe(n){return window.getComputedStyle(n)}class STe extends LQ{constructor(){super(...arguments),this.type="html",this.renderInstance=bZ}readValueFromInstance(e,t){if(hg.has(t)){const r=n4(t);return r&&r.default||0}else{const r=bTe(e),i=(xZ(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return EQ(e,t)}build(e,t,r){jL(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return WL(e,t,r)}}class ETe extends LQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(hg.has(t)){const r=n4(t);return r&&r.default||0}return t=SZ.has(t)?t:DL(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return TZ(e,t,r)}build(e,t,r){VL(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){EZ(e,t,r,i)}mount(e){this.isSVGTag=HL(e.tagName),super.mount(e)}}const ATe=(n,e)=>LL(n)?new ETe(e):new STe(e,{allowProjection:n!==F.Fragment}),TTe=QSe({...Y2e,...mTe,...iTe,...gTe},ATe),Zn=fSe(TTe),CTe={some:0,all:1};function MTe(n,e,{root:t,margin:r,amount:i="some"}={}){const s=DZ(n),a=new WeakMap,o=c=>{c.forEach(u=>{const h=a.get(u.target);if(u.isIntersecting!==!!h)if(u.isIntersecting){const d=e(u);typeof d=="function"?a.set(u.target,d):l.unobserve(u.target)}else typeof h=="function"&&(h(u),a.delete(u.target))})},l=new IntersectionObserver(o,{root:t,rootMargin:r,threshold:typeof i=="number"?i:CTe[i]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function ITe(n,{root:e,margin:t,amount:r,once:i=!1}={}){const[s,a]=F.useState(!1);return F.useEffect(()=>{if(!n.current||i&&s)return;const o=()=>(a(!0),i?void 0:()=>a(!1)),l={root:e&&e.current||void 0,margin:t,amount:r};return MTe(n.current,o,l)},[e,n,t,i,r]),s}function PTe(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[i,s]=F.useState(!0);if(F.useEffect(()=>{async function o(){const{db:c}=await wa(async()=>{const{db:p}=await Promise.resolve().then(()=>uf);return{db:p}},void 0),{doc:u,getDoc:h}=await wa(async()=>{const{doc:p,getDoc:g}=await Promise.resolve().then(()=>cf);return{doc:p,getDoc:g}},void 0),d=await h(u(c,"homepage","visimisi"));d.exists()&&(e(d.data().visi||""),r(d.data().misi||"")),s(!1)}o();const l=()=>o();return window.addEventListener("visimisi-updated",l),()=>{window.removeEventListener("visimisi-updated",l)}},[]),i)return m.jsx("div",{className:"text-gray-400",children:"Memuat visi & misi..."});const a=t.split(/\r?\n/).map(o=>o.trim()).filter(Boolean);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"font-heading font-medium mb-2",children:"Visi:"}),m.jsx("p",{className:"text-gray-700 text-justify whitespace-pre-line",children:n})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-heading font-medium mb-2",children:"Misi:"}),a.length>1?m.jsx("ul",{className:"text-gray-700 list-disc pl-5 space-y-1",children:a.map((o,l)=>m.jsx("li",{children:o},l))}):m.jsx("p",{className:"text-gray-700 text-justify whitespace-pre-line",children:t})]}),m.jsx(Y1e,{})]})}function RTe(){const[n,e]=F.useState({title:"Hubungi Kami",description:"",whatsapp:"",email:"",instagram:""}),[t,r]=F.useState(!0);return F.useEffect(()=>{let i=()=>{};async function s(){const{db:a}=await wa(async()=>{const{db:u}=await Promise.resolve().then(()=>uf);return{db:u}},void 0),{doc:o,getDoc:l}=await wa(async()=>{const{doc:u,getDoc:h}=await Promise.resolve().then(()=>cf);return{doc:u,getDoc:h}},void 0),c=await l(o(a,"homepage","contact"));if(c.exists()){const u=c.data();e({title:u.title||"Hubungi Kami",description:u.description||"",whatsapp:u.whatsapp||"",email:u.email||"",instagram:u.instagram||""})}r(!1)}return s(),()=>i()},[]),{contact:n,loading:t}}function NTe(){const{contact:n}=RTe(),{data:e,isLoading:t}=bL(3),{data:r}=KK(3),{data:i,isLoading:s}=ZK(),[a,o]=F.useState(!1),[l,c]=F.useState(!1),[u,h]=F.useState(null),[d,p]=F.useState(!0);F.useEffect(()=>{let w=!0;return eX().then(x=>{w&&(h(x),p(!1))}),()=>{w=!1}},[]),F.useEffect(()=>{const w=new Date;((()=>{const T=w.getMonth()>0||w.getMonth()===0&&w.getDate()>26?w.getFullYear()+1:w.getFullYear();return new Date(T,0,26,0,0,0,0)})().getTime()-w.getTime())/(1e3*60*60*24)<=31&&!sessionStorage.getItem("hideBirthdayPopup")&&c(!0)},[]);const g=()=>{c(!1),sessionStorage.setItem("hideBirthdayPopup","1")},_=r||[];return F.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),m.jsxs(m.Fragment,{children:[m.jsx(tSe,{open:l,onClose:g}),m.jsx(Zn.section,{className:"py-8 sm:py-16 bg-white",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7},children:m.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[m.jsxs(Zn.div,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.7},children:[m.jsx("h1",{className:"font-heading text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:m.jsx(nSe,{text:"Selamat Datang di Website Resmi Organisasi Mahasiswa Pecinta Alam Universitas Narotama Surabaya",speed:30})}),m.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Menjelajahi alam, berbagi pengetahuan, dan menjaga kelestarian lingkungan."})]}),m.jsx(Zn.div,{className:"relative rounded-xl overflow-hidden shadow-xl",initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.7},children:d?m.jsx("div",{className:"h-96 flex items-center justify-center text-gray-400",children:"Memuat carousel..."}):m.jsxs(nZ,{opts:{align:"start",loop:!0},className:"w-full",plugins:[ML({delay:5e3})],children:[m.jsx(rZ,{children:(u&&u.length>0?u:fc).map((w,x)=>m.jsx(iZ,{children:m.jsxs("div",{className:"relative h-96",children:[m.jsx("img",{src:w.imageUrl,alt:w.alt,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end",children:m.jsxs("div",{className:"p-6 text-white",children:[m.jsx("h2",{className:"font-heading text-2xl font-bold mb-2",children:w.title}),m.jsx("p",{className:"text-gray-200",children:w.description})]})})]})},x))}),m.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:[m.jsx(sZ,{className:"relative -left-0 translate-y-0 bg-white/20 hover:bg-white/40"}),m.jsx(aZ,{className:"relative -right-0 translate-y-0 bg-white/20 hover:bg-white/40"})]})]})})]})}),m.jsx(Zn.section,{id:"info-organisasi",className:"py-8 sm:py-16 bg-gray-50",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:m.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[m.jsx("h2",{className:"font-heading text-3xl font-bold text-center mb-12",children:"Informasi Organisasi"}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"font-heading text-xl font-semibold text-primary mb-4",children:"Sejarah"}),m.jsx("p",{className:"text-gray-700 mb-4 text-justify indent-8",children:"Mahapala Narotama adalah Unit Kegiatan Mahasiswa Pecinta Alam di Universitas Narotama, Surabaya yang berdiri sejak tahun 2016. Organisasi ini berperan aktif dalam mengadakan kegiatan alam bebas dan konservasi lingkungan, serta turut serta dalam pengabdian masyarakat. Mahapala Narotama juga berperan dalam meningkatkan kesadaran akan pentingnya pelestarian alam dan lingkungan hidup di kalangan mahasiswa dan masyarakat umum."}),m.jsx("p",{className:"text-gray-700 mb-4 text-justify indent-8",children:'Universitas Narotama sendiri didirikan pada tahun 1981 oleh Yayasan Pawiyatan Gita Patria. Nama "Narotama" diambil dari seorang tokoh sejarah, Mahapatih dari Prabu Airlangga, yang dikenal sebagai guru ilmu kenegaraan, agama, dan kedigdayaan. Sejak awal berdirinya, universitas ini memiliki komitmen kuat dalam bidang pendidikan dan pengabdian kepada masyarakat.'}),m.jsx("p",{className:"text-gray-700 mb-4 text-justify indent-8",children:"Mahapala Narotama, sebagai bagian integral dari universitas, telah menunjukkan dedikasi dalam berbagai kegiatan, termasuk pendakian, ekspedisi, dan program konservasi. Mereka juga aktif dalam kolaborasi dengan organisasi lain untuk meningkatkan dampak positif terhadap lingkungan dan masyarakat."}),m.jsx("p",{className:"text-gray-700 mb-4 text-justify indent-8",children:"Dengan semangat yang terus berkobar, Mahapala Narotama berkomitmen untuk melanjutkan peranannya dalam menjaga kelestarian alam dan meningkatkan kesadaran lingkungan di kalangan generasi muda."})]}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"font-heading text-xl font-semibold text-primary mb-4",children:"Visi & Misi"}),m.jsx(PTe,{})]})]})]})}),m.jsx(Zn.section,{id:"kegiatan",className:"py-8 sm:py-16 bg-white",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:m.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[m.jsx("h2",{className:"font-heading text-3xl font-bold text-center mb-4",children:"Kegiatan Terbaru"}),m.jsx("p",{className:"text-center text-gray-600 mb-12 max-w-2xl mx-auto",children:"Dokumentasi berbagai kegiatan yang telah dilaksanakan oleh Mahapala Narotama dalam menjalankan misi pelestarian dan eksplorasi alam."}),t?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(w=>m.jsxs(Zn.div,{className:"bg-white rounded-lg overflow-hidden shadow-md animate-pulse",initial:{opacity:0,y:60,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,amount:.3},transition:{duration:.7,type:"spring"},children:[m.jsx("div",{className:"w-full h-48 bg-gray-300"}),m.jsxs("div",{className:"p-5",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("div",{className:"h-4 bg-gray-300 rounded w-24"}),m.jsx("div",{className:"h-6 bg-gray-300 rounded w-16"})]}),m.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-2"}),m.jsx("div",{className:"h-4 bg-gray-300 rounded w-full mb-4"}),m.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/3"})]})]},w))}):m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e==null?void 0:e.map((w,x)=>m.jsx(Zn.div,{initial:{opacity:0,y:60,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,amount:.3},transition:{duration:.7,type:"spring",delay:x*.1},children:m.jsx(FK,{activity:{...w,date:typeof w.date=="string"?w.date:w.date.toISOString()}})},w.id))}),m.jsx("div",{className:"text-center mt-10",children:m.jsx(Jo,{href:"/kegiatan",children:m.jsx(Ht,{children:"Lihat Semua Kegiatan"})})})]})}),m.jsx(Zn.section,{id:"pembelajaran",className:"py-8 sm:py-16 bg-gray-50",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:m.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[m.jsx("h2",{className:"font-heading text-3xl font-bold text-center mb-4",children:"Pembelajaran"}),m.jsx("p",{className:"text-center text-gray-600 mb-12 max-w-2xl mx-auto",children:"Materi dan panduan kegiatan alam bebas yang dapat diakses oleh seluruh anggota Mahapala Narotama."}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:_.map((w,x)=>m.jsx(Zn.div,{initial:{opacity:0,y:60,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,amount:.3},transition:{duration:.7,type:"spring",delay:x*.1},children:m.jsx(BK,{module:w})},w.id+w.title))}),m.jsx("div",{className:"text-center mt-10",children:m.jsx(Jo,{href:"/pembelajaran",children:m.jsx(Ht,{children:"Lihat Semua Pembelajaran"})})})]})}),m.jsx(Zn.section,{className:"py-8 sm:py-16 bg-white",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:m.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[m.jsx("h2",{className:"font-heading text-3xl font-bold text-center mb-4",children:"Galeri Kegiatan"}),m.jsx("p",{className:"text-center text-gray-600 mb-10 max-w-2xl mx-auto",children:"Sekilas dokumentasi kegiatan yang telah dilaksanakan oleh anggota Mahapala Narotama"}),s?m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(w=>m.jsx(Zn.div,{className:"bg-gray-200 h-48 rounded-lg animate-pulse",initial:{opacity:0,y:60,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,amount:.3},transition:{duration:.7,type:"spring"}},w))}):i&&i.length>0?m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.slice(0,4).map((w,x)=>m.jsxs(Zn.div,{className:"relative group overflow-hidden rounded-lg",initial:{opacity:0,y:60,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,amount:.3},transition:{duration:.7,type:"spring",delay:x*.1},children:[m.jsx("img",{src:w.imageUrl,alt:w.title,className:"w-full h-full object-cover transition group-hover:scale-110"}),m.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-white text-sm text-center font-medium p-2",children:w.title}),w.description&&m.jsx("p",{className:"text-white text-xs text-center p-1",children:w.description})]})})]},w.id))}):m.jsx("div",{className:"text-center text-gray-500 py-10",children:"Tidak ada data galeri."}),m.jsx("div",{className:"text-center mt-10",children:m.jsx(Jo,{href:"/galeri",children:m.jsx(Ht,{children:"Lihat Galeri Lengkap"})})})]})}),m.jsxs("section",{className:"py-8 sm:py-16 bg-primary text-white",children:[m.jsxs("div",{className:"container mx-auto px-2 sm:px-4 text-center",children:[m.jsx("h2",{className:"font-heading text-3xl font-bold mb-4",children:"Bergabung dengan Mahapala Narotama"}),m.jsx("p",{className:"text-lg mb-8 max-w-2xl mx-auto",children:"Mari bergabung dalam misi kami untuk melestarikan alam dan mengeksplorasi keindahan Indonesia. Kami membuka pendaftaran anggota baru setiap awal tahun akademik."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsx(Jo,{href:"/pendaftaran",children:m.jsx(Ht,{variant:"secondary",className:"bg-white text-primary hover:bg-gray-100",children:"Informasi Pendaftaran"})}),m.jsx(Ht,{variant:"outline",className:"bg-transparent border-2 border-white text-white hover:bg-white/10",onClick:w=>{w.preventDefault(),o(!0)},children:"Hubungi Kami"})]})]}),m.jsx(Kf,{open:a,onOpenChange:o,children:m.jsx(Yh,{className:"max-w-xs w-full p-0 rounded-xl",children:m.jsxs("div",{className:"p-6 flex flex-col items-center gap-0",children:[m.jsx("h2",{className:"font-heading text-lg font-bold",style:{marginBottom:0},children:n.title||"Hubungi Kami"}),n.description&&m.jsx("div",{className:"text-center text-sm text-gray-600",style:{marginTop:0,marginBottom:0},children:n.description}),m.jsxs("div",{className:"flex gap-6 justify-center",style:{marginTop:15},children:[n.instagram&&m.jsx("a",{href:`https://instagram.com/${n.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-500 hover:scale-110 transition-transform",title:"Instagram",children:m.jsx(KT,{size:36})}),n.whatsapp&&m.jsx("a",{href:`https://wa.me/${n.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-600 hover:scale-110 transition-transform",title:"WhatsApp",children:m.jsx(uw,{size:36})}),n.email&&m.jsx("a",{href:`mailto:${n.email}`,className:"hover:text-blue-600 hover:scale-110 transition-transform",title:"Email",children:m.jsx(l_,{size:36})})]}),m.jsxs("div",{className:"text-center text-xs text-gray-500 mt-2",children:[n.instagram&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{children:["Instagram: @",n.instagram.replace("@","")]}),m.jsx("br",{})]}),n.whatsapp&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{children:["WhatsApp: +",n.whatsapp]}),m.jsx("br",{})]}),n.email&&m.jsx(m.Fragment,{children:m.jsxs("span",{children:["Email: ",n.email]})})]})]})})})]})]})}function Bj(n,[e,t]){return Math.min(t,Math.max(e,n))}var kTe=F.createContext(void 0);function o4(n){const e=F.useContext(kTe);return n||e||"ltr"}function DTe(n){const e=F.useRef({value:n,previous:n});return F.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var OTe=[" ","Enter","ArrowUp","ArrowDown"],LTe=[" ","Enter"],Gm="Select",[mC,gC,FTe]=IO(Gm),[Ey,rze]=Xh(Gm,[FTe,eC]),vC=eC(),[BTe,Qf]=Ey(Gm),[UTe,jTe]=Ey(Gm),FQ=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:d,required:p,form:g}=n,_=vC(e),[w,x]=F.useState(null),[S,E]=F.useState(null),[T,D]=F.useState(!1),k=o4(c),[I,N]=Hv({prop:r,defaultProp:i??!1,onChange:s,caller:Gm}),[P,R]=Hv({prop:a,defaultProp:o,onChange:l,caller:Gm}),B=F.useRef(null),z=w?g||!!w.closest("form"):!0,[H,K]=F.useState(new Set),J=Array.from(H).map(se=>se.props.value).join(";");return m.jsx(kye,{..._,children:m.jsxs(BTe,{required:p,scope:e,trigger:w,onTriggerChange:x,valueNode:S,onValueNodeChange:E,valueNodeHasChildren:T,onValueNodeHasChildrenChange:D,contentId:Af(),value:P,onValueChange:R,open:I,onOpenChange:N,dir:k,triggerPointerDownPosRef:B,disabled:d,children:[m.jsx(mC.Provider,{scope:e,children:m.jsx(UTe,{scope:n.__scopeSelect,onNativeOptionAdd:F.useCallback(se=>{K(ce=>new Set(ce).add(se))},[]),onNativeOptionRemove:F.useCallback(se=>{K(ce=>{const X=new Set(ce);return X.delete(se),X})},[]),children:t})}),z?m.jsxs(oJ,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:P,onChange:se=>R(se.target.value),disabled:d,form:g,children:[P===void 0?m.jsx("option",{value:""}):null,Array.from(H)]},J):null]})})};FQ.displayName=Gm;var BQ="SelectTrigger",UQ=F.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=vC(t),a=Qf(BQ,t),o=a.disabled||r,l=Ur(e,a.onTriggerChange),c=gC(t),u=F.useRef("touch"),[h,d,p]=cJ(_=>{const w=c().filter(E=>!E.disabled),x=w.find(E=>E.value===a.value),S=uJ(w,_,x);S!==void 0&&a.onValueChange(S.value)}),g=_=>{o||(a.onOpenChange(!0),p()),_&&(a.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return m.jsx(IY,{asChild:!0,...s,children:m.jsx(Bn.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":lJ(a.value)?"":void 0,...i,ref:l,onClick:un(i.onClick,_=>{_.currentTarget.focus(),u.current!=="mouse"&&g(_)}),onPointerDown:un(i.onPointerDown,_=>{u.current=_.pointerType;const w=_.target;w.hasPointerCapture(_.pointerId)&&w.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(g(_),_.preventDefault())}),onKeyDown:un(i.onKeyDown,_=>{const w=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&d(_.key),!(w&&_.key===" ")&&OTe.includes(_.key)&&(g(),_.preventDefault())})})})});UQ.displayName=BQ;var jQ="SelectValue",VQ=F.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:a="",...o}=n,l=Qf(jQ,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=Ur(e,l.onValueNodeChange);return ea(()=>{c(u)},[c,u]),m.jsx(Bn.span,{...o,ref:h,style:{pointerEvents:"none"},children:lJ(l.value)?m.jsx(m.Fragment,{children:a}):s})});VQ.displayName=jQ;var VTe="SelectIcon",zQ=F.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return m.jsx(Bn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});zQ.displayName=VTe;var zTe="SelectPortal",HQ=n=>m.jsx($T,{asChild:!0,...n});HQ.displayName=zTe;var $m="SelectContent",WQ=F.forwardRef((n,e)=>{const t=Qf($m,n.__scopeSelect),[r,i]=F.useState();if(ea(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?Xf.createPortal(m.jsx(GQ,{scope:n.__scopeSelect,children:m.jsx(mC.Slot,{scope:n.__scopeSelect,children:m.jsx("div",{children:n.children})})}),s):null}return m.jsx($Q,{...n,ref:e})});WQ.displayName=$m;var sc=10,[GQ,Jf]=Ey($m),HTe="SelectContentImpl",WTe=zv("SelectContent.RemoveScroll"),$Q=F.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:p,sticky:g,hideWhenDetached:_,avoidCollisions:w,...x}=n,S=Qf($m,t),[E,T]=F.useState(null),[D,k]=F.useState(null),I=Ur(e,Se=>T(Se)),[N,P]=F.useState(null),[R,B]=F.useState(null),z=gC(t),[H,K]=F.useState(!1),J=F.useRef(!1);F.useEffect(()=>{if(E)return ZY(E)},[E]),HY();const se=F.useCallback(Se=>{const[Je,...Qe]=z().map(Be=>Be.ref.current),[rt]=Qe.slice(-1),ut=document.activeElement;for(const Be of Se)if(Be===ut||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===Je&&D&&(D.scrollTop=0),Be===rt&&D&&(D.scrollTop=D.scrollHeight),Be==null||Be.focus(),document.activeElement!==ut))return},[z,D]),ce=F.useCallback(()=>se([N,E]),[se,N,E]);F.useEffect(()=>{H&&ce()},[H,ce]);const{onOpenChange:X,triggerPointerDownPosRef:ue}=S;F.useEffect(()=>{if(E){let Se={x:0,y:0};const Je=rt=>{var ut,Be;Se={x:Math.abs(Math.round(rt.pageX)-(((ut=ue.current)==null?void 0:ut.x)??0)),y:Math.abs(Math.round(rt.pageY)-(((Be=ue.current)==null?void 0:Be.y)??0))}},Qe=rt=>{Se.x<=10&&Se.y<=10?rt.preventDefault():E.contains(rt.target)||X(!1),document.removeEventListener("pointermove",Je),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Qe,{capture:!0})}}},[E,X,ue]),F.useEffect(()=>{const Se=()=>X(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[X]);const[q,ge]=cJ(Se=>{const Je=z().filter(ut=>!ut.disabled),Qe=Je.find(ut=>ut.ref.current===document.activeElement),rt=uJ(Je,Se,Qe);rt&&setTimeout(()=>rt.ref.current.focus())}),De=F.useCallback((Se,Je,Qe)=>{const rt=!J.current&&!Qe;(S.value!==void 0&&S.value===Je||rt)&&(P(Se),rt&&(J.current=!0))},[S.value]),Q=F.useCallback(()=>E==null?void 0:E.focus(),[E]),et=F.useCallback((Se,Je,Qe)=>{const rt=!J.current&&!Qe;(S.value!==void 0&&S.value===Je||rt)&&B(Se)},[S.value]),ye=r==="popper"?Fk:qQ,Ie=ye===Fk?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:p,sticky:g,hideWhenDetached:_,avoidCollisions:w}:{};return m.jsx(GQ,{scope:t,content:E,viewport:D,onViewportChange:k,itemRefCallback:De,selectedItem:N,onItemLeave:Q,itemTextRefCallback:et,focusSelectedItem:ce,selectedItemText:R,position:r,isPositioned:H,searchRef:q,children:m.jsx(YO,{as:WTe,allowPinchZoom:!0,children:m.jsx(XO,{asChild:!0,trapped:S.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:un(i,Se=>{var Je;(Je=S.trigger)==null||Je.focus({preventScroll:!0}),Se.preventDefault()}),children:m.jsx(lw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:m.jsx(ye,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Se=>Se.preventDefault(),...x,...Ie,onPlaced:()=>K(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:un(x.onKeyDown,Se=>{const Je=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!Je&&Se.key.length===1&&ge(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let rt=z().filter(ut=>!ut.disabled).map(ut=>ut.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(rt=rt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const ut=Se.target,Be=rt.indexOf(ut);rt=rt.slice(Be+1)}setTimeout(()=>se(rt)),Se.preventDefault()}})})})})})})});$Q.displayName=HTe;var GTe="SelectItemAlignedPosition",qQ=F.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Qf($m,t),a=Jf($m,t),[o,l]=F.useState(null),[c,u]=F.useState(null),h=Ur(e,I=>u(I)),d=gC(t),p=F.useRef(!1),g=F.useRef(!0),{viewport:_,selectedItem:w,selectedItemText:x,focusSelectedItem:S}=a,E=F.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&_&&w&&x){const I=s.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(s.dir!=="rtl"){const ut=R.left-N.left,Be=P.left-ut,ae=I.left-Be,Re=I.width+ae,ke=Math.max(Re,N.width),$e=window.innerWidth-sc,We=Bj(Be,[sc,Math.max(sc,$e-ke)]);o.style.minWidth=Re+"px",o.style.left=We+"px"}else{const ut=N.right-R.right,Be=window.innerWidth-P.right-ut,ae=window.innerWidth-I.right-Be,Re=I.width+ae,ke=Math.max(Re,N.width),$e=window.innerWidth-sc,We=Bj(Be,[sc,Math.max(sc,$e-ke)]);o.style.minWidth=Re+"px",o.style.right=We+"px"}const B=d(),z=window.innerHeight-sc*2,H=_.scrollHeight,K=window.getComputedStyle(c),J=parseInt(K.borderTopWidth,10),se=parseInt(K.paddingTop,10),ce=parseInt(K.borderBottomWidth,10),X=parseInt(K.paddingBottom,10),ue=J+se+H+X+ce,q=Math.min(w.offsetHeight*5,ue),ge=window.getComputedStyle(_),De=parseInt(ge.paddingTop,10),Q=parseInt(ge.paddingBottom,10),et=I.top+I.height/2-sc,ye=z-et,Ie=w.offsetHeight/2,Se=w.offsetTop+Ie,Je=J+se+Se,Qe=ue-Je;if(Je<=et){const ut=B.length>0&&w===B[B.length-1].ref.current;o.style.bottom="0px";const Be=c.clientHeight-_.offsetTop-_.offsetHeight,ae=Math.max(ye,Ie+(ut?Q:0)+Be+ce),Re=Je+ae;o.style.height=Re+"px"}else{const ut=B.length>0&&w===B[0].ref.current;o.style.top="0px";const ae=Math.max(et,J+_.offsetTop+(ut?De:0)+Ie)+Qe;o.style.height=ae+"px",_.scrollTop=Je-et+_.offsetTop}o.style.margin=`${sc}px 0`,o.style.minHeight=q+"px",o.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[d,s.trigger,s.valueNode,o,c,_,w,x,s.dir,r]);ea(()=>E(),[E]);const[T,D]=F.useState();ea(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const k=F.useCallback(I=>{I&&g.current===!0&&(E(),S==null||S(),g.current=!1)},[E,S]);return m.jsx(qTe,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:m.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:m.jsx(Bn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});qQ.displayName=GTe;var $Te="SelectPopperPosition",Fk=F.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=sc,...s}=n,a=vC(t);return m.jsx(PY,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fk.displayName=$Te;var[qTe,l4]=Ey($m,{}),Bk="SelectViewport",XQ=F.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Jf(Bk,t),a=l4(Bk,t),o=Ur(e,s.onViewportChange),l=F.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(mC.Slot,{scope:t,children:m.jsx(Bn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:un(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=a;if(d!=null&&d.current&&h){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-sc*2,_=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),x=Math.max(_,w);if(x<g){const S=x+p,E=Math.min(g,S),T=S-E;h.style.height=E+"px",h.style.bottom==="0px"&&(u.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});XQ.displayName=Bk;var YQ="SelectGroup",[XTe,YTe]=Ey(YQ),KTe=F.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Af();return m.jsx(XTe,{scope:t,id:i,children:m.jsx(Bn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});KTe.displayName=YQ;var KQ="SelectLabel",ZQ=F.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=YTe(KQ,t);return m.jsx(Bn.div,{id:i.id,...r,ref:e})});ZQ.displayName=KQ;var J2="SelectItem",[ZTe,QQ]=Ey(J2),JQ=F.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...a}=n,o=Qf(J2,t),l=Jf(J2,t),c=o.value===r,[u,h]=F.useState(s??""),[d,p]=F.useState(!1),g=Ur(e,S=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,S,r,i)}),_=Af(),w=F.useRef("touch"),x=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(ZTe,{scope:t,value:r,disabled:i,textId:_,isSelected:c,onItemTextChange:F.useCallback(S=>{h(E=>E||((S==null?void 0:S.textContent)??"").trim())},[]),children:m.jsx(mC.ItemSlot,{scope:t,value:r,disabled:i,textValue:u,children:m.jsx(Bn.div,{role:"option","aria-labelledby":_,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:un(a.onFocus,()=>p(!0)),onBlur:un(a.onBlur,()=>p(!1)),onClick:un(a.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:un(a.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:un(a.onPointerDown,S=>{w.current=S.pointerType}),onPointerMove:un(a.onPointerMove,S=>{var E;w.current=S.pointerType,i?(E=l.onItemLeave)==null||E.call(l):w.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:un(a.onPointerLeave,S=>{var E;S.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:un(a.onKeyDown,S=>{var T;((T=l.searchRef)==null?void 0:T.current)!==""&&S.key===" "||(LTe.includes(S.key)&&x(),S.key===" "&&S.preventDefault())})})})})});JQ.displayName=J2;var Wx="SelectItemText",eJ=F.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,a=Qf(Wx,t),o=Jf(Wx,t),l=QQ(Wx,t),c=jTe(Wx,t),[u,h]=F.useState(null),d=Ur(e,x=>h(x),l.onItemTextChange,x=>{var S;return(S=o.itemTextRefCallback)==null?void 0:S.call(o,x,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=F.useMemo(()=>m.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:_,onNativeOptionRemove:w}=c;return ea(()=>(_(g),()=>w(g)),[_,w,g]),m.jsxs(m.Fragment,{children:[m.jsx(Bn.span,{id:l.textId,...s,ref:d}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Xf.createPortal(s.children,a.valueNode):null]})});eJ.displayName=Wx;var tJ="SelectItemIndicator",nJ=F.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return QQ(tJ,t).isSelected?m.jsx(Bn.span,{"aria-hidden":!0,...r,ref:e}):null});nJ.displayName=tJ;var Uk="SelectScrollUpButton",rJ=F.forwardRef((n,e)=>{const t=Jf(Uk,n.__scopeSelect),r=l4(Uk,n.__scopeSelect),[i,s]=F.useState(!1),a=Ur(e,r.onScrollButtonChange);return ea(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?m.jsx(sJ,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});rJ.displayName=Uk;var jk="SelectScrollDownButton",iJ=F.forwardRef((n,e)=>{const t=Jf(jk,n.__scopeSelect),r=l4(jk,n.__scopeSelect),[i,s]=F.useState(!1),a=Ur(e,r.onScrollButtonChange);return ea(()=>{if(t.viewport&&t.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?m.jsx(sJ,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});iJ.displayName=jk;var sJ=F.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Jf("SelectScrollButton",t),a=F.useRef(null),o=gC(t),l=F.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return F.useEffect(()=>()=>l(),[l]),ea(()=>{var u;const c=o().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),m.jsx(Bn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:un(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:un(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:un(i.onPointerLeave,()=>{l()})})}),QTe="SelectSeparator",aJ=F.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return m.jsx(Bn.div,{"aria-hidden":!0,...r,ref:e})});aJ.displayName=QTe;var Vk="SelectArrow",JTe=F.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=vC(t),s=Qf(Vk,t),a=Jf(Vk,t);return s.open&&a.position==="popper"?m.jsx(RY,{...i,...r,ref:e}):null});JTe.displayName=Vk;var eCe="SelectBubbleInput",oJ=F.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=F.useRef(null),s=Ur(r,i),a=DTe(e);return F.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const h=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(h)}},[a,e]),m.jsx(Bn.select,{...t,style:{...bX,...t.style},ref:s,defaultValue:e})});oJ.displayName=eCe;function lJ(n){return n===""||n===void 0}function cJ(n){const e=Vl(n),t=F.useRef(""),r=F.useRef(0),i=F.useCallback(a=>{const o=t.current+a;e(o),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=F.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function uJ(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let a=tCe(n,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==t));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function tCe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var nCe=FQ,hJ=UQ,rCe=VQ,iCe=zQ,sCe=HQ,dJ=WQ,aCe=XQ,fJ=ZQ,pJ=JQ,oCe=eJ,lCe=nJ,mJ=rJ,gJ=iJ,vJ=aJ;const yJ=nCe,xJ=rCe,c4=F.forwardRef(({className:n,children:e,...t},r)=>m.jsxs(hJ,{ref:r,className:en("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,m.jsx(iCe,{asChild:!0,children:m.jsx(XX,{className:"h-4 w-4 opacity-50"})})]}));c4.displayName=hJ.displayName;const _J=F.forwardRef(({className:n,...e},t)=>m.jsx(mJ,{ref:t,className:en("flex cursor-default items-center justify-center py-1",n),...e,children:m.jsx(u0e,{className:"h-4 w-4"})}));_J.displayName=mJ.displayName;const wJ=F.forwardRef(({className:n,...e},t)=>m.jsx(gJ,{ref:t,className:en("flex cursor-default items-center justify-center py-1",n),...e,children:m.jsx(XX,{className:"h-4 w-4"})}));wJ.displayName=gJ.displayName;const u4=F.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>m.jsx(sCe,{children:m.jsxs(dJ,{ref:i,className:en("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[m.jsx(_J,{}),m.jsx(aCe,{className:en("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(wJ,{})]})}));u4.displayName=dJ.displayName;const cCe=F.forwardRef(({className:n,...e},t)=>m.jsx(fJ,{ref:t,className:en("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));cCe.displayName=fJ.displayName;const cv=F.forwardRef(({className:n,children:e,...t},r)=>m.jsxs(pJ,{ref:r,className:en("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(lCe,{children:m.jsx(c0e,{className:"h-4 w-4"})})}),m.jsx(oCe,{children:e})]}));cv.displayName=pJ.displayName;const uCe=F.forwardRef(({className:n,...e},t)=>m.jsx(vJ,{ref:t,className:en("-mx-1 my-1 h-px bg-muted",n),...e}));uCe.displayName=vJ.displayName;const xi=F.forwardRef(({className:n,type:e,...t},r)=>m.jsx("input",{type:e,className:en("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));xi.displayName="Input";function Aa({className:n,...e}){return m.jsx("div",{className:en("animate-pulse rounded-md bg-muted",n),...e})}function hCe(){const[n,e]=F.useState("all"),[t,r]=F.useState(""),{data:i,isLoading:s}=bL(),a=i?Array.from(new Set(i.map(l=>(l.category||"").trim()).filter(Boolean))):[],o=i==null?void 0:i.filter(l=>{var h,d;const c=n==="all"?!0:(l.category||"").toLowerCase()===n.toLowerCase(),u=t?((h=l.title)==null?void 0:h.toLowerCase().includes(t.toLowerCase()))||((d=l.description)==null?void 0:d.toLowerCase().includes(t.toLowerCase())):!0;return c&&u});return m.jsx(m.Fragment,{children:m.jsx("section",{className:"py-12 bg-white",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h1",{className:"font-heading text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Kegiatan Mahapala Narotama"}),m.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Eksplorasi alam, konservasi lingkungan, dan berbagi pengetahuan bersama Mahapala Narotama"})]}),m.jsx("div",{className:"max-w-4xl mx-auto mb-10",children:m.jsx("div",{className:"bg-gray-50 p-6 rounded-lg shadow-md",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cari Kegiatan"}),m.jsx(xi,{id:"search",placeholder:"Cari judul atau deskripsi kegiatan...",value:t,onChange:l=>r(l.target.value)})]}),m.jsxs("div",{className:"w-full md:w-48",children:[m.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),m.jsxs(yJ,{value:n,onValueChange:e,children:[m.jsx(c4,{id:"category",children:m.jsx(xJ,{placeholder:"Semua Kategori"})}),m.jsxs(u4,{className:"bg-white",children:[m.jsx(cv,{value:"all",children:"Semua Kategori"}),a.map(l=>m.jsx(cv,{value:l,children:l},l))]})]})]})]})})}),s?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(l=>m.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md animate-pulse",children:[m.jsx(Aa,{className:"w-full h-48"}),m.jsxs("div",{className:"p-5",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx(Aa,{className:"h-4 w-24"}),m.jsx(Aa,{className:"h-6 w-16"})]}),m.jsx(Aa,{className:"h-6 w-3/4 mb-2"}),m.jsx(Aa,{className:"h-4 w-full mb-4"}),m.jsx(Aa,{className:"h-4 w-1/3"})]})]},l))}):o&&o.length>0?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(l=>{var c;return m.jsx(FK,{activity:{...l,date:typeof l.date=="string"?l.date:((c=l.date)==null?void 0:c.toISOString())??""}},l.id)})}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Tidak ada kegiatan ditemukan"}),m.jsx("p",{className:"text-gray-500",children:"Coba ubah filter atau kata kunci pencarian Anda"})]})]})})})}function dCe(){const[n,e]=F.useState(""),{data:t,isLoading:r}=KK(),i=t||[],s=i.filter(a=>n?a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()):!0);return m.jsx(m.Fragment,{children:m.jsx("section",{className:"py-12 bg-white",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h1",{className:"font-heading text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Pembelajaran Mahapala Narotama"}),m.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Materi dan panduan kegiatan alam bebas yang dapat diakses oleh seluruh anggota Mahapala Narotama"})]}),m.jsx("div",{className:"max-w-md mx-auto mb-10",children:m.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-md",children:[m.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cari Materi"}),m.jsx(xi,{id:"search",placeholder:"Cari judul atau deskripsi materi...",value:n,onChange:a=>e(a.target.value)})]})}),r&&i.length===0?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(a=>m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(Aa,{className:"h-12 w-12 rounded-full mr-4"}),m.jsx(Aa,{className:"h-6 w-3/4"})]}),m.jsx(Aa,{className:"h-4 w-full mb-2"}),m.jsx(Aa,{className:"h-4 w-full mb-2"}),m.jsx(Aa,{className:"h-4 w-2/3 mb-4"}),m.jsx(Aa,{className:"h-4 w-24"})]},a))}):s&&s.length>0?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(a=>m.jsx(BK,{module:a},a.id+a.title))}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Tidak ada materi pembelajaran ditemukan"}),m.jsx("p",{className:"text-gray-500",children:"Coba ubah kata kunci pencarian Anda"})]})]})})})}const fCe=n=>{const e=n.data();return{id:isNaN(Number(n.id))?Math.floor(Math.random()*1e6):Number(n.id),fullName:e.namalengkap||"",fieldName:e.namalapangan||"",batchName:e.namaangkatan||"",batchYear:e.tahun||0,registrationNumber:e.nomorregistrasi||"",membershipStatus:e.keanggotaan||"Tidak Aktif",photoUrl:e.foto||"",qrCode:e.url||"",email:e.email||"",phone:e.phone||"",gender:e.gender||""}},pCe=async()=>{try{const n=Di(An,"anggota"),e=await Is(n);return e.empty?(console.log("No members found"),[]):e.docs.map(fCe)}catch(n){throw console.error("Error fetching members:",n),n}},bJ=async(n,e)=>{const t=Di(An,"anggota"),r=FT(t,wq(n,"==",e),_O(1)),i=await Is(r);if(i.empty)return null;const a=i.docs[0].data();return{fullName:a.namalengkap||"",fieldName:a.namalapangan||"",batchName:a.namaangkatan||"",batchYear:a.tahun||0,registrationNumber:a.nomorregistrasi||"",membershipStatus:a.keanggotaan||"Tidak Aktif",photoUrl:a.foto||"",statusMahasiswa:a.statusMahasiswa||""}},mCe=n=>oC({queryKey:["members",n],queryFn:()=>pCe()});var gCe=Object.defineProperty,eA=Object.getOwnPropertySymbols,SJ=Object.prototype.hasOwnProperty,EJ=Object.prototype.propertyIsEnumerable,Uj=(n,e,t)=>e in n?gCe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zk=(n,e)=>{for(var t in e||(e={}))SJ.call(e,t)&&Uj(n,t,e[t]);if(eA)for(var t of eA(e))EJ.call(e,t)&&Uj(n,t,e[t]);return n},Hk=(n,e)=>{var t={};for(var r in n)SJ.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&eA)for(var r of eA(n))e.indexOf(r)<0&&EJ.call(n,r)&&(t[r]=n[r]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qm;(n=>{const e=class Yn{constructor(l,c,u,h){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<Yn.MIN_VERSION||l>Yn.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let d=[];for(let g=0;g<this.size;g++)d.push(!1);for(let g=0;g<this.size;g++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),h==-1){let g=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const w=this.getPenaltyScore();w<g&&(h=_,g=w),this.applyMask(_)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,c){const u=n.QrSegment.makeSegments(l);return Yn.encodeSegments(u,c)}static encodeBinary(l,c){const u=n.QrSegment.makeBytes(l);return Yn.encodeSegments([u],c)}static encodeSegments(l,c,u=1,h=40,d=-1,p=!0){if(!(Yn.MIN_VERSION<=u&&u<=h&&h<=Yn.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");let g,_;for(g=u;;g++){const E=Yn.getNumDataCodewords(g,c)*8,T=a.getTotalBits(l,g);if(T<=E){_=T;break}if(g>=h)throw new RangeError("Data too long")}for(const E of[Yn.Ecc.MEDIUM,Yn.Ecc.QUARTILE,Yn.Ecc.HIGH])p&&_<=Yn.getNumDataCodewords(g,E)*8&&(c=E);let w=[];for(const E of l){t(E.mode.modeBits,4,w),t(E.numChars,E.mode.numCharCountBits(g),w);for(const T of E.getData())w.push(T)}i(w.length==_);const x=Yn.getNumDataCodewords(g,c)*8;i(w.length<=x),t(0,Math.min(4,x-w.length),w),t(0,(8-w.length%8)%8,w),i(w.length%8==0);for(let E=236;w.length<x;E^=253)t(E,8,w);let S=[];for(;S.length*8<w.length;)S.push(0);return w.forEach((E,T)=>S[T>>>3]|=E<<7-(T&7)),new Yn(g,c,S,d)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let h=0;h<c;h++)u==0&&h==0||u==0&&h==c-1||u==c-1&&h==0||this.drawAlignmentPattern(l[u],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let d=0;d<10;d++)u=u<<1^(u>>>9)*1335;const h=(c<<10|u)^21522;i(h>>>15==0);for(let d=0;d<=5;d++)this.setFunctionModule(8,d,r(h,d));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let d=9;d<15;d++)this.setFunctionModule(14-d,8,r(h,d));for(let d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,r(h,d));for(let d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,r(h,d));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;i(c>>>18==0);for(let u=0;u<18;u++){const h=r(c,u),d=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(d,p,h),this.setFunctionModule(p,d,h)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const d=Math.max(Math.abs(h),Math.abs(u)),p=l+h,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,d!=2&&d!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,c+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=Yn.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const h=Yn.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],d=Yn.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(Yn.getNumRawDataModules(c)/8),g=h-p%h,_=Math.floor(p/h);let w=[];const x=Yn.reedSolomonComputeDivisor(d);for(let E=0,T=0;E<h;E++){let D=l.slice(T,T+_-d+(E<g?0:1));T+=D.length;const k=Yn.reedSolomonComputeRemainder(D,x);E<g&&D.push(0),w.push(D.concat(k))}let S=[];for(let E=0;E<w[0].length;E++)w.forEach((T,D)=>{(E!=_-d||D>=g)&&S.push(T[E])});return i(S.length==p),S}drawCodewords(l){if(l.length!=Math.floor(Yn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let d=0;d<2;d++){const p=u-d,_=(u+1&2)==0?this.size-1-h:h;!this.isFunction[_][p]&&c<l.length*8&&(this.modules[_][p]=r(l[c>>>3],7-(c&7)),c++)}}i(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let h;switch(l){case 0:h=(u+c)%2==0;break;case 1:h=c%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+c)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:h=u*c%2+u*c%3==0;break;case 6:h=(u*c%2+u*c%3)%2==0;break;case 7:h=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&h&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let d=0;d<this.size;d++){let p=!1,g=0,_=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[d][w]==p?(g++,g==5?l+=Yn.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,_),p||(l+=this.finderPenaltyCountPatterns(_)*Yn.PENALTY_N3),p=this.modules[d][w],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,_)*Yn.PENALTY_N3}for(let d=0;d<this.size;d++){let p=!1,g=0,_=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][d]==p?(g++,g==5?l+=Yn.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,_),p||(l+=this.finderPenaltyCountPatterns(_)*Yn.PENALTY_N3),p=this.modules[w][d],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,_)*Yn.PENALTY_N3}for(let d=0;d<this.size-1;d++)for(let p=0;p<this.size-1;p++){const g=this.modules[d][p];g==this.modules[d][p+1]&&g==this.modules[d+1][p]&&g==this.modules[d+1][p+1]&&(l+=Yn.PENALTY_N2)}let c=0;for(const d of this.modules)c=d.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,h=Math.ceil(Math.abs(c*20-u*10)/u)-1;return i(0<=h&&h<=9),l+=h*Yn.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let h=this.size-7;u.length<l;h-=c)u.splice(1,0,h);return u}}static getNumRawDataModules(l){if(l<Yn.MIN_VERSION||l>Yn.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(Yn.getNumRawDataModules(l)/8)-Yn.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*Yn.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let h=0;h<l-1;h++)c.push(0);c.push(1);let u=1;for(let h=0;h<l;h++){for(let d=0;d<c.length;d++)c[d]=Yn.reedSolomonMultiply(c[d],u),d+1<c.length&&(c[d]^=c[d+1]);u=Yn.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(h=>0);for(const h of l){const d=h^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=Yn.reedSolomonMultiply(p,d))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(c>>>h&1)*l;return i(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];i(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(o,l,c){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(let u=l-1;u>=0;u--)c.push(o>>>u&1)}function r(o,l){return(o>>>l&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const s=class Ni{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)t(u,8,c);return new Ni(Ni.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!Ni.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const h=Math.min(l.length-u,3);t(parseInt(l.substring(u,u+h),10),h*3+1,c),u+=h}return new Ni(Ni.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!Ni.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let h=Ni.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;h+=Ni.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),t(h,11,c)}return u<l.length&&t(Ni.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new Ni(Ni.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:Ni.isNumeric(l)?[Ni.makeNumeric(l)]:Ni.isAlphanumeric(l)?[Ni.makeAlphanumeric(l)]:[Ni.makeBytes(Ni.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)t(l,8,c);else if(l<16384)t(2,2,c),t(l,14,c);else if(l<1e6)t(6,3,c),t(l,21,c);else throw new RangeError("ECI assignment value out of range");return new Ni(Ni.Mode.ECI,0,c)}static isNumeric(l){return Ni.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Ni.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const h of l){const d=h.mode.numCharCountBits(c);if(h.numChars>=1<<d)return 1/0;u+=4+d+h.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substring(u+1,u+3),16)),u+=2);return c}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=s;n.QrSegment=s})(qm||(qm={}));(n=>{(e=>{const t=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(qm||(qm={}));(n=>{(e=>{const t=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(qm||(qm={}));var L0=qm;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var vCe={L:L0.QrCode.Ecc.LOW,M:L0.QrCode.Ecc.MEDIUM,Q:L0.QrCode.Ecc.QUARTILE,H:L0.QrCode.Ecc.HIGH},AJ=128,TJ="L",CJ="#FFFFFF",MJ="#000000",IJ=!1,PJ=1,yCe=4,xCe=0,_Ce=.1;function RJ(n,e=0){const t=[];return n.forEach(function(r,i){let s=null;r.forEach(function(a,o){if(!a&&s!==null){t.push(`M${s+e} ${i+e}h${o-s}v1H${s+e}z`),s=null;return}if(o===r.length-1){if(!a)return;s===null?t.push(`M${o+e},${i+e} h1v1H${o+e}z`):t.push(`M${s+e},${i+e} h${o+1-s}v1H${s+e}z`);return}a&&s===null&&(s=o)})}),t.join("")}function NJ(n,e){return n.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function wCe(n,e,t,r){if(r==null)return null;const i=n.length+t*2,s=Math.floor(e*_Ce),a=i/e,o=(r.width||s)*a,l=(r.height||s)*a,c=r.x==null?n.length/2-o/2:r.x*a,u=r.y==null?n.length/2-l/2:r.y*a,h=r.opacity==null?1:r.opacity;let d=null;if(r.excavate){let g=Math.floor(c),_=Math.floor(u),w=Math.ceil(o+c-g),x=Math.ceil(l+u-_);d={x:g,y:_,w,h:x}}const p=r.crossOrigin;return{x:c,y:u,h:l,w:o,excavation:d,opacity:h,crossOrigin:p}}function bCe(n,e){return e!=null?Math.max(Math.floor(e),0):n?yCe:xCe}function kJ({value:n,level:e,minVersion:t,includeMargin:r,marginSize:i,imageSettings:s,size:a,boostLevel:o}){let l=Rn.useMemo(()=>{const g=(Array.isArray(n)?n:[n]).reduce((_,w)=>(_.push(...L0.QrSegment.makeSegments(w)),_),[]);return L0.QrCode.encodeSegments(g,vCe[e],t,void 0,void 0,o)},[n,e,t,o]);const{cells:c,margin:u,numCells:h,calculatedImageSettings:d}=Rn.useMemo(()=>{let p=l.getModules();const g=bCe(r,i),_=p.length+g*2,w=wCe(p,a,g,s);return{cells:p,margin:g,numCells:_,calculatedImageSettings:w}},[l,a,s,r,i]);return{qrcode:l,margin:u,cells:c,numCells:h,calculatedImageSettings:d}}var SCe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),ECe=Rn.forwardRef(function(e,t){const r=e,{value:i,size:s=AJ,level:a=TJ,bgColor:o=CJ,fgColor:l=MJ,includeMargin:c=IJ,minVersion:u=PJ,boostLevel:h,marginSize:d,imageSettings:p}=r,_=Hk(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=_,x=Hk(_,["style"]),S=p==null?void 0:p.src,E=Rn.useRef(null),T=Rn.useRef(null),D=Rn.useCallback(K=>{E.current=K,typeof t=="function"?t(K):t&&(t.current=K)},[t]),[k,I]=Rn.useState(!1),{margin:N,cells:P,numCells:R,calculatedImageSettings:B}=kJ({value:i,level:a,minVersion:u,boostLevel:h,includeMargin:c,marginSize:d,imageSettings:p,size:s});Rn.useEffect(()=>{if(E.current!=null){const K=E.current,J=K.getContext("2d");if(!J)return;let se=P;const ce=T.current,X=B!=null&&ce!==null&&ce.complete&&ce.naturalHeight!==0&&ce.naturalWidth!==0;X&&B.excavation!=null&&(se=NJ(P,B.excavation));const ue=window.devicePixelRatio||1;K.height=K.width=s*ue;const q=s/R*ue;J.scale(q,q),J.fillStyle=o,J.fillRect(0,0,R,R),J.fillStyle=l,SCe?J.fill(new Path2D(RJ(se,N))):P.forEach(function(ge,De){ge.forEach(function(Q,et){Q&&J.fillRect(et+N,De+N,1,1)})}),B&&(J.globalAlpha=B.opacity),X&&J.drawImage(ce,B.x+N,B.y+N,B.w,B.h)}}),Rn.useEffect(()=>{I(!1)},[S]);const z=zk({height:s,width:s},w);let H=null;return S!=null&&(H=Rn.createElement("img",{src:S,key:S,style:{display:"none"},onLoad:()=>{I(!0)},ref:T,crossOrigin:B==null?void 0:B.crossOrigin})),Rn.createElement(Rn.Fragment,null,Rn.createElement("canvas",zk({style:z,height:s,width:s,ref:D,role:"img"},x)),H)});ECe.displayName="QRCodeCanvas";var DJ=Rn.forwardRef(function(e,t){const r=e,{value:i,size:s=AJ,level:a=TJ,bgColor:o=CJ,fgColor:l=MJ,includeMargin:c=IJ,minVersion:u=PJ,boostLevel:h,title:d,marginSize:p,imageSettings:g}=r,_=Hk(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:x,numCells:S,calculatedImageSettings:E}=kJ({value:i,level:a,minVersion:u,boostLevel:h,includeMargin:c,marginSize:p,imageSettings:g,size:s});let T=x,D=null;g!=null&&E!=null&&(E.excavation!=null&&(T=NJ(x,E.excavation)),D=Rn.createElement("image",{href:g.src,height:E.h,width:E.w,x:E.x+w,y:E.y+w,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const k=RJ(T,w);return Rn.createElement("svg",zk({height:s,width:s,viewBox:`0 0 ${S} ${S}`,ref:t,role:"img"},_),!!d&&Rn.createElement("title",null,d),Rn.createElement("path",{fill:o,d:`M0,0 h${S}v${S}H0z`,shapeRendering:"crispEdges"}),Rn.createElement("path",{fill:l,d:k,shapeRendering:"crispEdges"}),D)});DJ.displayName="QRCodeSVG";function ACe({member:n}){const[e,t]=F.useState(!1),r=()=>{t(!0);const s=document.getElementById("printable-card"),a=document.body.innerHTML;s&&(document.body.innerHTML=s.innerHTML,window.print(),document.body.innerHTML=a,t(!1),window.location.reload())},i=JSON.stringify({id:n.id,name:n.fullName,registrationNumber:n.registrationNumber,status:n.membershipStatus});return m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx(Nu,{className:"mb-4 border-2 border-primary overflow-hidden",children:m.jsxs("div",{id:"printable-card",children:[m.jsxs($O,{className:"bg-primary text-white p-4 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-heading font-bold",children:"MAHAPALA NAROTAMA"}),m.jsx("p",{className:"text-xs",children:"Universitas Narotama Surabaya"})]}),m.jsx("div",{className:"text-right",children:m.jsxs("p",{className:"text-xs",children:["ID: ",n.registrationNumber]})})]}),m.jsxs(Um,{className:"p-4",children:[m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"mr-4",children:m.jsx("div",{className:"w-24 h-32 bg-gray-200 rounded-md flex items-center justify-center",children:n.photoUrl?m.jsx("img",{src:n.photoUrl,alt:n.fullName,className:"w-full h-full object-cover rounded-md"}):m.jsx(ZX,{className:"h-10 w-10 text-gray-400"})})}),m.jsx("div",{className:"flex-1",children:m.jsx("table",{className:"w-full text-sm",children:m.jsxs("tbody",{children:[m.jsxs("tr",{children:[m.jsx("td",{className:"py-1 font-medium",children:"Nama"}),m.jsxs("td",{className:"py-1",children:[": ",n.fullName]})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"py-1 font-medium",children:"Nama Lapangan"}),m.jsxs("td",{className:"py-1",children:[": ",n.fieldName]})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"py-1 font-medium",children:"Angkatan"}),m.jsxs("td",{className:"py-1",children:[": ",n.batchName," ",n.batchYear]})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"py-1 font-medium",children:"Status"}),m.jsxs("td",{className:"py-1",children:[":",m.jsx("span",{className:`${n.membershipStatus==="Aktif"?"text-green-600":"text-amber-600"} font-medium ml-1`,children:n.membershipStatus})]})]})]})})})]}),m.jsx("div",{className:"mt-4 flex justify-center",children:m.jsx("div",{className:"p-2 bg-white rounded-md",children:m.jsx(DJ,{value:i,size:128})})})]})]})}),m.jsx("div",{className:"mt-4 flex justify-center",children:m.jsxs(Ht,{onClick:r,disabled:e,className:"gap-2",children:[m.jsx(kO,{className:"h-4 w-4"}),"Cetak Kartu"]})})]})}const F0=F.forwardRef(({className:n,...e},t)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:t,className:en("w-full caption-bottom text-sm",n),...e})}));F0.displayName="Table";const B0=F.forwardRef(({className:n,...e},t)=>m.jsx("thead",{ref:t,className:en("[&_tr]:border-b",n),...e}));B0.displayName="TableHeader";const U0=F.forwardRef(({className:n,...e},t)=>m.jsx("tbody",{ref:t,className:en("[&_tr:last-child]:border-0",n),...e}));U0.displayName="TableBody";const TCe=F.forwardRef(({className:n,...e},t)=>m.jsx("tfoot",{ref:t,className:en("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));TCe.displayName="TableFooter";const oc=F.forwardRef(({className:n,...e},t)=>m.jsx("tr",{ref:t,className:en("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));oc.displayName="TableRow";const Lr=F.forwardRef(({className:n,...e},t)=>m.jsx("th",{ref:t,className:en("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));Lr.displayName="TableHead";const Fr=F.forwardRef(({className:n,...e},t)=>m.jsx("td",{ref:t,className:en("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));Fr.displayName="TableCell";const CCe=F.forwardRef(({className:n,...e},t)=>m.jsx("caption",{ref:t,className:en("mt-4 text-sm text-muted-foreground",n),...e}));CCe.displayName="TableCaption";function Fg({value:n,duration:e=1e3,className:t=""}){const[r,i]=F.useState(0),s=F.useRef(),a=F.useRef(),o=F.useRef(0);return F.useEffect(()=>{o.current=0,i(0);function l(c){a.current||(a.current=c);const u=Math.min((c-a.current)/e,1);i(Math.floor(u*(n-o.current)+o.current)),u<1?s.current=requestAnimationFrame(l):i(n)}return s.current=requestAnimationFrame(l),()=>{s.current&&cancelAnimationFrame(s.current),a.current=void 0}},[n,e]),m.jsx("span",{className:t,children:r.toLocaleString()})}function MCe({open:n,onClose:e,frontUrl:t,backUrl:r,fullName:i}){const[s,a]=F.useState(!0);F.useEffect(()=>{n&&a(!0)},[n]);const o=()=>{const l=new URLSearchParams({frontUrl:t,backUrl:r,fullName:i});window.open(`/member-card-3d?${l.toString()}`,"_blank")};return n?m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[m.jsx("div",{className:"absolute inset-0",onClick:e}),m.jsxs("div",{className:"relative z-10 rounded-2xl overflow-hidden shadow-2xl bg-white/10 p-6 flex flex-col items-center",children:[m.jsxs("div",{className:"w-[340px] h-[220px] mb-4",style:{perspective:1200},children:[m.jsxs("div",{className:`relative w-full h-full transition-transform duration-700 [transform-style:preserve-3d] ${s?"":"[transform:rotateY(180deg)]"}`,children:[m.jsx("img",{src:t,alt:i+" - depan",className:"absolute w-full h-full object-cover rounded-2xl shadow-lg bg-white [backface-visibility:hidden]",style:{backfaceVisibility:"hidden",aspectRatio:"340/220"}}),m.jsx("img",{src:r,alt:i+" - belakang",className:"absolute w-full h-full object-cover rounded-2xl shadow-lg bg-white [backface-visibility:hidden]",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden",aspectRatio:"340/220"}})]}),m.jsx("button",{className:"absolute top-2 right-2 bg-white/80 hover:bg-white rounded-full p-2 shadow",title:"Tampilkan 3D Fullscreen",onClick:o,children:m.jsx(_0e,{className:"w-5 h-5 text-gray-700"})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(Ht,{variant:"secondary",onClick:()=>a(!s),children:s?"Lihat Belakang":"Lihat Depan"}),m.jsx(Ht,{variant:"outline",onClick:e,children:"Tutup"})]})]})]}):null}function ICe({onClose:n}){const[e,t]=F.useState(null);return F.useEffect(()=>{function r(){const a=new Date,o=a.getMonth()>0||a.getMonth()===0&&a.getDate()>26?a.getFullYear()+1:a.getFullYear();return new Date(o,0,26,0,0,0,0)}function i(){const a=new Date,l=r().getTime()-a.getTime();if(l<=0)return{days:0,hours:0,minutes:0,seconds:0};const c=Math.floor(l/(1e3*60*60*24)),u=Math.floor(l/(1e3*60*60)%24),h=Math.floor(l/(1e3*60)%60),d=Math.floor(l/1e3%60);return{days:c,hours:u,minutes:h,seconds:d}}t(i());const s=setInterval(()=>{t(i())},1e3);return()=>clearInterval(s)},[]),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/40",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-sm w-full text-center",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Countdown Ulang Tahun"}),e?m.jsxs("div",{className:"mb-4 text-2xl font-mono flex justify-center gap-2",children:[m.jsxs("span",{children:[e.days," ",m.jsx("span",{className:"text-xs font-normal",children:"hari"})]}),m.jsx("span",{children:":"}),m.jsxs("span",{children:[String(e.hours).padStart(2,"0"),m.jsx("span",{className:"text-xs font-normal",children:"j"})]}),m.jsx("span",{children:":"}),m.jsxs("span",{children:[String(e.minutes).padStart(2,"0"),m.jsx("span",{className:"text-xs font-normal",children:"m"})]}),m.jsx("span",{children:":"}),m.jsxs("span",{children:[String(e.seconds).padStart(2,"0"),m.jsx("span",{className:"text-xs font-normal",children:"d"})]})]}):m.jsx("p",{className:"mb-4",children:"Menghitung..."}),m.jsxs("p",{className:"mb-4",children:["Menuju ulang tahun ",m.jsx("b",{children:"Mahapala Narotama"})," yang ke"," ",(()=>{const r=new Date;return(r.getMonth()>0||r.getMonth()===0&&r.getDate()>26?r.getFullYear()+1:r.getFullYear())-2017})()," ","pada tanggal 26 Januari ",(()=>{const r=new Date;return r.getMonth()>0||r.getMonth()===0&&r.getDate()>26?r.getFullYear()+1:r.getFullYear()})()]}),m.jsx(Ht,{onClick:n,children:"Tutup"})]})})}function PCe(){const[n,e]=F.useState("fullName"),[t,r]=F.useState(""),[i,s]=F.useState(!0),[a,o]=F.useState(null),[l,c]=F.useState({open:!1,photoUrl:"",fullName:"",zoom:!1}),[u,h]=F.useState({open:!1,frontUrl:"",backUrl:"",fullName:""}),[d,p]=F.useState(!1),{data:g,isLoading:_}=mCe(),w=()=>{},x=()=>{o(null),s(!0)},S=g==null?void 0:g.filter(K=>{if(!t)return!0;const J=t.toLowerCase();switch(n){case"fullName":return K.fullName.toLowerCase().includes(J);case"batchYear":return K.batchYear.toString().includes(J);case"registrationNumber":return K.registrationNumber.toLowerCase().includes(J);default:return!0}}),E=g==null?void 0:g.find(K=>K.id===a),T=new Date(2017,0,26),D=new Date,k=D.getFullYear()-T.getFullYear(),I=D.getMonth()-T.getMonth(),N=D.getDate()-T.getDate();let P=`${k} tahun`;I>0||I===0&&N>=0?P=`${k} tahun
${I>=0?I:12+I} bulan`:k>0&&(P=`${k-1} tahun
${12+I} bulan`);const R=(g==null?void 0:g.length)||0,B=g?Array.from(new Set(g.map(K=>K.batchName))).length:0,z=g?g.filter(K=>(K.gender||"").toLowerCase()==="laki-laki"||(K.gender||"").toLowerCase()==="l"||(K.gender||"").toLowerCase()==="male").length:0,H=g?g.filter(K=>(K.gender||"").toLowerCase()==="perempuan"||(K.gender||"").toLowerCase()==="p"||(K.gender||"").toLowerCase()==="female").length:0;return m.jsx(m.Fragment,{children:m.jsx("section",{id:"kartu-anggota",className:"py-8 sm:py-12 bg-white",children:m.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[m.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-10 text-center",children:[m.jsxs("div",{className:"bg-green-50 rounded-lg p-4 flex flex-col items-center justify-center text-center shadow h-full relative",children:[m.jsx("button",{type:"button",className:"absolute top-2 right-2 p-1 rounded-full hover:bg-green-100 transition","aria-label":"Lihat hitung mundur ulang tahun",onClick:()=>p(!0),children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7c0-1.105.895-2 2-2s2 .895 2 2"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7c0-1.105-.895-2-2-2s-2 .895-2 2"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v2"})]})}),m.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Umur Organisasi"}),m.jsx("span",{className:"text-2xl font-bold text-green-700 whitespace-pre-line",children:P}),m.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Sejak 26 Januari 2017"}),d&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[m.jsx("div",{className:"absolute inset-0",onClick:()=>p(!1)}),m.jsxs("div",{className:"relative z-10 bg-white rounded-xl shadow-lg p-8 flex flex-col items-center min-w-[320px]",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-pink-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7c0-1.105.895-2 2-2s2 .895 2 2"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7c0-1.105-.895-2-2-2s-2 .895-2 2"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v2"})]}),m.jsx(ICe,{name:"Organisasi",onClose:()=>p(!1)}),m.jsx(Ht,{className:"mt-4",variant:"outline",onClick:()=>p(!1),children:"Tutup"})]})]})]}),m.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 flex flex-col items-center justify-center text-center shadow h-full",children:[m.jsx("span",{className:"text-s text-gray-500 mb-1",children:"Jumlah Anggota"}),m.jsx(Fg,{value:R,className:"text-2xl font-bold text-blue-700"}),m.jsx("span",{className:"text-s text-gray-400 mt-1",children:"Total anggota terdaftar"})]}),m.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 flex flex-col items-center justify-center text-center shadow h-full",children:[m.jsx("span",{className:"text-s text-gray-500 mb-1",children:"Jumlah Angkatan"}),m.jsx(Fg,{value:B,className:"text-2xl font-bold text-yellow-700"}),m.jsx("span",{className:"text-s text-gray-400 mt-1",children:"Total Angkatan"})]}),m.jsxs("div",{className:"bg-emerald-50 rounded-lg p-4 flex flex-col items-center justify-center text-center shadow h-full",children:[m.jsx("span",{className:"text-s text-gray-500 mb-1",children:"Anggota Penuh"}),m.jsx(Fg,{value:g?g.filter(K=>K.membershipStatus==="Anggota Penuh").length:0,className:"text-2xl font-bold text-emerald-700"}),m.jsx("span",{className:"text-s text-gray-400 mt-1",children:"Total anggota penuh"})]}),m.jsxs("div",{className:"bg-lime-50 rounded-lg p-4 flex flex-col items-center justify-center text-center shadow h-full",children:[m.jsx("span",{className:"text-s text-gray-500 mb-1",children:"Anggota Muda"}),m.jsx(Fg,{value:g?g.filter(K=>K.membershipStatus==="Anggota Muda").length:0,className:"text-2xl font-bold text-lime-700"}),m.jsx("span",{className:"text-s text-gray-400 mt-1",children:"Total anggota muda"})]}),m.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 flex flex-col items-center justify-center text-center shadow h-full",children:[m.jsx("span",{className:"text-s text-gray-500 mb-1",children:"Anggota Laki-laki"}),m.jsx(Fg,{value:z,className:"text-2xl font-bold text-indigo-700"}),m.jsx("span",{className:"text-s text-gray-400 mt-1",children:"Total anggota laki-laki"})]}),m.jsxs("div",{className:"bg-pink-50 rounded-lg p-4 flex flex-col items-center justify-center text-center shadow h-full",children:[m.jsx("span",{className:"text-s text-gray-500 mb-1",children:"Anggota Perempuan"}),m.jsx(Fg,{value:H,className:"text-2xl font-bold text-pink-700"}),m.jsx("span",{className:"text-s text-gray-400 mt-1",children:"Total anggota perempuan"})]})]}),i?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"max-w-3xl mx-auto mb-8 sm:mb-10 bg-gray-50 p-3 sm:p-6 rounded-lg shadow-md",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("p",{className:"text-gray-700 mb-4",children:"Masukkan informasi anggota untuk pencarian:"}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsxs(yJ,{value:n,onValueChange:e,children:[m.jsx(c4,{children:m.jsx(xJ,{placeholder:"Pilih Tipe Pencarian"})}),m.jsxs(u4,{className:"bg-white",children:[m.jsx(cv,{value:"fullName",children:"Nama Lengkap"}),m.jsx(cv,{value:"batchYear",children:"Tahun Angkatan"}),m.jsx(cv,{value:"registrationNumber",children:"Nomor Registrasi"})]})]})}),m.jsx("div",{className:"flex-1",children:m.jsx(xi,{placeholder:"Masukkan kata kunci...",value:t,onChange:K=>r(K.target.value)})}),m.jsxs(Ht,{onClick:w,className:"gap-2",children:[m.jsx(S0e,{className:"h-4 w-4"}),"Cari"]})]})]}),m.jsx("div",{className:"text-sm text-gray-500",children:m.jsxs("p",{className:"flex items-center gap-1",children:[m.jsx("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Data anggota hanya dapat diakses oleh pihak yang berwenang. Hasil pencarian akan menampilkan informasi dasar anggota."]})})]}),t?m.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md",children:_?m.jsx("div",{className:"p-8",children:m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx(Aa,{className:"h-8 w-full"}),m.jsx(Aa,{className:"h-8 w-full"}),m.jsx(Aa,{className:"h-8 w-full"}),m.jsx(Aa,{className:"h-8 w-full"})]})}):S&&S.length>0?m.jsxs(F0,{className:"min-w-[600px] text-xs sm:text-sm md:text-base",children:[m.jsx(B0,{children:m.jsxs(oc,{children:[m.jsx(Lr,{children:"Nama Lengkap"}),m.jsx(Lr,{children:"Nama Lapangan"}),m.jsx(Lr,{children:"Nama Angkatan"}),m.jsx(Lr,{children:"Tahun Angkatan"}),m.jsx(Lr,{children:"No. Registrasi"}),m.jsx(Lr,{children:"Keanggotaan"}),m.jsx(Lr,{children:"Detail"}),m.jsx(Lr,{children:"Aksi"})]})}),m.jsx(U0,{children:S.map(K=>{const J=`https://mahapalanarotama.web.id/kartu-anggota-detail?type=namalapangan&input=${encodeURIComponent(K.fieldName)}`;return m.jsxs(oc,{children:[m.jsx(Fr,{className:"font-medium",children:K.fullName}),m.jsx(Fr,{children:K.fieldName}),m.jsx(Fr,{children:K.batchName}),m.jsx(Fr,{children:K.batchYear}),m.jsx(Fr,{children:K.registrationNumber}),m.jsx(Fr,{children:K.membershipStatus==="Anggota Penuh"?m.jsx(Ja,{variant:"penuh",children:"Anggota Penuh"}):K.membershipStatus==="Anggota Muda"?m.jsx(Ja,{variant:"muda",children:"Anggota Muda"}):m.jsx(Ja,{children:K.membershipStatus})}),m.jsx(Fr,{children:m.jsx("a",{href:J,target:"_blank",rel:"noopener noreferrer",title:"Lihat detail kartu anggota",children:m.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=${encodeURIComponent(J)}`,alt:"Barcode detail kartu anggota",className:"w-16 h-16 object-contain hover:scale-110 transition cursor-pointer"})})}),m.jsxs(Fr,{className:"flex space-x-2",children:[m.jsx(Ht,{variant:"outline",size:"icon",onClick:()=>c({open:!0,photoUrl:K.photoUrl||"",fullName:K.fullName}),className:"text-primary hover:text-primary-foreground hover:bg-primary",disabled:!K.photoUrl,children:m.jsx(p0e,{className:"h-4 w-4"})}),m.jsx(Ht,{variant:"outline",size:"icon",onClick:()=>h({open:!0,frontUrl:K.photoUrl||"",backUrl:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/refs/heads/main/Img/back.png",fullName:K.fullName}),className:"text-primary hover:text-primary-foreground hover:bg-primary",disabled:!K.photoUrl,children:m.jsx("span",{className:"font-bold",children:"3D"})})]})]},K.id)})})]}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Tidak ada anggota ditemukan"}),m.jsx("p",{className:"text-gray-500",children:"Coba ubah kata kunci pencarian Anda"})]})}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Masukkan kata kunci untuk mencari anggota"}),m.jsx("p",{className:"text-gray-500",children:"Anda dapat mencari berdasarkan nama, tahun angkatan, atau nomor registrasi"})]}),m.jsx(Kf,{open:l.open,onOpenChange:K=>c(J=>({...J,open:K})),children:m.jsx(Yh,{className:"flex flex-col items-center max-w-full p-2 sm:p-6",children:l.photoUrl&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative overflow-hidden rounded border mt-3 mb-4 bg-white w-full max-w-[480px] h-[220px] sm:h-[300px] flex items-center justify-center cursor-zoom-in",style:{maxWidth:"95vw",maxHeight:"70vh"},tabIndex:0,onClick:K=>{K.stopPropagation(),c(J=>({...J,zoom:!0}))},onKeyDown:K=>{(K.key==="Enter"||K.key===" ")&&c(J=>({...J,zoom:!0}))},"aria-label":"Perbesar gambar",children:[m.jsx("img",{src:l.photoUrl,alt:l.fullName,className:"object-contain w-full h-full",style:{aspectRatio:"3/2",maxHeight:"100%",maxWidth:"100%"}}),m.jsx("span",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded pointer-events-none",children:"Klik untuk zoom"})]}),m.jsx(Ht,{variant:"default",className:"w-full",onClick:async()=>{try{const J=await(await fetch(l.photoUrl,{mode:"cors"})).blob(),se=window.URL.createObjectURL(J),ce=document.createElement("a");ce.href=se,ce.download=l.photoUrl.split("/").pop()||"kartu-anggota.jpg",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),window.URL.revokeObjectURL(se)}catch{window.open(l.photoUrl,"_blank")}},children:"Unduh Kartu"}),l.zoom&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",onClick:()=>c(K=>({...K,zoom:!1})),children:m.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg p-2 sm:p-4",style:{maxWidth:"98vw",maxHeight:"95vh"},onClick:K=>K.stopPropagation(),children:[m.jsx("img",{src:l.photoUrl,alt:l.fullName,className:"object-contain",style:{maxHeight:"80vh",maxWidth:"95vw"}}),m.jsx(Ht,{variant:"outline",className:"absolute top-2 right-2",onClick:()=>c(K=>({...K,zoom:!1})),children:"Tutup"})]})})]})})}),m.jsx(MCe,{open:u.open,onClose:()=>h(K=>({...K,open:!1})),frontUrl:u.frontUrl,backUrl:u.backUrl,fullName:u.fullName})]}):m.jsx(m.Fragment,{children:m.jsxs("div",{className:"mb-6",children:[m.jsx(Ht,{variant:"outline",onClick:x,className:"mb-8",children:" Kembali ke Pencarian"}),E&&m.jsx(ACe,{member:{...E,id:String(E.id)}})]})})]})})})}function RCe(){const[n,e]=F.useState({title:"Hubungi Kami",description:"",whatsapp:"",email:"",instagram:"",cards:[]}),[t,r]=F.useState(!0);return F.useEffect(()=>{let i=()=>{};async function s(){const{db:a}=await wa(async()=>{const{db:u}=await Promise.resolve().then(()=>uf);return{db:u}},void 0),{doc:o,getDoc:l}=await wa(async()=>{const{doc:u,getDoc:h}=await Promise.resolve().then(()=>cf);return{doc:u,getDoc:h}},void 0),c=await l(o(a,"homepage","contact"));if(c.exists()){const u=c.data();e({title:u.title||"Hubungi Kami",description:u.description||"",whatsapp:u.whatsapp||"",email:u.email||"",instagram:u.instagram||"",cards:Array.isArray(u.cards)?u.cards:[]})}r(!1)}return s(),()=>i()},[]),{contact:n,loading:t}}function NCe(){const{contact:n,loading:e}=RCe(),t=[{date:"15 Agustus - 30 September 2025",title:"Pendaftaran Online dan Offline",desc:"Pengisian formulir pendaftaran dan pengumpulan berkas persyaratan"},{date:"05 - 07 Oktober 2025",title:"Tes Tertulis & Wawancara",desc:"Tes pengetahuan umum dan wawancara motivasi"},{date:"07 Oktober 2025",title:"Pengumuman Hasil Seleksi",desc:"Pengumuman calon anggota yang lolos seleksi"},{date:"08 Oktober - 13 November 2025",title:"Pra Diklat",desc:"Pelatihan dan Pembekalan Materi serta fisik"},{date:"15 - 17 November 2025",title:"Diklat Dasar",desc:"Pelatihan dasar kepencintaalaman dan team building"},{date:"17 November 2025",title:"Pelantikan Anggota Baru",desc:"Upacara pelantikan dan penyematan Scraft Kuning anggota baru"}];function r({item:w,delay:x}){const S=F.useRef(null),E=ITe(S,{once:!0,margin:"-50px"});return m.jsxs(Zn.div,{ref:S,className:"relative",initial:{opacity:0,y:-30},animate:E?{opacity:1,y:0}:{opacity:0,y:-30},transition:{duration:.5,delay:x},children:[m.jsx("div",{className:"absolute -left-[41px] border-4 border-white rounded-full bg-primary h-6 w-6"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-sm text-gray-500",children:w.date}),m.jsx("h4",{className:"font-medium text-gray-800",children:w.title}),m.jsx("p",{className:"text-gray-600 text-sm",children:w.desc})]})]})}const[i,s]=F.useState(-1),[a,o]=F.useState("general"),[l,c]=F.useState(""),[u,h]=F.useState("");F.useEffect(()=>{TO().then(w=>{w!=null&&w.googleFormUrl&&c(w.googleFormUrl),w!=null&&w.googleFormDownloadUrl&&h(w.googleFormDownloadUrl)})},[]);const[d,p]=F.useState(!1);F.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const g={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},_={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return m.jsxs(m.Fragment,{children:[m.jsx("section",{className:"py-8 sm:py-12 bg-white",children:m.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[m.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[m.jsxs("h1",{className:"font-heading text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-3 sm:mb-4 relative inline-block",children:["Informasi Pendaftaran Anggota Baru",m.jsx("span",{className:"absolute -bottom-2 left-0 w-full h-1 bg-primary rounded-full"})]}),m.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto mt-4 sm:mt-6",children:"Bergabunglah dengan Mahapala Narotama dan jadilah bagian dari komunitas yang peduli terhadap pelestarian lingkungan dan eksplorasi alam."})]}),m.jsx("div",{className:"mb-6 sm:mb-8 flex overflow-x-auto scrollbar-hide",children:m.jsxs("div",{className:"max-w-4xl mx-auto flex space-x-1 p-1 bg-gray-100 rounded-lg w-full",children:[m.jsx(Ht,{variant:a==="general"?"default":"ghost",onClick:()=>o("general"),className:"flex-1 whitespace-nowrap",children:"Informasi Umum"}),m.jsx(Ht,{variant:a==="requirements"?"default":"ghost",onClick:()=>o("requirements"),className:"flex-1 whitespace-nowrap",children:"Persyaratan"}),m.jsx(Ht,{variant:a==="timeline"?"default":"ghost",onClick:()=>o("timeline"),className:"flex-1 whitespace-nowrap",children:"Tahapan Seleksi"}),m.jsx(Ht,{variant:a==="faq"?"default":"ghost",onClick:()=>o("faq"),className:"flex-1 whitespace-nowrap",children:"FAQ"})]})}),m.jsxs("div",{className:"max-w-4xl mx-auto",children:[a==="general"&&m.jsxs(Zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"font-heading text-xl font-semibold mb-4",children:"Informasi Umum Pendaftaran"}),m.jsx("p",{className:"text-gray-700 mb-4",children:"Mahapala Narotama membuka pendaftaran anggota baru untuk mahasiswa aktif Universitas Narotama yang memiliki minat dan kepedulian pada alam, lingkungan, dan kegiatan outdoor. Pendaftaran dilaksanakan setahun sekali pada awal tahun akademik."}),m.jsx("p",{className:"text-gray-700 mb-4",children:"Sebagai anggota Mahapala Narotama, Anda akan memiliki kesempatan untuk:"}),m.jsxs(Zn.ul,{className:"space-y-3 mb-6 pl-6",variants:g,initial:"hidden",animate:"show",children:[m.jsxs(Zn.li,{variants:_,className:"flex items-start",children:[m.jsx(Rg,{className:"text-primary min-w-5 h-5 mr-2 mt-0.5"}),m.jsx("span",{children:"Mengikuti berbagai ekspedisi dan pendakian gunung di Indonesia"})]}),m.jsxs(Zn.li,{variants:_,className:"flex items-start",children:[m.jsx(Rg,{className:"text-primary min-w-5 h-5 mr-2 mt-0.5"}),m.jsx("span",{children:"Berpartisipasi dalam program konservasi dan pelestarian lingkungan"})]}),m.jsxs(Zn.li,{variants:_,className:"flex items-start",children:[m.jsx(Rg,{className:"text-primary min-w-5 h-5 mr-2 mt-0.5"}),m.jsx("span",{children:"Mempelajari keterampilan survival, navigasi, pertolongan pertama, panjat tebing"})]}),m.jsxs(Zn.li,{variants:_,className:"flex items-start",children:[m.jsx(Rg,{className:"text-primary min-w-5 h-5 mr-2 mt-0.5"}),m.jsx("span",{children:"Membangun jaringan dengan komunitas pecinta alam di seluruh Indonesia"})]}),m.jsxs(Zn.li,{variants:_,className:"flex items-start",children:[m.jsx(Rg,{className:"text-primary min-w-5 h-5 mr-2 mt-0.5"}),m.jsx("span",{children:"Mengembangkan kemampuan kepemimpinan dan kerja sama tim"})]})]}),m.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 mb-6",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(KN,{className:"h-5 w-5 text-amber-400"})}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-amber-700",children:"Pendaftaran hanya dibuka selama periode yang ditentukan. Pastikan Anda melengkapi semua persyaratan dan mengikuti seluruh tahapan seleksi."})})]})}),m.jsx("div",{className:"mt-6 flex justify-center",children:m.jsx("a",{href:l||void 0,target:"_blank",rel:"noopener noreferrer",children:m.jsxs(Ht,{className:"gap-2",disabled:!l,children:["Daftar Sekarang ",m.jsx(GX,{className:"h-4 w-4"})]})})})]}),a==="requirements"&&m.jsxs(Zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"font-heading text-xl font-semibold mb-4",children:"Persyaratan Pendaftaran"}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h4",{className:"font-medium text-lg mb-2",children:"Persyaratan Umum"}),m.jsxs("ul",{className:"space-y-2 pl-6 list-disc text-gray-700",children:[m.jsx("li",{children:"Mahasiswa aktif Universitas Narotama (dibuktikan dengan kartu mahasiswa)"}),m.jsx("li",{children:"Minimal semester 1 dan maksimal semester 5"}),m.jsx("li",{children:"Sehat jasmani dan rohani (dibuktikan dengan surat keterangan sehat)"}),m.jsx("li",{children:"Memiliki minat dalam kegiatan alam terbuka"}),m.jsx("li",{children:"Bersedia mengikuti seluruh rangkaian proses seleksi"}),m.jsx("li",{children:"Mendapat izin dari orang tua/wali (dibuktikan dengan surat pernyataan)"})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h4",{className:"font-medium text-lg mb-2",children:"Dokumen Pendaftaran"}),m.jsxs("ul",{className:"space-y-2 pl-6 list-disc text-gray-700",children:[m.jsx("li",{children:"Formulir pendaftaran yang telah diisi lengkap"}),m.jsx("li",{children:"Pas foto berwarna ukuran 3x4 (1 lembar)"}),m.jsx("li",{children:"Fotokopi Kartu Mahasiswa"}),m.jsx("li",{children:"Surat keterangan sehat dari dokter"}),m.jsx("li",{children:"Surat pernyataan kesediaan mengikuti seleksi"}),m.jsx("li",{children:"Surat izin orang tua/wali"}),m.jsx("li",{children:"Essay singkat tentang motivasi bergabung dengan Mahapala (maksimal 1 halaman)"})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[m.jsx("h4",{className:"font-medium text-lg mb-2",children:"Biaya Pendaftaran"}),m.jsx("p",{className:"text-gray-700 mb-2",children:"Biaya pendaftaran: Rp 250.000,-"}),m.jsx("p",{className:"text-gray-700 mb-2",children:"Biaya tersebut mencakup:"}),m.jsxs("ul",{className:"space-y-1 pl-6 list-disc text-gray-700",children:[m.jsx("li",{children:"Administrasi pendaftaran"}),m.jsx("li",{children:"Kit pendaftaran (formulir, modul, dan atribut)"}),m.jsx("li",{children:"Biaya Transportasi dan Tiket masuk"}),m.jsx("li",{children:"Biaya operasional diklat dasar"})]}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"*Pembayaran dapat dilakukan melalui transfer bank atau tunai saat pendaftaran"})]}),m.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(Rg,{className:"h-5 w-5 text-green-400"})}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-green-700",children:'Semua dokumen persyaratan dikumpulkan dalam bentuk hardcopy pada saat pendaftaran dan softcopy dikirim ke email ukm.mahapala@narotama.ac.id dengan subjek "PENDAFTARANCAANG2025_[NAMA]_[NIM]"'})})]})})]}),a==="timeline"&&m.jsxs(Zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"font-heading text-xl font-semibold mb-4",children:"Timeline Pendaftaran & Seleksi"}),m.jsx("div",{className:"relative ml-6 pl-8 border-l-2 border-primary/30 space-y-10",children:t.map((w,x)=>m.jsx(r,{item:w,delay:x*.15},x))}),m.jsx("div",{className:"mt-6",children:m.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 flex items-start",children:[m.jsx("span",{className:"flex-shrink-0 flex items-center justify-center mr-4",children:m.jsx(KN,{className:"h-6 w-6 text-amber-400"})}),m.jsx("div",{className:"flex-1 min-w-0",children:m.jsx("span",{className:"text-sm text-amber-700",children:"Jadwal pelaksanaan setiap tahapan seleksi dapat berubah sesuai situasi dan kebijakan panitia. Pastikan Anda selalu memantau pengumuman terbaru melalui kanal resmi Mahapala Narotama."})})]})})]}),a==="faq"&&m.jsxs(Zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"font-heading text-xl font-semibold mb-6",children:"Pertanyaan Umum (FAQ)"}),(()=>{const w=[{q:"Apakah harus memiliki pengalaman kegiatan outdoor sebelumnya?",a:"Tidak, Anda tidak harus memiliki pengalaman kegiatan outdoor sebelumnya. Mahapala Narotama akan memberikan pelatihan dasar untuk semua anggota baru. Yang terpenting adalah minat dan komitmen untuk belajar."},{q:"Apakah ada persyaratan fisik tertentu?",a:"Tidak ada persyaratan fisik khusus, namun Anda diharapkan dalam kondisi sehat dan siap mengikuti rangkaian kegiatan outdoor yang mungkin membutuhkan stamina dan ketahanan fisik. Latihan fisik dasar akan diberikan selama proses seleksi."},{q:"Berapa banyak waktu yang perlu diluangkan jika menjadi anggota Mahapala?",a:"Sebagai anggota Mahapala, Anda diharapkan dapat menghadiri pertemuan rutin mingguan (2-3 jam) dan berpartisipasi dalam kegiatan bulanan (biasanya pada akhir pekan). Kegiatan ekspedisi atau pendakian biasanya dilakukan pada masa liburan semester."},{q:"Berapa biaya yang diperlukan setelah menjadi anggota?",a:"Anggota Mahapala akan dikenakan iuran bulanan sebesar Rp 25.000,- yang digunakan untuk operasional organisasi. Untuk kegiatan-kegiatan tertentu seperti ekspedisi atau pendakian, akan ada biaya tambahan yang besarnya tergantung pada jenis dan lokasi kegiatan."},{q:"Apakah perlu memiliki perlengkapan outdoor sendiri?",a:"Untuk tahap awal, Anda tidak perlu memiliki semua perlengkapan outdoor. Mahapala memiliki beberapa perlengkapan yang dapat dipinjam oleh anggota. Seiring berjalannya waktu, Anda dapat secara bertahap melengkapi perlengkapan pribadi."},{q:"Apakah saya bisa mengikuti kegiatan Mahapala sambil aktif di organisasi lain?",a:"Tidak disarankan, Tetapi Anda tetap bisa aktif di organisasi lain. Namun, perlu diingat bahwa sebagai anggota Mahapala, Anda diharapkan dapat berkomitmen untuk berpartisipasi dalam kegiatan-kegiatan penting dan memenuhi tanggung jawab sebagai anggota."}];return m.jsx("div",{className:"space-y-2",children:w.map((x,S)=>m.jsxs("div",{className:"border-b",children:[m.jsxs("button",{className:"w-full text-left py-3 font-medium text-lg text-primary flex items-center justify-between focus:outline-none",onClick:()=>s(i===S?-1:S),"aria-expanded":i===S,children:[x.q,m.jsx("span",{className:`ml-2 transition-transform ${i===S?"rotate-90":""}`,children:""})]}),i===S&&m.jsx("div",{className:"text-gray-700 mt-2 pb-3",children:x.a})]},S))})})(),m.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[m.jsx("h4",{className:"font-medium text-center mb-3",children:"Masih punya pertanyaan lain?"}),m.jsx("p",{className:"text-gray-700 text-center mb-4",children:"Jika Anda memiliki pertanyaan lain yang belum terjawab, jangan ragu untuk menghubungi kami."}),m.jsx("div",{className:"flex justify-center",children:m.jsxs(Ht,{variant:"outline",className:"gap-2",onClick:()=>p(!0),children:[m.jsx(l_,{className:"h-4 w-4"})," Hubungi Kami"]})})]})]})]}),m.jsx(Zn.div,{className:"max-w-4xl mx-auto mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:m.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-xl shadow-md",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-10 space-y-4 md:space-y-0",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-2xl font-heading font-bold text-gray-800 mb-2",children:"Periode Pendaftaran 2025"}),m.jsx("p",{className:"text-gray-600",children:"Pendaftaran anggota baru Mahapala tahun 2025"})]}),m.jsx("div",{children:u?m.jsx("a",{href:u,download:"formulir_pendaftaran_ukm_mahapala_narotama_2025.docx",children:m.jsx(Ht,{className:"gap-2 bg-primary hover:bg-primary/90",asChild:!0,children:m.jsxs("span",{children:[m.jsx(TB,{size:16}),"Unduh Formulir"]})})}):m.jsxs(Ht,{className:"gap-2 bg-primary opacity-50 cursor-not-allowed",disabled:!0,children:[m.jsx(TB,{size:16}),"Unduh Formulir"]})})]}),m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[m.jsx("div",{className:"bg-primary text-white p-3 rounded-full",children:m.jsx(qX,{size:20})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-lg",children:"Jadwal Pendaftaran"}),m.jsx("p",{className:"text-gray-600",children:"15 Agustus - 30 September 2025"})]})]}),m.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[m.jsx("div",{className:"bg-primary text-white p-3 rounded-full",children:m.jsx(DO,{size:20})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-lg",children:"Kuota Anggota"}),m.jsx("p",{className:"text-gray-600",children:"Maksimal 50 mahasiswa baru"})]})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"bg-primary text-white p-3 rounded-full",children:m.jsx(f0e,{size:20})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-lg",children:"Persyaratan Utama"}),m.jsx("p",{className:"text-gray-600",children:"Mahasiswa aktif Universitas Narotama"})]})]})]})]})}),m.jsxs("div",{className:"mt-16",children:[m.jsx("h3",{className:"font-heading text-2xl font-bold text-center mb-8",children:"Kontak Informasi Pendaftaran"}),e?m.jsx("div",{className:"text-center text-gray-400",children:"Memuat kontak..."}):m.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:n.cards&&n.cards.length>0?n.cards.map((w,x)=>m.jsx(Nu,{className:"hover:shadow-lg transition duration-300 p-6",children:m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-lg",style:{marginBottom:0},children:w.title}),w.content.map((S,E)=>S.trim()===""?m.jsx("div",{style:{height:"1em"}},E):m.jsx("div",{className:"text-sm",children:S},E)),w.description&&m.jsx("div",{className:"text-sm text-gray-500",style:{marginTop:0},children:w.description})]})},x)):m.jsx("div",{className:"col-span-3 text-center text-gray-400",children:"Belum ada kontak pendaftaran."})})]})]})}),m.jsx(Kf,{open:d,onOpenChange:p,children:m.jsx(Yh,{className:"max-w-xs w-full p-0 rounded-xl",children:m.jsxs("div",{className:"p-6 flex flex-col items-center gap-0",children:[m.jsx("h2",{className:"font-heading text-lg font-bold",style:{marginBottom:0},children:n.title||"Hubungi Kami"}),n.description&&m.jsx("div",{className:"text-center text-sm text-gray-600",style:{marginTop:0,marginBottom:0},children:n.description}),m.jsxs("div",{className:"flex gap-6 justify-center",style:{marginTop:15},children:[n.instagram&&m.jsx("a",{href:`https://instagram.com/${n.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-500 hover:scale-110 transition-transform",title:"Instagram",children:m.jsx(KT,{size:36})}),n.whatsapp&&m.jsx("a",{href:`https://wa.me/${n.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-600 hover:scale-110 transition-transform",title:"WhatsApp",children:m.jsx(uw,{size:36})}),n.email&&m.jsx("a",{href:`mailto:${n.email}`,className:"hover:text-blue-600 hover:scale-110 transition-transform",title:"Email",children:m.jsx(l_,{size:36})})]}),m.jsxs("div",{className:"text-center text-xs text-gray-500 mt-2",children:[n.instagram&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{children:["Instagram: @",n.instagram.replace("@","")]}),m.jsx("br",{})]}),n.whatsapp&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{children:["WhatsApp: +",n.whatsapp]}),m.jsx("br",{})]}),n.email&&m.jsx(m.Fragment,{children:m.jsxs("span",{children:["Email: ",n.email]})})]})]})})})]})}function kCe({open:n,onOpenChange:e,imageUrl:t,alt:r}){const i=Rn.useRef(null),s=()=>{i.current&&i.current.requestFullscreen&&i.current.requestFullscreen()};return m.jsx(Kf,{open:n,onOpenChange:e,children:m.jsxs(Yh,{className:"max-w-2xl w-full p-0 rounded-xl bg-black/90 flex flex-col items-center relative",children:[m.jsx("button",{className:"absolute top-2 right-2 z-10 bg-white/80 hover:bg-white rounded-full p-1 shadow",onClick:()=>e(!1),"aria-label":"Tutup",children:m.jsx(hw,{size:24})}),m.jsxs("div",{className:"flex flex-col items-center w-full",children:[m.jsx("img",{ref:i,src:t,alt:r||"Preview",className:"max-h-[70vh] w-auto max-w-full rounded-xl object-contain bg-black cursor-zoom-in",onClick:s,style:{margin:"auto"}}),m.jsx("button",{className:"mt-4 px-4 py-2 rounded bg-white/80 hover:bg-white text-black font-semibold shadow",onClick:s,children:"Perbesar / Fullscreen"})]})]})})}function DCe(){const[n,e]=F.useState({title:"Hubungi Kami",description:"",whatsapp:"",email:"",instagram:""}),[t,r]=F.useState(!0);return F.useEffect(()=>{let i=()=>{};async function s(){const{db:a}=await wa(async()=>{const{db:u}=await Promise.resolve().then(()=>uf);return{db:u}},void 0),{doc:o,getDoc:l}=await wa(async()=>{const{doc:u,getDoc:h}=await Promise.resolve().then(()=>cf);return{doc:u,getDoc:h}},void 0),c=await l(o(a,"homepage","contact"));if(c.exists()){const u=c.data();e({title:u.title||"Hubungi Kami",description:u.description||"",whatsapp:u.whatsapp||"",email:u.email||"",instagram:u.instagram||""})}r(!1)}return s(),()=>i()},[]),{contact:n,loading:t}}function OCe(){const{contact:n}=DCe(),{data:e,isLoading:t}=ZK(),[r,i]=F.useState(!1),[s,a]=F.useState(null);return m.jsx("section",{className:"py-10 sm:py-16 bg-gradient-to-br from-white via-blue-50 to-blue-100 min-h-screen",children:m.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[m.jsxs(Zn.div,{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,type:"spring"},children:[m.jsx("h1",{className:"font-heading text-2xl sm:text-3xl md:text-4xl font-bold text-center sm:text-left bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent drop-shadow-lg",children:"Galeri Kegiatan"}),m.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center",children:[m.jsx(Jo,{href:"/",children:m.jsx(Ht,{variant:"outline",className:"w-full sm:w-auto shadow-md hover:scale-105 transition-transform",children:"Kembali ke Beranda"})}),m.jsx(Ht,{variant:"default",className:"w-full sm:w-auto shadow-md hover:scale-105 transition-transform bg-gradient-to-r from-primary to-blue-600 text-white",onClick:o=>{o.preventDefault(),i(!0)},children:"Hubungi Kami"})]})]}),t?m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 md:gap-6 animate-pulse",children:[...Array(9)].map((o,l)=>m.jsx("div",{className:"bg-gray-200 h-40 sm:h-56 md:h-64 rounded-xl"},l))}):e&&e.length>0?m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 md:gap-4 auto-rows-[120px] sm:auto-rows-[180px] md:auto-rows-[220px]",children:e.map((o,l)=>m.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-lg group border border-gray-100 bg-white hover:shadow-2xl transition-all duration-300 flex flex-col justify-end "+(l%7===0?"md:row-span-2 md:col-span-2 h-[120px] md:h-[320px]":l%5===0?"md:row-span-2 h-[120px] md:h-[320px]":"h-[120px] md:h-full"),style:{cursor:o.imageUrl?"pointer":"default"},onClick:()=>o.imageUrl&&a(o.imageUrl),children:[o.imageUrl?m.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}):m.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:"Tidak ada gambar"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition flex items-end justify-center pointer-events-none",children:m.jsxs("div",{className:"w-full p-2 pb-4 text-white text-center bg-gradient-to-t from-black/60 to-transparent rounded-b-xl",children:[m.jsx("h3",{className:"font-bold text-base mb-1 drop-shadow-lg line-clamp-1",children:o.title}),o.description&&m.jsx("p",{className:"text-xs line-clamp-2 drop-shadow",children:o.description})]})})]},o.id))}):m.jsxs(m.Fragment,{children:[m.jsx(kCe,{open:!!s,onOpenChange:o=>a(o?s:null),imageUrl:s||""}),m.jsx("div",{className:"text-center text-gray-500 py-20",children:e&&e.length===0?"Tidak ada data galeri.":null})]}),m.jsx(Kf,{open:r,onOpenChange:i,children:m.jsx(Yh,{className:"max-w-xs w-full p-0 rounded-xl",children:m.jsxs("div",{className:"p-6 flex flex-col items-center gap-0",children:[m.jsx("h2",{className:"font-heading text-lg font-bold",style:{marginBottom:0},children:n.title||"Hubungi Kami"}),n.description&&m.jsx("div",{className:"text-center text-sm text-gray-600",style:{marginTop:0,marginBottom:0},children:n.description}),m.jsxs("div",{className:"flex gap-6 justify-center",style:{marginTop:15},children:[n.instagram&&m.jsx("a",{href:`https://instagram.com/${n.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-500 hover:scale-110 transition-transform",title:"Instagram",children:m.jsx(KT,{size:36})}),n.whatsapp&&m.jsx("a",{href:`https://wa.me/${n.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-600 hover:scale-110 transition-transform",title:"WhatsApp",children:m.jsx(uw,{size:36})}),n.email&&m.jsx("a",{href:`mailto:${n.email}`,className:"hover:text-blue-600 hover:scale-110 transition-transform",title:"Email",children:m.jsx(l_,{size:36})})]}),m.jsxs("div",{className:"text-center text-xs text-gray-500 mt-2",children:[n.instagram&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{children:["Instagram: @",n.instagram.replace("@","")]}),m.jsx("br",{})]}),n.whatsapp&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{children:["WhatsApp: +",n.whatsapp]}),m.jsx("br",{})]}),n.email&&m.jsx(m.Fragment,{children:m.jsxs("span",{children:["Email: ",n.email]})})]})]})})})]})})}function jj(n,e,t){const r=twe(),i=BCe(n,t.timeZone,t.locale??r.locale);return"formatToParts"in i?LCe(i,e):FCe(i,e)}function LCe(n,e){const t=n.formatToParts(e);for(let r=t.length-1;r>=0;--r)if(t[r].type==="timeZoneName")return t[r].value}function FCe(n,e){const t=n.format(e).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(t);return r?r[0].substr(1):""}function BCe(n,e,t){return new Intl.DateTimeFormat(t?[t.code,"en-US"]:void 0,{timeZone:e,timeZoneName:n})}function UCe(n,e){const t=WCe(e);return"formatToParts"in t?VCe(t,n):zCe(t,n)}const jCe={year:0,month:1,day:2,hour:3,minute:4,second:5};function VCe(n,e){try{const t=n.formatToParts(e),r=[];for(let i=0;i<t.length;i++){const s=jCe[t[i].type];s!==void 0&&(r[s]=parseInt(t[i].value,10))}return r}catch(t){if(t instanceof RangeError)return[NaN];throw t}}function zCe(n,e){const t=n.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const tP={},Vj=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),HCe=Vj==="06/25/2014, 00:00:00"||Vj==="06/25/2014 00:00:00";function WCe(n){return tP[n]||(tP[n]=HCe?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:n,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),tP[n]}function OJ(n,e,t,r,i,s,a){const o=new Date(0);return o.setUTCFullYear(n,e,t),o.setUTCHours(r,i,s,a),o}const zj=36e5,GCe=6e4,nP={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function h4(n,e,t){if(!n)return 0;let r=nP.timezoneZ.exec(n);if(r)return 0;let i,s;if(r=nP.timezoneHH.exec(n),r)return i=parseInt(r[1],10),Hj(i)?-(i*zj):NaN;if(r=nP.timezoneHHMM.exec(n),r){i=parseInt(r[2],10);const a=parseInt(r[3],10);return Hj(i,a)?(s=Math.abs(i)*zj+a*GCe,r[1]==="+"?-s:s):NaN}if(XCe(n)){e=new Date(e||Date.now());const a=t?e:$Ce(e),o=Wk(a,n);return-(t?o:qCe(e,o,n))}return NaN}function $Ce(n){return OJ(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function Wk(n,e){const t=UCe(n,e),r=OJ(t[0],t[1]-1,t[2],t[3]%24,t[4],t[5],0).getTime();let i=n.getTime();const s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function qCe(n,e,t){let i=n.getTime()-e;const s=Wk(new Date(i),t);if(e===s)return e;i-=s-e;const a=Wk(new Date(i),t);return s===a?s:Math.max(s,a)}function Hj(n,e){return-23<=n&&n<=23&&(e==null||0<=e&&e<=59)}const Wj={};function XCe(n){if(Wj[n])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:n}),Wj[n]=!0,!0}catch{return!1}}const YCe=60*1e3,KCe={X:function(n,e,t){const r=rP(t.timeZone,n);if(r===0)return"Z";switch(e){case"X":return Gj(r);case"XXXX":case"XX":return p0(r);case"XXXXX":case"XXX":default:return p0(r,":")}},x:function(n,e,t){const r=rP(t.timeZone,n);switch(e){case"x":return Gj(r);case"xxxx":case"xx":return p0(r);case"xxxxx":case"xxx":default:return p0(r,":")}},O:function(n,e,t){const r=rP(t.timeZone,n);switch(e){case"O":case"OO":case"OOO":return"GMT"+ZCe(r,":");case"OOOO":default:return"GMT"+p0(r,":")}},z:function(n,e,t){switch(e){case"z":case"zz":case"zzz":return jj("short",n,t);case"zzzz":default:return jj("long",n,t)}}};function rP(n,e){const t=n?h4(n,e,!0)/YCe:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(t))throw new RangeError("Invalid time zone specified: "+n);return t}function tA(n,e){const t=n<0?"-":"";let r=Math.abs(n).toString();for(;r.length<e;)r="0"+r;return t+r}function p0(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=tA(Math.floor(r/60),2),s=tA(Math.floor(r%60),2);return t+i+e+s}function Gj(n,e){return n%60===0?(n>0?"-":"+")+tA(Math.abs(n)/60,2):p0(n,e)}function ZCe(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.floor(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+tA(s,2)}function $j(n){const e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+n-+e}const QCe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,iP=36e5,qj=6e4,JCe=2,eo={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:QCe};function LJ(n,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(n===null)return new Date(NaN);const t=e.additionalDigits==null?JCe:Number(e.additionalDigits);if(t!==2&&t!==1&&t!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]")return new Date(n.getTime());if(typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]")return new Date(n);if(Object.prototype.toString.call(n)!=="[object String]")return new Date(NaN);const r=eMe(n),{year:i,restDateString:s}=tMe(r.date,t),a=nMe(s,i);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const o=a.getTime();let l=0,c;if(r.time&&(l=rMe(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(c=h4(r.timeZone||e.timeZone,new Date(o+l)),isNaN(c))return new Date(NaN)}else c=$j(new Date(o+l)),c=$j(new Date(o+l+c));return new Date(o+l+c)}else return new Date(NaN)}function eMe(n){const e={};let t=eo.dateTimePattern.exec(n),r;if(t?(e.date=t[1],r=t[3]):(t=eo.datePattern.exec(n),t?(e.date=t[1],r=t[2]):(e.date=null,r=n)),r){const i=eo.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function tMe(n,e){if(n){const t=eo.YYY[e],r=eo.YYYYY[e];let i=eo.YYYY.exec(n)||r.exec(n);if(i){const s=i[1];return{year:parseInt(s,10),restDateString:n.slice(s.length)}}if(i=eo.YY.exec(n)||t.exec(n),i){const s=i[1];return{year:parseInt(s,10)*100,restDateString:n.slice(s.length)}}}return{year:null}}function nMe(n,e){if(e===null)return null;let t,r,i;if(!n||!n.length)return t=new Date(0),t.setUTCFullYear(e),t;let s=eo.MM.exec(n);if(s)return t=new Date(0),r=parseInt(s[1],10)-1,Yj(e,r)?(t.setUTCFullYear(e,r),t):new Date(NaN);if(s=eo.DDD.exec(n),s){t=new Date(0);const a=parseInt(s[1],10);return aMe(e,a)?(t.setUTCFullYear(e,0,a),t):new Date(NaN)}if(s=eo.MMDD.exec(n),s){t=new Date(0),r=parseInt(s[1],10)-1;const a=parseInt(s[2],10);return Yj(e,r,a)?(t.setUTCFullYear(e,r,a),t):new Date(NaN)}if(s=eo.Www.exec(n),s)return i=parseInt(s[1],10)-1,Kj(i)?Xj(e,i):new Date(NaN);if(s=eo.WwwD.exec(n),s){i=parseInt(s[1],10)-1;const a=parseInt(s[2],10)-1;return Kj(i,a)?Xj(e,i,a):new Date(NaN)}return null}function rMe(n){let e,t,r=eo.HH.exec(n);if(r)return e=parseFloat(r[1].replace(",",".")),sP(e)?e%24*iP:NaN;if(r=eo.HHMM.exec(n),r)return e=parseInt(r[1],10),t=parseFloat(r[2].replace(",",".")),sP(e,t)?e%24*iP+t*qj:NaN;if(r=eo.HHMMSS.exec(n),r){e=parseInt(r[1],10),t=parseInt(r[2],10);const i=parseFloat(r[3].replace(",","."));return sP(e,t,i)?e%24*iP+t*qj+i*1e3:NaN}return null}function Xj(n,e,t){e=e||0,t=t||0;const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=e*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const iMe=[31,28,31,30,31,30,31,31,30,31,30,31],sMe=[31,29,31,30,31,30,31,31,30,31,30,31];function FJ(n){return n%400===0||n%4===0&&n%100!==0}function Yj(n,e,t){if(e<0||e>11)return!1;if(t!=null){if(t<1)return!1;const r=FJ(n);if(r&&t>sMe[e]||!r&&t>iMe[e])return!1}return!0}function aMe(n,e){if(e<1)return!1;const t=FJ(n);return!(t&&e>366||!t&&e>365)}function Kj(n,e){return!(n<0||n>52||e!=null&&(e<0||e>6))}function sP(n,e,t){return!(n<0||n>=25||e!=null&&(e<0||e>=60)||t!=null&&(t<0||t>=60))}const oMe=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function lMe(n,e,t={}){e=String(e);const r=e.match(oMe);if(r){const i=LJ(t.originalDate||n,t);e=r.reduce(function(s,a){if(a[0]==="'")return s;const o=s.indexOf(a),l=s[o-1]==="'",c=s.replace(a,"'"+KCe[a[0]](i,a,t)+"'");return l?c.substring(0,o-1)+c.substring(o+1):c},e)}return vL(n,e,t)}function cMe(n,e,t){n=LJ(n,t);const r=h4(e,n,!0),i=new Date(n.getTime()-r),s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}var aP="rovingFocusGroup.onEntryFocus",uMe={bubbles:!1,cancelable:!0},ww="RovingFocusGroup",[Gk,BJ,hMe]=IO(ww),[dMe,UJ]=Xh(ww,[hMe]),[fMe,pMe]=dMe(ww),jJ=F.forwardRef((n,e)=>m.jsx(Gk.Provider,{scope:n.__scopeRovingFocusGroup,children:m.jsx(Gk.Slot,{scope:n.__scopeRovingFocusGroup,children:m.jsx(mMe,{...n,ref:e})})}));jJ.displayName=ww;var mMe=F.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=n,d=F.useRef(null),p=Ur(e,d),g=o4(s),[_,w]=Hv({prop:a,defaultProp:o??null,onChange:l,caller:ww}),[x,S]=F.useState(!1),E=Vl(c),T=BJ(t),D=F.useRef(!1),[k,I]=F.useState(0);return F.useEffect(()=>{const N=d.current;if(N)return N.addEventListener(aP,E),()=>N.removeEventListener(aP,E)},[E]),m.jsx(fMe,{scope:t,orientation:r,dir:g,loop:i,currentTabStopId:_,onItemFocus:F.useCallback(N=>w(N),[w]),onItemShiftTab:F.useCallback(()=>S(!0),[]),onFocusableItemAdd:F.useCallback(()=>I(N=>N+1),[]),onFocusableItemRemove:F.useCallback(()=>I(N=>N-1),[]),children:m.jsx(Bn.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...n.style},onMouseDown:un(n.onMouseDown,()=>{D.current=!0}),onFocus:un(n.onFocus,N=>{const P=!D.current;if(N.target===N.currentTarget&&P&&!x){const R=new CustomEvent(aP,uMe);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const B=T().filter(se=>se.focusable),z=B.find(se=>se.active),H=B.find(se=>se.id===_),J=[z,H,...B].filter(Boolean).map(se=>se.ref.current);HJ(J,u)}}D.current=!1}),onBlur:un(n.onBlur,()=>S(!1))})})}),VJ="RovingFocusGroupItem",zJ=F.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=n,l=Af(),c=s||l,u=pMe(VJ,t),h=u.currentTabStopId===c,d=BJ(t),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:_}=u;return F.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),m.jsx(Gk.ItemSlot,{scope:t,id:c,focusable:r,active:i,children:m.jsx(Bn.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:un(n.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:un(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:un(n.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=yMe(w,u.orientation,u.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=d().filter(T=>T.focusable).map(T=>T.ref.current);if(x==="last")E.reverse();else if(x==="prev"||x==="next"){x==="prev"&&E.reverse();const T=E.indexOf(w.currentTarget);E=u.loop?xMe(E,T+1):E.slice(T+1)}setTimeout(()=>HJ(E))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:_!=null}):a})})});zJ.displayName=VJ;var gMe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vMe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function yMe(n,e,t){const r=vMe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return gMe[r]}function HJ(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function xMe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var _Me=jJ,wMe=zJ,yC="Tabs",[bMe,aze]=Xh(yC,[UJ]),WJ=UJ(),[SMe,d4]=bMe(yC),GJ=F.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=n,u=o4(o),[h,d]=Hv({prop:r,onChange:i,defaultProp:s??"",caller:yC});return m.jsx(SMe,{scope:t,baseId:Af(),value:h,onValueChange:d,orientation:a,dir:u,activationMode:l,children:m.jsx(Bn.div,{dir:u,"data-orientation":a,...c,ref:e})})});GJ.displayName=yC;var $J="TabsList",qJ=F.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=d4($J,t),a=WJ(t);return m.jsx(_Me,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:m.jsx(Bn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});qJ.displayName=$J;var XJ="TabsTrigger",YJ=F.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,a=d4(XJ,t),o=WJ(t),l=QJ(a.baseId,r),c=JJ(a.baseId,r),u=r===a.value;return m.jsx(wMe,{asChild:!0,...o,focusable:!i,active:u,children:m.jsx(Bn.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:un(n.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:un(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:un(n.onFocus,()=>{const h=a.activationMode!=="manual";!u&&!i&&h&&a.onValueChange(r)})})})});YJ.displayName=XJ;var KJ="TabsContent",ZJ=F.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...a}=n,o=d4(KJ,t),l=QJ(o.baseId,r),c=JJ(o.baseId,r),u=r===o.value,h=F.useRef(u);return F.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),m.jsx(cg,{present:i||u,children:({present:d})=>m.jsx(Bn.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});ZJ.displayName=KJ;function QJ(n,e){return`${n}-trigger-${e}`}function JJ(n,e){return`${n}-content-${e}`}var EMe=GJ,eee=qJ,tee=YJ,nee=ZJ;const AMe=EMe,ree=F.forwardRef(({className:n,...e},t)=>m.jsx(eee,{ref:t,className:en("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));ree.displayName=eee.displayName;const Wp=F.forwardRef(({className:n,...e},t)=>m.jsx(tee,{ref:t,className:en("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));Wp.displayName=tee.displayName;const Gp=F.forwardRef(({className:n,...e},t)=>m.jsx(nee,{ref:t,className:en("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Gp.displayName=nee.displayName;var TMe="Label",iee=F.forwardRef((n,e)=>m.jsx(Bn.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));iee.displayName=TMe;var see=iee;const CMe=YT("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ii=F.forwardRef(({className:n,...e},t)=>m.jsx(see,{ref:t,className:en(CMe(),n),...e}));ii.displayName=see.displayName;var aee="AlertDialog",[MMe,oze]=Xh(aee,[JY]),Kh=JY(),oee=n=>{const{__scopeAlertDialog:e,...t}=n,r=Kh(e);return m.jsx(mK,{...r,...t,modal:!0})};oee.displayName=aee;var IMe="AlertDialogTrigger",PMe=F.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Kh(t);return m.jsx(l1e,{...i,...r,ref:e})});PMe.displayName=IMe;var RMe="AlertDialogPortal",lee=n=>{const{__scopeAlertDialog:e,...t}=n,r=Kh(e);return m.jsx(gK,{...r,...t})};lee.displayName=RMe;var NMe="AlertDialogOverlay",cee=F.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Kh(t);return m.jsx(JO,{...i,...r,ref:e})});cee.displayName=NMe;var uv="AlertDialogContent",[kMe,DMe]=MMe(uv),OMe=vX("AlertDialogContent"),uee=F.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,s=Kh(t),a=F.useRef(null),o=Ur(e,a),l=F.useRef(null);return m.jsx(i1e,{contentName:uv,titleName:hee,docsSlug:"alert-dialog",children:m.jsx(kMe,{scope:t,cancelRef:l,children:m.jsxs(eL,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:un(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[m.jsx(OMe,{children:r}),m.jsx(FMe,{contentRef:a})]})})})});uee.displayName=uv;var hee="AlertDialogTitle",dee=F.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Kh(t);return m.jsx(tL,{...i,...r,ref:e})});dee.displayName=hee;var fee="AlertDialogDescription",pee=F.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Kh(t);return m.jsx(nL,{...i,...r,ref:e})});pee.displayName=fee;var LMe="AlertDialogAction",mee=F.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Kh(t);return m.jsx(rL,{...i,...r,ref:e})});mee.displayName=LMe;var gee="AlertDialogCancel",vee=F.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=DMe(gee,t),s=Kh(t),a=Ur(e,i);return m.jsx(rL,{...s,...r,ref:a})});vee.displayName=gee;var FMe=({contentRef:n})=>{const e=`\`${uv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uv}\` by passing a \`${fee}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return F.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},BMe=oee,UMe=lee,yee=cee,xee=uee,_ee=mee,wee=vee,bee=dee,See=pee;const jMe=BMe,VMe=UMe,Eee=F.forwardRef(({className:n,...e},t)=>m.jsx(yee,{className:en("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));Eee.displayName=yee.displayName;const Aee=F.forwardRef(({className:n,...e},t)=>m.jsxs(VMe,{children:[m.jsx(Eee,{}),m.jsx(xee,{ref:t,className:en("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));Aee.displayName=xee.displayName;const Tee=({className:n,...e})=>m.jsx("div",{className:en("flex flex-col space-y-2 text-center sm:text-left",n),...e});Tee.displayName="AlertDialogHeader";const Cee=({className:n,...e})=>m.jsx("div",{className:en("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Cee.displayName="AlertDialogFooter";const Mee=F.forwardRef(({className:n,...e},t)=>m.jsx(bee,{ref:t,className:en("text-lg font-semibold",n),...e}));Mee.displayName=bee.displayName;const Iee=F.forwardRef(({className:n,...e},t)=>m.jsx(See,{ref:t,className:en("text-sm text-muted-foreground",n),...e}));Iee.displayName=See.displayName;const Pee=F.forwardRef(({className:n,...e},t)=>m.jsx(_ee,{ref:t,className:en(qO(),n),...e}));Pee.displayName=_ee.displayName;const Ree=F.forwardRef(({className:n,...e},t)=>m.jsx(wee,{ref:t,className:en(qO({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));Ree.displayName=wee.displayName;const $k=F.forwardRef(({className:n,...e},t)=>m.jsx("textarea",{className:en("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));$k.displayName="Textarea";function zMe(n){const e=document.cookie.split(";");for(let t of e){const[r,i]=t.trim().split("=");if(r===n)return decodeURIComponent(i)}return null}function Zj(n){document.cookie=`${n}=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`}async function HMe(){return!0}const WMe="Ov23lisoZfewJvG9HtHK",GMe=window.location.origin+"/github-oauth-callback";function $Me(){return`https://github.com/login/oauth/authorize?${new URLSearchParams({client_id:WMe,redirect_uri:GMe,scope:"repo user",allow_signup:"true"}).toString()}`}function qMe(){return new URLSearchParams(window.location.search).get("code")}async function XMe(n){try{const e=await fetch("/.netlify/functions/github-oauth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();if(!t.access_token)throw new Error("No access token received");return document.cookie=`github_token=${t.access_token}; path=/; max-age=3600; secure; samesite=strict`,t.access_token}catch(e){throw e}}function YMe(n){const{repo:e="mahapalanarotama/OfficialWebsite",path:t="uploads",branch:r="main",onUpload:i}=n,[s,a]=F.useState(""),[o,l]=F.useState(null),[c,u]=F.useState(!1),[h,d]=F.useState(""),[p,g]=F.useState(""),[_,w]=F.useState("idle");F.useEffect(()=>{const D=zMe("github_token");D&&(w("testing"),HMe().then(k=>{k?(a(D),w("idle")):(Zj("github_token"),w("idle"),d("Stored token is invalid. Please login again."))}))},[]);const x=D=>{var I;const k=(I=D.target.files)==null?void 0:I[0];if(k){if(!k.type.startsWith("image/")){d("Please select an image file.");return}if(k.size>10*1024*1024){d("File size must be less than 10MB.");return}l(k),d(""),g("")}},S=()=>{w("authing"),localStorage.setItem("github_oauth_redirect",window.location.pathname+window.location.search),window.location.href=$Me()},E=()=>{Zj("github_token"),a(""),w("idle"),g(""),d("")},T=async()=>{if(!(!o||!s)){u(!0),d(""),g("");try{const D=new FileReader;D.onload=async()=>{try{const k=D.result.split(",")[1],I=`${Date.now()}-${o.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,N=`${t}/${I}`,P=await fetch(`https://api.github.com/repos/${e}/contents/${N}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json",Accept:"application/vnd.github.v3+json"},body:JSON.stringify({message:`Upload image: ${I}`,content:k,branch:r})});if(!P.ok){const H=await P.json();throw new Error(H.message||`Upload failed: ${P.status} ${P.statusText}`)}const B=(await P.json()).content.download_url.replace("https://github.com/","https://raw.githubusercontent.com/").replace("/blob/","/");g(` Image uploaded successfully! URL: ${B}`),l(null),i&&i(B);const z=document.querySelector('input[type="file"]');z&&(z.value="")}catch(k){console.error("Upload error:",k),d(`Upload failed: ${k instanceof Error?k.message:"Unknown error"}`)}finally{u(!1)}},D.onerror=()=>{d("Failed to read file"),u(!1)},D.readAsDataURL(o)}catch(D){console.error("Upload preparation error:",D),d(`Failed to prepare upload: ${D instanceof Error?D.message:"Unknown error"}`),u(!1)}}};return m.jsxs("div",{className:"border p-4 rounded mb-4 bg-gray-50",children:[m.jsx("h3",{className:"font-semibold mb-3",children:" GitHub Image Upload"}),m.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Repository:"})," ",e]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Upload Path:"})," ",t,"/"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Branch:"})," ",r]})]}),m.jsx("div",{className:"mb-4",children:s?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-green-600 font-bold",children:" GitHub Connected"}),m.jsx("button",{className:"bg-red-500 text-white px-3 py-1 text-sm rounded hover:bg-red-600",onClick:E,children:"Disconnect"})]}):m.jsxs("div",{children:[m.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 disabled:opacity-50",onClick:S,disabled:_!=="idle",children:_==="authing"?" Authenticating...":_==="testing"?" Verifying...":" Connect GitHub"}),_!=="idle"&&m.jsx("div",{className:"text-sm text-gray-600 mt-1",children:_==="authing"?"Redirecting to GitHub...":"Checking connection..."})]})}),s&&m.jsxs("div",{children:[m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Image:"}),m.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),o&&m.jsxs("div",{className:"mb-3 p-2 bg-blue-50 rounded",children:[m.jsxs("p",{className:"text-sm text-gray-700",children:[" ",m.jsx("strong",{children:"Selected:"})," ",o.name]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Size: ",(o.size/1024).toFixed(1)," KB"]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Will upload to: ",e,"/",t,"/",Date.now(),"-",o.name]})]}),m.jsx("button",{onClick:T,disabled:!o||c,className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:c?" Uploading...":" Upload to GitHub"})]}),h&&m.jsxs("div",{className:"mt-3 p-3 bg-red-100 border border-red-300 rounded text-red-700 text-sm",children:[m.jsx("strong",{children:" Error:"})," ",h]}),p&&m.jsx("div",{className:"mt-3 p-3 bg-green-100 border border-green-300 rounded text-green-700 text-sm",children:p})]})}function KMe({value:n,onChange:e,repo:t,branch:r="main",path:i,addToGallery:s=!1}){const[a,o]=F.useState("link");return m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"flex gap-2 mb-2",children:[m.jsx("button",{type:"button",className:`px-3 py-1 rounded ${a==="link"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>o("link"),children:"Link"}),m.jsx("button",{type:"button",className:`px-3 py-1 rounded ${a==="github"?"bg-green-600 text-white":"bg-gray-200"}`,onClick:()=>o("github"),children:"Upload ke GitHub"})]}),a==="link"?m.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:n,onChange:l=>e(l.target.value),placeholder:"Paste link gambar di sini"}):m.jsx(YMe,{repo:t,branch:r,path:i,onUpload:e,addToGallery:s}),n&&m.jsx("div",{className:"mt-2",children:m.jsx("img",{src:n,alt:"preview",className:"max-h-40 rounded border"})})]})}function ZMe({open:n,onOpenChange:e,onSubmit:t,type:r,isEditing:i=!1,initialData:s={},activities:a=[],loading:o=!1,error:l}){const c=r==="activity"?s:null,u=r==="gallery"?s:null,h=r==="member"?s:null,d=E=>({fullName:E.namalengkap||E.fullName||"",fieldName:E.namalapangan||E.fieldName||"",batchName:E.namaangkatan||E.batchName||"",batchYear:E.tahun||E.batchYear||new Date().getFullYear(),registrationNumber:E.nomorregistrasi||E.registrationNumber||"",membershipStatus:E.keanggotaan||E.membershipStatus||"Anggota Muda",photoUrl:E.foto||E.photoUrl||"",email:E.email||"",phone:E.phone||"",gender:E.gender||"",statusMahasiswa:E.statusMahasiswa||"",url:E.url||"",updateat:E.updateat||"",id:E.id||""}),[p,g]=F.useState(r==="activity"?{title:(c==null?void 0:c.title)||"",description:(c==null?void 0:c.description)||"",date:(c==null?void 0:c.date)||"",category:(c==null?void 0:c.category)||"",imageUrl:(c==null?void 0:c.imageUrl)||""}:r==="gallery"?{title:(u==null?void 0:u.title)||"",description:(u==null?void 0:u.description)||"",imageUrl:(u==null?void 0:u.imageUrl)||"",activityId:(u==null?void 0:u.activityId)||""}:d(h||{})),[_,w]=F.useState("");F.useEffect(()=>{r==="activity"?g({title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",date:(s==null?void 0:s.date)||"",category:(s==null?void 0:s.category)||"",imageUrl:(s==null?void 0:s.imageUrl)||""}):r==="gallery"?g({title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",imageUrl:(s==null?void 0:s.imageUrl)||"",activityId:(s==null?void 0:s.activityId)||""}):r==="member"&&g(d(s||{}))},[s,r,i,n]),F.useEffect(()=>{async function E(){if(r==="member"&&n&&!i){const D=(await Is(Di(An,"anggota"))).docs.map(I=>parseInt(I.id,10)).filter(I=>!isNaN(I)),k=D.length>0?Math.max(...D)+1:1;w(String(k)),g(I=>({...I,id:String(k)}))}}E()},[r,n,i]);const x=async E=>{E.preventDefault(),r==="member"?await t({namalengkap:p.fullName||"",namalapangan:p.fieldName||"",namaangkatan:p.batchName||"",tahun:p.batchYear||new Date().getFullYear(),nomorregistrasi:p.registrationNumber||"",keanggotaan:p.membershipStatus||"Anggota Muda",foto:p.photoUrl||"",email:p.email||"",phone:p.phone||"",gender:p.gender||"",statusMahasiswa:p.statusMahasiswa,url:p.url||"",updateat:new Date().toISOString(),id:p.id||""}):i&&r==="gallery"&&(s!=null&&s.id)?await t({title:p.title||"",description:p.description||"",imageUrl:p.imageUrl||"",activityId:p.activityId||"",createdAt:p.createdAt||null,...r==="gallery"?{updatedAt:new Date().toISOString()}:{},id:s.id}):i&&r==="activity"&&(s!=null&&s.id)?await t({...p,id:s.id}):r==="gallery"?await t({title:p.title||"",description:p.description||"",imageUrl:p.imageUrl||"",activityId:p.activityId||"",createdAt:p.createdAt||null}):await t(p)},S=E=>{const{name:T,value:D}=E.target;g(k=>T==="tahun"?{...k,[T]:parseInt(D,10)}:{...k,[T]:D})};return m.jsx(Kf,{open:n,onOpenChange:e,children:m.jsxs(Yh,{className:"max-w-2xl w-full p-0 overflow-hidden","aria-describedby":"form-description",children:[m.jsxs(iL,{className:"bg-primary text-white px-6 py-4",children:[m.jsx(aL,{className:"text-xl",children:i?r==="member"?"Edit Data Anggota":r==="activity"?"Edit Kegiatan":"Edit Galeri":r==="member"?"Tambah Anggota Baru":r==="activity"?"Tambah Kegiatan Baru":"Tambah Galeri Baru"}),m.jsx(oL,{id:"form-description",children:r==="activity"?"Silakan lengkapi detail kegiatan berikut. Semua field wajib diisi.":r==="gallery"?"Silakan lengkapi detail galeri berikut. Semua field wajib diisi.":"Silakan lengkapi data anggota berikut. Field dengan tanda * wajib diisi."})]}),m.jsx("div",{className:"p-6 bg-white max-h-[70vh] overflow-y-auto",children:m.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r==="member"?m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"fullName",children:"Nama Lengkap *"}),m.jsx(xi,{id:"fullName",name:"fullName",value:p.fullName||"",onChange:S,placeholder:"Masukkan nama lengkap",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"fieldName",children:"Nama Lapangan *"}),m.jsx(xi,{id:"fieldName",name:"fieldName",value:p.fieldName||"",onChange:S,placeholder:"Masukkan nama lapangan",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"batchName",children:"Nama Angkatan *"}),m.jsx(xi,{id:"batchName",name:"batchName",value:p.batchName||"",onChange:S,placeholder:"Contoh: Elang",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"batchYear",children:"Tahun Angkatan *"}),m.jsx(xi,{id:"batchYear",name:"batchYear",type:"number",min:"1990",max:new Date().getFullYear(),value:p.batchYear??"",onChange:S,required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"registrationNumber",children:"Nomor Registrasi *"}),m.jsx(xi,{id:"registrationNumber",name:"registrationNumber",value:p.registrationNumber||"",onChange:S,placeholder:"Contoh: MPN-2025-001",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"membershipStatus",children:"Status Keanggotaan *"}),m.jsxs("select",{id:"membershipStatus",name:"membershipStatus",value:p.membershipStatus||"",onChange:S,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",required:!0,children:[m.jsx("option",{value:"Anggota Muda",children:"Anggota Muda"}),m.jsx("option",{value:"Anggota Penuh",children:"Anggota Penuh"}),m.jsx("option",{value:"Tidak Aktif",children:"Tidak Aktif"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"statusMahasiswa",children:"Status Mahasiswa *"}),m.jsxs("select",{id:"statusMahasiswa",name:"statusMahasiswa",value:p.statusMahasiswa||"",onChange:S,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",required:!0,children:[m.jsx("option",{value:"Aktif",children:"Aktif"}),m.jsx("option",{value:"Tidak Aktif",children:"Tidak Aktif"}),m.jsx("option",{value:"Lulus",children:"Lulus"}),m.jsx("option",{value:"Cuti",children:"Cuti"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"gender",children:"Gender"}),m.jsxs("select",{id:"gender",name:"gender",value:p.gender||"",onChange:S,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",children:[m.jsx("option",{value:"",children:"Pilih gender"}),m.jsx("option",{value:"Laki-laki",children:"Laki-laki"}),m.jsx("option",{value:"Perempuan",children:"Perempuan"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"email",children:"Email"}),m.jsx(xi,{id:"email",name:"email",type:"email",value:p.email||"",onChange:S,placeholder:"contoh@email.com"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"phone",children:"Nomor Telepon"}),m.jsx(xi,{id:"phone",name:"phone",type:"tel",value:p.phone||"",onChange:S,placeholder:"Contoh: 081234567890"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"photoUrl",children:"URL Foto KTA"}),m.jsx(xi,{id:"photoUrl",name:"photoUrl",type:"url",placeholder:"Masukkan URL foto KTA",value:p.photoUrl||"",onChange:S}),!!p.photoUrl&&m.jsxs("div",{className:"mt-2",children:[m.jsx("span",{className:"block text-xs text-gray-500 mb-1",children:"Preview:"}),/https?:\/\//.test(p.photoUrl||"")?m.jsx("img",{src:p.photoUrl,alt:"Preview Foto KTA",className:"max-h-32 rounded border",onError:E=>E.currentTarget.style.display="none"}):m.jsx("span",{className:"text-xs text-red-500",children:"URL tidak valid"}),m.jsx("div",{className:"text-xs text-blue-600 break-all mt-1",children:p.photoUrl})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"documentId",children:"Document ID"}),m.jsx(xi,{id:"documentId",name:"documentId",value:i?p.id||"":_||p.id||"",readOnly:!0,className:"bg-gray-100 cursor-not-allowed",placeholder:"ID dokumen Firestore"})]})]}):m.jsx(m.Fragment,{children:r==="learning"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"title",children:"Judul Pembelajaran"}),m.jsx(xi,{id:"title",name:"title",value:p.title||"",onChange:S,required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"description",children:"Deskripsi Pembelajaran"}),m.jsx($k,{id:"description",name:"description",value:p.description||"",onChange:S,required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"icon",children:"Icon (misal: book, graduation-cap, dsb)"}),m.jsx(xi,{id:"icon",name:"icon",value:p.icon||"",onChange:S,placeholder:"Contoh: book",required:!0}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.icon&&m.jsxs("span",{className:"inline-flex items-center gap-1 text-lg",children:[m.jsx("i",{className:`fa fa-${p.icon}`})," ",p.icon]}),m.jsx("a",{href:"https://fontawesome.com/v4.7/icons/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline text-xs hover:text-blue-800 ml-2",children:"Panduan icon (FontAwesome v4.7)"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"link",children:"Link Pembelajaran"}),m.jsx(xi,{id:"link",name:"link",value:p.link||"",onChange:S,placeholder:"https://...",required:!0})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"title",children:"Title"}),m.jsx(xi,{id:"title",name:"title",value:(r==="activity"||r==="gallery")&&p.title||"",onChange:S,required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"description",children:"Description"}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx($k,{id:"description",name:"description",value:(r==="activity"||r==="gallery")&&p.description||"",onChange:S,required:r==="activity"}),r==="activity"&&m.jsx("button",{type:"button",className:"p-2 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition flex items-center justify-center",style:{height:"fit-content"},"aria-label":"Generate deskripsi otomatis dengan AI berdasarkan judul",title:"Generate deskripsi otomatis dengan AI berdasarkan judul",onClick:async()=>{if(!p.title)return alert("Isi judul kegiatan terlebih dahulu!");const E=p.description;g(T=>({...T,description:"Sedang generate deskripsi AI..."}));try{let T="";const D=p.title.trim().toLowerCase();D==="observasi lingkungan terpadu"?T="Observasi Lingkungan Terpadu merupakan salah satu kegiatan inti dalam rangkaian Pendidikan dan Latihan (Diklat) Anggota Baru Mahapala Narotama. Kegiatan ini tidak hanya berfokus pada pengamatan terhadap lingkungan alam, tetapi juga mencakup pelatihan dasar serta praktik lapangan yang berkaitan dengan berbagai keterampilan teknis di medan terbuka. Materi yang diberikan meliputi teknik dasar survival, pertolongan pertama pada gawat darurat (PPGD), manajemen perjalanan, teknik search and rescue (SAR), teknik Single Rope Technique (SRT), serta keterampilan dasar lain yang dibutuhkan dalam kegiatan alam bebas. Melalui kombinasi pelatihan dan praktik langsung di medan, peserta diajak untuk memahami kondisi alam secara komprehensif, sekaligus mengasah ketahanan fisik, mental, serta kemampuan kerja tim. Selain sebagai sarana pembelajaran teknis, kegiatan ini juga bertujuan membentuk karakter anggota baru yang kuat, disiplin, dan tangguh, serta menanamkan nilai-nilai solidaritas dan rasa kekeluargaan yang tinggi antar sesama peserta dan anggota Mahapala Narotama.":D.includes("dies natalis")?T="Dies Natalis VIII Mahapala Narotama adalah perayaan ulang tahun kedelapan Mahasiswa Pecinta Alam Universitas Narotama (Mahapala Narotama), yang dirayakan dengan penuh semangat dan kebersamaan oleh seluruh anggota organisasi. Acara ini bertujuan untuk memperingati perjalanan Mahapala Narotama dalam mengembangkan diri, menjaga kelestarian alam, dan berkontribusi positif di lingkungan kampus maupun masyarakat. Selama perayaan Dies Natalis VIII, berbagai kegiatan menarik dan bermanfaat diselenggarakan, seperti lomba-lomba bertema alam, dan keseruan lainnya bersama seluruh anggota mahapala narotama yang hadir. Melalui rangkaian acara tersebut, Mahapala Narotama berharap dapat semakin memperkuat eksistensinya sebagai organisasi pecinta alam yang peduli terhadap kelestarian lingkungan dan pengembangan karakter anggotanya. Dengan semangat kebersamaan dan dedikasi tinggi, Dies Natalis VIII Mahapala Narotama menjadi momentum penting dalam perjalanan organisasi ini untuk terus berinovasi, berkontribusi, dan menjaga alam sebagai warisan bersama.":D.includes("latihan kepemimpinan mahapala narotama")?T="Latihan Kepemimpinan Mahapala Narotama 2025 merupakan program tahunan yang diselenggarakan oleh Mahasiswa Pecinta Alam Universitas Narotama (Mahapala Narotama) untuk membekali anggota baru dengan keterampilan kepemimpinan dan manajemen organisasi. Kegiatan ini bertujuan untuk membentuk karakter pemimpin yang tangguh, solutif, dan berintegritas. Melalui serangkaian materi, diskusi, dan simulasi, peserta diajak untuk memahami nilai-nilai kepemimpinan, komunikasi efektif, serta strategi dalam menghadapi tantangan organisasi. Dengan pendekatan yang interaktif dan aplikatif, diharapkan peserta dapat mengembangkan potensi diri dan siap mengambil peran kepemimpinan di masa depan.":D.includes("buka bersama")?T="Buka Bersama Keluarga Besar Mahapala Narotama adalah tradisi tahunan yang diadakan oleh Mahasiswa Pecinta Alam Universitas Narotama (Mahapala Narotama) sebagai bentuk syukur dan mempererat tali silaturahmi antaranggota. Acara ini khusus dihadiri oleh seluruh anggota aktif Mahapala Narotama, baik dari angkatan baru maupun senior, serta alumni yang masih terlibat dalam kegiatan organisasi. Dalam suasana penuh kehangatan, kegiatan buka bersama ini menjadi ajang untuk berbagi cerita, pengalaman, dan memperkuat ikatan kekeluargaan di antara anggota Mahapala Narotama. Selain itu, acara ini juga seringkali diisi dengan tausiyah atau ceramah singkat yang bertujuan untuk menambah wawasan dan memperdalam pemahaman agama selama bulan Ramadhan. Melalui kegiatan ini, Mahapala Narotama berharap dapat terus menjaga dan meningkatkan rasa kebersamaan serta solidaritas di antara seluruh keluarga besar Mahapala Narotama, sehingga dapat menciptakan lingkungan yang harmonis dan penuh keberkahan.":T=await IK(`Buatkan deskripsi panjang, informatif, dan menarik untuk kegiatan Mahapala Narotama dengan judul: "${p.title}". Format deskripsi harus seperti contoh berikut:

"Buka Bersama Keluarga Besar Mahapala Narotama adalah tradisi tahunan yang diadakan oleh Mahasiswa Pecinta Alam Universitas Narotama (Mahapala Narotama) sebagai bentuk syukur dan mempererat tali silaturahmi antaranggota. Acara ini khusus dihadiri oleh seluruh anggota aktif Mahapala Narotama, baik dari angkatan baru maupun senior, serta alumni yang masih terlibat dalam kegiatan organisasi. Dalam suasana penuh kehangatan, kegiatan buka bersama ini menjadi ajang untuk berbagi cerita, pengalaman, dan memperkuat ikatan kekeluargaan di antara anggota Mahapala Narotama. Selain itu, acara ini juga seringkali diisi dengan tausiyah atau ceramah singkat yang bertujuan untuk menambah wawasan dan memperdalam pemahaman agama selama bulan Ramadhan. Melalui kegiatan ini, Mahapala Narotama berharap dapat terus menjaga dan meningkatkan rasa kebersamaan serta solidaritas di antara seluruh keluarga besar Mahapala Narotama, sehingga dapat menciptakan lingkungan yang harmonis dan penuh keberkahan."

Deskripsi yang dihasilkan harus menyebutkan "Mahapala Narotama" secara jelas, menjelaskan tujuan, manfaat, suasana, peserta, dan nilai kebersamaan atau karakter yang relevan. Gunakan gaya naratif-informatif, minimal 5 kalimat, dan jangan mengarang fakta yang tidak masuk akal. Jangan gunakan kata 'maaf' atau jawaban singkat.`),!T||T.toLowerCase().includes("maaf")||T.length<10?(g(k=>({...k,description:E})),alert("Gagal generate deskripsi otomatis. Silakan coba lagi atau isi manual.")):g(k=>({...k,description:T}))}catch{g(D=>({...D,description:E})),alert("Terjadi error saat menghubungi AI. Silakan coba lagi nanti.")}},children:m.jsx(E0e,{className:"w-5 h-5"})})]})]}),r==="activity"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"date",children:"Date"}),m.jsx(xi,{id:"date",name:"date",type:"date",value:p.date||"",onChange:S,required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"category",children:"Category"}),m.jsx(xi,{id:"category",name:"category",value:p.category||"",onChange:S,required:!0})]})]}),r==="gallery"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"activityId",children:"Related Activity"}),m.jsxs("select",{id:"activityId",name:"activityId",value:p.activityId||"",onChange:S,className:"w-full rounded-md border p-2",children:[m.jsx("option",{value:"",children:"None"}),a.map(E=>m.jsx("option",{value:E.id,children:E.title},E.id))]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"imageUrl",children:"Image"}),m.jsx(KMe,{value:p.imageUrl||"",onChange:E=>{S({target:{name:"imageUrl",value:E}})},repo:"mahapalanarotama/OfficialWebsite",branch:"main",path:r==="activity"?"Img/activities":"Img/gallery",addToGallery:r==="gallery"})]})]})}),l&&m.jsx("p",{className:"text-sm text-red-500 mt-4",children:l}),m.jsx(sL,{className:"pt-4",children:m.jsxs(Ht,{type:"submit",disabled:o,children:[o&&m.jsx(y0e,{className:"mr-2 h-4 w-4 animate-spin"}),i?"Perbarui":"Simpan"]})})]})})]})})}function Nee(n,e){const t=F.useRef(e);F.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const QMe=1;function JMe(n){return Object.freeze({__version:QMe,map:n})}function kee(n,e){return Object.freeze({...n,...e})}const Dee=F.createContext(null),Oee=Dee.Provider;function f4(){const n=F.useContext(Dee);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Lee(n){function e(t,r){const{instance:i,context:s}=n(t).current;return F.useImperativeHandle(r,()=>i),t.children==null?null:Rn.createElement(Oee,{value:s},t.children)}return F.forwardRef(e)}function eIe(n){function e(t,r){const[i,s]=F.useState(!1),{instance:a}=n(t,s).current;F.useImperativeHandle(r,()=>a),F.useEffect(function(){i&&a.update()},[a,i,t.children]);const o=a._contentNode;return o?Xf.createPortal(t.children,o):null}return F.forwardRef(e)}function tIe(n){function e(t,r){const{instance:i}=n(t).current;return F.useImperativeHandle(r,()=>i),null}return F.forwardRef(e)}function p4(n,e){const t=F.useRef();F.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function xC(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function nIe(n,e){return function(r,i){const s=f4(),a=n(xC(r,s),s);return Nee(s.map,r.attribution),p4(a.current,r.eventHandlers),e(a.current,s,r,i),a}}var qk={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,e){(function(t,r){r(e)})(O1,function(t){var r="1.9.4";function i(f){var b,C,U,W;for(C=1,U=arguments.length;C<U;C++){W=arguments[C];for(b in W)f[b]=W[b]}return f}var s=Object.create||function(){function f(){}return function(b){return f.prototype=b,new f}}();function a(f,b){var C=Array.prototype.slice;if(f.bind)return f.bind.apply(f,C.call(arguments,1));var U=C.call(arguments,2);return function(){return f.apply(b,U.length?U.concat(C.call(arguments)):arguments)}}var o=0;function l(f){return"_leaflet_id"in f||(f._leaflet_id=++o),f._leaflet_id}function c(f,b,C){var U,W,Z,me;return me=function(){U=!1,W&&(Z.apply(C,W),W=!1)},Z=function(){U?W=arguments:(f.apply(C,arguments),setTimeout(me,b),U=!0)},Z}function u(f,b,C){var U=b[1],W=b[0],Z=U-W;return f===U&&C?f:((f-W)%Z+Z)%Z+W}function h(){return!1}function d(f,b){if(b===!1)return f;var C=Math.pow(10,b===void 0?6:b);return Math.round(f*C)/C}function p(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function g(f){return p(f).split(/\s+/)}function _(f,b){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?s(f.options):{});for(var C in b)f.options[C]=b[C];return f.options}function w(f,b,C){var U=[];for(var W in f)U.push(encodeURIComponent(C?W.toUpperCase():W)+"="+encodeURIComponent(f[W]));return(!b||b.indexOf("?")===-1?"?":"&")+U.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function S(f,b){return f.replace(x,function(C,U){var W=b[U];if(W===void 0)throw new Error("No value provided for variable "+C);return typeof W=="function"&&(W=W(b)),W})}var E=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function T(f,b){for(var C=0;C<f.length;C++)if(f[C]===b)return C;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var I=0;function N(f){var b=+new Date,C=Math.max(0,16-(b-I));return I=b+C,window.setTimeout(f,C)}var P=window.requestAnimationFrame||k("RequestAnimationFrame")||N,R=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function B(f,b,C){if(C&&P===N)f.call(b);else return P.call(window,a(f,b))}function z(f){f&&R.call(window,f)}var H={__proto__:null,extend:i,create:s,bind:a,get lastId(){return o},stamp:l,throttle:c,wrapNum:u,falseFn:h,formatNum:d,trim:p,splitWords:g,setOptions:_,getParamString:w,template:S,isArray:E,indexOf:T,emptyImageUrl:D,requestFn:P,cancelFn:R,requestAnimFrame:B,cancelAnimFrame:z};function K(){}K.extend=function(f){var b=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},C=b.__super__=this.prototype,U=s(C);U.constructor=b,b.prototype=U;for(var W in this)Object.prototype.hasOwnProperty.call(this,W)&&W!=="prototype"&&W!=="__super__"&&(b[W]=this[W]);return f.statics&&i(b,f.statics),f.includes&&(J(f.includes),i.apply(null,[U].concat(f.includes))),i(U,f),delete U.statics,delete U.includes,U.options&&(U.options=C.options?s(C.options):{},i(U.options,f.options)),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){C.callInitHooks&&C.callInitHooks.call(this),this._initHooksCalled=!0;for(var Z=0,me=U._initHooks.length;Z<me;Z++)U._initHooks[Z].call(this)}},b},K.include=function(f){var b=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=b,this.mergeOptions(f.options)),this},K.mergeOptions=function(f){return i(this.prototype.options,f),this},K.addInitHook=function(f){var b=Array.prototype.slice.call(arguments,1),C=typeof f=="function"?f:function(){this[f].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(C),this};function J(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=E(f)?f:[f];for(var b=0;b<f.length;b++)f[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(f,b,C){if(typeof f=="object")for(var U in f)this._on(U,f[U],b);else{f=g(f);for(var W=0,Z=f.length;W<Z;W++)this._on(f[W],b,C)}return this},off:function(f,b,C){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var U in f)this._off(U,f[U],b);else{f=g(f);for(var W=arguments.length===1,Z=0,me=f.length;Z<me;Z++)W?this._off(f[Z]):this._off(f[Z],b,C)}return this},_on:function(f,b,C,U){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(f,b,C)===!1){C===this&&(C=void 0);var W={fn:b,ctx:C};U&&(W.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(W)}},_off:function(f,b,C){var U,W,Z;if(this._events&&(U=this._events[f],!!U)){if(arguments.length===1){if(this._firingCount)for(W=0,Z=U.length;W<Z;W++)U[W].fn=h;delete this._events[f];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var me=this._listens(f,b,C);if(me!==!1){var Ne=U[me];this._firingCount&&(Ne.fn=h,this._events[f]=U=U.slice()),U.splice(me,1)}}},fire:function(f,b,C){if(!this.listens(f,C))return this;var U=i({},b,{type:f,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var W=this._events[f];if(W){this._firingCount=this._firingCount+1||1;for(var Z=0,me=W.length;Z<me;Z++){var Ne=W[Z],He=Ne.fn;Ne.once&&this.off(f,He,Ne.ctx),He.call(Ne.ctx||this,U)}this._firingCount--}}return C&&this._propagateEvent(U),this},listens:function(f,b,C,U){typeof f!="string"&&console.warn('"string" type argument expected');var W=b;typeof b!="function"&&(U=!!b,W=void 0,C=void 0);var Z=this._events&&this._events[f];if(Z&&Z.length&&this._listens(f,W,C)!==!1)return!0;if(U){for(var me in this._eventParents)if(this._eventParents[me].listens(f,b,C,U))return!0}return!1},_listens:function(f,b,C){if(!this._events)return!1;var U=this._events[f]||[];if(!b)return!!U.length;C===this&&(C=void 0);for(var W=0,Z=U.length;W<Z;W++)if(U[W].fn===b&&U[W].ctx===C)return W;return!1},once:function(f,b,C){if(typeof f=="object")for(var U in f)this._on(U,f[U],b,!0);else{f=g(f);for(var W=0,Z=f.length;W<Z;W++)this._on(f[W],b,C,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[l(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[l(f)],this},_propagateEvent:function(f){for(var b in this._eventParents)this._eventParents[b].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ce=K.extend(se);function X(f,b,C){this.x=C?Math.round(f):f,this.y=C?Math.round(b):b}var ue=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(f){return this.clone()._add(q(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(q(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new X(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new X(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(f){f=q(f);var b=f.x-this.x,C=f.y-this.y;return Math.sqrt(b*b+C*C)},equals:function(f){return f=q(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=q(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function q(f,b,C){return f instanceof X?f:E(f)?new X(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new X(f.x,f.y):new X(f,b,C)}function ge(f,b){if(f)for(var C=b?[f,b]:f,U=0,W=C.length;U<W;U++)this.extend(C[U])}ge.prototype={extend:function(f){var b,C;if(!f)return this;if(f instanceof X||typeof f[0]=="number"||"x"in f)b=C=q(f);else if(f=De(f),b=f.min,C=f.max,!b||!C)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=C.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(C.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(C.y,this.max.y)),this},getCenter:function(f){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var b,C;return typeof f[0]=="number"||f instanceof X?f=q(f):f=De(f),f instanceof ge?(b=f.min,C=f.max):b=C=f,b.x>=this.min.x&&C.x<=this.max.x&&b.y>=this.min.y&&C.y<=this.max.y},intersects:function(f){f=De(f);var b=this.min,C=this.max,U=f.min,W=f.max,Z=W.x>=b.x&&U.x<=C.x,me=W.y>=b.y&&U.y<=C.y;return Z&&me},overlaps:function(f){f=De(f);var b=this.min,C=this.max,U=f.min,W=f.max,Z=W.x>b.x&&U.x<C.x,me=W.y>b.y&&U.y<C.y;return Z&&me},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var b=this.min,C=this.max,U=Math.abs(b.x-C.x)*f,W=Math.abs(b.y-C.y)*f;return De(q(b.x-U,b.y-W),q(C.x+U,C.y+W))},equals:function(f){return f?(f=De(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function De(f,b){return!f||f instanceof ge?f:new ge(f,b)}function Q(f,b){if(f)for(var C=b?[f,b]:f,U=0,W=C.length;U<W;U++)this.extend(C[U])}Q.prototype={extend:function(f){var b=this._southWest,C=this._northEast,U,W;if(f instanceof ye)U=f,W=f;else if(f instanceof Q){if(U=f._southWest,W=f._northEast,!U||!W)return this}else return f?this.extend(Ie(f)||et(f)):this;return!b&&!C?(this._southWest=new ye(U.lat,U.lng),this._northEast=new ye(W.lat,W.lng)):(b.lat=Math.min(U.lat,b.lat),b.lng=Math.min(U.lng,b.lng),C.lat=Math.max(W.lat,C.lat),C.lng=Math.max(W.lng,C.lng)),this},pad:function(f){var b=this._southWest,C=this._northEast,U=Math.abs(b.lat-C.lat)*f,W=Math.abs(b.lng-C.lng)*f;return new Q(new ye(b.lat-U,b.lng-W),new ye(C.lat+U,C.lng+W))},getCenter:function(){return new ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof ye||"lat"in f?f=Ie(f):f=et(f);var b=this._southWest,C=this._northEast,U,W;return f instanceof Q?(U=f.getSouthWest(),W=f.getNorthEast()):U=W=f,U.lat>=b.lat&&W.lat<=C.lat&&U.lng>=b.lng&&W.lng<=C.lng},intersects:function(f){f=et(f);var b=this._southWest,C=this._northEast,U=f.getSouthWest(),W=f.getNorthEast(),Z=W.lat>=b.lat&&U.lat<=C.lat,me=W.lng>=b.lng&&U.lng<=C.lng;return Z&&me},overlaps:function(f){f=et(f);var b=this._southWest,C=this._northEast,U=f.getSouthWest(),W=f.getNorthEast(),Z=W.lat>b.lat&&U.lat<C.lat,me=W.lng>b.lng&&U.lng<C.lng;return Z&&me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,b){return f?(f=et(f),this._southWest.equals(f.getSouthWest(),b)&&this._northEast.equals(f.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function et(f,b){return f instanceof Q?f:new Q(f,b)}function ye(f,b,C){if(isNaN(f)||isNaN(b))throw new Error("Invalid LatLng object: ("+f+", "+b+")");this.lat=+f,this.lng=+b,C!==void 0&&(this.alt=+C)}ye.prototype={equals:function(f,b){if(!f)return!1;f=Ie(f);var C=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return C<=(b===void 0?1e-9:b)},toString:function(f){return"LatLng("+d(this.lat,f)+", "+d(this.lng,f)+")"},distanceTo:function(f){return Je.distance(this,Ie(f))},wrap:function(){return Je.wrapLatLng(this)},toBounds:function(f){var b=180*f/40075017,C=b/Math.cos(Math.PI/180*this.lat);return et([this.lat-b,this.lng-C],[this.lat+b,this.lng+C])},clone:function(){return new ye(this.lat,this.lng,this.alt)}};function Ie(f,b,C){return f instanceof ye?f:E(f)&&typeof f[0]!="object"?f.length===3?new ye(f[0],f[1],f[2]):f.length===2?new ye(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new ye(f.lat,"lng"in f?f.lng:f.lon,f.alt):b===void 0?null:new ye(f,b,C)}var Se={latLngToPoint:function(f,b){var C=this.projection.project(f),U=this.scale(b);return this.transformation._transform(C,U)},pointToLatLng:function(f,b){var C=this.scale(b),U=this.transformation.untransform(f,C);return this.projection.unproject(U)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var b=this.projection.bounds,C=this.scale(f),U=this.transformation.transform(b.min,C),W=this.transformation.transform(b.max,C);return new ge(U,W)},infinite:!1,wrapLatLng:function(f){var b=this.wrapLng?u(f.lng,this.wrapLng,!0):f.lng,C=this.wrapLat?u(f.lat,this.wrapLat,!0):f.lat,U=f.alt;return new ye(C,b,U)},wrapLatLngBounds:function(f){var b=f.getCenter(),C=this.wrapLatLng(b),U=b.lat-C.lat,W=b.lng-C.lng;if(U===0&&W===0)return f;var Z=f.getSouthWest(),me=f.getNorthEast(),Ne=new ye(Z.lat-U,Z.lng-W),He=new ye(me.lat-U,me.lng-W);return new Q(Ne,He)}},Je=i({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(f,b){var C=Math.PI/180,U=f.lat*C,W=b.lat*C,Z=Math.sin((b.lat-f.lat)*C/2),me=Math.sin((b.lng-f.lng)*C/2),Ne=Z*Z+Math.cos(U)*Math.cos(W)*me*me,He=2*Math.atan2(Math.sqrt(Ne),Math.sqrt(1-Ne));return this.R*He}}),Qe=6378137,rt={R:Qe,MAX_LATITUDE:85.0511287798,project:function(f){var b=Math.PI/180,C=this.MAX_LATITUDE,U=Math.max(Math.min(C,f.lat),-C),W=Math.sin(U*b);return new X(this.R*f.lng*b,this.R*Math.log((1+W)/(1-W))/2)},unproject:function(f){var b=180/Math.PI;return new ye((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*b,f.x*b/this.R)},bounds:function(){var f=Qe*Math.PI;return new ge([-f,-f],[f,f])}()};function ut(f,b,C,U){if(E(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=b,this._c=C,this._d=U}ut.prototype={transform:function(f,b){return this._transform(f.clone(),b)},_transform:function(f,b){return b=b||1,f.x=b*(this._a*f.x+this._b),f.y=b*(this._c*f.y+this._d),f},untransform:function(f,b){return b=b||1,new X((f.x/b-this._b)/this._a,(f.y/b-this._d)/this._c)}};function Be(f,b,C,U){return new ut(f,b,C,U)}var ae=i({},Je,{code:"EPSG:3857",projection:rt,transformation:function(){var f=.5/(Math.PI*rt.R);return Be(f,.5,-f,.5)}()}),Re=i({},ae,{code:"EPSG:900913"});function ke(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function $e(f,b){var C="",U,W,Z,me,Ne,He;for(U=0,Z=f.length;U<Z;U++){for(Ne=f[U],W=0,me=Ne.length;W<me;W++)He=Ne[W],C+=(W?"L":"M")+He.x+" "+He.y;C+=b?$t.svg?"z":"x":""}return C||"M0 0"}var We=document.documentElement.style,ne="ActiveXObject"in window,Ae=ne&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),ot=is("webkit"),vt=is("android"),ie=is("android 2")||is("android 3"),Y=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xe=vt&&is("Google")&&Y<537&&!("AudioNode"in window),re=!!window.opera,pe=!Fe&&is("chrome"),_e=is("gecko")&&!ot&&!re&&!ne,at=!pe&&is("safari"),qe=is("phantom"),xt="OTransition"in We,bt=navigator.platform.indexOf("Win")===0,it=ne&&"transition"in We,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,Nt="MozPerspective"in We,de=!window.L_DISABLE_3D&&(it||pt||Nt)&&!xt&&!qe,Pe=typeof orientation<"u"||is("mobile"),lt=Pe&&ot,fe=Pe&&pt,tt=!window.PointerEvent&&window.MSPointerEvent,ve=!!(window.PointerEvent||tt),Xe="ontouchstart"in window||!!window.TouchEvent,Ye=!window.L_NO_TOUCH&&(Xe||ve),Le=Pe&&re,dt=Pe&&_e,_t=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,En=function(){var f=!1;try{var b=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",h,b),window.removeEventListener("testPassiveEventSupport",h,b)}catch{}return f}(),xn=function(){return!!document.createElement("canvas").getContext}(),Jr=!!(document.createElementNS&&ke("svg").createSVGRect),er=!!Jr&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Uu=!Jr&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var b=f.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),Ls=navigator.platform.indexOf("Mac")===0,lo=navigator.platform.indexOf("Linux")===0;function is(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var $t={ie:ne,ielt9:Ae,edge:Fe,webkit:ot,android:vt,android23:ie,androidStock:xe,opera:re,chrome:pe,gecko:_e,safari:at,phantom:qe,opera12:xt,win:bt,ie3d:it,webkit3d:pt,gecko3d:Nt,any3d:de,mobile:Pe,mobileWebkit:lt,mobileWebkit3d:fe,msPointer:tt,pointer:ve,touch:Ye,touchNative:Xe,mobileOpera:Le,mobileGecko:dt,retina:_t,passiveEvents:En,canvas:xn,svg:Jr,vml:Uu,inlineSvg:er,mac:Ls,linux:lo},qi=$t.msPointer?"MSPointerDown":"pointerdown",ju=$t.msPointer?"MSPointerMove":"pointermove",Wl=$t.msPointer?"MSPointerUp":"pointerup",fl=$t.msPointer?"MSPointerCancel":"pointercancel",Gl={touchstart:qi,touchmove:ju,touchend:Wl,touchcancel:fl},Fc={touchstart:Te,touchmove:Ve,touchend:Ve,touchcancel:Ve},Oa={},La=!1;function Vu(f,b,C){return b==="touchstart"&&je(),Fc[b]?(C=Fc[b].bind(this,C),f.addEventListener(Gl[b],C,!1),C):(console.warn("wrong event specified:",b),h)}function Zh(f,b,C){if(!Gl[b]){console.warn("wrong event specified:",b);return}f.removeEventListener(Gl[b],C,!1)}function zu(f){Oa[f.pointerId]=f}function ee(f){Oa[f.pointerId]&&(Oa[f.pointerId]=f)}function Ee(f){delete Oa[f.pointerId]}function je(){La||(document.addEventListener(qi,zu,!0),document.addEventListener(ju,ee,!0),document.addEventListener(Wl,Ee,!0),document.addEventListener(fl,Ee,!0),La=!0)}function Ve(f,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var C in Oa)b.touches.push(Oa[C]);b.changedTouches=[b],f(b)}}function Te(f,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&ei(b),Ve(f,b)}function ft(f){var b={},C,U;for(U in f)C=f[U],b[U]=C&&C.bind?C.bind(f):C;return f=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var Et=200;function Pt(f,b){f.addEventListener("dblclick",b);var C=0,U;function W(Z){if(Z.detail!==1){U=Z.detail;return}if(!(Z.pointerType==="mouse"||Z.sourceCapabilities&&!Z.sourceCapabilities.firesTouchEvents)){var me=na(Z);if(!(me.some(function(He){return He instanceof HTMLLabelElement&&He.attributes.for})&&!me.some(function(He){return He instanceof HTMLInputElement||He instanceof HTMLSelectElement}))){var Ne=Date.now();Ne-C<=Et?(U++,U===2&&b(ft(Z))):U=1,C=Ne}}}return f.addEventListener("click",W),{dblclick:b,simDblclick:W}}function At(f,b){f.removeEventListener("dblclick",b.dblclick),f.removeEventListener("click",b.simDblclick)}var Zt=ci(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xt=ci(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ft=Xt==="webkitTransition"||Xt==="OTransition"?Xt+"End":"transitionend";function Bt(f){return typeof f=="string"?document.getElementById(f):f}function Wt(f,b){var C=f.style[b]||f.currentStyle&&f.currentStyle[b];if((!C||C==="auto")&&document.defaultView){var U=document.defaultView.getComputedStyle(f,null);C=U?U[b]:null}return C==="auto"?null:C}function Ut(f,b,C){var U=document.createElement(f);return U.className=b||"",C&&C.appendChild(U),U}function kt(f){var b=f.parentNode;b&&b.removeChild(f)}function hn(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Dt(f){var b=f.parentNode;b&&b.lastChild!==f&&b.appendChild(f)}function Un(f){var b=f.parentNode;b&&b.firstChild!==f&&b.insertBefore(f,b.firstChild)}function nn(f,b){if(f.classList!==void 0)return f.classList.contains(b);var C=pi(f);return C.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(C)}function Yt(f,b){if(f.classList!==void 0)for(var C=g(b),U=0,W=C.length;U<W;U++)f.classList.add(C[U]);else if(!nn(f,b)){var Z=pi(f);Ci(f,(Z?Z+" ":"")+b)}}function rr(f,b){f.classList!==void 0?f.classList.remove(b):Ci(f,p((" "+pi(f)+" ").replace(" "+b+" "," ")))}function Ci(f,b){f.className.baseVal===void 0?f.className=b:f.className.baseVal=b}function pi(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function fn(f,b){"opacity"in f.style?f.style.opacity=b:"filter"in f.style&&vr(f,b)}function vr(f,b){var C=!1,U="DXImageTransform.Microsoft.Alpha";try{C=f.filters.item(U)}catch{if(b===1)return}b=Math.round(b*100),C?(C.Enabled=b!==100,C.Opacity=b):f.style.filter+=" progid:"+U+"(opacity="+b+")"}function ci(f){for(var b=document.documentElement.style,C=0;C<f.length;C++)if(f[C]in b)return f[C];return!1}function Dr(f,b,C){var U=b||new X(0,0);f.style[Zt]=($t.ie3d?"translate("+U.x+"px,"+U.y+"px)":"translate3d("+U.x+"px,"+U.y+"px,0)")+(C?" scale("+C+")":"")}function qt(f,b){f._leaflet_pos=b,$t.any3d?Dr(f,b):(f.style.left=b.x+"px",f.style.top=b.y+"px")}function Fi(f){return f._leaflet_pos||new X(0,0)}var ui,Fs,Bc;if("onselectstart"in document)ui=function(){an(window,"selectstart",ei)},Fs=function(){br(window,"selectstart",ei)};else{var Uc=ci(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ui=function(){if(Uc){var f=document.documentElement.style;Bc=f[Uc],f[Uc]="none"}},Fs=function(){Uc&&(document.documentElement.style[Uc]=Bc,Bc=void 0)}}function sp(){an(window,"dragstart",ei)}function Hu(){br(window,"dragstart",ei)}var jc,$l;function ql(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(Bs(),jc=f,$l=f.style.outlineStyle,f.style.outlineStyle="none",an(window,"keydown",Bs))}function Bs(){jc&&(jc.style.outlineStyle=$l,jc=void 0,$l=void 0,br(window,"keydown",Bs))}function Wn(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function Wu(f){var b=f.getBoundingClientRect();return{x:b.width/f.offsetWidth||1,y:b.height/f.offsetHeight||1,boundingClientRect:b}}var Qh={__proto__:null,TRANSFORM:Zt,TRANSITION:Xt,TRANSITION_END:Ft,get:Bt,getStyle:Wt,create:Ut,remove:kt,empty:hn,toFront:Dt,toBack:Un,hasClass:nn,addClass:Yt,removeClass:rr,setClass:Ci,getClass:pi,setOpacity:fn,testProp:ci,setTransform:Dr,setPosition:qt,getPosition:Fi,get disableTextSelection(){return ui},get enableTextSelection(){return Fs},disableImageDrag:sp,enableImageDrag:Hu,preventOutline:ql,restoreOutline:Bs,getSizedParentNode:Wn,getScale:Wu};function an(f,b,C,U){if(b&&typeof b=="object")for(var W in b)ap(f,W,b[W],C);else{b=g(b);for(var Z=0,me=b.length;Z<me;Z++)ap(f,b[Z],C,U)}return this}var co="_leaflet_events";function br(f,b,C,U){if(arguments.length===1)mi(f),delete f[co];else if(b&&typeof b=="object")for(var W in b)Gu(f,W,b[W],C);else if(b=g(b),arguments.length===2)mi(f,function(Ne){return T(b,Ne)!==-1});else for(var Z=0,me=b.length;Z<me;Z++)Gu(f,b[Z],C,U);return this}function mi(f,b){for(var C in f[co]){var U=C.split(/\d/)[0];(!b||b(U))&&Gu(f,U,null,null,C)}}var ta={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ap(f,b,C,U){var W=b+l(C)+(U?"_"+l(U):"");if(f[co]&&f[co][W])return this;var Z=function(Ne){return C.call(U||f,Ne||window.event)},me=Z;!$t.touchNative&&$t.pointer&&b.indexOf("touch")===0?Z=Vu(f,b,Z):$t.touch&&b==="dblclick"?Z=Pt(f,Z):"addEventListener"in f?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?f.addEventListener(ta[b]||b,Z,$t.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(Z=function(Ne){Ne=Ne||window.event,ed(f,Ne)&&me(Ne)},f.addEventListener(ta[b],Z,!1)):f.addEventListener(b,me,!1):f.attachEvent("on"+b,Z),f[co]=f[co]||{},f[co][W]=Z}function Gu(f,b,C,U,W){W=W||b+l(C)+(U?"_"+l(U):"");var Z=f[co]&&f[co][W];if(!Z)return this;!$t.touchNative&&$t.pointer&&b.indexOf("touch")===0?Zh(f,b,Z):$t.touch&&b==="dblclick"?At(f,Z):"removeEventListener"in f?f.removeEventListener(ta[b]||b,Z,!1):f.detachEvent("on"+b,Z),f[co][W]=null}function uo(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function jo(f){return ap(f,"wheel",uo),this}function ss(f){return an(f,"mousedown touchstart dblclick contextmenu",uo),f._leaflet_disable_click=!0,this}function ei(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function Fa(f){return ei(f),uo(f),this}function na(f){if(f.composedPath)return f.composedPath();for(var b=[],C=f.target;C;)b.push(C),C=C.parentNode;return b}function ra(f,b){if(!b)return new X(f.clientX,f.clientY);var C=Wu(b),U=C.boundingClientRect;return new X((f.clientX-U.left)/C.x-b.clientLeft,(f.clientY-U.top)/C.y-b.clientTop)}var Cr=$t.linux&&$t.chrome?window.devicePixelRatio:$t.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jh(f){return $t.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/Cr:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function ed(f,b){var C=b.relatedTarget;if(!C)return!0;try{for(;C&&C!==f;)C=C.parentNode}catch{return!1}return C!==f}var yg={__proto__:null,on:an,off:br,stopPropagation:uo,disableScrollPropagation:jo,disableClickPropagation:ss,preventDefault:ei,stop:Fa,getPropagationPath:na,getMousePosition:ra,getWheelDelta:Jh,isExternalTarget:ed,addListener:an,removeListener:br},ia=ce.extend({run:function(f,b,C,U){this.stop(),this._el=f,this._inProgress=!0,this._duration=C||.25,this._easeOutPower=1/Math.max(U||.5,.2),this._startPos=Fi(f),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(f){var b=+new Date-this._startTime,C=this._duration*1e3;b<C?this._runFrame(this._easeOut(b/C),f):(this._runFrame(1),this._complete())},_runFrame:function(f,b){var C=this._startPos.add(this._offset.multiplyBy(f));b&&C._round(),qt(this._el,C),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),jn=ce.extend({options:{crs:ae,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,b){b=_(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(Ie(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xt&&$t.any3d&&!$t.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),an(this._proxy,Ft,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,b,C){if(b=b===void 0?this._zoom:this._limitZoom(b),f=this._limitCenter(Ie(f),b,this.options.maxBounds),C=C||{},this._stop(),this._loaded&&!C.reset&&C!==!0){C.animate!==void 0&&(C.zoom=i({animate:C.animate},C.zoom),C.pan=i({animate:C.animate,duration:C.duration},C.pan));var U=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,b,C.zoom):this._tryAnimatedPan(f,C.pan);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(f,b,C.pan&&C.pan.noMoveStart),this},setZoom:function(f,b){return this._loaded?this.setView(this.getCenter(),f,{zoom:b}):(this._zoom=f,this)},zoomIn:function(f,b){return f=f||($t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,b)},zoomOut:function(f,b){return f=f||($t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,b)},setZoomAround:function(f,b,C){var U=this.getZoomScale(b),W=this.getSize().divideBy(2),Z=f instanceof X?f:this.latLngToContainerPoint(f),me=Z.subtract(W).multiplyBy(1-1/U),Ne=this.containerPointToLatLng(W.add(me));return this.setView(Ne,b,{zoom:C})},_getBoundsCenterZoom:function(f,b){b=b||{},f=f.getBounds?f.getBounds():et(f);var C=q(b.paddingTopLeft||b.padding||[0,0]),U=q(b.paddingBottomRight||b.padding||[0,0]),W=this.getBoundsZoom(f,!1,C.add(U));if(W=typeof b.maxZoom=="number"?Math.min(b.maxZoom,W):W,W===1/0)return{center:f.getCenter(),zoom:W};var Z=U.subtract(C).divideBy(2),me=this.project(f.getSouthWest(),W),Ne=this.project(f.getNorthEast(),W),He=this.unproject(me.add(Ne).divideBy(2).add(Z),W);return{center:He,zoom:W}},fitBounds:function(f,b){if(f=et(f),!f.isValid())throw new Error("Bounds are not valid.");var C=this._getBoundsCenterZoom(f,b);return this.setView(C.center,C.zoom,b)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,b){return this.setView(f,this._zoom,{pan:b})},panBy:function(f,b){if(f=q(f).round(),b=b||{},!f.x&&!f.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ia,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){Yt(this._mapPane,"leaflet-pan-anim");var C=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,C,b.duration||.25,b.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,b,C){if(C=C||{},C.animate===!1||!$t.any3d)return this.setView(f,b,C);this._stop();var U=this.project(this.getCenter()),W=this.project(f),Z=this.getSize(),me=this._zoom;f=Ie(f),b=b===void 0?me:b;var Ne=Math.max(Z.x,Z.y),He=Ne*this.getZoomScale(me,b),ht=W.distanceTo(U)||1,Ct=1.42,cn=Ct*Ct;function Ln(Gr){var Kc=Gr?-1:1,Ag=Gr?He:Ne,Tg=He*He-Ne*Ne+Kc*cn*cn*ht*ht,Yw=2*Ag*cn*ht,eh=Tg/Yw,ls=Math.sqrt(eh*eh+1)-eh,uM=ls<1e-9?-18:Math.log(ls);return uM}function js(Gr){return(Math.exp(Gr)-Math.exp(-Gr))/2}function Pi(Gr){return(Math.exp(Gr)+Math.exp(-Gr))/2}function ca(Gr){return js(Gr)/Pi(Gr)}var ua=Ln(0);function Ju(Gr){return Ne*(Pi(ua)/Pi(ua+Ct*Gr))}function $w(Gr){return Ne*(Pi(ua)*ca(ua+Ct*Gr)-js(ua))/cn}function qw(Gr){return 1-Math.pow(1-Gr,1.5)}var Xw=Date.now(),Wy=(Ln(1)-ua)/Ct,yl=C.duration?1e3*C.duration:1e3*Wy*.8;function Gy(){var Gr=(Date.now()-Xw)/yl,Kc=qw(Gr)*Wy;Gr<=1?(this._flyToFrame=B(Gy,this),this._move(this.unproject(U.add(W.subtract(U).multiplyBy($w(Kc)/ht)),me),this.getScaleZoom(Ne/Ju(Kc),me),{flyTo:!0})):this._move(f,b)._moveEnd(!0)}return this._moveStart(!0,C.noMoveStart),Gy.call(this),this},flyToBounds:function(f,b){var C=this._getBoundsCenterZoom(f,b);return this.flyTo(C.center,C.zoom,b)},setMaxBounds:function(f){return f=et(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var b=this.options.minZoom;return this.options.minZoom=f,this._loaded&&b!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var b=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&b!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,b){this._enforcingBounds=!0;var C=this.getCenter(),U=this._limitCenter(C,this._zoom,et(f));return C.equals(U)||this.panTo(U,b),this._enforcingBounds=!1,this},panInside:function(f,b){b=b||{};var C=q(b.paddingTopLeft||b.padding||[0,0]),U=q(b.paddingBottomRight||b.padding||[0,0]),W=this.project(this.getCenter()),Z=this.project(f),me=this.getPixelBounds(),Ne=De([me.min.add(C),me.max.subtract(U)]),He=Ne.getSize();if(!Ne.contains(Z)){this._enforcingBounds=!0;var ht=Z.subtract(Ne.getCenter()),Ct=Ne.extend(Z).getSize().subtract(He);W.x+=ht.x<0?-Ct.x:Ct.x,W.y+=ht.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(W),b),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var C=this.getSize(),U=b.divideBy(2).round(),W=C.divideBy(2).round(),Z=U.subtract(W);return!Z.x&&!Z.y?this:(f.animate&&f.pan?this.panBy(Z):(f.pan&&this._rawPanBy(Z),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:C}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=a(this._handleGeolocationResponse,this),C=a(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,C,f):navigator.geolocation.getCurrentPosition(b,C,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var b=f.code,C=f.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+C+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var b=f.coords.latitude,C=f.coords.longitude,U=new ye(b,C),W=U.toBounds(f.coords.accuracy*2),Z=this._locateOptions;if(Z.setView){var me=this.getBoundsZoom(W);this.setView(U,Z.maxZoom?Math.min(me,Z.maxZoom):me)}var Ne={latlng:U,bounds:W,timestamp:f.timestamp};for(var He in f.coords)typeof f.coords[He]=="number"&&(Ne[He]=f.coords[He]);this.fire("locationfound",Ne)}},addHandler:function(f,b){if(!b)return this;var C=this[f]=new b(this);return this._handlers.push(C),this.options[f]&&C.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)kt(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,b){var C="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),U=Ut("div",C,b||this._mapPane);return f&&(this._panes[f]=U),U},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),b=this.unproject(f.getBottomLeft()),C=this.unproject(f.getTopRight());return new Q(b,C)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,b,C){f=et(f),C=q(C||[0,0]);var U=this.getZoom()||0,W=this.getMinZoom(),Z=this.getMaxZoom(),me=f.getNorthWest(),Ne=f.getSouthEast(),He=this.getSize().subtract(C),ht=De(this.project(Ne,U),this.project(me,U)).getSize(),Ct=$t.any3d?this.options.zoomSnap:1,cn=He.x/ht.x,Ln=He.y/ht.y,js=b?Math.max(cn,Ln):Math.min(cn,Ln);return U=this.getScaleZoom(js,U),Ct&&(U=Math.round(U/(Ct/100))*(Ct/100),U=b?Math.ceil(U/Ct)*Ct:Math.floor(U/Ct)*Ct),Math.max(W,Math.min(Z,U))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,b){var C=this._getTopLeftPoint(f,b);return new ge(C,C.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,b){var C=this.options.crs;return b=b===void 0?this._zoom:b,C.scale(f)/C.scale(b)},getScaleZoom:function(f,b){var C=this.options.crs;b=b===void 0?this._zoom:b;var U=C.zoom(f*C.scale(b));return isNaN(U)?1/0:U},project:function(f,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(Ie(f),b)},unproject:function(f,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(q(f),b)},layerPointToLatLng:function(f){var b=q(f).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(f){var b=this.project(Ie(f))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(Ie(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(et(f))},distance:function(f,b){return this.options.crs.distance(Ie(f),Ie(b))},containerPointToLayerPoint:function(f){return q(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return q(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var b=this.containerPointToLayerPoint(q(f));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(f)))},mouseEventToContainerPoint:function(f){return ra(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var b=this._container=Bt(f);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");an(b,"scroll",this._onScroll,this),this._containerId=l(b)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&$t.any3d,Yt(f,"leaflet-container"+($t.touch?" leaflet-touch":"")+($t.retina?" leaflet-retina":"")+($t.ielt9?" leaflet-oldie":"")+($t.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=Wt(f,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Yt(f.markerPane,"leaflet-zoom-hide"),Yt(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,b,C){qt(this._mapPane,new X(0,0));var U=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var W=this._zoom!==b;this._moveStart(W,C)._move(f,b)._moveEnd(W),this.fire("viewreset"),U&&this.fire("load")},_moveStart:function(f,b){return f&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(f,b,C,U){b===void 0&&(b=this._zoom);var W=this._zoom!==b;return this._zoom=b,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),U?C&&C.pinch&&this.fire("zoom",C):((W||C&&C.pinch)&&this.fire("zoom",C),this.fire("move",C)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){qt(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[l(this._container)]=this;var b=f?br:an;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),$t.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,b){for(var C=[],U,W=b==="mouseout"||b==="mouseover",Z=f.target||f.srcElement,me=!1;Z;){if(U=this._targets[l(Z)],U&&(b==="click"||b==="preclick")&&this._draggableMoved(U)){me=!0;break}if(U&&U.listens(b,!0)&&(W&&!ed(Z,f)||(C.push(U),W))||Z===this._container)break;Z=Z.parentNode}return!C.length&&!me&&!W&&this.listens(b,!0)&&(C=[this]),C},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var b=f.target||f.srcElement;if(!(!this._loaded||b._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(b))){var C=f.type;C==="mousedown"&&ql(b),this._fireDOMEvent(f,C)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,b,C){if(f.type==="click"){var U=i({},f);U.type="preclick",this._fireDOMEvent(U,U.type,C)}var W=this._findEventTargets(f,b);if(C){for(var Z=[],me=0;me<C.length;me++)C[me].listens(b,!0)&&Z.push(C[me]);W=Z.concat(W)}if(W.length){b==="contextmenu"&&ei(f);var Ne=W[0],He={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var ht=Ne.getLatLng&&(!Ne._radius||Ne._radius<=10);He.containerPoint=ht?this.latLngToContainerPoint(Ne.getLatLng()):this.mouseEventToContainerPoint(f),He.layerPoint=this.containerPointToLayerPoint(He.containerPoint),He.latlng=ht?Ne.getLatLng():this.layerPointToLatLng(He.layerPoint)}for(me=0;me<W.length;me++)if(W[me].fire(b,He,!0),He.originalEvent._stopped||W[me].options.bubblingMouseEvents===!1&&T(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,b=this._handlers.length;f<b;f++)this._handlers[f].disable()},whenReady:function(f,b){return this._loaded?f.call(b||this,{target:this}):this.on("load",f,b),this},_getMapPanePos:function(){return Fi(this._mapPane)||new X(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,b){var C=f&&b!==void 0?this._getNewPixelOrigin(f,b):this.getPixelOrigin();return C.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,b){var C=this.getSize()._divideBy(2);return this.project(f,b)._subtract(C)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,b,C){var U=this._getNewPixelOrigin(C,b);return this.project(f,b)._subtract(U)},_latLngBoundsToNewLayerBounds:function(f,b,C){var U=this._getNewPixelOrigin(C,b);return De([this.project(f.getSouthWest(),b)._subtract(U),this.project(f.getNorthWest(),b)._subtract(U),this.project(f.getSouthEast(),b)._subtract(U),this.project(f.getNorthEast(),b)._subtract(U)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,b,C){if(!C)return f;var U=this.project(f,b),W=this.getSize().divideBy(2),Z=new ge(U.subtract(W),U.add(W)),me=this._getBoundsOffset(Z,C,b);return Math.abs(me.x)<=1&&Math.abs(me.y)<=1?f:this.unproject(U.add(me),b)},_limitOffset:function(f,b){if(!b)return f;var C=this.getPixelBounds(),U=new ge(C.min.add(f),C.max.add(f));return f.add(this._getBoundsOffset(U,b))},_getBoundsOffset:function(f,b,C){var U=De(this.project(b.getNorthEast(),C),this.project(b.getSouthWest(),C)),W=U.min.subtract(f.min),Z=U.max.subtract(f.max),me=this._rebound(W.x,-Z.x),Ne=this._rebound(W.y,-Z.y);return new X(me,Ne)},_rebound:function(f,b){return f+b>0?Math.round(f-b)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(b))},_limitZoom:function(f){var b=this.getMinZoom(),C=this.getMaxZoom(),U=$t.any3d?this.options.zoomSnap:1;return U&&(f=Math.round(f/U)*U),Math.max(b,Math.min(C,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){rr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,b){var C=this._getCenterOffset(f)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(C)?!1:(this.panBy(C,b),!0)},_createAnimProxy:function(){var f=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(b){var C=Zt,U=this._proxy.style[C];Dr(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),U===this._proxy.style[C]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),b=this.getZoom();Dr(this._proxy,this.project(f,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,b,C){if(this._animatingZoom)return!0;if(C=C||{},!this._zoomAnimated||C.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(b),W=this._getCenterOffset(f)._divideBy(1-1/U);return C.animate!==!0&&!this.getSize().contains(W)?!1:(B(function(){this._moveStart(!0,C.noMoveStart||!1)._animateZoom(f,b,!0)},this),!0)},_animateZoom:function(f,b,C,U){this._mapPane&&(C&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=b,Yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:b,noUpdate:U}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&rr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xl(f,b){return new jn(f,b)}var sa=K.extend({options:{position:"topright"},initialize:function(f){_(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var b=this._map;return b&&b.removeControl(this),this.options.position=f,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var b=this._container=this.onAdd(f),C=this.getPosition(),U=f._controlCorners[C];return Yt(b,"leaflet-control"),C.indexOf("bottom")!==-1?U.insertBefore(b,U.firstChild):U.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),jr=function(f){return new sa(f)};jn.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},b="leaflet-",C=this._controlContainer=Ut("div",b+"control-container",this._container);function U(W,Z){var me=b+W+" "+b+Z;f[W+Z]=Ut("div",me,C)}U("top","left"),U("top","right"),U("bottom","left"),U("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)kt(this._controlCorners[f]);kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vc=sa.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,b,C,U){return C<U?-1:U<C?1:0}},initialize:function(f,b,C){_(this,C),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var U in f)this._addLayer(f[U],U);for(U in b)this._addLayer(b[U],U,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return sa.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,b){return this._addLayer(f,b),this._map?this._update():this},addOverlay:function(f,b){return this._addLayer(f,b,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var b=this._getLayer(l(f));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){Yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(Yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):rr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return rr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",b=this._container=Ut("div",f),C=this.options.collapsed;b.setAttribute("aria-haspopup",!0),ss(b),jo(b);var U=this._section=Ut("section",f+"-list");C&&(this._map.on("click",this.collapse,this),an(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var W=this._layersLink=Ut("a",f+"-toggle",b);W.href="#",W.title="Layers",W.setAttribute("role","button"),an(W,{keydown:function(Z){Z.keyCode===13&&this._expandSafely()},click:function(Z){ei(Z),this._expandSafely()}},this),C||this.expand(),this._baseLayersList=Ut("div",f+"-base",U),this._separator=Ut("div",f+"-separator",U),this._overlaysList=Ut("div",f+"-overlays",U),b.appendChild(U)},_getLayer:function(f){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&l(this._layers[b].layer)===f)return this._layers[b]},_addLayer:function(f,b,C){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:b,overlay:C}),this.options.sortLayers&&this._layers.sort(a(function(U,W){return this.options.sortFunction(U.layer,W.layer,U.name,W.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;hn(this._baseLayersList),hn(this._overlaysList),this._layerControlInputs=[];var f,b,C,U,W=0;for(C=0;C<this._layers.length;C++)U=this._layers[C],this._addItem(U),b=b||U.overlay,f=f||!U.overlay,W+=U.overlay?0:1;return this.options.hideSingleBase&&(f=f&&W>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=b&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var b=this._getLayer(l(f.target)),C=b.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;C&&this._map.fire(C,b)},_createRadioElement:function(f,b){var C='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(b?' checked="checked"':"")+"/>",U=document.createElement("div");return U.innerHTML=C,U.firstChild},_addItem:function(f){var b=document.createElement("label"),C=this._map.hasLayer(f.layer),U;f.overlay?(U=document.createElement("input"),U.type="checkbox",U.className="leaflet-control-layers-selector",U.defaultChecked=C):U=this._createRadioElement("leaflet-base-layers_"+l(this),C),this._layerControlInputs.push(U),U.layerId=l(f.layer),an(U,"click",this._onInputClick,this);var W=document.createElement("span");W.innerHTML=" "+f.name;var Z=document.createElement("span");b.appendChild(Z),Z.appendChild(U),Z.appendChild(W);var me=f.overlay?this._overlaysList:this._baseLayersList;return me.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,b,C,U=[],W=[];this._handlingClick=!0;for(var Z=f.length-1;Z>=0;Z--)b=f[Z],C=this._getLayer(b.layerId).layer,b.checked?U.push(C):b.checked||W.push(C);for(Z=0;Z<W.length;Z++)this._map.hasLayer(W[Z])&&this._map.removeLayer(W[Z]);for(Z=0;Z<U.length;Z++)this._map.hasLayer(U[Z])||this._map.addLayer(U[Z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,b,C,U=this._map.getZoom(),W=f.length-1;W>=0;W--)b=f[W],C=this._getLayer(b.layerId).layer,b.disabled=C.options.minZoom!==void 0&&U<C.options.minZoom||C.options.maxZoom!==void 0&&U>C.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,an(f,"click",ei),this.expand();var b=this;setTimeout(function(){br(f,"click",ei),b._preventClick=!1})}}),td=function(f,b,C){return new Vc(f,b,C)},aa=sa.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var b="leaflet-control-zoom",C=Ut("div",b+" leaflet-bar"),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,b+"-in",C,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,b+"-out",C,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),C},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,b,C,U,W){var Z=Ut("a",C,U);return Z.innerHTML=f,Z.href="#",Z.title=b,Z.setAttribute("role","button"),Z.setAttribute("aria-label",b),ss(Z),an(Z,"click",Fa),an(Z,"click",W,this),an(Z,"click",this._refocusOnMap,this),Z},_updateDisabled:function(){var f=this._map,b="leaflet-disabled";rr(this._zoomInButton,b),rr(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(Yt(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(Yt(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});jn.mergeOptions({zoomControl:!0}),jn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new aa,this.addControl(this.zoomControl))});var nd=function(f){return new aa(f)},zc=sa.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var b="leaflet-control-scale",C=Ut("div",b),U=this.options;return this._addScales(U,b+"-line",C),f.on(U.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),C},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,b,C){f.metric&&(this._mScale=Ut("div",b,C)),f.imperial&&(this._iScale=Ut("div",b,C))},_update:function(){var f=this._map,b=f.getSize().y/2,C=f.distance(f.containerPointToLatLng([0,b]),f.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(C)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var b=this._getRoundNum(f),C=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,C,b/f)},_updateImperial:function(f){var b=f*3.2808399,C,U,W;b>5280?(C=b/5280,U=this._getRoundNum(C),this._updateScale(this._iScale,U+" mi",U/C)):(W=this._getRoundNum(b),this._updateScale(this._iScale,W+" ft",W/b))},_updateScale:function(f,b,C){f.style.width=Math.round(this.options.maxWidth*C)+"px",f.innerHTML=b},_getRoundNum:function(f){var b=Math.pow(10,(Math.floor(f)+"").length-1),C=f/b;return C=C>=10?10:C>=5?5:C>=3?3:C>=2?2:1,b*C}}),$u=function(f){return new zc(f)},rd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pl=sa.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($t.inlineSvg?rd+" ":"")+"Leaflet</a>"},initialize:function(f){_(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),ss(this._container);for(var b in f._layers)f._layers[b].getAttribution&&this.addAttribution(f._layers[b].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var b in this._attributions)this._attributions[b]&&f.push(b);var C=[];this.options.prefix&&C.push(this.options.prefix),f.length&&C.push(f.join(", ")),this._container.innerHTML=C.join(' <span aria-hidden="true">|</span> ')}}});jn.mergeOptions({attributionControl:!0}),jn.addInitHook(function(){this.options.attributionControl&&new pl().addTo(this)});var Hc=function(f){return new pl(f)};sa.Layers=Vc,sa.Zoom=aa,sa.Scale=zc,sa.Attribution=pl,jr.layers=td,jr.zoom=nd,jr.scale=$u,jr.attribution=Hc;var Wr=K.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wr.addTo=function(f,b){return f.addHandler(b,this),this};var bs={Events:se},ho=$t.touch?"touchstart mousedown":"mousedown",Ba=ce.extend({options:{clickTolerance:3},initialize:function(f,b,C,U){_(this,U),this._element=f,this._dragStartTarget=b||f,this._preventOutline=C},enable:function(){this._enabled||(an(this._dragStartTarget,ho,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ba._dragging===this&&this.finishDrag(!0),br(this._dragStartTarget,ho,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!nn(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){Ba._dragging===this&&this.finishDrag();return}if(!(Ba._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(Ba._dragging=this,this._preventOutline&&ql(this._element),sp(),ui(),!this._moving)){this.fire("down");var b=f.touches?f.touches[0]:f,C=Wn(this._element);this._startPoint=new X(b.clientX,b.clientY),this._startPos=Fi(this._element),this._parentScale=Wu(C);var U=f.type==="mousedown";an(document,U?"mousemove":"touchmove",this._onMove,this),an(document,U?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var b=f.touches&&f.touches.length===1?f.touches[0]:f,C=new X(b.clientX,b.clientY)._subtract(this._startPoint);!C.x&&!C.y||Math.abs(C.x)+Math.abs(C.y)<this.options.clickTolerance||(C.x/=this._parentScale.x,C.y/=this._parentScale.y,ei(f),this._moved||(this.fire("dragstart"),this._moved=!0,Yt(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(C),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),qt(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){rr(document.body,"leaflet-dragging"),this._lastTarget&&(rr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),br(document,"mousemove touchmove",this._onMove,this),br(document,"mouseup touchend touchcancel",this._onUp,this),Hu(),Fs();var b=this._moved&&this._moving;this._moving=!1,Ba._dragging=!1,b&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function qu(f,b,C){var U,W=[1,4,2,8],Z,me,Ne,He,ht,Ct,cn,Ln;for(Z=0,Ct=f.length;Z<Ct;Z++)f[Z]._code=fo(f[Z],b);for(Ne=0;Ne<4;Ne++){for(cn=W[Ne],U=[],Z=0,Ct=f.length,me=Ct-1;Z<Ct;me=Z++)He=f[Z],ht=f[me],He._code&cn?ht._code&cn||(Ln=Bi(ht,He,cn,b,C),Ln._code=fo(Ln,b),U.push(Ln)):(ht._code&cn&&(Ln=Bi(ht,He,cn,b,C),Ln._code=fo(Ln,b),U.push(Ln)),U.push(He));f=U}return f}function oa(f,b){var C,U,W,Z,me,Ne,He,ht,Ct;if(!f||f.length===0)throw new Error("latlngs not passed");A(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var cn=Ie([0,0]),Ln=et(f),js=Ln.getNorthWest().distanceTo(Ln.getSouthWest())*Ln.getNorthEast().distanceTo(Ln.getNorthWest());js<1700&&(cn=Ua(f));var Pi=f.length,ca=[];for(C=0;C<Pi;C++){var ua=Ie(f[C]);ca.push(b.project(Ie([ua.lat-cn.lat,ua.lng-cn.lng])))}for(Ne=He=ht=0,C=0,U=Pi-1;C<Pi;U=C++)W=ca[C],Z=ca[U],me=W.y*Z.x-Z.y*W.x,He+=(W.x+Z.x)*me,ht+=(W.y+Z.y)*me,Ne+=me*3;Ne===0?Ct=ca[0]:Ct=[He/Ne,ht/Ne];var Ju=b.unproject(q(Ct));return Ie([Ju.lat+cn.lat,Ju.lng+cn.lng])}function Ua(f){for(var b=0,C=0,U=0,W=0;W<f.length;W++){var Z=Ie(f[W]);b+=Z.lat,C+=Z.lng,U++}return Ie([b/U,C/U])}var Yl={__proto__:null,clipPolygon:qu,polygonCenter:oa,centroid:Ua};function id(f,b){if(!b||!f.length)return f.slice();var C=b*b;return f=Xu(f,C),f=op(f,C),f}function Wc(f,b,C){return Math.sqrt(as(f,b,C,!0))}function ml(f,b,C){return as(f,b,C)}function op(f,b){var C=f.length,U=typeof Uint8Array<"u"?Uint8Array:Array,W=new U(C);W[0]=W[C-1]=1,Gc(f,W,b,0,C-1);var Z,me=[];for(Z=0;Z<C;Z++)W[Z]&&me.push(f[Z]);return me}function Gc(f,b,C,U,W){var Z=0,me,Ne,He;for(Ne=U+1;Ne<=W-1;Ne++)He=as(f[Ne],f[U],f[W],!0),He>Z&&(me=Ne,Z=He);Z>C&&(b[me]=1,Gc(f,b,C,U,me),Gc(f,b,C,me,W))}function Xu(f,b){for(var C=[f[0]],U=1,W=0,Z=f.length;U<Z;U++)Kl(f[U],f[W])>b&&(C.push(f[U]),W=U);return W<Z-1&&C.push(f[Z-1]),C}var sd;function $c(f,b,C,U,W){var Z=U?sd:fo(f,C),me=fo(b,C),Ne,He,ht;for(sd=me;;){if(!(Z|me))return[f,b];if(Z&me)return!1;Ne=Z||me,He=Bi(f,b,Ne,C,W),ht=fo(He,C),Ne===Z?(f=He,Z=ht):(b=He,me=ht)}}function Bi(f,b,C,U,W){var Z=b.x-f.x,me=b.y-f.y,Ne=U.min,He=U.max,ht,Ct;return C&8?(ht=f.x+Z*(He.y-f.y)/me,Ct=He.y):C&4?(ht=f.x+Z*(Ne.y-f.y)/me,Ct=Ne.y):C&2?(ht=He.x,Ct=f.y+me*(He.x-f.x)/Z):C&1&&(ht=Ne.x,Ct=f.y+me*(Ne.x-f.x)/Z),new X(ht,Ct,W)}function fo(f,b){var C=0;return f.x<b.min.x?C|=1:f.x>b.max.x&&(C|=2),f.y<b.min.y?C|=4:f.y>b.max.y&&(C|=8),C}function Kl(f,b){var C=b.x-f.x,U=b.y-f.y;return C*C+U*U}function as(f,b,C,U){var W=b.x,Z=b.y,me=C.x-W,Ne=C.y-Z,He=me*me+Ne*Ne,ht;return He>0&&(ht=((f.x-W)*me+(f.y-Z)*Ne)/He,ht>1?(W=C.x,Z=C.y):ht>0&&(W+=me*ht,Z+=Ne*ht)),me=f.x-W,Ne=f.y-Z,U?me*me+Ne*Ne:new X(W,Z)}function A(f){return!E(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function V(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),A(f)}function G(f,b){var C,U,W,Z,me,Ne,He,ht;if(!f||f.length===0)throw new Error("latlngs not passed");A(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ct=Ie([0,0]),cn=et(f),Ln=cn.getNorthWest().distanceTo(cn.getSouthWest())*cn.getNorthEast().distanceTo(cn.getNorthWest());Ln<1700&&(Ct=Ua(f));var js=f.length,Pi=[];for(C=0;C<js;C++){var ca=Ie(f[C]);Pi.push(b.project(Ie([ca.lat-Ct.lat,ca.lng-Ct.lng])))}for(C=0,U=0;C<js-1;C++)U+=Pi[C].distanceTo(Pi[C+1])/2;if(U===0)ht=Pi[0];else for(C=0,Z=0;C<js-1;C++)if(me=Pi[C],Ne=Pi[C+1],W=me.distanceTo(Ne),Z+=W,Z>U){He=(Z-U)/W,ht=[Ne.x-He*(Ne.x-me.x),Ne.y-He*(Ne.y-me.y)];break}var ua=b.unproject(q(ht));return Ie([ua.lat+Ct.lat,ua.lng+Ct.lng])}var te={__proto__:null,simplify:id,pointToSegmentDistance:Wc,closestPointOnSegment:ml,clipSegment:$c,_getEdgeIntersection:Bi,_getBitCode:fo,_sqClosestPointOnSegment:as,isFlat:A,_flat:V,polylineCenter:G},Me={project:function(f){return new X(f.lng,f.lat)},unproject:function(f){return new ye(f.y,f.x)},bounds:new ge([-180,-90],[180,90])},ze={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ge([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var b=Math.PI/180,C=this.R,U=f.lat*b,W=this.R_MINOR/C,Z=Math.sqrt(1-W*W),me=Z*Math.sin(U),Ne=Math.tan(Math.PI/4-U/2)/Math.pow((1-me)/(1+me),Z/2);return U=-C*Math.log(Math.max(Ne,1e-10)),new X(f.lng*b*C,U)},unproject:function(f){for(var b=180/Math.PI,C=this.R,U=this.R_MINOR/C,W=Math.sqrt(1-U*U),Z=Math.exp(-f.y/C),me=Math.PI/2-2*Math.atan(Z),Ne=0,He=.1,ht;Ne<15&&Math.abs(He)>1e-7;Ne++)ht=W*Math.sin(me),ht=Math.pow((1-ht)/(1+ht),W/2),He=Math.PI/2-2*Math.atan(Z*ht)-me,me+=He;return new ye(me*b,f.x*b/C)}},mt={__proto__:null,LonLat:Me,Mercator:ze,SphericalMercator:rt},qn=i({},Je,{code:"EPSG:3395",projection:ze,transformation:function(){var f=.5/(Math.PI*ze.R);return Be(f,.5,-f,.5)}()}),gi=i({},Je,{code:"EPSG:4326",projection:Me,transformation:Be(1/180,1,-1/180,.5)}),Gn=i({},Se,{projection:Me,transformation:Be(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,b){var C=b.lng-f.lng,U=b.lat-f.lat;return Math.sqrt(C*C+U*U)},infinite:!0});Se.Earth=Je,Se.EPSG3395=qn,Se.EPSG3857=ae,Se.EPSG900913=Re,Se.EPSG4326=gi,Se.Simple=Gn;var dr=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[l(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[l(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var b=f.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var C=this.getEvents();b.on(C,this),this.once("remove",function(){b.off(C,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});jn.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var b=l(f);return this._layers[b]?this:(this._layers[b]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var b=l(f);return this._layers[b]?(this._loaded&&f.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return l(f)in this._layers},eachLayer:function(f,b){for(var C in this._layers)f.call(b,this._layers[C]);return this},_addLayers:function(f){f=f?E(f)?f:[f]:[];for(var b=0,C=f.length;b<C;b++)this.addLayer(f[b])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[l(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var b=l(f);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,b=-1/0,C=this._getZoomSpan();for(var U in this._zoomBoundLayers){var W=this._zoomBoundLayers[U].options;f=W.minZoom===void 0?f:Math.min(f,W.minZoom),b=W.maxZoom===void 0?b:Math.max(b,W.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=f===1/0?void 0:f,C!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=dr.extend({initialize:function(f,b){_(this,b),this._layers={};var C,U;if(f)for(C=0,U=f.length;C<U;C++)this.addLayer(f[C])},addLayer:function(f){var b=this.getLayerId(f);return this._layers[b]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var b=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(f){var b=typeof f=="number"?f:this.getLayerId(f);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var b=Array.prototype.slice.call(arguments,1),C,U;for(C in this._layers)U=this._layers[C],U[f]&&U[f].apply(U,b);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,b){for(var C in this._layers)f.call(b,this._layers[C]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return l(f)}}),Mi=function(f,b){return new Xn(f,b)},wn=Xn.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),Xn.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),Xn.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new Q;for(var b in this._layers){var C=this._layers[b];f.extend(C.getBounds?C.getBounds():C.getLatLng())}return f}}),gl=function(f,b){return new wn(f,b)},Ii=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){_(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,b){var C=this._getIconUrl(f);if(!C){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var U=this._createImg(C,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(U,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),U},_setIconStyles:function(f,b){var C=this.options,U=C[b+"Size"];typeof U=="number"&&(U=[U,U]);var W=q(U),Z=q(b==="shadow"&&C.shadowAnchor||C.iconAnchor||W&&W.divideBy(2,!0));f.className="leaflet-marker-"+b+" "+(C.className||""),Z&&(f.style.marginLeft=-Z.x+"px",f.style.marginTop=-Z.y+"px"),W&&(f.style.width=W.x+"px",f.style.height=W.y+"px")},_createImg:function(f,b){return b=b||document.createElement("img"),b.src=f,b},_getIconUrl:function(f){return $t.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function Uw(f){return new Ii(f)}var ad=Ii.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof ad.imagePath!="string"&&(ad.imagePath=this._detectIconPath()),(this.options.imagePath||ad.imagePath)+Ii.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var b=function(C,U,W){var Z=U.exec(C);return Z&&Z[W]};return f=b(f,/^url\((['"])?(.+)\1\)$/,2),f&&b(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=Ut("div","leaflet-default-icon-path",document.body),b=Wt(f,"background-image")||Wt(f,"backgroundImage");if(document.body.removeChild(f),b=this._stripUrl(b),b)return b;var C=document.querySelector('link[href$="leaflet.css"]');return C?C.href.substring(0,C.href.length-11-1):""}}),xg=Wr.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new Ba(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Yt(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&rr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var b=this._marker,C=b._map,U=this._marker.options.autoPanSpeed,W=this._marker.options.autoPanPadding,Z=Fi(b._icon),me=C.getPixelBounds(),Ne=C.getPixelOrigin(),He=De(me.min._subtract(Ne).add(W),me.max._subtract(Ne).subtract(W));if(!He.contains(Z)){var ht=q((Math.max(He.max.x,Z.x)-He.max.x)/(me.max.x-He.max.x)-(Math.min(He.min.x,Z.x)-He.min.x)/(me.min.x-He.min.x),(Math.max(He.max.y,Z.y)-He.max.y)/(me.max.y-He.max.y)-(Math.min(He.min.y,Z.y)-He.min.y)/(me.min.y-He.min.y)).multiplyBy(U);C.panBy(ht,{animate:!1}),this._draggable._newPos._add(ht),this._draggable._startPos._add(ht),qt(b._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=B(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,f)))},_onDrag:function(f){var b=this._marker,C=b._shadow,U=Fi(b._icon),W=b._map.layerPointToLatLng(U);C&&qt(C,U),b._latlng=W,f.latlng=W,f.oldLatLng=this._oldLatLng,b.fire("move",f).fire("drag",f)},_onDragEnd:function(f){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),od=dr.extend({options:{icon:new ad,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,b){_(this,b),this._latlng=Ie(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var b=this._latlng;return this._latlng=Ie(f),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),C=f.icon.createIcon(this._icon),U=!1;C!==this._icon&&(this._icon&&this._removeIcon(),U=!0,f.title&&(C.title=f.title),C.tagName==="IMG"&&(C.alt=f.alt||"")),Yt(C,b),f.keyboard&&(C.tabIndex="0",C.setAttribute("role","button")),this._icon=C,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&an(C,"focus",this._panOnFocus,this);var W=f.icon.createShadow(this._shadow),Z=!1;W!==this._shadow&&(this._removeShadow(),Z=!0),W&&(Yt(W,b),W.alt=""),this._shadow=W,f.opacity<1&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),W&&Z&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&br(this._icon,"focus",this._panOnFocus,this),kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&kt(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&qt(this._icon,f),this._shadow&&qt(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(Yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xg)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xg(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&fn(this._icon,f),this._shadow&&fn(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var b=this.options.icon.options,C=b.iconSize?q(b.iconSize):q(0,0),U=b.iconAnchor?q(b.iconAnchor):q(0,0);f.panInside(this._latlng,{paddingTopLeft:U,paddingBottomRight:C.subtract(U)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function jw(f,b){return new od(f,b)}var po=dr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return _(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zl=po.extend({options:{fill:!0,radius:10},initialize:function(f,b){_(this,b),this._latlng=Ie(f),this._radius=this.options.radius},setLatLng:function(f){var b=this._latlng;return this._latlng=Ie(f),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var b=f&&f.radius||this._radius;return po.prototype.setStyle.call(this,f),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,b=this._radiusY||f,C=this._clickTolerance(),U=[f+C,b+C];this._pxBounds=new ge(this._point.subtract(U),this._point.add(U))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Dy(f,b){return new Zl(f,b)}var Yu=Zl.extend({initialize:function(f,b,C){if(typeof b=="number"&&(b=i({},C,{radius:b})),_(this,b),this._latlng=Ie(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:po.prototype.setStyle,_project:function(){var f=this._latlng.lng,b=this._latlng.lat,C=this._map,U=C.options.crs;if(U.distance===Je.distance){var W=Math.PI/180,Z=this._mRadius/Je.R/W,me=C.project([b+Z,f]),Ne=C.project([b-Z,f]),He=me.add(Ne).divideBy(2),ht=C.unproject(He).lat,Ct=Math.acos((Math.cos(Z*W)-Math.sin(b*W)*Math.sin(ht*W))/(Math.cos(b*W)*Math.cos(ht*W)))/W;(isNaN(Ct)||Ct===0)&&(Ct=Z/Math.cos(Math.PI/180*b)),this._point=He.subtract(C.getPixelOrigin()),this._radius=isNaN(Ct)?0:He.x-C.project([ht,f-Ct]).x,this._radiusY=He.y-me.y}else{var cn=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=C.latLngToLayerPoint(this._latlng),this._radius=this._point.x-C.latLngToLayerPoint(cn).x}this._updateBounds()}});function _g(f,b,C){return new Yu(f,b,C)}var vl=po.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,b){_(this,b),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var b=1/0,C=null,U=as,W,Z,me=0,Ne=this._parts.length;me<Ne;me++)for(var He=this._parts[me],ht=1,Ct=He.length;ht<Ct;ht++){W=He[ht-1],Z=He[ht];var cn=U(f,W,Z,!0);cn<b&&(b=cn,C=U(f,W,Z))}return C&&(C.distance=Math.sqrt(b)),C},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return G(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,b){return b=b||this._defaultShape(),f=Ie(f),b.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new Q,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return A(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var b=[],C=A(f),U=0,W=f.length;U<W;U++)C?(b[U]=Ie(f[U]),this._bounds.extend(b[U])):b[U]=this._convertLatLngs(f[U]);return b},_project:function(){var f=new ge;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),b=new X(f,f);this._rawPxBounds&&(this._pxBounds=new ge([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(f,b,C){var U=f[0]instanceof ye,W=f.length,Z,me;if(U){for(me=[],Z=0;Z<W;Z++)me[Z]=this._map.latLngToLayerPoint(f[Z]),C.extend(me[Z]);b.push(me)}else for(Z=0;Z<W;Z++)this._projectLatlngs(f[Z],b,C)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,C,U,W,Z,me,Ne,He;for(C=0,W=0,Z=this._rings.length;C<Z;C++)for(He=this._rings[C],U=0,me=He.length;U<me-1;U++)Ne=$c(He[U],He[U+1],f,U,!0),Ne&&(b[W]=b[W]||[],b[W].push(Ne[0]),(Ne[1]!==He[U+1]||U===me-2)&&(b[W].push(Ne[1]),W++))}},_simplifyPoints:function(){for(var f=this._parts,b=this.options.smoothFactor,C=0,U=f.length;C<U;C++)f[C]=id(f[C],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,b){var C,U,W,Z,me,Ne,He=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(C=0,Z=this._parts.length;C<Z;C++)for(Ne=this._parts[C],U=0,me=Ne.length,W=me-1;U<me;W=U++)if(!(!b&&U===0)&&Wc(f,Ne[W],Ne[U])<=He)return!0;return!1}});function Vw(f,b){return new vl(f,b)}vl._flat=V;var Vo=vl.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var b=vl.prototype._convertLatLngs.call(this,f),C=b.length;return C>=2&&b[0]instanceof ye&&b[0].equals(b[C-1])&&b.pop(),b},_setLatLngs:function(f){vl.prototype._setLatLngs.call(this,f),A(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return A(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,b=this.options.weight,C=new X(b,b);if(f=new ge(f.min.subtract(C),f.max.add(C)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var U=0,W=this._rings.length,Z;U<W;U++)Z=qu(this._rings[U],f,!0),Z.length&&this._parts.push(Z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var b=!1,C,U,W,Z,me,Ne,He,ht;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(Z=0,He=this._parts.length;Z<He;Z++)for(C=this._parts[Z],me=0,ht=C.length,Ne=ht-1;me<ht;Ne=me++)U=C[me],W=C[Ne],U.y>f.y!=W.y>f.y&&f.x<(W.x-U.x)*(f.y-U.y)/(W.y-U.y)+U.x&&(b=!b);return b||vl.prototype._containsPoint.call(this,f,!0)}});function zw(f,b){return new Vo(f,b)}var ja=wn.extend({initialize:function(f,b){_(this,b),this._layers={},f&&this.addData(f)},addData:function(f){var b=E(f)?f:f.features,C,U,W;if(b){for(C=0,U=b.length;C<U;C++)W=b[C],(W.geometries||W.geometry||W.features||W.coordinates)&&this.addData(W);return this}var Z=this.options;if(Z.filter&&!Z.filter(f))return this;var me=Us(f,Z);return me?(me.feature=cd(f),me.defaultOptions=me.options,this.resetStyle(me),Z.onEachFeature&&Z.onEachFeature(f,me),this.addLayer(me)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(b){this._setLayerStyle(b,f)},this)},_setLayerStyle:function(f,b){f.setStyle&&(typeof b=="function"&&(b=b(f.feature)),f.setStyle(b))}});function Us(f,b){var C=f.type==="Feature"?f.geometry:f,U=C?C.coordinates:null,W=[],Z=b&&b.pointToLayer,me=b&&b.coordsToLatLng||qc,Ne,He,ht,Ct;if(!U&&!C)return null;switch(C.type){case"Point":return Ne=me(U),ld(Z,f,Ne,b);case"MultiPoint":for(ht=0,Ct=U.length;ht<Ct;ht++)Ne=me(U[ht]),W.push(ld(Z,f,Ne,b));return new wn(W);case"LineString":case"MultiLineString":return He=Va(U,C.type==="LineString"?0:1,me),new vl(He,b);case"Polygon":case"MultiPolygon":return He=Va(U,C.type==="Polygon"?1:2,me),new Vo(He,b);case"GeometryCollection":for(ht=0,Ct=C.geometries.length;ht<Ct;ht++){var cn=Us({geometry:C.geometries[ht],type:"Feature",properties:f.properties},b);cn&&W.push(cn)}return new wn(W);case"FeatureCollection":for(ht=0,Ct=C.features.length;ht<Ct;ht++){var Ln=Us(C.features[ht],b);Ln&&W.push(Ln)}return new wn(W);default:throw new Error("Invalid GeoJSON object.")}}function ld(f,b,C,U){return f?f(b,C):new od(C,U&&U.markersInheritOptions&&U)}function qc(f){return new ye(f[1],f[0],f[2])}function Va(f,b,C){for(var U=[],W=0,Z=f.length,me;W<Z;W++)me=b?Va(f[W],b-1,C):(C||qc)(f[W]),U.push(me);return U}function lp(f,b){return f=Ie(f),f.alt!==void 0?[d(f.lng,b),d(f.lat,b),d(f.alt,b)]:[d(f.lng,b),d(f.lat,b)]}function Ql(f,b,C,U){for(var W=[],Z=0,me=f.length;Z<me;Z++)W.push(b?Ql(f[Z],A(f[Z])?0:b-1,C,U):lp(f[Z],U));return!b&&C&&W.length>0&&W.push(W[0].slice()),W}function Ku(f,b){return f.feature?i({},f.feature,{geometry:b}):cd(b)}function cd(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var Vr={toGeoJSON:function(f){return Ku(this,{type:"Point",coordinates:lp(this.getLatLng(),f)})}};od.include(Vr),Yu.include(Vr),Zl.include(Vr),vl.include({toGeoJSON:function(f){var b=!A(this._latlngs),C=Ql(this._latlngs,b?1:0,!1,f);return Ku(this,{type:(b?"Multi":"")+"LineString",coordinates:C})}}),Vo.include({toGeoJSON:function(f){var b=!A(this._latlngs),C=b&&!A(this._latlngs[0]),U=Ql(this._latlngs,C?2:b?1:0,!0,f);return b||(U=[U]),Ku(this,{type:(C?"Multi":"")+"Polygon",coordinates:U})}}),Xn.include({toMultiPoint:function(f){var b=[];return this.eachLayer(function(C){b.push(C.toGeoJSON(f).geometry.coordinates)}),Ku(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(f){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(f);var C=b==="GeometryCollection",U=[];return this.eachLayer(function(W){if(W.toGeoJSON){var Z=W.toGeoJSON(f);if(C)U.push(Z.geometry);else{var me=cd(Z);me.type==="FeatureCollection"?U.push.apply(U,me.features):U.push(me)}}}),C?Ku(this,{geometries:U,type:"GeometryCollection"}):{type:"FeatureCollection",features:U}}});function cp(f,b){return new ja(f,b)}var Oy=cp,ud=dr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,b,C){this._url=f,this._bounds=et(b),_(this,C)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Dt(this._image),this},bringToBack:function(){return this._map&&Un(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=et(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",b=this._image=f?this._url:Ut("img");if(Yt(b,"leaflet-image-layer"),this._zoomAnimated&&Yt(b,"leaflet-zoom-animated"),this.options.className&&Yt(b,this.options.className),b.onselectstart=h,b.onmousemove=h,b.onload=a(this.fire,this,"load"),b.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(f){var b=this._map.getZoomScale(f.zoom),C=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Dr(this._image,C,b)},_reset:function(){var f=this._image,b=new ge(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),C=b.getSize();qt(f,b.min),f.style.width=C.x+"px",f.style.height=C.y+"px"},_updateOpacity:function(){fn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),wg=function(f,b,C){return new ud(f,b,C)},za=ud.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",b=this._image=f?this._url:Ut("video");if(Yt(b,"leaflet-image-layer"),this._zoomAnimated&&Yt(b,"leaflet-zoom-animated"),this.options.className&&Yt(b,this.options.className),b.onselectstart=h,b.onmousemove=h,b.onloadeddata=a(this.fire,this,"load"),f){for(var C=b.getElementsByTagName("source"),U=[],W=0;W<C.length;W++)U.push(C[W].src);this._url=C.length>0?U:[b.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var Z=0;Z<this._url.length;Z++){var me=Ut("source");me.src=this._url[Z],b.appendChild(me)}}});function hd(f,b,C){return new za(f,b,C)}var ti=ud.extend({_initImage:function(){var f=this._image=this._url;Yt(f,"leaflet-image-layer"),this._zoomAnimated&&Yt(f,"leaflet-zoom-animated"),this.options.className&&Yt(f,this.options.className),f.onselectstart=h,f.onmousemove=h}});function Ss(f,b,C){return new ti(f,b,C)}var Mr=dr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,b){f&&(f instanceof ye||E(f))?(this._latlng=Ie(f),_(this,b)):(_(this,f),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&fn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&fn(this._container,1),this.bringToFront(),this.options.interactive&&(Yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(fn(this._container,0),this._removeTimeout=setTimeout(a(kt,void 0,this._container),200)):kt(this._container),this.options.interactive&&(rr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=Ie(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Dt(this._container),this},bringToBack:function(){return this._map&&Un(this._container),this},_prepareOpen:function(f){var b=this._source;if(!b._map)return!1;if(b instanceof wn){b=null;var C=this._source._layers;for(var U in C)if(C[U]._map){b=C[U];break}if(!b)return!1;this._source=b}if(!f)if(b.getCenter)f=b.getCenter();else if(b.getLatLng)f=b.getLatLng();else if(b.getBounds)f=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")f.innerHTML=b;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),b=q(this.options.offset),C=this._getAnchor();this._zoomAnimated?qt(this._container,f.add(C)):b=b.add(f).add(C);var U=this._containerBottom=-b.y,W=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=U+"px",this._container.style.left=W+"px"}},_getAnchor:function(){return[0,0]}});jn.include({_initOverlay:function(f,b,C,U){var W=b;return W instanceof f||(W=new f(U).setContent(b)),C&&W.setLatLng(C),W}}),dr.include({_initOverlay:function(f,b,C,U){var W=C;return W instanceof f?(_(W,U),W._source=this):(W=b&&!U?b:new f(U,this),W.setContent(C)),W}});var Zu=Mr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,Mr.prototype.openOn.call(this,f)},onAdd:function(f){Mr.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof po||this._source.on("preclick",uo))},onRemove:function(f){Mr.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof po||this._source.off("preclick",uo))},getEvents:function(){var f=Mr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",b=this._container=Ut("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),C=this._wrapper=Ut("div",f+"-content-wrapper",b);if(this._contentNode=Ut("div",f+"-content",C),ss(b),jo(this._contentNode),an(b,"contextmenu",uo),this._tipContainer=Ut("div",f+"-tip-container",b),this._tip=Ut("div",f+"-tip",this._tipContainer),this.options.closeButton){var U=this._closeButton=Ut("a",f+"-close-button",b);U.setAttribute("role","button"),U.setAttribute("aria-label","Close popup"),U.href="#close",U.innerHTML='<span aria-hidden="true">&#215;</span>',an(U,"click",function(W){ei(W),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,b=f.style;b.width="",b.whiteSpace="nowrap";var C=f.offsetWidth;C=Math.min(C,this.options.maxWidth),C=Math.max(C,this.options.minWidth),b.width=C+1+"px",b.whiteSpace="",b.height="";var U=f.offsetHeight,W=this.options.maxHeight,Z="leaflet-popup-scrolled";W&&U>W?(b.height=W+"px",Yt(f,Z)):rr(f,Z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),C=this._getAnchor();qt(this._container,b.add(C))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,b=parseInt(Wt(this._container,"marginBottom"),10)||0,C=this._container.offsetHeight+b,U=this._containerWidth,W=new X(this._containerLeft,-C-this._containerBottom);W._add(Fi(this._container));var Z=f.layerPointToContainerPoint(W),me=q(this.options.autoPanPadding),Ne=q(this.options.autoPanPaddingTopLeft||me),He=q(this.options.autoPanPaddingBottomRight||me),ht=f.getSize(),Ct=0,cn=0;Z.x+U+He.x>ht.x&&(Ct=Z.x+U-ht.x+He.x),Z.x-Ct-Ne.x<0&&(Ct=Z.x-Ne.x),Z.y+C+He.y>ht.y&&(cn=Z.y+C-ht.y+He.y),Z.y-cn-Ne.y<0&&(cn=Z.y-Ne.y),(Ct||cn)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Ct,cn]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),up=function(f,b){return new Zu(f,b)};jn.mergeOptions({closePopupOnClick:!0}),jn.include({openPopup:function(f,b,C){return this._initOverlay(Zu,f,b,C).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),dr.include({bindPopup:function(f,b){return this._popup=this._initOverlay(Zu,this._popup,f,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof wn||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){Fa(f);var b=f.layer||f.target;if(this._popup._source===b&&!(b instanceof po)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=b,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var Xc=Mr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){Mr.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){Mr.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=Mr.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",b=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var b,C,U=this._map,W=this._container,Z=U.latLngToContainerPoint(U.getCenter()),me=U.layerPointToContainerPoint(f),Ne=this.options.direction,He=W.offsetWidth,ht=W.offsetHeight,Ct=q(this.options.offset),cn=this._getAnchor();Ne==="top"?(b=He/2,C=ht):Ne==="bottom"?(b=He/2,C=0):Ne==="center"?(b=He/2,C=ht/2):Ne==="right"?(b=0,C=ht/2):Ne==="left"?(b=He,C=ht/2):me.x<Z.x?(Ne="right",b=0,C=ht/2):(Ne="left",b=He+(Ct.x+cn.x)*2,C=ht/2),f=f.subtract(q(b,C,!0)).add(Ct).add(cn),rr(W,"leaflet-tooltip-right"),rr(W,"leaflet-tooltip-left"),rr(W,"leaflet-tooltip-top"),rr(W,"leaflet-tooltip-bottom"),Yt(W,"leaflet-tooltip-"+Ne),qt(W,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&fn(this._container,f)},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(b)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),cM=function(f,b){return new Xc(f,b)};jn.include({openTooltip:function(f,b,C){return this._initOverlay(Xc,f,b,C).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),dr.include({bindTooltip:function(f,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Xc,this._tooltip,f,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var b=f?"off":"on",C={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?C.add=this._openTooltip:(C.mouseover=this._openTooltip,C.mouseout=this.closeTooltip,C.click=this._openTooltip,this._map?this._addFocusListeners():C.add=this._addFocusListeners),this._tooltip.options.sticky&&(C.mousemove=this._moveTooltip),this[b](C),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof wn||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var b=typeof f.getElement=="function"&&f.getElement();b&&(an(b,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),an(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var b=typeof f.getElement=="function"&&f.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var b=f.latlng,C,U;this._tooltip.options.sticky&&f.originalEvent&&(C=this._map.mouseEventToContainerPoint(f.originalEvent),U=this._map.containerPointToLayerPoint(C),b=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(b)}});var os=Ii.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var b=f&&f.tagName==="DIV"?f:document.createElement("div"),C=this.options;if(C.html instanceof Element?(hn(b),b.appendChild(C.html)):b.innerHTML=C.html!==!1?C.html:"",C.bgPos){var U=q(C.bgPos);b.style.backgroundPosition=-U.x+"px "+-U.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function Ly(f){return new os(f)}Ii.Default=ad;var Qu=dr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$t.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){_(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),kt(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Dt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Un(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof X?f:new X(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var b=this.getPane().children,C=-f(-1/0,1/0),U=0,W=b.length,Z;U<W;U++)Z=b[U].style.zIndex,b[U]!==this._container&&Z&&(C=f(C,+Z));isFinite(C)&&(this.options.zIndex=C+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$t.ielt9){fn(this._container,this.options.opacity);var f=+new Date,b=!1,C=!1;for(var U in this._tiles){var W=this._tiles[U];if(!(!W.current||!W.loaded)){var Z=Math.min(1,(f-W.loaded)/200);fn(W.el,Z),Z<1?b=!0:(W.active?C=!0:this._onOpaqueTile(W),W.active=!0)}}C&&!this._noPrune&&this._pruneTiles(),b&&(z(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,b=this.options.maxZoom;if(f!==void 0){for(var C in this._levels)C=Number(C),this._levels[C].el.children.length||C===f?(this._levels[C].el.style.zIndex=b-Math.abs(f-C),this._onUpdateLevel(C)):(kt(this._levels[C].el),this._removeTilesAtZoom(C),this._onRemoveLevel(C),delete this._levels[C]);var U=this._levels[f],W=this._map;return U||(U=this._levels[f]={},U.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),U.el.style.zIndex=b,U.origin=W.project(W.unproject(W.getPixelOrigin()),f).round(),U.zoom=f,this._setZoomTransform(U,W.getCenter(),W.getZoom()),h(U.el.offsetWidth),this._onCreateLevel(U)),this._level=U,U}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var f,b,C=this._map.getZoom();if(C>this.options.maxZoom||C<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)b=this._tiles[f],b.retain=b.current;for(f in this._tiles)if(b=this._tiles[f],b.current&&!b.active){var U=b.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var b in this._tiles)this._tiles[b].coords.z===f&&this._removeTile(b)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)kt(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,b,C,U){var W=Math.floor(f/2),Z=Math.floor(b/2),me=C-1,Ne=new X(+W,+Z);Ne.z=+me;var He=this._tileCoordsToKey(Ne),ht=this._tiles[He];return ht&&ht.active?(ht.retain=!0,!0):(ht&&ht.loaded&&(ht.retain=!0),me>U?this._retainParent(W,Z,me,U):!1)},_retainChildren:function(f,b,C,U){for(var W=2*f;W<2*f+2;W++)for(var Z=2*b;Z<2*b+2;Z++){var me=new X(W,Z);me.z=C+1;var Ne=this._tileCoordsToKey(me),He=this._tiles[Ne];if(He&&He.active){He.retain=!0;continue}else He&&He.loaded&&(He.retain=!0);C+1<U&&this._retainChildren(W,Z,C+1,U)}},_resetView:function(f){var b=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var b=this.options;return b.minNativeZoom!==void 0&&f<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<f?b.maxNativeZoom:f},_setView:function(f,b,C,U){var W=Math.round(b);this.options.maxZoom!==void 0&&W>this.options.maxZoom||this.options.minZoom!==void 0&&W<this.options.minZoom?W=void 0:W=this._clampZoom(W);var Z=this.options.updateWhenZooming&&W!==this._tileZoom;(!U||Z)&&(this._tileZoom=W,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),W!==void 0&&this._update(f),C||this._pruneTiles(),this._noPrune=!!C),this._setZoomTransforms(f,b)},_setZoomTransforms:function(f,b){for(var C in this._levels)this._setZoomTransform(this._levels[C],f,b)},_setZoomTransform:function(f,b,C){var U=this._map.getZoomScale(C,f.zoom),W=f.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(b,C)).round();$t.any3d?Dr(f.el,W,U):qt(f.el,W)},_resetGrid:function(){var f=this._map,b=f.options.crs,C=this._tileSize=this.getTileSize(),U=this._tileZoom,W=this._map.getPixelWorldBounds(this._tileZoom);W&&(this._globalTileRange=this._pxBoundsToTileRange(W)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,b.wrapLng[0]],U).x/C.x),Math.ceil(f.project([0,b.wrapLng[1]],U).x/C.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([b.wrapLat[0],0],U).y/C.x),Math.ceil(f.project([b.wrapLat[1],0],U).y/C.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var b=this._map,C=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),U=b.getZoomScale(C,this._tileZoom),W=b.project(f,this._tileZoom).floor(),Z=b.getSize().divideBy(U*2);return new ge(W.subtract(Z),W.add(Z))},_update:function(f){var b=this._map;if(b){var C=this._clampZoom(b.getZoom());if(f===void 0&&(f=b.getCenter()),this._tileZoom!==void 0){var U=this._getTiledPixelBounds(f),W=this._pxBoundsToTileRange(U),Z=W.getCenter(),me=[],Ne=this.options.keepBuffer,He=new ge(W.getBottomLeft().subtract([Ne,-Ne]),W.getTopRight().add([Ne,-Ne]));if(!(isFinite(W.min.x)&&isFinite(W.min.y)&&isFinite(W.max.x)&&isFinite(W.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ht in this._tiles){var Ct=this._tiles[ht].coords;(Ct.z!==this._tileZoom||!He.contains(new X(Ct.x,Ct.y)))&&(this._tiles[ht].current=!1)}if(Math.abs(C-this._tileZoom)>1){this._setView(f,C);return}for(var cn=W.min.y;cn<=W.max.y;cn++)for(var Ln=W.min.x;Ln<=W.max.x;Ln++){var js=new X(Ln,cn);if(js.z=this._tileZoom,!!this._isValidTile(js)){var Pi=this._tiles[this._tileCoordsToKey(js)];Pi?Pi.current=!0:me.push(js)}}if(me.sort(function(ua,Ju){return ua.distanceTo(Z)-Ju.distanceTo(Z)}),me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ca=document.createDocumentFragment();for(Ln=0;Ln<me.length;Ln++)this._addTile(me[Ln],ca);this._level.el.appendChild(ca)}}}},_isValidTile:function(f){var b=this._map.options.crs;if(!b.infinite){var C=this._globalTileRange;if(!b.wrapLng&&(f.x<C.min.x||f.x>C.max.x)||!b.wrapLat&&(f.y<C.min.y||f.y>C.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(f);return et(this.options.bounds).overlaps(U)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var b=this._map,C=this.getTileSize(),U=f.scaleBy(C),W=U.add(C),Z=b.unproject(U,f.z),me=b.unproject(W,f.z);return[Z,me]},_tileCoordsToBounds:function(f){var b=this._tileCoordsToNwSe(f),C=new Q(b[0],b[1]);return this.options.noWrap||(C=this._map.wrapLatLngBounds(C)),C},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var b=f.split(":"),C=new X(+b[0],+b[1]);return C.z=+b[2],C},_removeTile:function(f){var b=this._tiles[f];b&&(kt(b.el),delete this._tiles[f],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){Yt(f,"leaflet-tile");var b=this.getTileSize();f.style.width=b.x+"px",f.style.height=b.y+"px",f.onselectstart=h,f.onmousemove=h,$t.ielt9&&this.options.opacity<1&&fn(f,this.options.opacity)},_addTile:function(f,b){var C=this._getTilePos(f),U=this._tileCoordsToKey(f),W=this.createTile(this._wrapCoords(f),a(this._tileReady,this,f));this._initTile(W),this.createTile.length<2&&B(a(this._tileReady,this,f,null,W)),qt(W,C),this._tiles[U]={el:W,coords:f,current:!0},b.appendChild(W),this.fire("tileloadstart",{tile:W,coords:f})},_tileReady:function(f,b,C){b&&this.fire("tileerror",{error:b,tile:C,coords:f});var U=this._tileCoordsToKey(f);C=this._tiles[U],C&&(C.loaded=+new Date,this._map._fadeAnimated?(fn(C.el,0),z(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(C.active=!0,this._pruneTiles()),b||(Yt(C.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:C.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$t.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var b=new X(this._wrapX?u(f.x,this._wrapX):f.x,this._wrapY?u(f.y,this._wrapY):f.y);return b.z=f.z,b},_pxBoundsToTileRange:function(f){var b=this.getTileSize();return new ge(f.min.unscaleBy(b).floor(),f.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function Fy(f){return new Qu(f)}var la=Qu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,b){this._url=f,b=_(this,b),b.detectRetina&&$t.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,b){return this._url===f&&b===void 0&&(b=!0),this._url=f,b||this.redraw(),this},createTile:function(f,b){var C=document.createElement("img");return an(C,"load",a(this._tileOnLoad,this,b,C)),an(C,"error",a(this._tileOnError,this,b,C)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(C.referrerPolicy=this.options.referrerPolicy),C.alt="",C.src=this.getTileUrl(f),C},getTileUrl:function(f){var b={r:$t.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var C=this._globalTileRange.max.y-f.y;this.options.tms&&(b.y=C),b["-y"]=C}return S(this._url,i(b,this.options))},_tileOnLoad:function(f,b){$t.ielt9?setTimeout(a(f,this,null,b),0):f(null,b)},_tileOnError:function(f,b,C){var U=this.options.errorTileUrl;U&&b.getAttribute("src")!==U&&(b.src=U),f(C,b)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,b=this.options.maxZoom,C=this.options.zoomReverse,U=this.options.zoomOffset;return C&&(f=b-f),f+U},_getSubdomain:function(f){var b=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var f,b;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(b=this._tiles[f].el,b.onload=h,b.onerror=h,!b.complete)){b.src=D;var C=this._tiles[f].coords;kt(b),delete this._tiles[f],this.fire("tileabort",{tile:b,coords:C})}},_removeTile:function(f){var b=this._tiles[f];if(b)return b.el.setAttribute("src",D),Qu.prototype._removeTile.call(this,f)},_tileReady:function(f,b,C){if(!(!this._map||C&&C.getAttribute("src")===D))return Qu.prototype._tileReady.call(this,f,b,C)}});function zo(f,b){return new la(f,b)}var Yc=la.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,b){this._url=f;var C=i({},this.defaultWmsParams);for(var U in b)U in this.options||(C[U]=b[U]);b=_(this,b);var W=b.detectRetina&&$t.retina?2:1,Z=this.getTileSize();C.width=Z.x*W,C.height=Z.y*W,this.wmsParams=C},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,la.prototype.onAdd.call(this,f)},getTileUrl:function(f){var b=this._tileCoordsToNwSe(f),C=this._crs,U=De(C.project(b[0]),C.project(b[1])),W=U.min,Z=U.max,me=(this._wmsVersion>=1.3&&this._crs===gi?[W.y,W.x,Z.y,Z.x]:[W.x,W.y,Z.x,Z.y]).join(","),Ne=la.prototype.getTileUrl.call(this,f);return Ne+w(this.wmsParams,Ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+me},setParams:function(f,b){return i(this.wmsParams,f),b||this.redraw(),this}});function bg(f,b){return new Yc(f,b)}la.WMS=Yc,zo.wms=bg;var mo=dr.extend({options:{padding:.1},initialize:function(f){_(this,f),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,b){var C=this._map.getZoomScale(b,this._zoom),U=this._map.getSize().multiplyBy(.5+this.options.padding),W=this._map.project(this._center,b),Z=U.multiplyBy(-C).add(W).subtract(this._map._getNewPixelOrigin(f,b));$t.any3d?Dr(this._container,Z,C):qt(this._container,Z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,b=this._map.getSize(),C=this._map.containerPointToLayerPoint(b.multiplyBy(-f)).round();this._bounds=new ge(C,C.add(b.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),By=mo.extend({options:{tolerance:0},getEvents:function(){var f=mo.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");an(f,"mousemove",this._onMouseMove,this),an(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),an(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,kt(this._container),br(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var b in this._layers)f=this._layers[b],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mo.prototype._update.call(this);var f=this._bounds,b=this._container,C=f.getSize(),U=$t.retina?2:1;qt(b,f.min),b.width=U*C.x,b.height=U*C.y,b.style.width=C.x+"px",b.style.height=C.y+"px",$t.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){mo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[l(f)]=f;var b=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var b=f._order,C=b.next,U=b.prev;C?C.prev=U:this._drawLast=U,U?U.next=C:this._drawFirst=C,delete f._order,delete this._layers[l(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var b=f.options.dashArray.split(/[, ]+/),C=[],U,W;for(W=0;W<b.length;W++){if(U=Number(b[W]),isNaN(U))return;C.push(U)}f.options._dashArray=C}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var b=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ge,this._redrawBounds.extend(f._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(f._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var b=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,b=this._redrawBounds;if(this._ctx.save(),b){var C=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,C.x,C.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)f=U.layer,(!b||f._pxBounds&&f._pxBounds.intersects(b))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,b){if(this._drawing){var C,U,W,Z,me=f._parts,Ne=me.length,He=this._ctx;if(Ne){for(He.beginPath(),C=0;C<Ne;C++){for(U=0,W=me[C].length;U<W;U++)Z=me[C][U],He[U?"lineTo":"moveTo"](Z.x,Z.y);b&&He.closePath()}this._fillStroke(He,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var b=f._point,C=this._ctx,U=Math.max(Math.round(f._radius),1),W=(Math.max(Math.round(f._radiusY),1)||U)/U;W!==1&&(C.save(),C.scale(1,W)),C.beginPath(),C.arc(b.x,b.y/W,U,0,Math.PI*2,!1),W!==1&&C.restore(),this._fillStroke(C,f)}},_fillStroke:function(f,b){var C=b.options;C.fill&&(f.globalAlpha=C.fillOpacity,f.fillStyle=C.fillColor||C.color,f.fill(C.fillRule||"evenodd")),C.stroke&&C.weight!==0&&(f.setLineDash&&f.setLineDash(b.options&&b.options._dashArray||[]),f.globalAlpha=C.opacity,f.lineWidth=C.weight,f.strokeStyle=C.color,f.lineCap=C.lineCap,f.lineJoin=C.lineJoin,f.stroke())},_onClick:function(f){for(var b=this._map.mouseEventToLayerPoint(f),C,U,W=this._drawFirst;W;W=W.next)C=W.layer,C.options.interactive&&C._containsPoint(b)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(C))&&(U=C);this._fireEvent(U?[U]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,b)}},_handleMouseOut:function(f){var b=this._hoveredLayer;b&&(rr(this._container,"leaflet-interactive"),this._fireEvent([b],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,b){if(!this._mouseHoverThrottled){for(var C,U,W=this._drawFirst;W;W=W.next)C=W.layer,C.options.interactive&&C._containsPoint(b)&&(U=C);U!==this._hoveredLayer&&(this._handleMouseOut(f),U&&(Yt(this._container,"leaflet-interactive"),this._fireEvent([U],f,"mouseover"),this._hoveredLayer=U)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,b,C){this._map._fireDOMEvent(b,C||b.type,f)},_bringToFront:function(f){var b=f._order;if(b){var C=b.next,U=b.prev;if(C)C.prev=U;else return;U?U.next=C:C&&(this._drawFirst=C),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(f)}},_bringToBack:function(f){var b=f._order;if(b){var C=b.next,U=b.prev;if(U)U.next=C;else return;C?C.prev=U:U&&(this._drawLast=U),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(f)}}});function Uy(f){return $t.canvas?new By(f):null}var dd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hw={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mo.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var b=f._container=dd("shape");Yt(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",f._path=dd("path"),b.appendChild(f._path),this._updateStyle(f),this._layers[l(f)]=f},_addPath:function(f){var b=f._container;this._container.appendChild(b),f.options.interactive&&f.addInteractiveTarget(b)},_removePath:function(f){var b=f._container;kt(b),f.removeInteractiveTarget(b),delete this._layers[l(f)]},_updateStyle:function(f){var b=f._stroke,C=f._fill,U=f.options,W=f._container;W.stroked=!!U.stroke,W.filled=!!U.fill,U.stroke?(b||(b=f._stroke=dd("stroke")),W.appendChild(b),b.weight=U.weight+"px",b.color=U.color,b.opacity=U.opacity,U.dashArray?b.dashStyle=E(U.dashArray)?U.dashArray.join(" "):U.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=U.lineCap.replace("butt","flat"),b.joinstyle=U.lineJoin):b&&(W.removeChild(b),f._stroke=null),U.fill?(C||(C=f._fill=dd("fill")),W.appendChild(C),C.color=U.fillColor||U.color,C.opacity=U.fillOpacity):C&&(W.removeChild(C),f._fill=null)},_updateCircle:function(f){var b=f._point.round(),C=Math.round(f._radius),U=Math.round(f._radiusY||C);this._setPath(f,f._empty()?"M0 0":"AL "+b.x+","+b.y+" "+C+","+U+" 0,"+65535*360)},_setPath:function(f,b){f._path.v=b},_bringToFront:function(f){Dt(f._container)},_bringToBack:function(f){Un(f._container)}},hp=$t.vml?dd:ke,fd=mo.extend({_initContainer:function(){this._container=hp("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hp("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){kt(this._container),br(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mo.prototype._update.call(this);var f=this._bounds,b=f.getSize(),C=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,C.setAttribute("width",b.x),C.setAttribute("height",b.y)),qt(C,f.min),C.setAttribute("viewBox",[f.min.x,f.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(f){var b=f._path=hp("path");f.options.className&&Yt(b,f.options.className),f.options.interactive&&Yt(b,"leaflet-interactive"),this._updateStyle(f),this._layers[l(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){kt(f._path),f.removeInteractiveTarget(f._path),delete this._layers[l(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var b=f._path,C=f.options;b&&(C.stroke?(b.setAttribute("stroke",C.color),b.setAttribute("stroke-opacity",C.opacity),b.setAttribute("stroke-width",C.weight),b.setAttribute("stroke-linecap",C.lineCap),b.setAttribute("stroke-linejoin",C.lineJoin),C.dashArray?b.setAttribute("stroke-dasharray",C.dashArray):b.removeAttribute("stroke-dasharray"),C.dashOffset?b.setAttribute("stroke-dashoffset",C.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),C.fill?(b.setAttribute("fill",C.fillColor||C.color),b.setAttribute("fill-opacity",C.fillOpacity),b.setAttribute("fill-rule",C.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(f,b){this._setPath(f,$e(f._parts,b))},_updateCircle:function(f){var b=f._point,C=Math.max(Math.round(f._radius),1),U=Math.max(Math.round(f._radiusY),1)||C,W="a"+C+","+U+" 0 1,0 ",Z=f._empty()?"M0 0":"M"+(b.x-C)+","+b.y+W+C*2+",0 "+W+-C*2+",0 ";this._setPath(f,Z)},_setPath:function(f,b){f._path.setAttribute("d",b)},_bringToFront:function(f){Dt(f._path)},_bringToBack:function(f){Un(f._path)}});$t.vml&&fd.include(Hw);function Sg(f){return $t.svg||$t.vml?new fd(f):null}jn.include({getRenderer:function(f){var b=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var b=this._paneRenderers[f];return b===void 0&&(b=this._createRenderer({pane:f}),this._paneRenderers[f]=b),b},_createRenderer:function(f){return this.options.preferCanvas&&Uy(f)||Sg(f)}});var pd=Vo.extend({initialize:function(f,b){Vo.prototype.initialize.call(this,this._boundsToLatLngs(f),b)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=et(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function Ww(f,b){return new pd(f,b)}fd.create=hp,fd.pointsToPath=$e,ja.geometryToLayer=Us,ja.coordsToLatLng=qc,ja.coordsToLatLngs=Va,ja.latLngToCoords=lp,ja.latLngsToCoords=Ql,ja.getFeature=Ku,ja.asFeature=cd,jn.mergeOptions({boxZoom:!0});var dp=Wr.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){an(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){br(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ui(),sp(),this._startPoint=this._map.mouseEventToContainerPoint(f),an(document,{contextmenu:Fa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),Yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var b=new ge(this._point,this._startPoint),C=b.getSize();qt(this._box,b.min),this._box.style.width=C.x+"px",this._box.style.height=C.y+"px"},_finish:function(){this._moved&&(kt(this._box),rr(this._container,"leaflet-crosshair")),Fs(),Hu(),br(document,{contextmenu:Fa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var b=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jn.addInitHook("addHandler","boxZoom",dp),jn.mergeOptions({doubleClickZoom:!0});var fp=Wr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var b=this._map,C=b.getZoom(),U=b.options.zoomDelta,W=f.originalEvent.shiftKey?C-U:C+U;b.options.doubleClickZoom==="center"?b.setZoom(W):b.setZoomAround(f.containerPoint,W)}});jn.addInitHook("addHandler","doubleClickZoom",fp),jn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Eg=Wr.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new Ba(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}Yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){rr(this._map._container,"leaflet-grab"),rr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=et(this._map.options.maxBounds);this._offsetLimit=De(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var b=this._lastTime=+new Date,C=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(C),this._times.push(b),this._prunePositions(b)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,b){return f-(f-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;f.x<b.min.x&&(f.x=this._viscousLimit(f.x,b.min.x)),f.y<b.min.y&&(f.y=this._viscousLimit(f.y,b.min.y)),f.x>b.max.x&&(f.x=this._viscousLimit(f.x,b.max.x)),f.y>b.max.y&&(f.y=this._viscousLimit(f.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,b=Math.round(f/2),C=this._initialWorldOffset,U=this._draggable._newPos.x,W=(U-b+C)%f+b-C,Z=(U+b+C)%f-b-C,me=Math.abs(W+C)<Math.abs(Z+C)?W:Z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=me},_onDragEnd:function(f){var b=this._map,C=b.options,U=!C.inertia||f.noInertia||this._times.length<2;if(b.fire("dragend",f),U)b.fire("moveend");else{this._prunePositions(+new Date);var W=this._lastPos.subtract(this._positions[0]),Z=(this._lastTime-this._times[0])/1e3,me=C.easeLinearity,Ne=W.multiplyBy(me/Z),He=Ne.distanceTo([0,0]),ht=Math.min(C.inertiaMaxSpeed,He),Ct=Ne.multiplyBy(ht/He),cn=ht/(C.inertiaDeceleration*me),Ln=Ct.multiplyBy(-cn/2).round();!Ln.x&&!Ln.y?b.fire("moveend"):(Ln=b._limitOffset(Ln,b.options.maxBounds),B(function(){b.panBy(Ln,{duration:cn,easeLinearity:me,noMoveStart:!0,animate:!0})}))}}});jn.addInitHook("addHandler","dragging",Eg),jn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var md=Wr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),an(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),br(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,b=document.documentElement,C=f.scrollTop||b.scrollTop,U=f.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(U,C)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var b=this._panKeys={},C=this.keyCodes,U,W;for(U=0,W=C.left.length;U<W;U++)b[C.left[U]]=[-1*f,0];for(U=0,W=C.right.length;U<W;U++)b[C.right[U]]=[f,0];for(U=0,W=C.down.length;U<W;U++)b[C.down[U]]=[0,f];for(U=0,W=C.up.length;U<W;U++)b[C.up[U]]=[0,-1*f]},_setZoomDelta:function(f){var b=this._zoomKeys={},C=this.keyCodes,U,W;for(U=0,W=C.zoomIn.length;U<W;U++)b[C.zoomIn[U]]=f;for(U=0,W=C.zoomOut.length;U<W;U++)b[C.zoomOut[U]]=-f},_addHooks:function(){an(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){br(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var b=f.keyCode,C=this._map,U;if(b in this._panKeys){if(!C._panAnim||!C._panAnim._inProgress)if(U=this._panKeys[b],f.shiftKey&&(U=q(U).multiplyBy(3)),C.options.maxBounds&&(U=C._limitOffset(q(U),C.options.maxBounds)),C.options.worldCopyJump){var W=C.wrapLatLng(C.unproject(C.project(C.getCenter()).add(U)));C.panTo(W)}else C.panBy(U)}else if(b in this._zoomKeys)C.setZoom(C.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&C._popup&&C._popup.options.closeOnEscapeKey)C.closePopup();else return;Fa(f)}}});jn.addInitHook("addHandler","keyboard",md),jn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jy=Wr.extend({addHooks:function(){an(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){br(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var b=Jh(f),C=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var U=Math.max(C-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),U),Fa(f)},_performZoom:function(){var f=this._map,b=f.getZoom(),C=this._map.options.zoomSnap||0;f._stop();var U=this._delta/(this._map.options.wheelPxPerZoomLevel*4),W=4*Math.log(2/(1+Math.exp(-Math.abs(U))))/Math.LN2,Z=C?Math.ceil(W/C)*C:W,me=f._limitZoom(b+(this._delta>0?Z:-Z))-b;this._delta=0,this._startTime=null,me&&(f.options.scrollWheelZoom==="center"?f.setZoom(b+me):f.setZoomAround(this._lastMousePos,b+me))}});jn.addInitHook("addHandler","scrollWheelZoom",jy);var Gw=600;jn.mergeOptions({tapHold:$t.touchNative&&$t.safari&&$t.mobile,tapTolerance:15});var Vy=Wr.extend({addHooks:function(){an(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){br(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var b=f.touches[0];this._startPos=this._newPos=new X(b.clientX,b.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(an(document,"touchend",ei),an(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),Gw),an(document,"touchend touchcancel contextmenu",this._cancel,this),an(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){br(document,"touchend",ei),br(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),br(document,"touchend touchcancel contextmenu",this._cancel,this),br(document,"touchmove",this._onMove,this)},_onMove:function(f){var b=f.touches[0];this._newPos=new X(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,b){var C=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});C._simulated=!0,b.target.dispatchEvent(C)}});jn.addInitHook("addHandler","tapHold",Vy),jn.mergeOptions({touchZoom:$t.touch,bounceAtZoomLimits:!0});var zy=Wr.extend({addHooks:function(){Yt(this._map._container,"leaflet-touch-zoom"),an(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){rr(this._map._container,"leaflet-touch-zoom"),br(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var b=this._map;if(!(!f.touches||f.touches.length!==2||b._animatingZoom||this._zooming)){var C=b.mouseEventToContainerPoint(f.touches[0]),U=b.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(C.add(U)._divideBy(2))),this._startDist=C.distanceTo(U),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),an(document,"touchmove",this._onTouchMove,this),an(document,"touchend touchcancel",this._onTouchEnd,this),ei(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var b=this._map,C=b.mouseEventToContainerPoint(f.touches[0]),U=b.mouseEventToContainerPoint(f.touches[1]),W=C.distanceTo(U)/this._startDist;if(this._zoom=b.getScaleZoom(W,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&W<1||this._zoom>b.getMaxZoom()&&W>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,W===1)return}else{var Z=C._add(U)._divideBy(2)._subtract(this._centerPoint);if(W===1&&Z.x===0&&Z.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(Z),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var me=a(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(me,this,!0),ei(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),br(document,"touchmove",this._onTouchMove,this),br(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jn.addInitHook("addHandler","touchZoom",zy),jn.BoxZoom=dp,jn.DoubleClickZoom=fp,jn.Drag=Eg,jn.Keyboard=md,jn.ScrollWheelZoom=jy,jn.TapHold=Vy,jn.TouchZoom=zy,t.Bounds=ge,t.Browser=$t,t.CRS=Se,t.Canvas=By,t.Circle=Yu,t.CircleMarker=Zl,t.Class=K,t.Control=sa,t.DivIcon=os,t.DivOverlay=Mr,t.DomEvent=yg,t.DomUtil=Qh,t.Draggable=Ba,t.Evented=ce,t.FeatureGroup=wn,t.GeoJSON=ja,t.GridLayer=Qu,t.Handler=Wr,t.Icon=Ii,t.ImageOverlay=ud,t.LatLng=ye,t.LatLngBounds=Q,t.Layer=dr,t.LayerGroup=Xn,t.LineUtil=te,t.Map=jn,t.Marker=od,t.Mixin=bs,t.Path=po,t.Point=X,t.PolyUtil=Yl,t.Polygon=Vo,t.Polyline=vl,t.Popup=Zu,t.PosAnimation=ia,t.Projection=mt,t.Rectangle=pd,t.Renderer=mo,t.SVG=fd,t.SVGOverlay=ti,t.TileLayer=la,t.Tooltip=Xc,t.Transformation=ut,t.Util=H,t.VideoOverlay=za,t.bind=a,t.bounds=De,t.canvas=Uy,t.circle=_g,t.circleMarker=Dy,t.control=jr,t.divIcon=Ly,t.extend=i,t.featureGroup=gl,t.geoJSON=cp,t.geoJson=Oy,t.gridLayer=Fy,t.icon=Uw,t.imageOverlay=wg,t.latLng=Ie,t.latLngBounds=et,t.layerGroup=Mi,t.map=Xl,t.marker=jw,t.point=q,t.polygon=zw,t.polyline=Vw,t.popup=up,t.rectangle=Ww,t.setOptions=_,t.stamp=l,t.svg=Sg,t.svgOverlay=Ss,t.tileLayer=zo,t.tooltip=cM,t.transformation=Be,t.version=r,t.videoOverlay=hd;var Hy=window.L;t.noConflict=function(){return window.L=Hy,this},window.L=t})})(qk,qk.exports);var bw=qk.exports;function _C(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function wC(n,e){return e==null?function(r,i){const s=F.useRef();return s.current||(s.current=n(r,i)),s}:function(r,i){const s=F.useRef();s.current||(s.current=n(r,i));const a=F.useRef(r),{instance:o}=s.current;return F.useEffect(function(){a.current!==r&&(e(o,r,a.current),a.current=r)},[o,r,i]),s}}function Fee(n,e){F.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function Bee(n){return function(t){const r=f4(),i=n(xC(t,r),r);return Nee(r.map,t.attribution),p4(i.current,t.eventHandlers),Fee(i.current,r),i}}function rIe(n,e){const t=F.useRef();F.useEffect(function(){if(e.pathOptions!==t.current){const i=e.pathOptions??{};n.instance.setStyle(i),t.current=i}},[n,e])}function iIe(n){return function(t){const r=f4(),i=n(xC(t,r),r);return p4(i.current,t.eventHandlers),Fee(i.current,r),rIe(i.current,t),i}}function sIe(n,e){const t=wC(n,e),r=Bee(t);return Lee(r)}function aIe(n,e){const t=wC(n),r=nIe(t,e);return eIe(r)}function oIe(n,e){const t=wC(n,e),r=iIe(t);return Lee(r)}function lIe(n,e){const t=wC(n,e),r=Bee(t);return tIe(r)}function cIe(n,e,t){const{opacity:r,zIndex:i}=e;r!=null&&r!==t.opacity&&n.setOpacity(r),i!=null&&i!==t.zIndex&&n.setZIndex(i)}function Xk(){return Xk=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xk.apply(this,arguments)}function uIe({bounds:n,boundsOptions:e,center:t,children:r,className:i,id:s,placeholder:a,style:o,whenReady:l,zoom:c,...u},h){const[d]=F.useState({className:i,id:s,style:o}),[p,g]=F.useState(null);F.useImperativeHandle(h,()=>(p==null?void 0:p.map)??null,[p]);const _=F.useCallback(x=>{if(x!==null&&p===null){const S=new bw.Map(x,u);t!=null&&c!=null?S.setView(t,c):n!=null&&S.fitBounds(n,e),l!=null&&S.whenReady(l),g(JMe(S))}},[]);F.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const w=p?Rn.createElement(Oee,{value:p},r):a??null;return Rn.createElement("div",Xk({},d,{ref:_}),w)}const hIe=F.forwardRef(uIe),Qj=sIe(function({position:e,...t},r){const i=new bw.Marker(e,t);return _C(i,kee(r,{overlayContainer:i}))},function(e,t,r){t.position!==r.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==r.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==r.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==r.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),dIe=oIe(function({positions:e,...t},r){const i=new bw.Polyline(e,t);return _C(i,kee(r,{overlayContainer:i}))},function(e,t,r){t.positions!==r.positions&&e.setLatLngs(t.positions)}),Jj=aIe(function(e,t){const r=new bw.Popup(e,t.overlayContainer);return _C(r,t)},function(e,t,{position:r},i){F.useEffect(function(){const{instance:a}=e;function o(c){c.popup===a&&(a.update(),i(!0))}function l(c){c.popup===a&&i(!1)}return t.map.on({popupopen:o,popupclose:l}),t.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(t.map)):t.overlayContainer.bindPopup(a),function(){var u;t.map.off({popupopen:o,popupclose:l}),(u=t.overlayContainer)==null||u.unbindPopup(),t.map.removeLayer(a)}},[e,t,i,r])}),fIe=lIe(function({url:e,...t},r){const i=new bw.TileLayer(e,xC(t,r));return _C(i,r)},function(e,t,r){cIe(e,t,r);const{url:i}=t;i!=null&&i!==r.url&&e.setUrl(i)});function pIe(n){let e=0;for(let t=0;t<n.length;t++)e=n.charCodeAt(t)+((e<<5)-e);return`hsl(${e%360}, 70%, 50%)`}const mIe=({points:n,history:e=[]})=>{if(!n.length&&!e.length)return m.jsx("div",{children:"Tidak ada data tracker."});const t=n.length?[n[0].lat,n[0].lon]:[e[0].lat,e[0].lon],r={};return e.forEach(i=>{r[i.nama]||(r[i.nama]=[]),r[i.nama].push(i)}),m.jsxs(hIe,{center:t,zoom:13,style:{height:"400px",width:"100%"},scrollWheelZoom:!0,children:[m.jsx(fIe,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Object.entries(r).map(([i,s])=>m.jsx(dIe,{positions:s.map(a=>[a.lat,a.lon]),pathOptions:{color:pIe(i),weight:4}},i)),e.map((i,s)=>m.jsx(Qj,{position:[i.lat,i.lon],children:m.jsxs(Jj,{children:[m.jsx("b",{children:i.nama}),m.jsx("br",{}),i.time]})},s)),n.map((i,s)=>m.jsx(Qj,{position:[i.lat,i.lon],children:m.jsxs(Jj,{children:[m.jsxs("b",{children:[i.nama," (Terakhir)"]}),m.jsx("br",{}),i.time]})},`latest-${s}`))]})};function gIe(){const[n,e]=F.useState(null),[t,r]=F.useState(""),[i,s]=F.useState(""),[a,o]=F.useState(""),[l,c]=F.useState([]),[u,h]=F.useState([]),[d,p]=F.useState([]),[g,_]=F.useState([]),[w,x]=F.useState([]),[S,E]=F.useState([]),[T,D]=F.useState("activities"),[k,I]=F.useState(!1),[N,P]=F.useState(!1),[R,B]=F.useState(null),[z,H]=F.useState("activity"),[K,J]=F.useState(!1),[se,ce]=F.useState([]),[X,ue]=F.useState(!1),[q,ge]=F.useState(!1),[De,Q]=F.useState([]),et=w.length>0&&De.length===w.length;F.useEffect(()=>{const ne=VD(Th,Ae=>{e(Ae)});return()=>ne()},[]),F.useEffect(()=>{n&&Ie()},[n]);const ye=async ne=>{ne.preventDefault(),o("");try{if(await jD(Th,t,i),t)try{await El({action:"Login",detail:"Login ke halaman admin",user:t})}catch(Ae){window.alert("Gagal menulis log admin: "+((Ae==null?void 0:Ae.message)||Ae))}}catch(Ae){o("Login failed: "+Ae.message)}},Ie=async()=>{try{const ne=await Is(Di(An,"recycle_bin")),Ae=new Set(ne.docs.map(re=>re.id)),Fe=await Is(Di(An,"activities"));c(Fe.docs.filter(re=>!Ae.has(re.id)).map(re=>({id:re.id,...re.data()})));const ot=await Is(Di(An,"gallerys"));h(ot.docs.filter(re=>!Ae.has(re.id)).map(re=>({id:re.id,title:re.data().title||"",description:re.data().description||"",imageUrl:re.data().imageUrl||"",activityId:re.data().activityId||"",createdAt:re.data().createdAt||null,updatedAt:re.data().updatedAt||null})));const vt=await Is(Di(An,"learnings"));_(vt.docs.filter(re=>!Ae.has(re.id)).map(re=>({id:re.id,title:re.data().title||"",description:re.data().description||"",icon:re.data().icon||"",link:re.data().link||"",createdAt:re.data().createdAt||null,updatedAt:re.data().updatedAt||null})));const ie=await Is(Di(An,"anggota")),Y=["Caba","Cella","Ratel","Lupus","Orca","Loni","Ola"],xe=[];ie.docs.forEach(re=>{const pe=re.data();Y.includes(pe.namalengkap)&&pe.statusMahasiswa!=="Aktif"&&xe.push(Xo(hi(An,"anggota",re.id),{...pe,statusMahasiswa:"Aktif"},{merge:!0}))}),xe.length>0&&await Promise.all(xe),p(ie.docs.filter(re=>!Ae.has(re.id)).map(re=>{const pe=re.data();return{id:re.id,fullName:pe.namalengkap||"",fieldName:pe.namalapangan||"",batchName:pe.namaangkatan||"",batchYear:pe.tahun||0,registrationNumber:pe.nomorregistrasi||"",membershipStatus:pe.keanggotaan||"Tidak Aktif",photoUrl:pe.foto||"",qrCode:pe.url||"",email:pe.email||"",phone:pe.phone||"",gender:pe.gender||"",statusMahasiswa:pe.statusMahasiswa}}))}catch(ne){console.error("Error fetching data:",ne)}},Se=async()=>{const ne=await Is(Di(An,"gps_tracker"));x(ne.docs.map(Ae=>({id:Ae.id,...Ae.data()})))},Je=async()=>{const ne=await Is(Di(An,"gps_history"));E(ne.docs.map(Ae=>({id:Ae.id,...Ae.data()})))},Qe=ne=>window.alert(ne),rt=async ne=>{try{let Ae=z==="member"?"anggota":z==="learning"?"learnings":z+"s";if(z==="member"&&!K){const ot=(await Is(Di(An,"anggota"))).docs.map(xe=>parseInt(xe.id,10)).filter(xe=>!isNaN(xe)),vt=ot.length>0?Math.max(...ot)+1:1,ie=String(vt).padStart(4,"0"),Y={namalengkap:ne.namalengkap||ne.fullName||"",namalapangan:ne.namalapangan||ne.fieldName||"",namaangkatan:ne.namaangkatan||ne.batchName||"",tahun:ne.tahun||ne.batchYear||new Date().getFullYear(),nomorregistrasi:ne.nomorregistrasi||ne.registrationNumber||"",keanggotaan:ne.keanggotaan||ne.membershipStatus||"Anggota Muda",foto:ne.foto||ne.photoUrl||"",email:ne.email||"",phone:ne.phone||"",gender:ne.gender||"",statusMahasiswa:ne.statusMahasiswa,url:ne.url||"",updateat:new Date().toISOString(),id:ie};await Xo(hi(An,"anggota",ie),Y);try{await El({action:"Tambah Member",detail:`Tambah member baru: ${Y.namalengkap} (${ie})`,user:(n==null?void 0:n.email)||"unknown"})}catch(xe){window.alert("Gagal menulis log admin: "+((xe==null?void 0:xe.message)||xe))}Qe("Data anggota berhasil ditambahkan dengan ID otomatis!"),I(!1),await Ie();return}if(z==="member"&&(ne.id||ne.customId)){const Fe=ne.customId||ne.id,ot={namalengkap:ne.namalengkap||ne.fullName||"",namalapangan:ne.namalapangan||ne.fieldName||"",namaangkatan:ne.namaangkatan||ne.batchName||"",tahun:ne.tahun||ne.batchYear||new Date().getFullYear(),nomorregistrasi:ne.nomorregistrasi||ne.registrationNumber||"",keanggotaan:ne.keanggotaan||ne.membershipStatus||"Anggota Muda",foto:ne.foto||ne.photoUrl||"",email:ne.email||"",phone:ne.phone||"",gender:ne.gender||"",statusMahasiswa:ne.statusMahasiswa,url:ne.url||"",updateat:new Date().toISOString(),id:Fe};await Xo(hi(An,Ae,Fe),ot);try{await El({action:"Edit Member",detail:`Edit member: ${ot.namalengkap} (${Fe})`,user:(n==null?void 0:n.email)||"unknown"})}catch(vt){window.alert("Gagal menulis log admin: "+((vt==null?void 0:vt.message)||vt))}Qe("Data anggota berhasil diperbarui!")}else if(K&&z==="activity"&&ne.id){const Fe={title:ne.title||"",description:ne.description||"",date:ne.date||"",category:ne.category||"",imageUrl:ne.imageUrl||"",id:ne.id};await Xo(hi(An,"activities",ne.id),Fe);try{await El({action:"Edit Activity",detail:`Edit activity: ${Fe.title} (${ne.id})`,user:(n==null?void 0:n.email)||"unknown"})}catch(ot){window.alert("Gagal menulis log admin: "+((ot==null?void 0:ot.message)||ot))}Qe("Data kegiatan berhasil diperbarui!")}else if(K&&z==="gallery"&&ne.id){const Fe={title:ne.title||"",description:ne.description||"",imageUrl:ne.imageUrl||"",activityId:ne.activityId||"",createdAt:ne.createdAt||null,updatedAt:new Date().toISOString(),id:ne.id};await Xo(hi(An,"gallerys",ne.id),Fe);try{await El({action:"Edit Gallery",detail:`Edit gallery: ${Fe.title} (${ne.id})`,user:(n==null?void 0:n.email)||"unknown"})}catch(ot){window.alert("Gagal menulis log admin: "+((ot==null?void 0:ot.message)||ot))}Qe("Data galeri berhasil diperbarui!")}else if(K&&z==="learning"&&ne.id){const Fe={title:ne.title||"",description:ne.description||"",icon:ne.icon||"",link:ne.link||"",updatedAt:new Date().toISOString(),id:ne.id};await Xo(hi(An,"learnings",ne.id),Fe);try{await El({action:"Edit Learning",detail:`Edit learning: ${Fe.title} (${ne.id})`,user:(n==null?void 0:n.email)||"unknown"})}catch(ot){window.alert("Gagal menulis log admin: "+((ot==null?void 0:ot.message)||ot))}Qe("Data pembelajaran berhasil diperbarui!")}else if(z==="activity"&&!K){const Fe={title:ne.title||"",description:ne.description||"",date:ne.date||"",category:ne.category||"",imageUrl:ne.imageUrl||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await f1(Di(An,"activities"),Fe);try{await El({action:"Tambah Activity",detail:`Tambah activity: ${Fe.title}`,user:(n==null?void 0:n.email)||"unknown"})}catch(ot){window.alert("Gagal menulis log admin: "+((ot==null?void 0:ot.message)||ot))}Qe("Data kegiatan berhasil ditambahkan!")}else if(z==="learning"&&!K){const Fe={title:ne.title||"",description:ne.description||"",icon:ne.icon||"",link:ne.link||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await f1(Di(An,"learnings"),Fe);try{await El({action:"Tambah Learning",detail:`Tambah learning: ${Fe.title}`,user:(n==null?void 0:n.email)||"unknown"})}catch(ot){window.alert("Gagal menulis log admin: "+((ot==null?void 0:ot.message)||ot))}Qe("Data pembelajaran berhasil ditambahkan!")}else if(z==="member"&&ne.customId){const{customId:Fe,...ot}=ne;await Xo(hi(An,"anggota",Fe),ot);try{await El({action:"Tambah Member (Custom ID)",detail:`Tambah member custom: ${ot.namalengkap} (${Fe})`,user:(n==null?void 0:n.email)||"unknown"})}catch(vt){window.alert("Gagal menulis log admin: "+((vt==null?void 0:vt.message)||vt))}Qe("Data berhasil ditambahkan dengan ID custom!")}else{await f1(Di(An,Ae),ne);try{await El({action:"Tambah Data",detail:`Tambah data ke ${Ae}`,user:(n==null?void 0:n.email)||"unknown"})}catch(Fe){window.alert("Gagal menulis log admin: "+((Fe==null?void 0:Fe.message)||Fe))}Qe("Data berhasil ditambahkan!")}I(!1),await Ie()}catch(Ae){Qe("Gagal menyimpan data!"),console.error(Ae)}},ut=ne=>ne==="activity"?"activities":ne==="gallery"?"gallerys":ne==="member"?"anggota":ne==="learning"?"learnings":"",Be=async(ne,Ae)=>{const Fe=ne||z,ot=Ae||R;if(!ot||!ot.id){Qe("Data tidak valid atau ID tidak ditemukan!");return}let vt=Fe,ie=ot.id,Y=ut(vt);try{const xe=await yy(hi(An,Y,ie));if(!xe.exists()){Qe("Data tidak ditemukan di database!");return}const pe={...xe.data(),originalType:vt,deletedAt:new Date().toISOString()};await Xo(hi(An,"recycle_bin",ie),pe),await f0(hi(An,Y,ie));try{await El({action:"Hapus Data",detail:`Hapus data ${vt} (${ie})`,user:(n==null?void 0:n.email)||"unknown"})}catch(_e){window.alert("Gagal menulis log admin: "+((_e==null?void 0:_e.message)||_e))}P(!1),ge(!1),B(null),await Ie(),await ae(),Qe("Data berhasil dipindahkan ke Recycle Bin!")}catch(xe){Qe("Gagal menghapus data!"),console.error(xe)}},ae=async()=>{ue(!0);const ne=await Is(Di(An,"recycle_bin")),Ae=new Date;await Promise.all(ne.docs.map(async ot=>{const vt=ot.data();vt.deletedAt&&n_e(Ae,new Date(vt.deletedAt))>30&&await f0(hi(An,"recycle_bin",ot.id))}));const Fe=await Is(Di(An,"recycle_bin"));ce(Fe.docs.map(ot=>({id:ot.id,...ot.data()}))),ue(!1)};F.useEffect(()=>{T==="recycle"?ae():T==="tracker"&&(Se(),Je())},[T]);function Re(ne){if(!ne)return"-";const Ae="Asia/Jakarta";let Fe;if(typeof ne=="string"){if(Fe=new Date(ne),isNaN(Fe.getTime()))return ne}else if(ne instanceof Date)Fe=ne;else return"-";const ot=cMe(Fe,Ae);return lMe(ot,"yyyy-MM-dd HH:mm:ss",{timeZone:Ae})+" WIB"}function ke(){Q(et?[]:w.map(ne=>ne.id))}function $e(ne){Q(Ae=>Ae.includes(ne)?Ae.filter(Fe=>Fe!==ne):[...Ae,ne])}const We=async()=>{if(window.confirm("Yakin ingin menghapus data tracker yang dipilih?")){for(const ne of De)await f0(hi(An,"gps_tracker",ne));Q([]),Se(),Qe("Data tracker terpilih berhasil dihapus!")}};return n?m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),m.jsxs(Ht,{variant:"ghost",className:"flex items-center gap-2",onClick:()=>Th.signOut(),children:[m.jsx(x0e,{className:"h-4 w-4"}),"Logout"]})]}),m.jsxs(AMe,{value:T,onValueChange:D,children:[m.jsxs(ree,{className:"mb-8 overflow-x-auto whitespace-nowrap scrollbar-hide px-2 -mx-4",children:[m.jsxs(Wp,{value:"activities",className:"flex items-center gap-2 group transition-all duration-200 bg-muted data-[state=active]:bg-primary/10 data-[state=active]:shadow-lg data-[state=active]:scale-105 data-[state=inactive]:hover:bg-muted/70 data-[state=inactive]:bg-muted/90",children:[m.jsx(qX,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[state=active]:inline ml-1 group-hover:font-semibold group-data-[state=active]:font-bold group-data-[state=active]:text-primary",children:"Activities"})]}),m.jsxs(Wp,{value:"gallery",className:"flex items-center gap-2 group transition-all duration-200 bg-muted data-[state=active]:bg-primary/10 data-[state=active]:shadow-lg data-[state=active]:scale-105 data-[state=inactive]:hover:bg-muted/70 data-[state=inactive]:bg-muted/90",children:[m.jsx(g0e,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[state=active]:inline ml-1 group-hover:font-semibold group-data-[state=active]:font-bold group-data-[state=active]:text-primary",children:"Gallery"})]}),m.jsxs(Wp,{value:"members",className:"flex items-center gap-2 group transition-all duration-200 bg-muted data-[state=active]:bg-primary/10 data-[state=active]:shadow-lg data-[state=active]:scale-105 data-[state=inactive]:hover:bg-muted/70 data-[state=inactive]:bg-muted/90",children:[m.jsx(DO,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[state=active]:inline ml-1 group-hover:font-semibold group-data-[state=active]:font-bold group-data-[state=active]:text-primary",children:"Members"})]}),m.jsxs(Wp,{value:"learning",className:"flex items-center gap-2 group transition-all duration-200 bg-muted data-[state=active]:bg-primary/10 data-[state=active]:shadow-lg data-[state=active]:scale-105 data-[state=inactive]:hover:bg-muted/70 data-[state=inactive]:bg-muted/90",children:[m.jsx(o0e,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[state=active]:inline ml-1 group-hover:font-semibold group-data-[state=active]:font-bold group-data-[state=active]:text-primary",children:"Learnings"})]}),m.jsxs(Wp,{value:"recycle",className:"flex items-center gap-2 group transition-all duration-200 bg-muted data-[state=active]:bg-primary/10 data-[state=active]:shadow-lg data-[state=active]:scale-105 data-[state=inactive]:hover:bg-muted/70 data-[state=inactive]:bg-muted/90",children:[m.jsx(sx,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[state=active]:inline ml-1 group-hover:font-semibold group-data-[state=active]:font-bold group-data-[state=active]:text-primary",children:"Recycle Bin"})]}),m.jsxs(Wp,{value:"tracker",className:"flex items-center gap-2 group transition-all duration-200 bg-muted data-[state=active]:bg-primary/10 data-[state=active]:shadow-lg data-[state=active]:scale-105 data-[state=inactive]:hover:bg-muted/70 data-[state=inactive]:bg-muted/90",children:[m.jsx(YX,{className:"h-4 w-4"}),m.jsx("span",{className:"hidden sm:inline transition-all duration-200 group-hover:inline group-focus:inline group-active:inline group-data-[state=active]:inline ml-1 group-hover:font-semibold group-data-[state=active]:font-bold group-data-[state=active]:text-primary",children:"Tracker"})]})]}),m.jsxs(Gp,{value:"learning",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Learning Management"}),m.jsxs(Ht,{onClick:()=>{H("learning"),J(!1),B(null),I(!0)},className:"flex items-center gap-2",children:[m.jsx(CB,{className:"h-4 w-4"}),"Add Learning"]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto w-full",children:m.jsxs(F0,{children:[m.jsx(B0,{children:m.jsxs(oc,{children:[m.jsx(Lr,{children:"Title"}),m.jsx(Lr,{children:"Description"}),m.jsx(Lr,{children:"Icon"}),m.jsx(Lr,{children:"Link"}),m.jsx(Lr,{className:"text-right",children:"Actions"})]})}),m.jsx(U0,{children:g.map(ne=>m.jsxs(oc,{children:[m.jsx(Fr,{className:"font-medium",children:ne.title}),m.jsx(Fr,{children:ne.description}),m.jsx(Fr,{children:ne.icon?m.jsxs("span",{className:"inline-flex items-center gap-1",children:[m.jsx("i",{className:`fa fa-${ne.icon}`})," ",ne.icon]}):m.jsx("span",{className:"text-gray-400",children:"-"})}),m.jsx(Fr,{children:ne.link?m.jsx("a",{href:ne.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:"Lihat"}):m.jsx("span",{className:"text-gray-400",children:"-"})}),m.jsx(Fr,{className:"text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(Ht,{variant:"ghost",size:"icon",onClick:()=>{H("learning"),J(!0),B(ne),I(!0)},children:m.jsx(Wb,{className:"h-4 w-4"})}),m.jsx(Ht,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{B(ne),H("learning"),P(!0)},children:m.jsx(sx,{className:"h-4 w-4"})})]})})]},ne.id))})]})})]}),m.jsxs(Gp,{value:"activities",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Activities Management"}),m.jsxs(Ht,{onClick:()=>{H("activity"),J(!1),B(null),I(!0)},className:"flex items-center gap-2",children:[m.jsx(CB,{className:"h-4 w-4"}),"Add Activity"]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:m.jsxs(F0,{className:"min-w-[600px]",children:[m.jsx(B0,{children:m.jsxs(oc,{children:[m.jsx(Lr,{children:"Title"}),m.jsx(Lr,{children:"Date"}),m.jsx(Lr,{children:"Category"}),m.jsx(Lr,{className:"text-right",children:"Actions"})]})}),m.jsx(U0,{children:l.map(ne=>m.jsxs(oc,{children:[m.jsx(Fr,{className:"font-medium",children:ne.title}),m.jsx(Fr,{children:new Date(ne.date).toLocaleDateString()}),m.jsx(Fr,{children:m.jsx(Ja,{children:ne.category})}),m.jsx(Fr,{className:"text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(Ht,{variant:"ghost",size:"icon",onClick:()=>{H("activity"),J(!0),B(ne),I(!0)},children:m.jsx(Wb,{className:"h-4 w-4"})}),m.jsx(Ht,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{B(ne),H("activity"),P(!0)},children:m.jsx(sx,{className:"h-4 w-4"})})]})})]},ne.id))})]})})]}),m.jsxs(Gp,{value:"gallery",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Gallery Management"}),m.jsxs(Ht,{onClick:()=>{H("gallery"),J(!1),B(null),I(!0)},className:"flex items-center gap-2",children:[m.jsx(m0e,{className:"h-4 w-4"}),"Add Image"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(ne=>m.jsxs(Nu,{className:"overflow-hidden",children:[m.jsx("div",{className:"relative aspect-video",children:m.jsx("img",{src:ne.imageUrl,alt:ne.title,className:"w-full h-full object-cover"})}),m.jsxs(Um,{className:"p-4",children:[m.jsx("h3",{className:"font-semibold",children:ne.title}),m.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:ne.description}),m.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[m.jsx(Ht,{variant:"ghost",size:"sm",onClick:()=>{H("gallery"),J(!0),B(ne),I(!0)},children:m.jsx(Wb,{className:"h-4 w-4"})}),m.jsx(Ht,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>{B(ne),H("gallery"),P(!0)},children:m.jsx(sx,{className:"h-4 w-4"})})]})]})]},ne.id))})]}),m.jsxs(Gp,{value:"members",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Members Management"}),m.jsxs(Ht,{onClick:()=>{H("member"),J(!1),B(null),I(!0)},className:"flex items-center gap-2",children:[m.jsx(C0e,{className:"h-4 w-4"}),"Add Member"]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow",children:m.jsxs(F0,{children:[m.jsx(B0,{children:m.jsxs(oc,{children:[m.jsx(Lr,{className:"w-[250px]",children:"Informasi Anggota"}),m.jsx(Lr,{children:"Info Kontak"}),m.jsx(Lr,{children:"Angkatan"}),m.jsx(Lr,{children:"Keanggotaan"}),m.jsx(Lr,{children:"Status Mahasiswa"}),m.jsx(Lr,{className:"text-right",children:"Actions"})]})}),m.jsx(U0,{children:d.map(ne=>m.jsxs(oc,{children:[m.jsx(Fr,{children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100",children:ne.photoUrl?m.jsx("img",{src:ne.photoUrl,alt:ne.fullName,className:"h-full w-full object-cover"}):m.jsx("div",{className:"h-full w-full flex items-center justify-center bg-primary/10 text-primary",children:ne.fullName.charAt(0).toUpperCase()})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium",children:ne.fullName}),m.jsx("div",{className:"text-sm text-gray-500",children:m.jsx(Ja,{variant:"outline",className:"mt-1",children:ne.fieldName||"Belum ada nama lapangan"})}),m.jsx("div",{className:"text-sm text-gray-500 mt-1",children:ne.registrationNumber||"No. Reg belum diatur"})]})]})}),m.jsx(Fr,{children:m.jsxs("div",{className:"text-sm",children:[m.jsx("div",{children:ne.email||"-"}),m.jsx("div",{className:"text-gray-500",children:ne.phone||"-"}),m.jsx("div",{className:"text-gray-500 mt-1",children:m.jsx(Ja,{variant:"secondary",className:"text-xs text-zinc-50",children:(()=>{const Ae=(ne.gender||"").toString().trim().toUpperCase();return Ae==="L"||Ae==="LAKI-LAKI"||Ae==="LAKI"||Ae==="LKI"?"Laki-laki":Ae==="P"||Ae==="PEREMPUAN"||Ae==="PR"||Ae==="WANITA"?"Perempuan":Ae.length>0?ne.gender:"Belum diatur"})()})})]})}),m.jsx(Fr,{children:m.jsxs("div",{className:"text-sm",children:[m.jsx("div",{children:ne.batchName||"Belum diatur"}),m.jsx("div",{className:"text-gray-500",children:ne.batchYear?`Tahun ${ne.batchYear}`:"Tahun belum diatur"})]})}),m.jsx(Fr,{children:ne.membershipStatus==="Anggota Penuh"?m.jsx(Ja,{className:"bg-green-600 text-white font-bold border-green-700 shadow",children:ne.membershipStatus}):ne.membershipStatus==="Anggota Muda"?m.jsx(Ja,{className:"bg-blue-100 text-blue-800 border-blue-200",children:ne.membershipStatus}):ne.membershipStatus==="Aktif"?m.jsx(Ja,{className:"bg-green-100 text-green-800 border-green-200",children:ne.membershipStatus}):ne.membershipStatus==="Tidak Aktif"?m.jsx(Ja,{className:"bg-red-100 text-red-800 border-red-200",children:ne.membershipStatus}):m.jsx(Ja,{className:"bg-gray-100 text-gray-800 border-gray-200",children:ne.membershipStatus})}),m.jsx(Fr,{children:m.jsx(Ja,{className:ne.statusMahasiswa==="Aktif"?"bg-green-100 text-green-800 border-green-200":ne.statusMahasiswa==="Tidak Aktif"?"bg-red-100 text-red-800 border-red-200":ne.statusMahasiswa==="Lulus"?"bg-blue-100 text-blue-800 border-blue-200":ne.statusMahasiswa==="Cuti"?"bg-yellow-100 text-yellow-900 border-yellow-300":"bg-gray-100 text-gray-800 border-gray-200",children:ne.statusMahasiswa||"Belum diatur"})}),m.jsx(Fr,{className:"text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(Ht,{variant:"ghost",size:"icon",onClick:()=>{H("member"),J(!0),B(ne),I(!0)},children:m.jsx(Wb,{className:"h-4 w-4"})}),m.jsx(Ht,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{B(ne),H("member"),P(!0)},children:m.jsx(sx,{className:"h-4 w-4"})})]})})]},ne.id))})]})})]}),m.jsxs(Gp,{value:"recycle",children:[m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Recycle Bin"}),m.jsx(Ht,{onClick:ae,variant:"outline",size:"sm",children:"Refresh"})]}),X?m.jsx("div",{className:"py-10 text-center text-gray-500",children:"Loading..."}):se.length===0?m.jsx("div",{className:"py-10 text-center text-gray-500",children:"Recycle Bin kosong."}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(F0,{children:[m.jsx(B0,{children:m.jsxs(oc,{children:[m.jsx(Lr,{children:"Jenis"}),m.jsx(Lr,{children:"Nama/Title"}),m.jsx(Lr,{children:"Dihapus Pada"}),m.jsx(Lr,{className:"text-right",children:"Aksi"})]})}),m.jsx(U0,{children:se.map(ne=>m.jsxs(oc,{children:[m.jsx(Fr,{children:ne.originalType}),m.jsx(Fr,{children:ne.fullName||ne.title||"-"}),m.jsx(Fr,{children:ne.deletedAt?new Date(ne.deletedAt).toLocaleString():"-"}),m.jsxs(Fr,{className:"text-right flex gap-2 justify-end",children:[m.jsx(Ht,{size:"sm",variant:"outline",onClick:async()=>{try{const{id:Ae,originalType:Fe,deletedAt:ot,...vt}=ne;let ie=Fe==="member"?"anggota":Fe==="activity"?"activities":Fe+"s",Y=vt;Fe==="activity"&&(Y={title:vt.title||"",description:vt.description||"",date:vt.date||"",category:vt.category||"",imageUrl:vt.imageUrl||"",id:Ae}),await Xo(hi(An,ie,Ae),Y),await f0(hi(An,"recycle_bin",Ae)),await Ie(),await ae(),Qe("Data berhasil dipulihkan!")}catch(Ae){Qe("Gagal memulihkan data!"),console.error(Ae)}},children:"Pulihkan"}),m.jsx(Ht,{size:"sm",variant:"destructive",onClick:async()=>{if(window.confirm("Yakin ingin menghapus data ini secara permanen?"))try{await f0(hi(An,"recycle_bin",ne.id)),await ae(),Qe("Data berhasil dihapus permanen!")}catch(Ae){Qe("Gagal menghapus data permanen!"),console.error(Ae)}},children:"Hapus Permanen"})]})]},ne.id))})]})})]}),m.jsxs(Gp,{value:"tracker",children:[m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"GPS Tracker"}),m.jsx(Ht,{onClick:Se,variant:"outline",size:"sm",children:"Refresh"})]}),m.jsx("div",{className:"mb-6",children:m.jsx(mIe,{points:w.map(ne=>({lat:ne.lat,lon:ne.lon,nama:ne.nama,time:ne.time})),history:S.map(ne=>({lat:ne.lat,lon:ne.lon,nama:ne.nama,time:ne.time}))})}),m.jsxs("div",{className:"overflow-x-auto bg-white rounded-lg shadow p-2",children:[m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",checked:et,onChange:ke,className:"accent-primary h-4 w-4"}),"Nama"]})}),m.jsx("th",{children:"Waktu"}),m.jsx("th",{children:"Lat"}),m.jsx("th",{children:"Lon"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"View Maps"})]})}),m.jsx("tbody",{children:w.map(ne=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",checked:De.includes(ne.id),onChange:()=>$e(ne.id),className:"accent-primary h-4 w-4"}),ne.nama]})}),m.jsx("td",{children:Re(ne.time)}),m.jsx("td",{children:ne.lat}),m.jsx("td",{children:ne.lon}),m.jsx("td",{children:m.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold ${ne.online?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:ne.online?"Online":"Offline"})}),m.jsx("td",{children:ne.lat&&ne.lon?m.jsx("a",{href:`https://www.google.com/maps?q=${ne.lat},${ne.lon}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",title:"Lihat di Google Maps",children:"Lihat Maps"}):m.jsx("span",{className:"text-gray-400",children:"-"})})]},ne.id))})]}),m.jsx("div",{className:"mt-2 flex gap-2",children:m.jsx(Ht,{variant:"destructive",size:"sm",disabled:De.length===0,onClick:We,children:"Hapus Data Terpilih"})})]})]})]}),m.jsx(ZMe,{open:k,onOpenChange:I,type:z,isEditing:K,initialData:R,onSubmit:rt,activities:l}),m.jsx(jMe,{open:N,onOpenChange:P,children:m.jsxs(Aee,{children:[m.jsxs(Tee,{children:[m.jsx(Mee,{children:"Konfirmasi Hapus"}),m.jsx(Iee,{children:"Data akan dipindahkan ke Recycle Bin dan dapat dipulihkan dalam 30 hari. Centang untuk melanjutkan."})]}),m.jsxs("div",{className:"flex items-center gap-2 my-4",children:[m.jsx("input",{type:"checkbox",id:"delete-check",checked:q,onChange:ne=>ge(ne.target.checked),className:"accent-red-600 h-4 w-4"}),m.jsx("label",{htmlFor:"delete-check",className:"text-sm select-none",children:"Saya yakin ingin menghapus data ini"})]}),m.jsxs(Cee,{children:[m.jsx(Ree,{children:"Batal"}),m.jsx(Pee,{className:"bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",onClick:()=>Be(R&&z,R),disabled:!q,children:"Hapus"})]})]})})]}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsxs(Nu,{className:"w-[350px]",children:[m.jsx($O,{children:m.jsx(jY,{className:"text-2xl font-bold text-center",children:"Admin Login"})}),m.jsx(Um,{children:m.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"email",children:"Email"}),m.jsx(xi,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:ne=>r(ne.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ii,{htmlFor:"password",children:"Password"}),m.jsx(xi,{id:"password",type:"password",value:i,onChange:ne=>s(ne.target.value),required:!0})]}),a&&m.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:a}),m.jsx(Ht,{type:"submit",className:"w-full",children:"Login"})]})})]})})}function vIe(){const n=hX(),{data:e,isLoading:t}=bL(),r=e==null?void 0:e.find(s=>s.id===n.id);if(t)return m.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!r)return m.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Kegiatan Tidak Ditemukan"}),m.jsx("p",{className:"text-gray-500 mb-6",children:"Kegiatan yang Anda cari tidak tersedia atau telah dihapus."}),m.jsx(Jo,{href:"/kegiatan",children:m.jsx("a",{className:"px-6 py-2 bg-primary text-white rounded-lg font-semibold shadow hover:bg-primary/90 transition",children:"Kembali ke Daftar Kegiatan"})})]});const i=vL(new Date(r.date),"EEEE, d MMMM yyyy",{locale:LK});return m.jsx("section",{className:"py-12 bg-gradient-to-br from-white to-blue-50 min-h-[80vh]",children:m.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[m.jsx("div",{className:"mb-8",children:m.jsx(Jo,{href:"/kegiatan",children:m.jsxs("a",{className:"inline-flex items-center gap-2 text-primary hover:underline font-medium mb-4",children:[m.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Kembali ke Daftar Kegiatan"]})})}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden",children:[m.jsxs("div",{className:"relative h-64 md:h-80 w-full overflow-hidden",children:[m.jsx("img",{src:r.imageUrl||"https://images.unsplash.com/photo-1511632765486-a01980e01a18?auto=format&fit=crop&w=800&h=450",alt:r.title,className:"w-full h-full object-cover object-center transition hover:scale-105 duration-700"}),m.jsx("div",{className:"absolute top-4 left-4",children:m.jsx(Ja,{variant:"secondary",className:"text-base px-4 py-2 shadow-lg bg-white/80 text-primary font-bold border border-primary",children:r.category})})]}),m.jsxs("div",{className:"p-8 md:p-10",children:[m.jsx("h1",{className:"font-heading text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:r.title}),m.jsx("div",{className:"flex items-center gap-4 mb-6 flex-wrap",children:m.jsxs("span",{className:"inline-flex items-center gap-2 text-gray-500",children:[m.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i]})}),m.jsx("div",{className:"prose max-w-none text-lg text-gray-700 mb-8",children:r.description}),m.jsx("div",{className:"flex flex-wrap gap-3 mt-8",children:m.jsxs(Ja,{className:"bg-gradient-to-r from-primary to-blue-400 text-white px-4 py-2 text-base font-semibold shadow",children:["Kategori: ",r.category]})})]})]})]})})}function yIe(){ow();const[n,e]=F.useState(null),[t,r]=F.useState(!0),[i,s]=F.useState(!1),a=new URLSearchParams(window.location.search),o=a.get("type")||"fieldName",l=a.get("input")||"";F.useEffect(()=>{r(!0),bJ(o,l).then(u=>{e(u?{fullName:u.fullName,fieldName:u.fieldName,batchName:u.batchName,batchYear:u.batchYear,registrationNumber:u.registrationNumber,membershipStatus:u.membershipStatus,photoUrl:u.photoUrl,statusMahasiswa:u.statusMahasiswa}:null),r(!1)})},[o,l]);const c=async()=>{if(n!=null&&n.photoUrl){s(!0);try{const h=await(await fetch(n.photoUrl)).blob(),d=window.URL.createObjectURL(h),p=document.createElement("a");p.href=d,p.download=`kartu-anggota-${n.registrationNumber||n.fieldName}.png`,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(d);const w=await(await fetch("https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/refs/heads/main/Img/back.png")).blob(),x=window.URL.createObjectURL(w),S=document.createElement("a");S.href=x,S.download=`kartu-anggota-${n.registrationNumber||n.fieldName}-belakang.png`,document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(x)}catch{alert("Gagal mengunduh kartu. Silakan coba lagi.")}s(!1)}};return t?m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("span",{children:"Loading..."})}):n?m.jsx("div",{className:"max-w-5xl mx-auto p-2 sm:p-4",children:m.jsxs(Nu,{className:"p-2 sm:p-6",children:[m.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-center mb-4 sm:mb-6",children:"Verifikasi Kartu Anggota"}),n.photoUrl&&m.jsx("div",{className:"flex justify-center mb-6",children:m.jsxs(Ht,{className:"gap-2 bg-primary text-white",onClick:c,disabled:i,children:[m.jsx(kO,{className:"w-4 h-4"}),i?"Mengunduh...":"Unduh Kartu Anggota Untuk Print"]})}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-8 mb-4 sm:mb-8",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center w-full sm:w-1/2 relative",id:"member-card-front",children:[n.statusMahasiswa==="Aktif"&&m.jsx(Zn.span,{initial:{opacity:.7,textShadow:"0 0 0px #22c55e"},animate:{opacity:[.7,1,.7],textShadow:["0 0 0px #22c55e","0 0 12px #22c55e, 0 0 24px #16a34a","0 0 0px #22c55e"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute top-3 right-2 z-10 px-3 py-1 rounded-full font-bold text-sm select-none",style:{color:"#22c55e"},children:" Mahasiswa Aktif"}),n.photoUrl?m.jsx("div",{className:"p-2 border-2 border-gray-400 rounded-lg",children:m.jsx("img",{src:n.photoUrl,alt:"Kartu Anggota",className:"rounded-lg shadow-lg max-w-full h-auto"})}):m.jsx("div",{className:"p-2 border-2 border-gray-400 rounded-lg w-full flex items-center justify-center min-h-[275px]",children:m.jsx("span",{className:"text-gray-400 text-center",children:"Kartu anggota tidak tersedia."})})]}),m.jsxs("div",{className:"w-full sm:w-1/2",children:[m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Detail Anggota"}),m.jsxs("div",{className:"divide-y text-xs sm:text-base",children:[m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Nama Lengkap"}),m.jsx("span",{children:n.fullName})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Nomor Registrasi"}),m.jsx("span",{children:n.registrationNumber})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Nama Lapangan"}),m.jsx("span",{children:n.fieldName})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Nama Angkatan"}),m.jsx("span",{children:n.batchName})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Tahun Angkatan"}),m.jsx("span",{children:n.batchYear})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Keanggotaan"}),m.jsx("span",{children:n.membershipStatus})]})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 sm:mt-8 text-xs text-gray-500 gap-2",children:[m.jsxs("span",{children:[" ",new Date().getFullYear()," Mahapala Narotama"]}),m.jsx("span",{children:"www.mahapalanarotama.web.id"})]})]})}):m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("span",{children:"Data anggota tidak ditemukan."})})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const bC="179",$p={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},qp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Uee=0,Yk=1,jee=2,xIe=3,Vee=0,SC=1,b1=2,lc=3,Hh=0,io=1,hu=2,Ih=0,Sm=1,Kk=2,Zk=3,Qk=4,zee=5,Kd=100,Hee=101,Wee=102,Gee=103,$ee=104,qee=200,Xee=201,Yee=202,Kee=203,nA=204,rA=205,Zee=206,Qee=207,Jee=208,ete=209,tte=210,nte=211,rte=212,ite=213,ste=214,iA=0,sA=1,aA=2,Xm=3,oA=4,lA=5,cA=6,uA=7,Sw=0,ate=1,ote=2,Tu=0,lte=1,cte=2,ute=3,m4=4,hte=5,dte=6,fte=7,Jk="attached",pte="detached",EC=300,Wh=301,Hf=302,b_=303,S_=304,Ay=306,E_=1e3,Dl=1001,A_=1002,Ks=1003,g4=1004,_Ie=1004,j0=1005,wIe=1005,vs=1006,S1=1007,bIe=1007,pu=1008,SIe=1008,zl=1009,v4=1010,y4=1011,Yv=1012,AC=1013,Gh=1014,Ro=1015,Ty=1016,TC=1017,CC=1018,Kv=1020,x4=35902,_4=1021,w4=1022,Ca=1023,Zv=1026,Qv=1027,MC=1028,Ew=1029,b4=1030,IC=1031,EIe=1032,PC=1033,E1=33776,A1=33777,T1=33778,C1=33779,hA=35840,dA=35841,fA=35842,pA=35843,mA=36196,gA=37492,vA=37496,yA=37808,xA=37809,_A=37810,wA=37811,bA=37812,SA=37813,EA=37814,AA=37815,TA=37816,CA=37817,MA=37818,IA=37819,PA=37820,RA=37821,M1=36492,NA=36494,kA=36495,S4=36283,DA=36284,OA=36285,LA=36286,mte=2200,gte=2201,vte=2202,T_=2300,FA=2301,DE=2302,sm=2400,am=2401,C_=2402,RC=2500,E4=2501,AIe=0,TIe=1,CIe=2,yte=3200,xte=3201,MIe=3202,IIe=3203,ep=0,_te=1,mh="",To="srgb",Ym="srgb-linear",M_="linear",Rr="srgb",PIe=0,Xp=7680,RIe=7681,NIe=7682,kIe=7683,DIe=34055,OIe=34056,LIe=5386,FIe=512,BIe=513,UIe=514,jIe=515,VIe=516,zIe=517,HIe=518,e3=519,wte=512,bte=513,Ste=514,A4=515,Ete=516,Ate=517,Tte=518,Cte=519,I_=35044,WIe=35048,GIe=35040,$Ie=35045,qIe=35049,XIe=35041,YIe=35046,KIe=35050,ZIe=35042,QIe="100",t3="300 es",el=2e3,Jv=2001,JIe={COMPUTE:"compute",RENDER:"render"},ePe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},tPe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Fu=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}};const ma=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let eV=1234567;const Em=Math.PI/180,ey=180/Math.PI;function al(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ma[n&255]+ma[n>>8&255]+ma[n>>16&255]+ma[n>>24&255]+"-"+ma[e&255]+ma[e>>8&255]+"-"+ma[e>>16&15|64]+ma[e>>24&255]+"-"+ma[t&63|128]+ma[t>>8&255]+"-"+ma[t>>16&255]+ma[t>>24&255]+ma[r&255]+ma[r>>8&255]+ma[r>>16&255]+ma[r>>24&255]).toLowerCase()}function pn(n,e,t){return Math.max(e,Math.min(t,n))}function T4(n,e){return(n%e+e)%e}function nPe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function rPe(n,e,t){return n!==e?(t-n)/(e-n):0}function I1(n,e,t){return(1-t)*n+t*e}function iPe(n,e,t,r){return I1(n,e,1-Math.exp(-t*r))}function sPe(n,e=1){return e-Math.abs(T4(n,e*2)-e)}function aPe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function oPe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function lPe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function cPe(n,e){return n+Math.random()*(e-n)}function uPe(n){return n*(.5-Math.random())}function hPe(n){n!==void 0&&(eV=n);let e=eV+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dPe(n){return n*Em}function fPe(n){return n*ey}function pPe(n){return(n&n-1)===0&&n!==0}function mPe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function gPe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function vPe(n,e,t,r,i){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+r)/2),u=a((e+r)/2),h=s((e-r)/2),d=a((e-r)/2),p=s((r-e)/2),g=a((r-e)/2);switch(i){case"XYX":n.set(o*u,l*h,l*d,o*c);break;case"YZY":n.set(l*d,o*u,l*h,o*c);break;case"ZXZ":n.set(l*h,l*d,o*u,o*c);break;case"XZX":n.set(o*u,l*g,l*p,o*c);break;case"YXY":n.set(l*p,o*u,l*g,o*c);break;case"ZYZ":n.set(l*g,l*p,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function to(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Pn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const yPe={DEG2RAD:Em,RAD2DEG:ey,generateUUID:al,clamp:pn,euclideanModulo:T4,mapLinear:nPe,inverseLerp:rPe,lerp:I1,damp:iPe,pingpong:sPe,smoothstep:aPe,smootherstep:oPe,randInt:lPe,randFloat:cPe,randFloatSpread:uPe,seededRandom:hPe,degToRad:dPe,radToDeg:fPe,isPowerOfTwo:pPe,ceilPowerOfTwo:mPe,floorPowerOfTwo:gPe,setQuaternionFromProperEuler:vPe,normalize:Pn,denormalize:to};class nt{constructor(e=0,t=0){nt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=pn(this.x,e.x,t.x),this.y=pn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=pn(this.x,e,t),this.y=pn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(pn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(pn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ma{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,a,o){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const d=s[a+0],p=s[a+1],g=s[a+2],_=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(o===1){e[t+0]=d,e[t+1]=p,e[t+2]=g,e[t+3]=_;return}if(h!==_||l!==d||c!==p||u!==g){let w=1-o;const x=l*d+c*p+u*g+h*_,S=x>=0?1:-1,E=1-x*x;if(E>Number.EPSILON){const D=Math.sqrt(E),k=Math.atan2(D,x*S);w=Math.sin(w*k)/D,o=Math.sin(o*k)/D}const T=o*S;if(l=l*w+d*T,c=c*w+p*T,u=u*w+g*T,h=h*w+_*T,w===1-o){const D=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=D,c*=D,u*=D,h*=D}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,a){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[a],d=s[a+1],p=s[a+2],g=s[a+3];return e[t]=o*g+u*h+l*p-c*d,e[t+1]=l*g+u*d+c*h-o*p,e[t+2]=c*g+u*p+o*d-l*h,e[t+3]=u*g-o*h-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),h=o(s/2),d=l(r/2),p=l(i/2),g=l(s/2);switch(a){case"XYZ":this._x=d*u*h+c*p*g,this._y=c*p*h-d*u*g,this._z=c*u*g+d*p*h,this._w=c*u*h-d*p*g;break;case"YXZ":this._x=d*u*h+c*p*g,this._y=c*p*h-d*u*g,this._z=c*u*g-d*p*h,this._w=c*u*h+d*p*g;break;case"ZXY":this._x=d*u*h-c*p*g,this._y=c*p*h+d*u*g,this._z=c*u*g+d*p*h,this._w=c*u*h-d*p*g;break;case"ZYX":this._x=d*u*h-c*p*g,this._y=c*p*h+d*u*g,this._z=c*u*g-d*p*h,this._w=c*u*h+d*p*g;break;case"YZX":this._x=d*u*h+c*p*g,this._y=c*p*h+d*u*g,this._z=c*u*g-d*p*h,this._w=c*u*h-d*p*g;break;case"XZY":this._x=d*u*h-c*p*g,this._y=c*p*h-d*u*g,this._z=c*u*g+d*p*h,this._w=c*u*h+d*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=r+o+h;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(a-i)*p}else if(r>o&&r>h){const p=2*Math.sqrt(1+r-o-h);this._w=(u-l)/p,this._x=.25*p,this._y=(i+a)/p,this._z=(s+c)/p}else if(o>h){const p=2*Math.sqrt(1+o-r-h);this._w=(s-c)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+h-r-o);this._w=(a-i)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+a*o+i*c-s*l,this._y=i*u+a*l+s*o-r*c,this._z=s*u+a*c+r*l-i*o,this._w=a*u-r*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const p=1-t;return this._w=p*a+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=a*h+this._w*d,this._x=r*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,t=0,r=0){oe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(tV.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(tV.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*i-o*r),u=2*(o*t-s*i),h=2*(s*r-a*t);return this.x=t+l*c+a*h-o*u,this.y=r+l*u+o*c-s*h,this.z=i+l*h+s*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=pn(this.x,e.x,t.x),this.y=pn(this.y,e.y,t.y),this.z=pn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=pn(this.x,e,t),this.y=pn(this.y,e,t),this.z=pn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(pn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return oP.copy(this).projectOnVector(e),this.sub(oP)}reflect(e){return this.sub(oP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(pn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oP=new oe,tV=new Ma;class In{constructor(e,t,r,i,s,a,o,l,c){In.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,c)}set(e,t,r,i,s,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[3],l=r[6],c=r[1],u=r[4],h=r[7],d=r[2],p=r[5],g=r[8],_=i[0],w=i[3],x=i[6],S=i[1],E=i[4],T=i[7],D=i[2],k=i[5],I=i[8];return s[0]=a*_+o*S+l*D,s[3]=a*w+o*E+l*k,s[6]=a*x+o*T+l*I,s[1]=c*_+u*S+h*D,s[4]=c*w+u*E+h*k,s[7]=c*x+u*T+h*I,s[2]=d*_+p*S+g*D,s[5]=d*w+p*E+g*k,s[8]=d*x+p*T+g*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*a*u-t*o*c-r*s*u+r*o*l+i*s*c-i*a*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=u*a-o*c,d=o*l-u*s,p=c*s-a*l,g=t*h+r*d+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/g;return e[0]=h*_,e[1]=(i*c-u*r)*_,e[2]=(o*r-i*a)*_,e[3]=d*_,e[4]=(u*t-i*l)*_,e[5]=(i*s-o*t)*_,e[6]=p*_,e[7]=(r*l-c*t)*_,e[8]=(a*t-r*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(lP.makeScale(e,t)),this}rotate(e){return this.premultiply(lP.makeRotation(-e)),this}translate(e,t){return this.premultiply(lP.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const lP=new In;function Mte(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const xPe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function V0(n,e){return new xPe[n](e)}function P_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ite(){const n=P_("canvas");return n.style.display="block",n}const nV={};function hv(n){n in nV||(nV[n]=!0,console.warn(n))}function _Pe(n,e,t){return new Promise(function(r,i){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}}setTimeout(s,t)})}const rV=new In().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),iV=new In().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function wPe(){const n={enabled:!0,workingColorSpace:Ym,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Rr&&(i.r=Ph(i.r),i.g=Ph(i.g),i.b=Ph(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Rr&&(i.r=dv(i.r),i.g=dv(i.g),i.b=dv(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===mh?M_:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return hv("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return hv("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Ym]:{primaries:e,whitePoint:r,transfer:M_,toXYZ:rV,fromXYZ:iV,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:To},outputColorSpaceConfig:{drawingBufferColorSpace:To}},[To]:{primaries:e,whitePoint:r,transfer:Rr,toXYZ:rV,fromXYZ:iV,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:To}}}),n}const ar=wPe();function Ph(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function dv(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Bg;class Pte{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Bg===void 0&&(Bg=P_("canvas")),Bg.width=e.width,Bg.height=e.height;const i=Bg.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Bg}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=P_("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Ph(s[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Ph(t[r]/255)*255):t[r]=Ph(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let bPe=0;class hf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bPe++}),this.uuid=al(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(cP(i[a].image)):s.push(cP(i[a]))}else s=cP(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function cP(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Pte.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let SPe=0;const uP=new oe;class fi extends Fu{constructor(e=fi.DEFAULT_IMAGE,t=fi.DEFAULT_MAPPING,r=Dl,i=Dl,s=vs,a=pu,o=Ca,l=zl,c=fi.DEFAULT_ANISOTROPY,u=mh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:SPe++}),this.uuid=al(),this.name="",this.source=new hf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new nt(0,0),this.repeat=new nt(1,1),this.center=new nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new In,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(uP).x}get height(){return this.source.getSize(uP).y}get depth(){return this.source.getSize(uP).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==EC)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case E_:e.x=e.x-Math.floor(e.x);break;case Dl:e.x=e.x<0?0:1;break;case A_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case E_:e.y=e.y-Math.floor(e.y);break;case Dl:e.y=e.y<0?0:1;break;case A_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}fi.DEFAULT_IMAGE=null;fi.DEFAULT_MAPPING=EC;fi.DEFAULT_ANISOTROPY=1;class cr{constructor(e=0,t=0,r=0,i=1){cr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*t+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*t+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*t+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],p=l[5],g=l[9],_=l[2],w=l[6],x=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-_)<.01&&Math.abs(g-w)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+_)<.1&&Math.abs(g+w)<.1&&Math.abs(c+p+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(c+1)/2,T=(p+1)/2,D=(x+1)/2,k=(u+d)/4,I=(h+_)/4,N=(g+w)/4;return E>T&&E>D?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=k/r,s=I/r):T>D?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=k/i,s=N/i):D<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(D),r=I/s,i=N/s),this.set(r,i,s,t),this}let S=Math.sqrt((w-g)*(w-g)+(h-_)*(h-_)+(d-u)*(d-u));return Math.abs(S)<.001&&(S=1),this.x=(w-g)/S,this.y=(h-_)/S,this.z=(d-u)/S,this.w=Math.acos((c+p+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=pn(this.x,e.x,t.x),this.y=pn(this.y,e.y,t.y),this.z=pn(this.z,e.z,t.z),this.w=pn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=pn(this.x,e,t),this.y=pn(this.y,e,t),this.z=pn(this.z,e,t),this.w=pn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(pn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class C4 extends Fu{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:vs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new cr(0,0,e,t),this.scissorTest=!1,this.viewport=new cr(0,0,e,t);const i={width:e,height:t,depth:r.depth},s=new fi(i);this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:vs,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new hf(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ku extends C4{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class NC extends fi{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ks,this.minFilter=Ks,this.wrapR=Dl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class EPe extends ku{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new NC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class kC extends fi{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ks,this.minFilter=Ks,this.wrapR=Dl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class APe extends ku{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new kC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Ia{constructor(e=new oe(1/0,1/0,1/0),t=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(ec.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(ec.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=ec.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,ec):ec.fromBufferAttribute(s,a),ec.applyMatrix4(e.matrixWorld),this.expandByPoint(ec);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),tS.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),tS.copy(r.boundingBox)),tS.applyMatrix4(e.matrixWorld),this.union(tS)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ec),ec.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(hx),nS.subVectors(this.max,hx),Ug.subVectors(e.a,hx),jg.subVectors(e.b,hx),Vg.subVectors(e.c,hx),Cd.subVectors(jg,Ug),Md.subVectors(Vg,jg),bp.subVectors(Ug,Vg);let t=[0,-Cd.z,Cd.y,0,-Md.z,Md.y,0,-bp.z,bp.y,Cd.z,0,-Cd.x,Md.z,0,-Md.x,bp.z,0,-bp.x,-Cd.y,Cd.x,0,-Md.y,Md.x,0,-bp.y,bp.x,0];return!hP(t,Ug,jg,Vg,nS)||(t=[1,0,0,0,1,0,0,0,1],!hP(t,Ug,jg,Vg,nS))?!1:(rS.crossVectors(Cd,Md),t=[rS.x,rS.y,rS.z],hP(t,Ug,jg,Vg,nS))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ec).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ec).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(rh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const rh=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],ec=new oe,tS=new Ia,Ug=new oe,jg=new oe,Vg=new oe,Cd=new oe,Md=new oe,bp=new oe,hx=new oe,nS=new oe,rS=new oe,Sp=new oe;function hP(n,e,t,r,i){for(let s=0,a=n.length-3;s<=a;s+=3){Sp.fromArray(n,s);const o=i.x*Math.abs(Sp.x)+i.y*Math.abs(Sp.y)+i.z*Math.abs(Sp.z),l=e.dot(Sp),c=t.dot(Sp),u=r.dot(Sp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const TPe=new Ia,dx=new oe,dP=new oe;class Zs{constructor(e=new oe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):TPe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;dx.subVectors(e,this.center);const t=dx.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(dx,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(dP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(dx.copy(e.center).add(dP)),this.expandByPoint(dx.copy(e.center).sub(dP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ih=new oe,fP=new oe,iS=new oe,Id=new oe,pP=new oe,sS=new oe,mP=new oe;class dg{constructor(e=new oe,t=new oe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ih)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ih.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ih.copy(this.origin).addScaledVector(this.direction,t),ih.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){fP.copy(e).add(t).multiplyScalar(.5),iS.copy(t).sub(e).normalize(),Id.copy(this.origin).sub(fP);const s=e.distanceTo(t)*.5,a=-this.direction.dot(iS),o=Id.dot(this.direction),l=-Id.dot(iS),c=Id.lengthSq(),u=Math.abs(1-a*a);let h,d,p,g;if(u>0)if(h=a*l-o,d=a*o-l,g=s*u,h>=0)if(d>=-g)if(d<=g){const _=1/u;h*=_,d*=_,p=h*(h+a*d+2*o)+d*(a*h+d+2*l)+c}else d=s,h=Math.max(0,-(a*d+o)),p=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(a*d+o)),p=-h*h+d*(d+2*l)+c;else d<=-g?(h=Math.max(0,-(-a*s+o)),d=h>0?-s:Math.min(Math.max(-s,-l),s),p=-h*h+d*(d+2*l)+c):d<=g?(h=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+c):(h=Math.max(0,-(a*s+o)),d=h>0?s:Math.min(Math.max(-s,-l),s),p=-h*h+d*(d+2*l)+c);else d=a>0?-s:s,h=Math.max(0,-(a*d+o)),p=-h*h+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(fP).addScaledVector(iS,d),p}intersectSphere(e,t){ih.subVectors(e.center,this.origin);const r=ih.dot(this.direction),i=ih.dot(ih)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),h>=0?(o=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(o=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,ih)!==null}intersectTriangle(e,t,r,i,s){pP.subVectors(t,e),sS.subVectors(r,e),mP.crossVectors(pP,sS);let a=this.direction.dot(mP),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Id.subVectors(this.origin,e);const l=o*this.direction.dot(sS.crossVectors(Id,sS));if(l<0)return null;const c=o*this.direction.dot(pP.cross(Id));if(c<0||l+c>a)return null;const u=-o*Id.dot(mP);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class yn{constructor(e,t,r,i,s,a,o,l,c,u,h,d,p,g,_,w){yn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,c,u,h,d,p,g,_,w)}set(e,t,r,i,s,a,o,l,c,u,h,d,p,g,_,w){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=a,x[9]=o,x[13]=l,x[2]=c,x[6]=u,x[10]=h,x[14]=d,x[3]=p,x[7]=g,x[11]=_,x[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new yn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/zg.setFromMatrixColumn(e,0).length(),s=1/zg.setFromMatrixColumn(e,1).length(),a=1/zg.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const d=a*u,p=a*h,g=o*u,_=o*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=p+g*c,t[5]=d-_*c,t[9]=-o*l,t[2]=_-d*c,t[6]=g+p*c,t[10]=a*l}else if(e.order==="YXZ"){const d=l*u,p=l*h,g=c*u,_=c*h;t[0]=d+_*o,t[4]=g*o-p,t[8]=a*c,t[1]=a*h,t[5]=a*u,t[9]=-o,t[2]=p*o-g,t[6]=_+d*o,t[10]=a*l}else if(e.order==="ZXY"){const d=l*u,p=l*h,g=c*u,_=c*h;t[0]=d-_*o,t[4]=-a*h,t[8]=g+p*o,t[1]=p+g*o,t[5]=a*u,t[9]=_-d*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const d=a*u,p=a*h,g=o*u,_=o*h;t[0]=l*u,t[4]=g*c-p,t[8]=d*c+_,t[1]=l*h,t[5]=_*c+d,t[9]=p*c-g,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const d=a*l,p=a*c,g=o*l,_=o*c;t[0]=l*u,t[4]=_-d*h,t[8]=g*h+p,t[1]=h,t[5]=a*u,t[9]=-o*u,t[2]=-c*u,t[6]=p*h+g,t[10]=d-_*h}else if(e.order==="XZY"){const d=a*l,p=a*c,g=o*l,_=o*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+_,t[5]=a*u,t[9]=p*h-g,t[2]=g*h-p,t[6]=o*u,t[10]=_*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(CPe,e,MPe)}lookAt(e,t,r){const i=this.elements;return Go.subVectors(e,t),Go.lengthSq()===0&&(Go.z=1),Go.normalize(),Pd.crossVectors(r,Go),Pd.lengthSq()===0&&(Math.abs(r.z)===1?Go.x+=1e-4:Go.z+=1e-4,Go.normalize(),Pd.crossVectors(r,Go)),Pd.normalize(),aS.crossVectors(Go,Pd),i[0]=Pd.x,i[4]=aS.x,i[8]=Go.x,i[1]=Pd.y,i[5]=aS.y,i[9]=Go.y,i[2]=Pd.z,i[6]=aS.z,i[10]=Go.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[4],l=r[8],c=r[12],u=r[1],h=r[5],d=r[9],p=r[13],g=r[2],_=r[6],w=r[10],x=r[14],S=r[3],E=r[7],T=r[11],D=r[15],k=i[0],I=i[4],N=i[8],P=i[12],R=i[1],B=i[5],z=i[9],H=i[13],K=i[2],J=i[6],se=i[10],ce=i[14],X=i[3],ue=i[7],q=i[11],ge=i[15];return s[0]=a*k+o*R+l*K+c*X,s[4]=a*I+o*B+l*J+c*ue,s[8]=a*N+o*z+l*se+c*q,s[12]=a*P+o*H+l*ce+c*ge,s[1]=u*k+h*R+d*K+p*X,s[5]=u*I+h*B+d*J+p*ue,s[9]=u*N+h*z+d*se+p*q,s[13]=u*P+h*H+d*ce+p*ge,s[2]=g*k+_*R+w*K+x*X,s[6]=g*I+_*B+w*J+x*ue,s[10]=g*N+_*z+w*se+x*q,s[14]=g*P+_*H+w*ce+x*ge,s[3]=S*k+E*R+T*K+D*X,s[7]=S*I+E*B+T*J+D*ue,s[11]=S*N+E*z+T*se+D*q,s[15]=S*P+E*H+T*ce+D*ge,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],p=e[14],g=e[3],_=e[7],w=e[11],x=e[15];return g*(+s*l*h-i*c*h-s*o*d+r*c*d+i*o*p-r*l*p)+_*(+t*l*p-t*c*d+s*a*d-i*a*p+i*c*u-s*l*u)+w*(+t*c*h-t*o*p-s*a*h+r*a*p+s*o*u-r*c*u)+x*(-i*o*u-t*l*h+t*o*d+i*a*h-r*a*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],p=e[11],g=e[12],_=e[13],w=e[14],x=e[15],S=h*w*c-_*d*c+_*l*p-o*w*p-h*l*x+o*d*x,E=g*d*c-u*w*c-g*l*p+a*w*p+u*l*x-a*d*x,T=u*_*c-g*h*c+g*o*p-a*_*p-u*o*x+a*h*x,D=g*h*l-u*_*l-g*o*d+a*_*d+u*o*w-a*h*w,k=t*S+r*E+i*T+s*D;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/k;return e[0]=S*I,e[1]=(_*d*s-h*w*s-_*i*p+r*w*p+h*i*x-r*d*x)*I,e[2]=(o*w*s-_*l*s+_*i*c-r*w*c-o*i*x+r*l*x)*I,e[3]=(h*l*s-o*d*s-h*i*c+r*d*c+o*i*p-r*l*p)*I,e[4]=E*I,e[5]=(u*w*s-g*d*s+g*i*p-t*w*p-u*i*x+t*d*x)*I,e[6]=(g*l*s-a*w*s-g*i*c+t*w*c+a*i*x-t*l*x)*I,e[7]=(a*d*s-u*l*s+u*i*c-t*d*c-a*i*p+t*l*p)*I,e[8]=T*I,e[9]=(g*h*s-u*_*s-g*r*p+t*_*p+u*r*x-t*h*x)*I,e[10]=(a*_*s-g*o*s+g*r*c-t*_*c-a*r*x+t*o*x)*I,e[11]=(u*o*s-a*h*s-u*r*c+t*h*c+a*r*p-t*o*p)*I,e[12]=D*I,e[13]=(u*_*i-g*h*i+g*r*d-t*_*d-u*r*w+t*h*w)*I,e[14]=(g*o*i-a*_*i-g*r*l+t*_*l+a*r*w-t*o*w)*I,e[15]=(a*h*i-u*o*i+u*r*l-t*h*l-a*r*d+t*o*d)*I,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,a=e.x,o=e.y,l=e.z,c=s*a,u=s*o;return this.set(c*a+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*a,0,c*l-i*o,u*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,u=a+a,h=o+o,d=s*c,p=s*u,g=s*h,_=a*u,w=a*h,x=o*h,S=l*c,E=l*u,T=l*h,D=r.x,k=r.y,I=r.z;return i[0]=(1-(_+x))*D,i[1]=(p+T)*D,i[2]=(g-E)*D,i[3]=0,i[4]=(p-T)*k,i[5]=(1-(d+x))*k,i[6]=(w+S)*k,i[7]=0,i[8]=(g+E)*I,i[9]=(w-S)*I,i[10]=(1-(d+_))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=zg.set(i[0],i[1],i[2]).length();const a=zg.set(i[4],i[5],i[6]).length(),o=zg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],tc.copy(this);const c=1/s,u=1/a,h=1/o;return tc.elements[0]*=c,tc.elements[1]*=c,tc.elements[2]*=c,tc.elements[4]*=u,tc.elements[5]*=u,tc.elements[6]*=u,tc.elements[8]*=h,tc.elements[9]*=h,tc.elements[10]*=h,t.setFromRotationMatrix(tc),r.x=s,r.y=a,r.z=o,this}makePerspective(e,t,r,i,s,a,o=el,l=!1){const c=this.elements,u=2*s/(t-e),h=2*s/(r-i),d=(t+e)/(t-e),p=(r+i)/(r-i);let g,_;if(l)g=s/(a-s),_=a*s/(a-s);else if(o===el)g=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===Jv)g=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=d,c[12]=0,c[1]=0,c[5]=h,c[9]=p,c[13]=0,c[2]=0,c[6]=0,c[10]=g,c[14]=_,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,r,i,s,a,o=el,l=!1){const c=this.elements,u=2/(t-e),h=2/(r-i),d=-(t+e)/(t-e),p=-(r+i)/(r-i);let g,_;if(l)g=1/(a-s),_=a/(a-s);else if(o===el)g=-2/(a-s),_=-(a+s)/(a-s);else if(o===Jv)g=-1/(a-s),_=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=0,c[12]=d,c[1]=0,c[5]=h,c[9]=0,c[13]=p,c[2]=0,c[6]=0,c[10]=g,c[14]=_,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const zg=new oe,tc=new yn,CPe=new oe(0,0,0),MPe=new oe(1,1,1),Pd=new oe,aS=new oe,Go=new oe,sV=new yn,aV=new Ma;class ul{constructor(e=0,t=0,r=0,i=ul.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],u=i[9],h=i[2],d=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(pn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-pn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(pn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-pn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(pn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-pn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return sV.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sV,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return aV.setFromEuler(this),this.setFromQuaternion(aV,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ul.DEFAULT_ORDER="XYZ";class Am{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let IPe=0;const oV=new oe,Hg=new Ma,sh=new yn,oS=new oe,fx=new oe,PPe=new oe,RPe=new Ma,lV=new oe(1,0,0),cV=new oe(0,1,0),uV=new oe(0,0,1),hV={type:"added"},NPe={type:"removed"},Wg={type:"childadded",child:null},gP={type:"childremoved",child:null};class hr extends Fu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:IPe++}),this.uuid=al(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hr.DEFAULT_UP.clone();const e=new oe,t=new ul,r=new Ma,i=new oe(1,1,1);function s(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new yn},normalMatrix:{value:new In}}),this.matrix=new yn,this.matrixWorld=new yn,this.matrixAutoUpdate=hr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=hr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Am,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Hg.setFromAxisAngle(e,t),this.quaternion.multiply(Hg),this}rotateOnWorldAxis(e,t){return Hg.setFromAxisAngle(e,t),this.quaternion.premultiply(Hg),this}rotateX(e){return this.rotateOnAxis(lV,e)}rotateY(e){return this.rotateOnAxis(cV,e)}rotateZ(e){return this.rotateOnAxis(uV,e)}translateOnAxis(e,t){return oV.copy(e).applyQuaternion(this.quaternion),this.position.add(oV.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(lV,e)}translateY(e){return this.translateOnAxis(cV,e)}translateZ(e){return this.translateOnAxis(uV,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sh.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?oS.copy(e):oS.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),fx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sh.lookAt(fx,oS,this.up):sh.lookAt(oS,fx,this.up),this.quaternion.setFromRotationMatrix(sh),i&&(sh.extractRotation(i.matrixWorld),Hg.setFromRotationMatrix(sh),this.quaternion.premultiply(Hg.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(hV),Wg.child=e,this.dispatchEvent(Wg),Wg.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(NPe),gP.child=e,this.dispatchEvent(gP),gP.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),sh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),sh.multiply(e.parent.matrixWorld)),e.applyMatrix4(sh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(hV),Wg.child=e,this.dispatchEvent(Wg),Wg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fx,e,PPe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fx,RPe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),h=a(e.shapes),d=a(e.skeletons),p=a(e.animations),g=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}hr.DEFAULT_UP=new oe(0,1,0);hr.DEFAULT_MATRIX_AUTO_UPDATE=!0;hr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const nc=new oe,ah=new oe,vP=new oe,oh=new oe,Gg=new oe,$g=new oe,dV=new oe,yP=new oe,xP=new oe,_P=new oe,wP=new cr,bP=new cr,SP=new cr;class Mo{constructor(e=new oe,t=new oe,r=new oe){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),nc.subVectors(e,t),i.cross(nc);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){nc.subVectors(i,t),ah.subVectors(r,t),vP.subVectors(e,t);const a=nc.dot(nc),o=nc.dot(ah),l=nc.dot(vP),c=ah.dot(ah),u=ah.dot(vP),h=a*c-o*o;if(h===0)return s.set(0,0,0),null;const d=1/h,p=(c*l-o*u)*d,g=(a*u-o*l)*d;return s.set(1-p-g,g,p)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,oh)===null?!1:oh.x>=0&&oh.y>=0&&oh.x+oh.y<=1}static getInterpolation(e,t,r,i,s,a,o,l){return this.getBarycoord(e,t,r,i,oh)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,oh.x),l.addScaledVector(a,oh.y),l.addScaledVector(o,oh.z),l)}static getInterpolatedAttribute(e,t,r,i,s,a){return wP.setScalar(0),bP.setScalar(0),SP.setScalar(0),wP.fromBufferAttribute(e,t),bP.fromBufferAttribute(e,r),SP.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(wP,s.x),a.addScaledVector(bP,s.y),a.addScaledVector(SP,s.z),a}static isFrontFacing(e,t,r,i){return nc.subVectors(r,t),ah.subVectors(e,t),nc.cross(ah).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return nc.subVectors(this.c,this.b),ah.subVectors(this.a,this.b),nc.cross(ah).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Mo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Mo.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return Mo.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Mo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Mo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let a,o;Gg.subVectors(i,r),$g.subVectors(s,r),yP.subVectors(e,r);const l=Gg.dot(yP),c=$g.dot(yP);if(l<=0&&c<=0)return t.copy(r);xP.subVectors(e,i);const u=Gg.dot(xP),h=$g.dot(xP);if(u>=0&&h<=u)return t.copy(i);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return a=l/(l-u),t.copy(r).addScaledVector(Gg,a);_P.subVectors(e,s);const p=Gg.dot(_P),g=$g.dot(_P);if(g>=0&&p<=g)return t.copy(s);const _=p*c-l*g;if(_<=0&&c>=0&&g<=0)return o=c/(c-g),t.copy(r).addScaledVector($g,o);const w=u*g-p*h;if(w<=0&&h-u>=0&&p-g>=0)return dV.subVectors(s,i),o=(h-u)/(h-u+(p-g)),t.copy(i).addScaledVector(dV,o);const x=1/(w+_+d);return a=_*x,o=d*x,t.copy(r).addScaledVector(Gg,a).addScaledVector($g,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Rte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Rd={h:0,s:0,l:0},lS={h:0,s:0,l:0};function EP(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Lt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=To){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ar.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=ar.workingColorSpace){return this.r=e,this.g=t,this.b=r,ar.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=ar.workingColorSpace){if(e=T4(e,1),t=pn(t,0,1),r=pn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,a=2*r-s;this.r=EP(a,s,e+1/3),this.g=EP(a,s,e),this.b=EP(a,s,e-1/3)}return ar.colorSpaceToWorking(this,i),this}setStyle(e,t=To){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=To){const r=Rte[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ph(e.r),this.g=Ph(e.g),this.b=Ph(e.b),this}copyLinearToSRGB(e){return this.r=dv(e.r),this.g=dv(e.g),this.b=dv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=To){return ar.workingToColorSpace(ga.copy(this),e),Math.round(pn(ga.r*255,0,255))*65536+Math.round(pn(ga.g*255,0,255))*256+Math.round(pn(ga.b*255,0,255))}getHexString(e=To){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ar.workingColorSpace){ar.workingToColorSpace(ga.copy(this),t);const r=ga.r,i=ga.g,s=ga.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const h=a-o;switch(c=u<=.5?h/(a+o):h/(2-a-o),a){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=ar.workingColorSpace){return ar.workingToColorSpace(ga.copy(this),t),e.r=ga.r,e.g=ga.g,e.b=ga.b,e}getStyle(e=To){ar.workingToColorSpace(ga.copy(this),e);const t=ga.r,r=ga.g,i=ga.b;return e!==To?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Rd),this.setHSL(Rd.h+e,Rd.s+t,Rd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Rd),e.getHSL(lS);const r=I1(Rd.h,lS.h,t),i=I1(Rd.s,lS.s,t),s=I1(Rd.l,lS.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ga=new Lt;Lt.NAMES=Rte;let kPe=0;class Na extends Fu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kPe++}),this.uuid=al(),this.name="",this.type="Material",this.blending=Sm,this.side=Hh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=nA,this.blendDst=rA,this.blendEquation=Kd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Lt(0,0,0),this.blendAlpha=0,this.depthFunc=Xm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=e3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xp,this.stencilZFail=Xp,this.stencilZPass=Xp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Sm&&(r.blending=this.blending),this.side!==Hh&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==nA&&(r.blendSrc=this.blendSrc),this.blendDst!==rA&&(r.blendDst=this.blendDst),this.blendEquation!==Kd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Xm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==e3&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Xp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Xp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Xp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class tp extends Na{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ul,this.combine=Sw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const gh=DPe();function DPe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function wo(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=pn(n,-65504,65504),gh.floatView[0]=n;const e=gh.uint32View[0],t=e>>23&511;return gh.baseTable[t]+((e&8388607)>>gh.shiftTable[t])}function Gx(n){const e=n>>10;return gh.uint32View[0]=gh.mantissaTable[gh.offsetTable[e]+(n&1023)]+gh.exponentTable[e],gh.floatView[0]}class OPe{static toHalfFloat(e){return wo(e)}static fromHalfFloat(e){return Gx(e)}}const Ki=new oe,cS=new nt;let LPe=0;class Br{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:LPe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=I_,this.updateRanges=[],this.gpuType=Ro,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)cS.fromBufferAttribute(this,t),cS.applyMatrix3(e),this.setXY(t,cS.x,cS.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ki.fromBufferAttribute(this,t),Ki.applyMatrix3(e),this.setXYZ(t,Ki.x,Ki.y,Ki.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ki.fromBufferAttribute(this,t),Ki.applyMatrix4(e),this.setXYZ(t,Ki.x,Ki.y,Ki.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ki.fromBufferAttribute(this,t),Ki.applyNormalMatrix(e),this.setXYZ(t,Ki.x,Ki.y,Ki.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ki.fromBufferAttribute(this,t),Ki.transformDirection(e),this.setXYZ(t,Ki.x,Ki.y,Ki.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=to(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Pn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=to(t,this.array)),t}setX(e,t){return this.normalized&&(t=Pn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=to(t,this.array)),t}setY(e,t){return this.normalized&&(t=Pn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=to(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Pn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=to(t,this.array)),t}setW(e,t){return this.normalized&&(t=Pn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array),i=Pn(i,this.array),s=Pn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==I_&&(e.usage=this.usage),e}}class FPe extends Br{constructor(e,t,r){super(new Int8Array(e),t,r)}}class BPe extends Br{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class UPe extends Br{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class jPe extends Br{constructor(e,t,r){super(new Int16Array(e),t,r)}}class M4 extends Br{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class VPe extends Br{constructor(e,t,r){super(new Int32Array(e),t,r)}}class I4 extends Br{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class zPe extends Br{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Gx(this.array[e*this.itemSize]);return this.normalized&&(t=to(t,this.array)),t}setX(e,t){return this.normalized&&(t=Pn(t,this.array)),this.array[e*this.itemSize]=wo(t),this}getY(e){let t=Gx(this.array[e*this.itemSize+1]);return this.normalized&&(t=to(t,this.array)),t}setY(e,t){return this.normalized&&(t=Pn(t,this.array)),this.array[e*this.itemSize+1]=wo(t),this}getZ(e){let t=Gx(this.array[e*this.itemSize+2]);return this.normalized&&(t=to(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Pn(t,this.array)),this.array[e*this.itemSize+2]=wo(t),this}getW(e){let t=Gx(this.array[e*this.itemSize+3]);return this.normalized&&(t=to(t,this.array)),t}setW(e,t){return this.normalized&&(t=Pn(t,this.array)),this.array[e*this.itemSize+3]=wo(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array)),this.array[e+0]=wo(t),this.array[e+1]=wo(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[e+0]=wo(t),this.array[e+1]=wo(r),this.array[e+2]=wo(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array),i=Pn(i,this.array),s=Pn(s,this.array)),this.array[e+0]=wo(t),this.array[e+1]=wo(r),this.array[e+2]=wo(i),this.array[e+3]=wo(s),this}}class Gt extends Br{constructor(e,t,r){super(new Float32Array(e),t,r)}}let HPe=0;const Sl=new yn,AP=new hr,qg=new oe,$o=new Ia,px=new Ia,Ts=new oe;class Nn extends Fu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:HPe++}),this.uuid=al(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Mte(e)?I4:M4)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new In().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Sl.makeRotationFromQuaternion(e),this.applyMatrix4(Sl),this}rotateX(e){return Sl.makeRotationX(e),this.applyMatrix4(Sl),this}rotateY(e){return Sl.makeRotationY(e),this.applyMatrix4(Sl),this}rotateZ(e){return Sl.makeRotationZ(e),this.applyMatrix4(Sl),this}translate(e,t,r){return Sl.makeTranslation(e,t,r),this.applyMatrix4(Sl),this}scale(e,t,r){return Sl.makeScale(e,t,r),this.applyMatrix4(Sl),this}lookAt(e){return AP.lookAt(e),AP.updateMatrix(),this.applyMatrix4(AP.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(qg).negate(),this.translate(qg.x,qg.y,qg.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Gt(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ia);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];$o.setFromBufferAttribute(s),this.morphTargetsRelative?(Ts.addVectors(this.boundingBox.min,$o.min),this.boundingBox.expandByPoint(Ts),Ts.addVectors(this.boundingBox.max,$o.max),this.boundingBox.expandByPoint(Ts)):(this.boundingBox.expandByPoint($o.min),this.boundingBox.expandByPoint($o.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){const r=this.boundingSphere.center;if($o.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];px.setFromBufferAttribute(o),this.morphTargetsRelative?(Ts.addVectors($o.min,px.min),$o.expandByPoint(Ts),Ts.addVectors($o.max,px.max),$o.expandByPoint(Ts)):($o.expandByPoint(px.min),$o.expandByPoint(px.max))}$o.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Ts.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ts));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Ts.fromBufferAttribute(o,c),l&&(qg.fromBufferAttribute(e,c),Ts.add(qg)),i=Math.max(i,r.distanceToSquared(Ts))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Br(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let N=0;N<r.count;N++)o[N]=new oe,l[N]=new oe;const c=new oe,u=new oe,h=new oe,d=new nt,p=new nt,g=new nt,_=new oe,w=new oe;function x(N,P,R){c.fromBufferAttribute(r,N),u.fromBufferAttribute(r,P),h.fromBufferAttribute(r,R),d.fromBufferAttribute(s,N),p.fromBufferAttribute(s,P),g.fromBufferAttribute(s,R),u.sub(c),h.sub(c),p.sub(d),g.sub(d);const B=1/(p.x*g.y-g.x*p.y);isFinite(B)&&(_.copy(u).multiplyScalar(g.y).addScaledVector(h,-p.y).multiplyScalar(B),w.copy(h).multiplyScalar(p.x).addScaledVector(u,-g.x).multiplyScalar(B),o[N].add(_),o[P].add(_),o[R].add(_),l[N].add(w),l[P].add(w),l[R].add(w))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let N=0,P=S.length;N<P;++N){const R=S[N],B=R.start,z=R.count;for(let H=B,K=B+z;H<K;H+=3)x(e.getX(H+0),e.getX(H+1),e.getX(H+2))}const E=new oe,T=new oe,D=new oe,k=new oe;function I(N){D.fromBufferAttribute(i,N),k.copy(D);const P=o[N];E.copy(P),E.sub(D.multiplyScalar(D.dot(P))).normalize(),T.crossVectors(k,P);const B=T.dot(l[N])<0?-1:1;a.setXYZW(N,E.x,E.y,E.z,B)}for(let N=0,P=S.length;N<P;++N){const R=S[N],B=R.start,z=R.count;for(let H=B,K=B+z;H<K;H+=3)I(e.getX(H+0)),I(e.getX(H+1)),I(e.getX(H+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Br(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);const i=new oe,s=new oe,a=new oe,o=new oe,l=new oe,c=new oe,u=new oe,h=new oe;if(e)for(let d=0,p=e.count;d<p;d+=3){const g=e.getX(d+0),_=e.getX(d+1),w=e.getX(d+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,_),a.fromBufferAttribute(t,w),u.subVectors(a,s),h.subVectors(i,s),u.cross(h),o.fromBufferAttribute(r,g),l.fromBufferAttribute(r,_),c.fromBufferAttribute(r,w),o.add(u),l.add(u),c.add(u),r.setXYZ(g,o.x,o.y,o.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(w,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),a.fromBufferAttribute(t,d+2),u.subVectors(a,s),h.subVectors(i,s),u.cross(h),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ts.fromBufferAttribute(e,t),Ts.normalize(),e.setXYZ(t,Ts.x,Ts.y,Ts.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,h=o.normalized,d=new c.constructor(l.length*u);let p=0,g=0;for(let _=0,w=l.length;_<w;_++){o.isInterleavedBufferAttribute?p=l[_]*o.data.stride+o.offset:p=l[_]*u;for(let x=0;x<u;x++)d[g++]=c[p++]}return new Br(d,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Nn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let u=0,h=c.length;u<h;u++){const d=c[u],p=e(d,r);l.push(p)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++){const p=c[h];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let d=0,p=h.length;d<p;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const h=a[c];this.addGroup(h.start,h.count,h.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fV=new yn,Ep=new dg,uS=new Zs,pV=new oe,hS=new oe,dS=new oe,fS=new oe,TP=new oe,pS=new oe,mV=new oe,mS=new oe;class rs extends hr{constructor(e=new Nn,t=new tp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){pS.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=o[l],h=s[l];u!==0&&(TP.fromBufferAttribute(h,e),a?pS.addScaledVector(TP,u):pS.addScaledVector(TP.sub(t),u))}t.add(pS)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uS.copy(r.boundingSphere),uS.applyMatrix4(s),Ep.copy(e.ray).recast(e.near),!(uS.containsPoint(Ep.origin)===!1&&(Ep.intersectSphere(uS,pV)===null||Ep.origin.distanceToSquared(pV)>(e.far-e.near)**2))&&(fV.copy(s).invert(),Ep.copy(e.ray).applyMatrix4(fV),!(r.boundingBox!==null&&Ep.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Ep)))}_computeIntersections(e,t,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,d=s.groups,p=s.drawRange;if(o!==null)if(Array.isArray(a))for(let g=0,_=d.length;g<_;g++){const w=d[g],x=a[w.materialIndex],S=Math.max(w.start,p.start),E=Math.min(o.count,Math.min(w.start+w.count,p.start+p.count));for(let T=S,D=E;T<D;T+=3){const k=o.getX(T),I=o.getX(T+1),N=o.getX(T+2);i=gS(this,x,e,r,c,u,h,k,I,N),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const g=Math.max(0,p.start),_=Math.min(o.count,p.start+p.count);for(let w=g,x=_;w<x;w+=3){const S=o.getX(w),E=o.getX(w+1),T=o.getX(w+2);i=gS(this,a,e,r,c,u,h,S,E,T),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let g=0,_=d.length;g<_;g++){const w=d[g],x=a[w.materialIndex],S=Math.max(w.start,p.start),E=Math.min(l.count,Math.min(w.start+w.count,p.start+p.count));for(let T=S,D=E;T<D;T+=3){const k=T,I=T+1,N=T+2;i=gS(this,x,e,r,c,u,h,k,I,N),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const g=Math.max(0,p.start),_=Math.min(l.count,p.start+p.count);for(let w=g,x=_;w<x;w+=3){const S=w,E=w+1,T=w+2;i=gS(this,a,e,r,c,u,h,S,E,T),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}}}function WPe(n,e,t,r,i,s,a,o){let l;if(e.side===io?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===Hh,o),l===null)return null;mS.copy(o),mS.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(mS);return c<t.near||c>t.far?null:{distance:c,point:mS.clone(),object:n}}function gS(n,e,t,r,i,s,a,o,l,c){n.getVertexPosition(o,hS),n.getVertexPosition(l,dS),n.getVertexPosition(c,fS);const u=WPe(n,e,t,r,hS,dS,fS,mV);if(u){const h=new oe;Mo.getBarycoord(mV,hS,dS,fS,h),i&&(u.uv=Mo.getInterpolatedAttribute(i,o,l,c,h,new nt)),s&&(u.uv1=Mo.getInterpolatedAttribute(s,o,l,c,h,new nt)),a&&(u.normal=Mo.getInterpolatedAttribute(a,o,l,c,h,new oe),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a:o,b:l,c,normal:new oe,materialIndex:0};Mo.getNormal(hS,dS,fS,d.normal),u.face=d,u.barycoord=h}return u}class fg extends Nn{constructor(e=1,t=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],u=[],h=[];let d=0,p=0;g("z","y","x",-1,-1,r,t,e,a,s,0),g("z","y","x",1,-1,r,t,-e,a,s,1),g("x","z","y",1,1,e,r,t,i,a,2),g("x","z","y",1,-1,e,r,-t,i,a,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Gt(c,3)),this.setAttribute("normal",new Gt(u,3)),this.setAttribute("uv",new Gt(h,2));function g(_,w,x,S,E,T,D,k,I,N,P){const R=T/I,B=D/N,z=T/2,H=D/2,K=k/2,J=I+1,se=N+1;let ce=0,X=0;const ue=new oe;for(let q=0;q<se;q++){const ge=q*B-H;for(let De=0;De<J;De++){const Q=De*R-z;ue[_]=Q*S,ue[w]=ge*E,ue[x]=K,c.push(ue.x,ue.y,ue.z),ue[_]=0,ue[w]=0,ue[x]=k>0?1:-1,u.push(ue.x,ue.y,ue.z),h.push(De/I),h.push(1-q/N),ce+=1}}for(let q=0;q<N;q++)for(let ge=0;ge<I;ge++){const De=d+ge+J*q,Q=d+ge+J*(q+1),et=d+(ge+1)+J*(q+1),ye=d+(ge+1)+J*q;l.push(De,Q,ye),l.push(Q,et,ye),X+=6}o.addGroup(p,X,P),p+=X,d+=ce}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ty(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Xa(n){const e={};for(let t=0;t<n.length;t++){const r=ty(n[t]);for(const i in r)e[i]=r[i]}return e}function GPe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Nte(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ar.workingColorSpace}const kte={clone:ty,merge:Xa};var $Pe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qPe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class kc extends Na{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$Pe,this.fragmentShader=qPe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ty(e.uniforms),this.uniformsGroups=GPe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Aw extends hr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new yn,this.projectionMatrix=new yn,this.projectionMatrixInverse=new yn,this.coordinateSystem=el,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Nd=new oe,gV=new nt,vV=new nt;class Gi extends Aw{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ey*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Em*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ey*2*Math.atan(Math.tan(Em*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Nd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Nd.x,Nd.y).multiplyScalar(-e/Nd.z),Nd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Nd.x,Nd.y).multiplyScalar(-e/Nd.z)}getViewSize(e,t){return this.getViewBounds(e,gV,vV),t.subVectors(vV,gV)}setViewOffset(e,t,r,i,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Em*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,t-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Xg=-90,Yg=1;class Dte extends hr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Gi(Xg,Yg,e,t);i.layers=this.layers,this.add(i);const s=new Gi(Xg,Yg,e,t);s.layers=this.layers,this.add(s);const a=new Gi(Xg,Yg,e,t);a.layers=this.layers,this.add(a);const o=new Gi(Xg,Yg,e,t);o.layers=this.layers,this.add(o);const l=new Gi(Xg,Yg,e,t);l.layers=this.layers,this.add(l);const c=new Gi(Xg,Yg,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===el)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Jv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,u]=this.children,h=e.getRenderTarget(),d=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,a),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(h,d,p),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Tw extends fi{constructor(e=[],t=Wh,r,i,s,a,o,l,c,u){super(e,t,r,i,s,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ote extends ku{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Tw(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new fg(5,5,5),s=new kc({name:"CubemapFromEquirect",uniforms:ty(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:io,blending:Ih});s.uniforms.tEquirect.value=t;const a=new rs(i,s),o=t.minFilter;return t.minFilter===pu&&(t.minFilter=vs),new Dte(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,i);e.setRenderTarget(s)}}class z0 extends hr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const XPe={type:"move"};class OE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new z0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new z0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new z0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const _ of e.hand.values()){const w=t.getJointPose(_,r),x=this._getHandJoint(c,_);w!==null&&(x.matrix.fromArray(w.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=w.radius),x.visible=w!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],d=u.position.distanceTo(h.position),p=.02,g=.005;c.inputState.pinching&&d>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(XPe)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new z0;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class DC{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Lt(e),this.density=t}clone(){return new DC(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class OC{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Lt(e),this.near=t,this.far=r}clone(){return new OC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class P4 extends hr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ul,this.environmentIntensity=1,this.environmentRotation=new ul,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class LC{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=I_,this.updateRanges=[],this.version=0,this.uuid=al()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=al()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=al()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ga=new oe;class Km{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ga.fromBufferAttribute(this,t),Ga.applyMatrix4(e),this.setXYZ(t,Ga.x,Ga.y,Ga.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ga.fromBufferAttribute(this,t),Ga.applyNormalMatrix(e),this.setXYZ(t,Ga.x,Ga.y,Ga.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ga.fromBufferAttribute(this,t),Ga.transformDirection(e),this.setXYZ(t,Ga.x,Ga.y,Ga.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=to(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Pn(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Pn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=to(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=to(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=to(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=to(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pn(t,this.array),r=Pn(r,this.array),i=Pn(i,this.array),s=Pn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Br(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Km(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class R4 extends Na{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Kg;const mx=new oe,Zg=new oe,Qg=new oe,Jg=new nt,gx=new nt,Lte=new yn,vS=new oe,vx=new oe,yS=new oe,yV=new nt,CP=new nt,xV=new nt;class Fte extends hr{constructor(e=new R4){if(super(),this.isSprite=!0,this.type="Sprite",Kg===void 0){Kg=new Nn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new LC(t,5);Kg.setIndex([0,1,2,0,2,3]),Kg.setAttribute("position",new Km(r,3,0,!1)),Kg.setAttribute("uv",new Km(r,2,3,!1))}this.geometry=Kg,this.material=e,this.center=new nt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zg.setFromMatrixScale(this.matrixWorld),Lte.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Qg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zg.multiplyScalar(-Qg.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;xS(vS.set(-.5,-.5,0),Qg,a,Zg,i,s),xS(vx.set(.5,-.5,0),Qg,a,Zg,i,s),xS(yS.set(.5,.5,0),Qg,a,Zg,i,s),yV.set(0,0),CP.set(1,0),xV.set(1,1);let o=e.ray.intersectTriangle(vS,vx,yS,!1,mx);if(o===null&&(xS(vx.set(-.5,.5,0),Qg,a,Zg,i,s),CP.set(0,1),o=e.ray.intersectTriangle(vS,yS,vx,!1,mx),o===null))return;const l=e.ray.origin.distanceTo(mx);l<e.near||l>e.far||t.push({distance:l,point:mx.clone(),uv:Mo.getInterpolation(mx,vS,vx,yS,yV,CP,xV,new nt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function xS(n,e,t,r,i,s){Jg.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(gx.x=s*Jg.x-i*Jg.y,gx.y=i*Jg.x+s*Jg.y):gx.copy(Jg),n.copy(e),n.x+=gx.x,n.y+=gx.y,n.applyMatrix4(Lte)}const _S=new oe,_V=new oe;class Bte extends hr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){_S.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(_S);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){_S.setFromMatrixPosition(e.matrixWorld),_V.setFromMatrixPosition(this.matrixWorld);const r=_S.distanceTo(_V)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),r>=a)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const wV=new oe,bV=new cr,SV=new cr,YPe=new oe,EV=new yn,wS=new oe,MP=new Zs,AV=new yn,IP=new dg;class Ute extends rs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Jk,this.bindMatrix=new yn,this.bindMatrixInverse=new yn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ia),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,wS),this.boundingBox.expandByPoint(wS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Zs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,wS),this.boundingSphere.expandByPoint(wS)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),MP.copy(this.boundingSphere),MP.applyMatrix4(i),e.ray.intersectsSphere(MP)!==!1&&(AV.copy(i).invert(),IP.copy(e.ray).applyMatrix4(AV),!(this.boundingBox!==null&&IP.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,IP)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new cr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Jk?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===pte?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;bV.fromBufferAttribute(i.attributes.skinIndex,e),SV.fromBufferAttribute(i.attributes.skinWeight,e),wV.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=SV.getComponent(s);if(a!==0){const o=bV.getComponent(s);EV.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(YPe.copy(wV).applyMatrix4(EV),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class N4 extends hr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Cu extends fi{constructor(e=null,t=1,r=1,i,s,a,o,l,c=Ks,u=Ks,h,d){super(null,a,o,l,c,u,i,s,h,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TV=new yn,KPe=new yn;class FC{constructor(e=[],t=[]){this.uuid=al(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new yn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new yn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:KPe;TV.multiplyMatrices(o,t[s]),TV.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new FC(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Cu(t,e,e,Ca,Ro);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new N4),this.bones.push(a),this.boneInverses.push(new yn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const a=t[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class ny extends Br{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const e0=new yn,CV=new yn,bS=[],MV=new Ia,ZPe=new yn,yx=new rs,xx=new Zs;class jte extends rs{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ny(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,ZPe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ia),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,e0),MV.copy(e.boundingBox).applyMatrix4(e0),this.boundingBox.union(MV)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Zs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,e0),xx.copy(e.boundingSphere).applyMatrix4(e0),this.boundingSphere.union(xx)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(yx.geometry=this.geometry,yx.material=this.material,yx.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),xx.copy(this.boundingSphere),xx.applyMatrix4(r),e.ray.intersectsSphere(xx)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,e0),CV.multiplyMatrices(r,e0),yx.matrixWorld=CV,yx.raycast(e,bS);for(let a=0,o=bS.length;a<o;a++){const l=bS[a];l.instanceId=s,l.object=this,t.push(l)}bS.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ny(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Cu(new Float32Array(i*this.count),i,this.count,MC,Ro));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<r.length;c++)a+=r[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const PP=new oe,QPe=new oe,JPe=new In;class fh{constructor(e=new oe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=PP.subVectors(r,t).cross(QPe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(PP),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||JPe.getNormalMatrix(e),i=this.coplanarPoint(PP).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ap=new Zs,eRe=new nt(.5,.5),SS=new oe;class Cy{constructor(e=new fh,t=new fh,r=new fh,i=new fh,s=new fh,a=new fh){this.planes=[e,t,r,i,s,a]}set(e,t,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=el,r=!1){const i=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],c=s[3],u=s[4],h=s[5],d=s[6],p=s[7],g=s[8],_=s[9],w=s[10],x=s[11],S=s[12],E=s[13],T=s[14],D=s[15];if(i[0].setComponents(c-a,p-u,x-g,D-S).normalize(),i[1].setComponents(c+a,p+u,x+g,D+S).normalize(),i[2].setComponents(c+o,p+h,x+_,D+E).normalize(),i[3].setComponents(c-o,p-h,x-_,D-E).normalize(),r)i[4].setComponents(l,d,w,T).normalize(),i[5].setComponents(c-l,p-d,x-w,D-T).normalize();else if(i[4].setComponents(c-l,p-d,x-w,D-T).normalize(),t===el)i[5].setComponents(c+l,p+d,x+w,D+T).normalize();else if(t===Jv)i[5].setComponents(l,d,w,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ap.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ap.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ap)}intersectsSprite(e){Ap.center.set(0,0,0);const t=eRe.distanceTo(e.center);return Ap.radius=.7071067811865476+t,Ap.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ap)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(SS.x=i.normal.x>0?e.max.x:e.min.x,SS.y=i.normal.y>0?e.max.y:e.min.y,SS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(SS)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Qc=new yn,Jc=new Cy;class BC{constructor(){this.coordinateSystem=el}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Qc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Jc.setFromProjectionMatrix(Qc,i.coordinateSystem,i.reversedDepth),Jc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Qc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Jc.setFromProjectionMatrix(Qc,i.coordinateSystem,i.reversedDepth),Jc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Qc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Jc.setFromProjectionMatrix(Qc,i.coordinateSystem,i.reversedDepth),Jc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Qc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Jc.setFromProjectionMatrix(Qc,i.coordinateSystem,i.reversedDepth),Jc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Qc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Jc.setFromProjectionMatrix(Qc,i.coordinateSystem,i.reversedDepth),Jc.containsPoint(e))return!0}return!1}clone(){return new BC}}function RP(n,e){return n-e}function tRe(n,e){return n.z-e.z}function nRe(n,e){return e.z-n.z}class rRe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const xo=new yn,iRe=new Lt(1,1,1),IV=new Cy,sRe=new BC,ES=new Ia,Tp=new Zs,_x=new oe,PV=new oe,aRe=new oe,NP=new rRe,va=new rs,AS=[];function oRe(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function Cp(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Vte extends rs{constructor(e,t,r=t*2,i){super(new Nn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Cu(t,e,e,Ca,Ro);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Cu(t,e,e,Ew,Gh);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Cu(t,e,e,Ca,Ro);r.colorSpace=ar.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:c}=a,u=new o.constructor(r*l),h=new Br(u,l,c);t.setAttribute(s,h)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Br(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ia);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,xo),this.getBoundingBoxAt(s,ES).applyMatrix4(xo),e.union(ES)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,xo),this.getBoundingSphereAt(s,Tp).applyMatrix4(xo),e.union(Tp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(RP),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;xo.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(iRe.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(RP),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const u in r.attributes){const h=t.getAttribute(u),d=r.getAttribute(u);oRe(h,d,l);const p=h.itemSize;for(let g=h.count,_=c;g<_;g++){const w=l+g;for(let x=0;x<p;x++)d.setComponent(w,x,0)}d.needsUpdate=!0,d.addUpdateRange(l*p,c*p)}if(i){const u=o.indexStart,h=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let d=0;d<a.count;d++)s.setX(u+d,l+a.getX(d));for(let d=a.count,p=h;d<p;d++)s.setX(u+d,l);s.needsUpdate=!0,s.addUpdateRange(u,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((a,o)=>o).sort((a,o)=>r[a].vertexStart-r[o].vertexStart),s=this.geometry;for(let a=0,o=r.length;a<o;a++){const l=i[a],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:u,vertexStart:h,reservedIndexCount:d}=c,p=s.index,g=p.array,_=e-h;for(let w=u;w<u+d;w++)g[w]=g[w]+_;p.array.copyWithin(t,u,u+d),p.addUpdateRange(t,d),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:h}=c,d=s.attributes;for(const p in d){const g=d[p],{array:_,itemSize:w}=g;_.copyWithin(e*w,u*w,(u+h)*w),g.addUpdateRange(e*w,h*w)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Ia,a=r.index,o=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;a&&(u=a.getX(u)),s.expandByPoint(_x.fromBufferAttribute(o,u))}i.boundingBox=s}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Zs;this.getBoundingBoxAt(e,ES),ES.getCenter(s.center);const a=r.index,o=r.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let h=c;a&&(h=a.getX(h)),_x.fromBufferAttribute(o,h),l=Math.max(l,s.center.distanceToSquared(_x))}s.radius=Math.sqrt(l),i.boundingSphere=s}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(RP);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);Cp(this._multiDrawCounts,i),Cp(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Cp(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Cp(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Cp(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Nn,this._initializeGeometry(s));const a=this.geometry;s.index&&Cp(s.index.array,a.index.array);for(const o in s.attributes)Cp(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;va.material=this.material,va.geometry.index=a.index,va.geometry.attributes=a.attributes,va.geometry.boundingBox===null&&(va.geometry.boundingBox=new Ia),va.geometry.boundingSphere===null&&(va.geometry.boundingSphere=new Zs);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const c=r[o].geometryIndex,u=i[c];va.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,va.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,va.geometry.boundingBox),this.getBoundingSphereAt(c,va.geometry.boundingSphere),va.raycast(e,AS);for(let h=0,d=AS.length;h<d;h++){const p=AS[h];p.object=this,p.batchId=o,t.push(p)}AS.length=0}va.material=null,va.geometry.index=null,va.geometry.attributes={},va.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,h=this._geometryInfo,d=this.perObjectFrustumCulled,p=this._indirectTexture,g=p.image.data,_=r.isArrayCamera?sRe:IV;d&&!r.isArrayCamera&&(xo.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),IV.setFromProjectionMatrix(xo,r.coordinateSystem,r.reversedDepth));let w=0;if(this.sortObjects){xo.copy(this.matrixWorld).invert(),_x.setFromMatrixPosition(r.matrixWorld).applyMatrix4(xo),PV.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(xo);for(let E=0,T=l.length;E<T;E++)if(l[E].visible&&l[E].active){const D=l[E].geometryIndex;this.getMatrixAt(E,xo),this.getBoundingSphereAt(D,Tp).applyMatrix4(xo);let k=!1;if(d&&(k=!_.intersectsSphere(Tp,r)),!k){const I=h[D],N=aRe.subVectors(Tp.center,_x).dot(PV);NP.push(I.start,I.count,N,E)}}const x=NP.list,S=this.customSort;S===null?x.sort(s.transparent?nRe:tRe):S.call(this,x,r);for(let E=0,T=x.length;E<T;E++){const D=x[E];c[w]=D.start*o,u[w]=D.count,g[w]=D.index,w++}NP.reset()}else for(let x=0,S=l.length;x<S;x++)if(l[x].visible&&l[x].active){const E=l[x].geometryIndex;let T=!1;if(d&&(this.getMatrixAt(x,xo),this.getBoundingSphereAt(E,Tp).applyMatrix4(xo),T=!_.intersectsSphere(Tp,r)),!T){const D=h[E];c[w]=D.start*o,u[w]=D.count,g[w]=x,w++}}p.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class oo extends Na{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const BA=new oe,UA=new oe,RV=new yn,wx=new dg,TS=new Zs,kP=new oe,NV=new oe;class Wf extends hr{constructor(e=new Nn,t=new oo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)BA.fromBufferAttribute(t,i-1),UA.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=BA.distanceTo(UA);e.setAttribute("lineDistance",new Gt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),TS.copy(r.boundingSphere),TS.applyMatrix4(i),TS.radius+=s,e.ray.intersectsSphere(TS)===!1)return;RV.copy(i).invert(),wx.copy(e.ray).applyMatrix4(RV);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,a.start),g=Math.min(u.count,a.start+a.count);for(let _=p,w=g-1;_<w;_+=c){const x=u.getX(_),S=u.getX(_+1),E=CS(this,e,wx,l,x,S,_);E&&t.push(E)}if(this.isLineLoop){const _=u.getX(g-1),w=u.getX(p),x=CS(this,e,wx,l,_,w,g-1);x&&t.push(x)}}else{const p=Math.max(0,a.start),g=Math.min(d.count,a.start+a.count);for(let _=p,w=g-1;_<w;_+=c){const x=CS(this,e,wx,l,_,_+1,_);x&&t.push(x)}if(this.isLineLoop){const _=CS(this,e,wx,l,g-1,p,g-1);_&&t.push(_)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function CS(n,e,t,r,i,s,a){const o=n.geometry.attributes.position;if(BA.fromBufferAttribute(o,i),UA.fromBufferAttribute(o,s),t.distanceSqToSegment(BA,UA,kP,NV)>r)return;kP.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(kP);if(!(c<e.near||c>e.far))return{distance:c,point:NV.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const kV=new oe,DV=new oe;class Bu extends Wf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)kV.fromBufferAttribute(t,i),DV.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+kV.distanceTo(DV);e.setAttribute("lineDistance",new Gt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class zte extends Wf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class k4 extends Na{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const OV=new yn,n3=new dg,MS=new Zs,IS=new oe;class Hte extends hr{constructor(e=new Nn,t=new k4){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),MS.copy(r.boundingSphere),MS.applyMatrix4(i),MS.radius+=s,e.ray.intersectsSphere(MS)===!1)return;OV.copy(i).invert(),n3.copy(e.ray).applyMatrix4(OV);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,h=r.attributes.position;if(c!==null){const d=Math.max(0,a.start),p=Math.min(c.count,a.start+a.count);for(let g=d,_=p;g<_;g++){const w=c.getX(g);IS.fromBufferAttribute(h,w),LV(IS,w,l,i,e,t,this)}}else{const d=Math.max(0,a.start),p=Math.min(h.count,a.start+a.count);for(let g=d,_=p;g<_;g++)IS.fromBufferAttribute(h,g),LV(IS,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function LV(n,e,t,r,i,s,a){const o=n3.distanceSqToPoint(n);if(o<t){const l=new oe;n3.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class Wte extends fi{constructor(e,t,r,i,s=vs,a=vs,o,l,c){super(e,t,r,i,s,a,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;function h(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class lRe extends Wte{constructor(e,t,r,i,s,a,o,l){super({},e,t,r,i,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class cRe extends fi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Ks,this.minFilter=Ks,this.generateMipmaps=!1,this.needsUpdate=!0}}class UC extends fi{constructor(e,t,r,i,s,a,o,l,c,u,h,d){super(null,a,o,l,c,u,i,s,h,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class uRe extends UC{constructor(e,t,r,i,s,a){super(e,t,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Dl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class hRe extends UC{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Wh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class dRe extends fi{constructor(e,t,r,i,s,a,o,l,c){super(e,t,r,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class D4 extends fi{constructor(e,t,r=Gh,i,s,a,o=Ks,l=Ks,c,u=Zv,h=1){if(u!==Zv&&u!==Qv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const d={width:e,height:t,depth:h};super(d,i,s,a,o,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new hf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class jC extends Nn{constructor(e=1,t=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:s},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],c=[],u=t/2,h=Math.PI/2*e,d=t,p=2*h+d,g=r*2+s,_=i+1,w=new oe,x=new oe;for(let S=0;S<=g;S++){let E=0,T=0,D=0,k=0;if(S<=r){const P=S/r,R=P*Math.PI/2;T=-u-e*Math.cos(R),D=e*Math.sin(R),k=-e*Math.cos(R),E=P*h}else if(S<=r+s){const P=(S-r)/s;T=-u+P*t,D=e,k=0,E=h+P*d}else{const P=(S-r-s)/r,R=P*Math.PI/2;T=u+e*Math.sin(R),D=e*Math.cos(R),k=e*Math.sin(R),E=h+d+P*h}const I=Math.max(0,Math.min(1,E/p));let N=0;S===0?N=.5/i:S===g&&(N=-.5/i);for(let P=0;P<=i;P++){const R=P/i,B=R*Math.PI*2,z=Math.sin(B),H=Math.cos(B);x.x=-D*H,x.y=T,x.z=D*z,o.push(x.x,x.y,x.z),w.set(-D*H,k,D*z),w.normalize(),l.push(w.x,w.y,w.z),c.push(R+N,I)}if(S>0){const P=(S-1)*_;for(let R=0;R<i;R++){const B=P+R,z=P+R+1,H=S*_+R,K=S*_+R+1;a.push(B,z,H),a.push(z,K,H)}}}this.setIndex(a),this.setAttribute("position",new Gt(o,3)),this.setAttribute("normal",new Gt(l,3)),this.setAttribute("uv",new Gt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jC(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class VC extends Nn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],a=[],o=[],l=[],c=new oe,u=new nt;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let h=0,d=3;h<=t;h++,d+=3){const p=r+h/t*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[d]/e+1)/2,u.y=(a[d+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Gt(a,3)),this.setAttribute("normal",new Gt(o,3)),this.setAttribute("uv",new Gt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VC(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Cw extends Nn{constructor(e=1,t=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],d=[],p=[];let g=0;const _=[],w=r/2;let x=0;S(),a===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(u),this.setAttribute("position",new Gt(h,3)),this.setAttribute("normal",new Gt(d,3)),this.setAttribute("uv",new Gt(p,2));function S(){const T=new oe,D=new oe;let k=0;const I=(t-e)/r;for(let N=0;N<=s;N++){const P=[],R=N/s,B=R*(t-e)+e;for(let z=0;z<=i;z++){const H=z/i,K=H*l+o,J=Math.sin(K),se=Math.cos(K);D.x=B*J,D.y=-R*r+w,D.z=B*se,h.push(D.x,D.y,D.z),T.set(J,I,se).normalize(),d.push(T.x,T.y,T.z),p.push(H,1-R),P.push(g++)}_.push(P)}for(let N=0;N<i;N++)for(let P=0;P<s;P++){const R=_[P][N],B=_[P+1][N],z=_[P+1][N+1],H=_[P][N+1];(e>0||P!==0)&&(u.push(R,B,H),k+=3),(t>0||P!==s-1)&&(u.push(B,z,H),k+=3)}c.addGroup(x,k,0),x+=k}function E(T){const D=g,k=new nt,I=new oe;let N=0;const P=T===!0?e:t,R=T===!0?1:-1;for(let z=1;z<=i;z++)h.push(0,w*R,0),d.push(0,R,0),p.push(.5,.5),g++;const B=g;for(let z=0;z<=i;z++){const K=z/i*l+o,J=Math.cos(K),se=Math.sin(K);I.x=P*se,I.y=w*R,I.z=P*J,h.push(I.x,I.y,I.z),d.push(0,R,0),k.x=J*.5+.5,k.y=se*.5*R+.5,p.push(k.x,k.y),g++}for(let z=0;z<i;z++){const H=D+z,K=B+z;T===!0?u.push(K,K+1,H):u.push(K+1,K,H),N+=3}c.addGroup(x,N,T===!0?1:2),x+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Mw extends Cw{constructor(e=1,t=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new Mw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class np extends Nn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],a=[];o(i),c(r),u(),this.setAttribute("position",new Gt(s,3)),this.setAttribute("normal",new Gt(s.slice(),3)),this.setAttribute("uv",new Gt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(S){const E=new oe,T=new oe,D=new oe;for(let k=0;k<t.length;k+=3)p(t[k+0],E),p(t[k+1],T),p(t[k+2],D),l(E,T,D,S)}function l(S,E,T,D){const k=D+1,I=[];for(let N=0;N<=k;N++){I[N]=[];const P=S.clone().lerp(T,N/k),R=E.clone().lerp(T,N/k),B=k-N;for(let z=0;z<=B;z++)z===0&&N===k?I[N][z]=P:I[N][z]=P.clone().lerp(R,z/B)}for(let N=0;N<k;N++)for(let P=0;P<2*(k-N)-1;P++){const R=Math.floor(P/2);P%2===0?(d(I[N][R+1]),d(I[N+1][R]),d(I[N][R])):(d(I[N][R+1]),d(I[N+1][R+1]),d(I[N+1][R]))}}function c(S){const E=new oe;for(let T=0;T<s.length;T+=3)E.x=s[T+0],E.y=s[T+1],E.z=s[T+2],E.normalize().multiplyScalar(S),s[T+0]=E.x,s[T+1]=E.y,s[T+2]=E.z}function u(){const S=new oe;for(let E=0;E<s.length;E+=3){S.x=s[E+0],S.y=s[E+1],S.z=s[E+2];const T=w(S)/2/Math.PI+.5,D=x(S)/Math.PI+.5;a.push(T,1-D)}g(),h()}function h(){for(let S=0;S<a.length;S+=6){const E=a[S+0],T=a[S+2],D=a[S+4],k=Math.max(E,T,D),I=Math.min(E,T,D);k>.9&&I<.1&&(E<.2&&(a[S+0]+=1),T<.2&&(a[S+2]+=1),D<.2&&(a[S+4]+=1))}}function d(S){s.push(S.x,S.y,S.z)}function p(S,E){const T=S*3;E.x=e[T+0],E.y=e[T+1],E.z=e[T+2]}function g(){const S=new oe,E=new oe,T=new oe,D=new oe,k=new nt,I=new nt,N=new nt;for(let P=0,R=0;P<s.length;P+=9,R+=6){S.set(s[P+0],s[P+1],s[P+2]),E.set(s[P+3],s[P+4],s[P+5]),T.set(s[P+6],s[P+7],s[P+8]),k.set(a[R+0],a[R+1]),I.set(a[R+2],a[R+3]),N.set(a[R+4],a[R+5]),D.copy(S).add(E).add(T).divideScalar(3);const B=w(D);_(k,R+0,S,B),_(I,R+2,E,B),_(N,R+4,T,B)}}function _(S,E,T,D){D<0&&S.x===1&&(a[E]=S.x-1),T.x===0&&T.z===0&&(a[E]=D/2/Math.PI+.5)}function w(S){return Math.atan2(S.z,-S.x)}function x(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new np(e.vertices,e.indices,e.radius,e.details)}}class zC extends np{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zC(e.radius,e.detail)}}const PS=new oe,RS=new oe,DP=new oe,NS=new Mo;class Gte extends Nn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Em*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),d={},p=[];for(let g=0;g<l;g+=3){a?(c[0]=a.getX(g),c[1]=a.getX(g+1),c[2]=a.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:_,b:w,c:x}=NS;if(_.fromBufferAttribute(o,c[0]),w.fromBufferAttribute(o,c[1]),x.fromBufferAttribute(o,c[2]),NS.getNormal(DP),h[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,h[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,h[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let S=0;S<3;S++){const E=(S+1)%3,T=h[S],D=h[E],k=NS[u[S]],I=NS[u[E]],N=`${T}_${D}`,P=`${D}_${T}`;P in d&&d[P]?(DP.dot(d[P].normal)<=s&&(p.push(k.x,k.y,k.z),p.push(I.x,I.y,I.z)),d[P]=null):N in d||(d[N]={index0:c[S],index1:c[E],normal:DP.clone()})}}for(const g in d)if(d[g]){const{index0:_,index1:w}=d[g];PS.fromBufferAttribute(o,_),RS.fromBufferAttribute(o,w),p.push(PS.x,PS.y,PS.z),p.push(RS.x,RS.y,RS.z)}this.setAttribute("position",new Gt(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Lc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const s=r.length;let a;t?a=t:a=e*r[s-1];let o=0,l=s-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-a,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const u=r[i],d=r[i+1]-u,p=(a-u)/d;return(i+p)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=t||(a.isVector2?new nt:new oe);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new oe,i=[],s=[],a=[],o=new oe,l=new yn;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new oe)}s[0]=new oe,a[0]=new oe;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),d<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();const g=Math.acos(pn(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(o,g))}a[p].crossVectors(i[p],s[p])}if(t===!0){let p=Math.acos(pn(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],p*g)),a[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class HC extends Lc{constructor(e=0,t=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new nt){const r=t,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*h+this.aX,c=d*h+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class $te extends HC{constructor(e,t,r,i,s,a){super(e,t,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function O4(){let n=0,e=0,t=0,r=0;function i(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){i(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,u,h){let d=(a-s)/c-(o-s)/(c+u)+(o-a)/u,p=(o-a)/u-(l-a)/(u+h)+(l-o)/h;d*=u,p*=u,i(a,o,d,p)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+r*o}}}const kS=new oe,OP=new O4,LP=new O4,FP=new O4;class qte extends Lc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new oe){const r=t,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%s]:(kS.subVectors(i[0],i[1]).add(i[0]),c=kS);const h=i[o%s],d=i[(o+1)%s];if(this.closed||o+2<s?u=i[(o+2)%s]:(kS.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=kS),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(h),p),_=Math.pow(h.distanceToSquared(d),p),w=Math.pow(d.distanceToSquared(u),p);_<1e-4&&(_=1),g<1e-4&&(g=_),w<1e-4&&(w=_),OP.initNonuniformCatmullRom(c.x,h.x,d.x,u.x,g,_,w),LP.initNonuniformCatmullRom(c.y,h.y,d.y,u.y,g,_,w),FP.initNonuniformCatmullRom(c.z,h.z,d.z,u.z,g,_,w)}else this.curveType==="catmullrom"&&(OP.initCatmullRom(c.x,h.x,d.x,u.x,this.tension),LP.initCatmullRom(c.y,h.y,d.y,u.y,this.tension),FP.initCatmullRom(c.z,h.z,d.z,u.z,this.tension));return r.set(OP.calc(l),LP.calc(l),FP.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new oe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function FV(n,e,t,r,i){const s=(r-e)*.5,a=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*r+s+a)*l+(-3*t+3*r-2*s-a)*o+s*n+t}function fRe(n,e){const t=1-n;return t*t*e}function pRe(n,e){return 2*(1-n)*n*e}function mRe(n,e){return n*n*e}function P1(n,e,t,r){return fRe(n,e)+pRe(n,t)+mRe(n,r)}function gRe(n,e){const t=1-n;return t*t*t*e}function vRe(n,e){const t=1-n;return 3*t*t*n*e}function yRe(n,e){return 3*(1-n)*n*n*e}function xRe(n,e){return n*n*n*e}function R1(n,e,t,r,i){return gRe(n,e)+vRe(n,t)+yRe(n,r)+xRe(n,i)}class L4 extends Lc{constructor(e=new nt,t=new nt,r=new nt,i=new nt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new nt){const r=t,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(R1(e,i.x,s.x,a.x,o.x),R1(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Xte extends Lc{constructor(e=new oe,t=new oe,r=new oe,i=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new oe){const r=t,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(R1(e,i.x,s.x,a.x,o.x),R1(e,i.y,s.y,a.y,o.y),R1(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class F4 extends Lc{constructor(e=new nt,t=new nt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new nt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new nt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yte extends Lc{constructor(e=new oe,t=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new oe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new oe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class B4 extends Lc{constructor(e=new nt,t=new nt,r=new nt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new nt){const r=t,i=this.v0,s=this.v1,a=this.v2;return r.set(P1(e,i.x,s.x,a.x),P1(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U4 extends Lc{constructor(e=new oe,t=new oe,r=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new oe){const r=t,i=this.v0,s=this.v1,a=this.v2;return r.set(P1(e,i.x,s.x,a.x),P1(e,i.y,s.y,a.y),P1(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class j4 extends Lc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new nt){const r=t,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],h=i[a>i.length-3?i.length-1:a+2];return r.set(FV(o,l.x,c.x,u.x,h.x),FV(o,l.y,c.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new nt().fromArray(i))}return this}}var jA=Object.freeze({__proto__:null,ArcCurve:$te,CatmullRomCurve3:qte,CubicBezierCurve:L4,CubicBezierCurve3:Xte,EllipseCurve:HC,LineCurve:F4,LineCurve3:Yte,QuadraticBezierCurve:B4,QuadraticBezierCurve3:U4,SplineCurve:j4});class Kte extends Lc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new jA[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new jA[i.type]().fromJSON(i))}return this}}class VA extends Kte{constructor(e){super(),this.type="Path",this.currentPoint=new nt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new F4(this.currentPoint.clone(),new nt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new B4(this.currentPoint.clone(),new nt(e,t),new nt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,a){const o=new L4(this.currentPoint.clone(),new nt(e,t),new nt(r,i),new nt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new j4(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,r,i,s,a),this}absarc(e,t,r,i,s,a){return this.absellipse(e,t,r,r,i,s,a),this}ellipse(e,t,r,i,s,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,a,o,l),this}absellipse(e,t,r,i,s,a,o,l){const c=new HC(e,t,r,i,s,a,o,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Tm extends VA{constructor(e){super(e),this.uuid=al(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new VA().fromJSON(i))}return this}}function _Re(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Zte(n,0,i,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c;if(r&&(s=ARe(n,e,s,t)),n.length>80*t){o=1/0,l=1/0;let u=-1/0,h=-1/0;for(let d=t;d<i;d+=t){const p=n[d],g=n[d+1];p<o&&(o=p),g<l&&(l=g),p>u&&(u=p),g>h&&(h=g)}c=Math.max(u-o,h-l),c=c!==0?32767/c:0}return R_(s,a,t,o,l,c,0),a}function Zte(n,e,t,r,i){let s;if(i===LRe(n,e,t,r)>0)for(let a=e;a<t;a+=r)s=BV(a/r|0,n[a],n[a+1],s);else for(let a=t-r;a>=e;a-=r)s=BV(a/r|0,n[a],n[a+1],s);return s&&ry(s,s.next)&&(k_(s),s=s.next),s}function Zm(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(ry(t,t.next)||Si(t.prev,t,t.next)===0)){if(k_(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function R_(n,e,t,r,i,s,a){if(!n)return;!a&&s&&PRe(n,r,i,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,c=n.next;if(s?bRe(n,r,i,s):wRe(n)){e.push(l.i,n.i,c.i),k_(n),n=c.next,o=c.next;continue}if(n=c,n===o){a?a===1?(n=SRe(Zm(n),e),R_(n,e,t,r,i,s,2)):a===2&&ERe(n,e,t,r,i,s):R_(Zm(n),e,t,r,i,s,1);break}}}function wRe(n){const e=n.prev,t=n,r=n.next;if(Si(e,t,r)>=0)return!1;const i=e.x,s=t.x,a=r.x,o=e.y,l=t.y,c=r.y,u=Math.min(i,s,a),h=Math.min(o,l,c),d=Math.max(i,s,a),p=Math.max(o,l,c);let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=h&&g.y<=p&&$x(i,o,s,l,a,c,g.x,g.y)&&Si(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function bRe(n,e,t,r){const i=n.prev,s=n,a=n.next;if(Si(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,u=i.y,h=s.y,d=a.y,p=Math.min(o,l,c),g=Math.min(u,h,d),_=Math.max(o,l,c),w=Math.max(u,h,d),x=r3(p,g,e,t,r),S=r3(_,w,e,t,r);let E=n.prevZ,T=n.nextZ;for(;E&&E.z>=x&&T&&T.z<=S;){if(E.x>=p&&E.x<=_&&E.y>=g&&E.y<=w&&E!==i&&E!==a&&$x(o,u,l,h,c,d,E.x,E.y)&&Si(E.prev,E,E.next)>=0||(E=E.prevZ,T.x>=p&&T.x<=_&&T.y>=g&&T.y<=w&&T!==i&&T!==a&&$x(o,u,l,h,c,d,T.x,T.y)&&Si(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;E&&E.z>=x;){if(E.x>=p&&E.x<=_&&E.y>=g&&E.y<=w&&E!==i&&E!==a&&$x(o,u,l,h,c,d,E.x,E.y)&&Si(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;T&&T.z<=S;){if(T.x>=p&&T.x<=_&&T.y>=g&&T.y<=w&&T!==i&&T!==a&&$x(o,u,l,h,c,d,T.x,T.y)&&Si(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function SRe(n,e){let t=n;do{const r=t.prev,i=t.next.next;!ry(r,i)&&Jte(r,t,t.next,i)&&N_(r,i)&&N_(i,r)&&(e.push(r.i,t.i,i.i),k_(t),k_(t.next),t=n=i),t=t.next}while(t!==n);return Zm(t)}function ERe(n,e,t,r,i,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&kRe(a,o)){let l=ene(a,o);a=Zm(a,a.next),l=Zm(l,l.next),R_(a,e,t,r,i,s,0),R_(l,e,t,r,i,s,0);return}o=o.next}a=a.next}while(a!==n)}function ARe(n,e,t,r){const i=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*r,l=s<a-1?e[s+1]*r:n.length,c=Zte(n,o,l,r,!1);c===c.next&&(c.steiner=!0),i.push(NRe(c))}i.sort(TRe);for(let s=0;s<i.length;s++)t=CRe(i[s],t);return t}function TRe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function CRe(n,e){const t=MRe(n,e);if(!t)return e;const r=ene(t,n);return Zm(r,r.next),Zm(t,t.next)}function MRe(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,a;if(ry(n,t))return t;do{if(ry(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const h=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=r&&h>s&&(s=h,a=t.x<t.next.x?t:t.next,h===r))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,c=a.y;let u=1/0;t=a;do{if(r>=t.x&&t.x>=l&&r!==t.x&&Qte(i<c?r:s,i,l,c,i<c?s:r,i,t.x,t.y)){const h=Math.abs(i-t.y)/(r-t.x);N_(t,n)&&(h<u||h===u&&(t.x>a.x||t.x===a.x&&IRe(a,t)))&&(a=t,u=h)}t=t.next}while(t!==o);return a}function IRe(n,e){return Si(n.prev,n,e.prev)<0&&Si(e.next,n,n.next)<0}function PRe(n,e,t,r){let i=n;do i.z===0&&(i.z=r3(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,RRe(i)}function RRe(n){let e,t=1;do{let r=n,i;n=null;let s=null;for(e=0;r;){e++;let a=r,o=0;for(let c=0;c<t&&(o++,a=a.nextZ,!!a);c++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,o--):(i=a,a=a.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;r=a}s.nextZ=null,t*=2}while(e>1);return n}function r3(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function NRe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Qte(n,e,t,r,i,s,a,o){return(i-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(r-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(i-a)*(r-o)}function $x(n,e,t,r,i,s,a,o){return!(n===a&&e===o)&&Qte(n,e,t,r,i,s,a,o)}function kRe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!DRe(n,e)&&(N_(n,e)&&N_(e,n)&&ORe(n,e)&&(Si(n.prev,n,e.prev)||Si(n,e.prev,e))||ry(n,e)&&Si(n.prev,n,n.next)>0&&Si(e.prev,e,e.next)>0)}function Si(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function ry(n,e){return n.x===e.x&&n.y===e.y}function Jte(n,e,t,r){const i=OS(Si(n,e,t)),s=OS(Si(n,e,r)),a=OS(Si(t,r,n)),o=OS(Si(t,r,e));return!!(i!==s&&a!==o||i===0&&DS(n,t,e)||s===0&&DS(n,r,e)||a===0&&DS(t,n,r)||o===0&&DS(t,e,r))}function DS(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function OS(n){return n>0?1:n<0?-1:0}function DRe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Jte(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function N_(n,e){return Si(n.prev,n,n.next)<0?Si(n,e,n.next)>=0&&Si(n,n.prev,e)>=0:Si(n,e,n.prev)<0||Si(n,n.next,e)<0}function ORe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function ene(n,e){const t=i3(n.i,n.x,n.y),r=i3(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function BV(n,e,t,r){const i=i3(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function k_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function i3(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function LRe(n,e,t,r){let i=0;for(let s=e,a=t-r;s<t;s+=r)i+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return i}class FRe{static triangulate(e,t,r=2){return _Re(e,t,r)}}class _c{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return _c.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];UV(e),jV(r,e);let a=e.length;t.forEach(UV);for(let l=0;l<t.length;l++)i.push(a),a+=t[l].length,jV(r,t[l]);const o=FRe.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function UV(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function jV(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class WC extends Nn{constructor(e=new Tm([new nt(.5,.5),new nt(-.5,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new Gt(i,3)),this.setAttribute("uv",new Gt(s,2)),this.computeVertexNormals();function a(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:p-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:BRe;let E,T=!1,D,k,I,N;x&&(E=x.getSpacedPoints(u),T=!0,d=!1,D=x.computeFrenetFrames(u,!1),k=new oe,I=new oe,N=new oe),d||(w=0,p=0,g=0,_=0);const P=o.extractPoints(c);let R=P.shape;const B=P.holes;if(!_c.isClockWise(R)){R=R.reverse();for(let Re=0,ke=B.length;Re<ke;Re++){const $e=B[Re];_c.isClockWise($e)&&(B[Re]=$e.reverse())}}function H(Re){const $e=10000000000000001e-36;let We=Re[0];for(let ne=1;ne<=Re.length;ne++){const Ae=ne%Re.length,Fe=Re[Ae],ot=Fe.x-We.x,vt=Fe.y-We.y,ie=ot*ot+vt*vt,Y=Math.max(Math.abs(Fe.x),Math.abs(Fe.y),Math.abs(We.x),Math.abs(We.y)),xe=$e*Y*Y;if(ie<=xe){Re.splice(Ae,1),ne--;continue}We=Fe}}H(R),B.forEach(H);const K=B.length,J=R;for(let Re=0;Re<K;Re++){const ke=B[Re];R=R.concat(ke)}function se(Re,ke,$e){return ke||console.error("THREE.ExtrudeGeometry: vec does not exist"),Re.clone().addScaledVector(ke,$e)}const ce=R.length;function X(Re,ke,$e){let We,ne,Ae;const Fe=Re.x-ke.x,ot=Re.y-ke.y,vt=$e.x-Re.x,ie=$e.y-Re.y,Y=Fe*Fe+ot*ot,xe=Fe*ie-ot*vt;if(Math.abs(xe)>Number.EPSILON){const re=Math.sqrt(Y),pe=Math.sqrt(vt*vt+ie*ie),_e=ke.x-ot/re,at=ke.y+Fe/re,qe=$e.x-ie/pe,xt=$e.y+vt/pe,bt=((qe-_e)*ie-(xt-at)*vt)/(Fe*ie-ot*vt);We=_e+Fe*bt-Re.x,ne=at+ot*bt-Re.y;const it=We*We+ne*ne;if(it<=2)return new nt(We,ne);Ae=Math.sqrt(it/2)}else{let re=!1;Fe>Number.EPSILON?vt>Number.EPSILON&&(re=!0):Fe<-Number.EPSILON?vt<-Number.EPSILON&&(re=!0):Math.sign(ot)===Math.sign(ie)&&(re=!0),re?(We=-ot,ne=Fe,Ae=Math.sqrt(Y)):(We=Fe,ne=ot,Ae=Math.sqrt(Y/2))}return new nt(We/Ae,ne/Ae)}const ue=[];for(let Re=0,ke=J.length,$e=ke-1,We=Re+1;Re<ke;Re++,$e++,We++)$e===ke&&($e=0),We===ke&&(We=0),ue[Re]=X(J[Re],J[$e],J[We]);const q=[];let ge,De=ue.concat();for(let Re=0,ke=K;Re<ke;Re++){const $e=B[Re];ge=[];for(let We=0,ne=$e.length,Ae=ne-1,Fe=We+1;We<ne;We++,Ae++,Fe++)Ae===ne&&(Ae=0),Fe===ne&&(Fe=0),ge[We]=X($e[We],$e[Ae],$e[Fe]);q.push(ge),De=De.concat(ge)}let Q;if(w===0)Q=_c.triangulateShape(J,B);else{const Re=[],ke=[];for(let $e=0;$e<w;$e++){const We=$e/w,ne=p*Math.cos(We*Math.PI/2),Ae=g*Math.sin(We*Math.PI/2)+_;for(let Fe=0,ot=J.length;Fe<ot;Fe++){const vt=se(J[Fe],ue[Fe],Ae);Qe(vt.x,vt.y,-ne),We===0&&Re.push(vt)}for(let Fe=0,ot=K;Fe<ot;Fe++){const vt=B[Fe];ge=q[Fe];const ie=[];for(let Y=0,xe=vt.length;Y<xe;Y++){const re=se(vt[Y],ge[Y],Ae);Qe(re.x,re.y,-ne),We===0&&ie.push(re)}We===0&&ke.push(ie)}}Q=_c.triangulateShape(Re,ke)}const et=Q.length,ye=g+_;for(let Re=0;Re<ce;Re++){const ke=d?se(R[Re],De[Re],ye):R[Re];T?(I.copy(D.normals[0]).multiplyScalar(ke.x),k.copy(D.binormals[0]).multiplyScalar(ke.y),N.copy(E[0]).add(I).add(k),Qe(N.x,N.y,N.z)):Qe(ke.x,ke.y,0)}for(let Re=1;Re<=u;Re++)for(let ke=0;ke<ce;ke++){const $e=d?se(R[ke],De[ke],ye):R[ke];T?(I.copy(D.normals[Re]).multiplyScalar($e.x),k.copy(D.binormals[Re]).multiplyScalar($e.y),N.copy(E[Re]).add(I).add(k),Qe(N.x,N.y,N.z)):Qe($e.x,$e.y,h/u*Re)}for(let Re=w-1;Re>=0;Re--){const ke=Re/w,$e=p*Math.cos(ke*Math.PI/2),We=g*Math.sin(ke*Math.PI/2)+_;for(let ne=0,Ae=J.length;ne<Ae;ne++){const Fe=se(J[ne],ue[ne],We);Qe(Fe.x,Fe.y,h+$e)}for(let ne=0,Ae=B.length;ne<Ae;ne++){const Fe=B[ne];ge=q[ne];for(let ot=0,vt=Fe.length;ot<vt;ot++){const ie=se(Fe[ot],ge[ot],We);T?Qe(ie.x,ie.y+E[u-1].y,E[u-1].x+$e):Qe(ie.x,ie.y,h+$e)}}}Ie(),Se();function Ie(){const Re=i.length/3;if(d){let ke=0,$e=ce*ke;for(let We=0;We<et;We++){const ne=Q[We];rt(ne[2]+$e,ne[1]+$e,ne[0]+$e)}ke=u+w*2,$e=ce*ke;for(let We=0;We<et;We++){const ne=Q[We];rt(ne[0]+$e,ne[1]+$e,ne[2]+$e)}}else{for(let ke=0;ke<et;ke++){const $e=Q[ke];rt($e[2],$e[1],$e[0])}for(let ke=0;ke<et;ke++){const $e=Q[ke];rt($e[0]+ce*u,$e[1]+ce*u,$e[2]+ce*u)}}r.addGroup(Re,i.length/3-Re,0)}function Se(){const Re=i.length/3;let ke=0;Je(J,ke),ke+=J.length;for(let $e=0,We=B.length;$e<We;$e++){const ne=B[$e];Je(ne,ke),ke+=ne.length}r.addGroup(Re,i.length/3-Re,1)}function Je(Re,ke){let $e=Re.length;for(;--$e>=0;){const We=$e;let ne=$e-1;ne<0&&(ne=Re.length-1);for(let Ae=0,Fe=u+w*2;Ae<Fe;Ae++){const ot=ce*Ae,vt=ce*(Ae+1),ie=ke+We+ot,Y=ke+ne+ot,xe=ke+ne+vt,re=ke+We+vt;ut(ie,Y,xe,re)}}}function Qe(Re,ke,$e){l.push(Re),l.push(ke),l.push($e)}function rt(Re,ke,$e){Be(Re),Be(ke),Be($e);const We=i.length/3,ne=S.generateTopUV(r,i,We-3,We-2,We-1);ae(ne[0]),ae(ne[1]),ae(ne[2])}function ut(Re,ke,$e,We){Be(Re),Be(ke),Be(We),Be(ke),Be($e),Be(We);const ne=i.length/3,Ae=S.generateSideWallUV(r,i,ne-6,ne-3,ne-2,ne-1);ae(Ae[0]),ae(Ae[1]),ae(Ae[3]),ae(Ae[1]),ae(Ae[2]),ae(Ae[3])}function Be(Re){i.push(l[Re*3+0]),i.push(l[Re*3+1]),i.push(l[Re*3+2])}function ae(Re){s.push(Re.x),s.push(Re.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return URe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new jA[i.type]().fromJSON(i)),new WC(r,e.options)}}const BRe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],a=e[t*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new nt(s,a),new nt(o,l),new nt(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],h=e[r*3+2],d=e[i*3],p=e[i*3+1],g=e[i*3+2],_=e[s*3],w=e[s*3+1],x=e[s*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new nt(a,1-l),new nt(c,1-h),new nt(d,1-g),new nt(_,1-x)]:[new nt(o,1-l),new nt(u,1-h),new nt(p,1-g),new nt(w,1-x)]}};function URe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class GC extends np{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new GC(e.radius,e.detail)}}class $C extends Nn{constructor(e=[new nt(0,-.5),new nt(.5,0),new nt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=pn(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],u=1/t,h=new oe,d=new nt,p=new oe,g=new oe,_=new oe;let w=0,x=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:w=e[S+1].x-e[S].x,x=e[S+1].y-e[S].y,p.x=x*1,p.y=-w,p.z=x*0,_.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:w=e[S+1].x-e[S].x,x=e[S+1].y-e[S].y,p.x=x*1,p.y=-w,p.z=x*0,g.copy(p),p.x+=_.x,p.y+=_.y,p.z+=_.z,p.normalize(),l.push(p.x,p.y,p.z),_.copy(g)}for(let S=0;S<=t;S++){const E=r+S*u*i,T=Math.sin(E),D=Math.cos(E);for(let k=0;k<=e.length-1;k++){h.x=e[k].x*T,h.y=e[k].y,h.z=e[k].x*D,a.push(h.x,h.y,h.z),d.x=S/t,d.y=k/(e.length-1),o.push(d.x,d.y);const I=l[3*k+0]*T,N=l[3*k+1],P=l[3*k+0]*D;c.push(I,N,P)}}for(let S=0;S<t;S++)for(let E=0;E<e.length-1;E++){const T=E+S*e.length,D=T,k=T+e.length,I=T+e.length+1,N=T+1;s.push(D,k,N),s.push(I,N,k)}this.setIndex(s),this.setAttribute("position",new Gt(a,3)),this.setAttribute("uv",new Gt(o,2)),this.setAttribute("normal",new Gt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $C(e.points,e.segments,e.phiStart,e.phiLength)}}class Iw extends np{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Iw(e.radius,e.detail)}}class My extends Nn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,a=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,h=e/o,d=t/l,p=[],g=[],_=[],w=[];for(let x=0;x<u;x++){const S=x*d-a;for(let E=0;E<c;E++){const T=E*h-s;g.push(T,-S,0),_.push(0,0,1),w.push(E/o),w.push(1-x/l)}}for(let x=0;x<l;x++)for(let S=0;S<o;S++){const E=S+c*x,T=S+c*(x+1),D=S+1+c*(x+1),k=S+1+c*x;p.push(E,T,k),p.push(T,D,k)}this.setIndex(p),this.setAttribute("position",new Gt(g,3)),this.setAttribute("normal",new Gt(_,3)),this.setAttribute("uv",new Gt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new My(e.width,e.height,e.widthSegments,e.heightSegments)}}class qC extends Nn{constructor(e=.5,t=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let h=e;const d=(t-e)/i,p=new oe,g=new nt;for(let _=0;_<=i;_++){for(let w=0;w<=r;w++){const x=s+w/r*a;p.x=h*Math.cos(x),p.y=h*Math.sin(x),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/t+1)/2,g.y=(p.y/t+1)/2,u.push(g.x,g.y)}h+=d}for(let _=0;_<i;_++){const w=_*(r+1);for(let x=0;x<r;x++){const S=x+w,E=S,T=S+r+1,D=S+r+2,k=S+1;o.push(E,T,k),o.push(T,D,k)}}this.setIndex(o),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qC(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class XC extends Nn{constructor(e=new Tm([new nt(0,.5),new nt(-.5,-.5),new nt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Gt(i,3)),this.setAttribute("normal",new Gt(s,3)),this.setAttribute("uv",new Gt(a,2));function c(u){const h=i.length/3,d=u.extractPoints(t);let p=d.shape;const g=d.holes;_c.isClockWise(p)===!1&&(p=p.reverse());for(let w=0,x=g.length;w<x;w++){const S=g[w];_c.isClockWise(S)===!0&&(g[w]=S.reverse())}const _=_c.triangulateShape(p,g);for(let w=0,x=g.length;w<x;w++){const S=g[w];p=p.concat(S)}for(let w=0,x=p.length;w<x;w++){const S=p[w];i.push(S.x,S.y,0),s.push(0,0,1),a.push(S.x,S.y)}for(let w=0,x=_.length;w<x;w++){const S=_[w],E=S[0]+h,T=S[1]+h,D=S[2]+h;r.push(E,T,D),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return jRe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=t[e.shapes[i]];r.push(a)}return new XC(r,e.curveSegments)}}function jRe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Pw extends Nn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let c=0;const u=[],h=new oe,d=new oe,p=[],g=[],_=[],w=[];for(let x=0;x<=r;x++){const S=[],E=x/r;let T=0;x===0&&a===0?T=.5/t:x===r&&l===Math.PI&&(T=-.5/t);for(let D=0;D<=t;D++){const k=D/t;h.x=-e*Math.cos(i+k*s)*Math.sin(a+E*o),h.y=e*Math.cos(a+E*o),h.z=e*Math.sin(i+k*s)*Math.sin(a+E*o),g.push(h.x,h.y,h.z),d.copy(h).normalize(),_.push(d.x,d.y,d.z),w.push(k+T,1-E),S.push(c++)}u.push(S)}for(let x=0;x<r;x++)for(let S=0;S<t;S++){const E=u[x][S+1],T=u[x][S],D=u[x+1][S],k=u[x+1][S+1];(x!==0||a>0)&&p.push(E,T,k),(x!==r-1||l<Math.PI)&&p.push(T,D,k)}this.setIndex(p),this.setAttribute("position",new Gt(g,3)),this.setAttribute("normal",new Gt(_,3)),this.setAttribute("uv",new Gt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class YC extends np{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YC(e.radius,e.detail)}}class KC extends Nn{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],c=[],u=new oe,h=new oe,d=new oe;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const _=g/i*s,w=p/r*Math.PI*2;h.x=(e+t*Math.cos(w))*Math.cos(_),h.y=(e+t*Math.cos(w))*Math.sin(_),h.z=t*Math.sin(w),o.push(h.x,h.y,h.z),u.x=e*Math.cos(_),u.y=e*Math.sin(_),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const _=(i+1)*p+g-1,w=(i+1)*(p-1)+g-1,x=(i+1)*(p-1)+g,S=(i+1)*p+g;a.push(_,w,S),a.push(w,x,S)}this.setIndex(a),this.setAttribute("position",new Gt(o,3)),this.setAttribute("normal",new Gt(l,3)),this.setAttribute("uv",new Gt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KC(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ZC extends Nn{constructor(e=1,t=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],h=new oe,d=new oe,p=new oe,g=new oe,_=new oe,w=new oe,x=new oe;for(let E=0;E<=r;++E){const T=E/r*s*Math.PI*2;S(T,s,a,e,p),S(T+.01,s,a,e,g),w.subVectors(g,p),x.addVectors(g,p),_.crossVectors(w,x),x.crossVectors(_,w),_.normalize(),x.normalize();for(let D=0;D<=i;++D){const k=D/i*Math.PI*2,I=-t*Math.cos(k),N=t*Math.sin(k);h.x=p.x+(I*x.x+N*_.x),h.y=p.y+(I*x.y+N*_.y),h.z=p.z+(I*x.z+N*_.z),l.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),c.push(d.x,d.y,d.z),u.push(E/r),u.push(D/i)}}for(let E=1;E<=r;E++)for(let T=1;T<=i;T++){const D=(i+1)*(E-1)+(T-1),k=(i+1)*E+(T-1),I=(i+1)*E+T,N=(i+1)*(E-1)+T;o.push(D,k,N),o.push(k,I,N)}this.setIndex(o),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(u,2));function S(E,T,D,k,I){const N=Math.cos(E),P=Math.sin(E),R=D/T*E,B=Math.cos(R);I.x=k*(2+B)*.5*N,I.y=k*(2+B)*P*.5,I.z=k*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZC(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class QC extends Nn{constructor(e=new U4(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new oe,l=new oe,c=new nt;let u=new oe;const h=[],d=[],p=[],g=[];_(),this.setIndex(g),this.setAttribute("position",new Gt(h,3)),this.setAttribute("normal",new Gt(d,3)),this.setAttribute("uv",new Gt(p,2));function _(){for(let E=0;E<t;E++)w(E);w(s===!1?t:0),S(),x()}function w(E){u=e.getPointAt(E/t,u);const T=a.normals[E],D=a.binormals[E];for(let k=0;k<=i;k++){const I=k/i*Math.PI*2,N=Math.sin(I),P=-Math.cos(I);l.x=P*T.x+N*D.x,l.y=P*T.y+N*D.y,l.z=P*T.z+N*D.z,l.normalize(),d.push(l.x,l.y,l.z),o.x=u.x+r*l.x,o.y=u.y+r*l.y,o.z=u.z+r*l.z,h.push(o.x,o.y,o.z)}}function x(){for(let E=1;E<=t;E++)for(let T=1;T<=i;T++){const D=(i+1)*(E-1)+(T-1),k=(i+1)*E+(T-1),I=(i+1)*E+T,N=(i+1)*(E-1)+T;g.push(D,k,N),g.push(k,I,N)}}function S(){for(let E=0;E<=t;E++)for(let T=0;T<=i;T++)c.x=E/t,c.y=T/i,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new QC(new jA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class tne extends Nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new oe,s=new oe;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],d=h.start,p=h.count;for(let g=d,_=d+p;g<_;g+=3)for(let w=0;w<3;w++){const x=o.getX(g+w),S=o.getX(g+(w+1)%3);i.fromBufferAttribute(a,x),s.fromBufferAttribute(a,S),VV(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,h=3*o+(c+1)%3;i.fromBufferAttribute(a,u),s.fromBufferAttribute(a,h),VV(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Gt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function VV(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var zV=Object.freeze({__proto__:null,BoxGeometry:fg,CapsuleGeometry:jC,CircleGeometry:VC,ConeGeometry:Mw,CylinderGeometry:Cw,DodecahedronGeometry:zC,EdgesGeometry:Gte,ExtrudeGeometry:WC,IcosahedronGeometry:GC,LatheGeometry:$C,OctahedronGeometry:Iw,PlaneGeometry:My,PolyhedronGeometry:np,RingGeometry:qC,ShapeGeometry:XC,SphereGeometry:Pw,TetrahedronGeometry:YC,TorusGeometry:KC,TorusKnotGeometry:ZC,TubeGeometry:QC,WireframeGeometry:tne});class nne extends Na{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class rne extends kc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class V4 extends Na{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ul,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ine extends V4{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new nt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class sne extends Na{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ul,this.combine=Sw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ane extends Na{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class one extends Na{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class lne extends Na{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ul,this.combine=Sw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z4 extends Na{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=yte,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class H4 extends Na{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class cne extends Na{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ep,this.normalScale=new nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class une extends oo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function om(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function hne(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function dne(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function s3(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,a=0;a!==r;++s){const o=t[s]*e;for(let l=0;l!==e;++l)i[a++]=n[o+l]}return i}function W4(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),t.push(a)),s=n[i++];while(s!==void 0)}function VRe(n,e,t,r,i=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],d=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*i;if(!(g<t||g>=r)){h.push(c.times[p]);for(let _=0;_<u;++_)d.push(c.values[p*u+_])}}h.length!==0&&(c.times=om(h,c.times.constructor),c.values=om(d,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function zRe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===o.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const g=o.times.length-1;let _;if(s<=o.times[0]){const x=u,S=h-u;_=o.values.slice(x,S)}else if(s>=o.times[g]){const x=g*h+u,S=x+h-u;_=o.values.slice(x,S)}else{const x=o.createInterpolant(),S=u,E=h-u;x.evaluate(s),_=x.resultBuffer.slice(S,E)}l==="quaternion"&&new Ma().fromArray(_).normalize().conjugate().toArray(_);const w=c.times.length;for(let x=0;x<w;++x){const S=x*p+d;if(l==="quaternion")Ma.multiplyQuaternionsFlat(c.values,S,_,0,c.values,S);else{const E=p-d*2;for(let T=0;T<E;++T)c.values[S+T]-=_[T]}}}return n.blendMode=E4,n}class HRe{static convertArray(e,t){return om(e,t)}static isTypedArray(e){return hne(e)}static getKeyframeOrder(e){return dne(e)}static sortedArray(e,t,r){return s3(e,t,r)}static flattenJSON(e,t,r,i){W4(e,t,r,i)}static subclip(e,t,r,i,s=30){return VRe(e,t,r,i,s)}static makeClipAdditive(e,t=0,r=e,i=30){return zRe(e,t,r,i)}}class Rw{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=t[++r],e<i)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<t[o]?a=o:r=o+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)t[a]=r[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class fne extends Rw{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:sm,endingEnd:sm}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case am:s=e,o=2*t-r;break;case C_:s=i.length-2,o=t+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case am:a=e,l=2*r-t;break;case C_:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,p=this._weightNext,g=(r-t)/(i-t),_=g*g,w=_*g,x=-d*w+2*d*_-d*g,S=(1+d)*w+(-1.5-2*d)*_+(-.5+d)*g+1,E=(-1-p)*w+(1.5+p)*_+.5*g,T=p*w-p*_;for(let D=0;D!==o;++D)s[D]=x*a[u+D]+S*a[c+D]+E*a[l+D]+T*a[h+D];return s}}class G4 extends Rw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(r-t)/(i-t),h=1-u;for(let d=0;d!==o;++d)s[d]=a[c+d]*h+a[l+d]*u;return s}}class pne extends Rw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Hl{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=om(t,this.TimeBufferType),this.values=om(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:om(e.times,Array),values:om(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new pne(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new G4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new fne(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case T_:t=this.InterpolantFactoryMethodDiscrete;break;case FA:t=this.InterpolantFactoryMethodLinear;break;case DE:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return T_;case this.InterpolantFactoryMethodLinear:return FA;case this.InterpolantFactoryMethodSmooth:return DE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>t;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&hne(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===DE,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const h=o*r,d=h-r,p=h+r;for(let g=0;g!==r;++g){const _=t[h+g];if(_!==t[d+g]||_!==t[p+g]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const h=o*r,d=a*r;for(let p=0;p!==r;++p)t[d+p]=t[h+p]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,c=0;c!==r;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Hl.prototype.ValueTypeName="";Hl.prototype.TimeBufferType=Float32Array;Hl.prototype.ValueBufferType=Float32Array;Hl.prototype.DefaultInterpolation=FA;class pg extends Hl{constructor(e,t,r){super(e,t,r)}}pg.prototype.ValueTypeName="bool";pg.prototype.ValueBufferType=Array;pg.prototype.DefaultInterpolation=T_;pg.prototype.InterpolantFactoryMethodLinear=void 0;pg.prototype.InterpolantFactoryMethodSmooth=void 0;class $4 extends Hl{constructor(e,t,r,i){super(e,t,r,i)}}$4.prototype.ValueTypeName="color";class D_ extends Hl{constructor(e,t,r,i){super(e,t,r,i)}}D_.prototype.ValueTypeName="number";class mne extends Rw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-t)/(i-t);let c=e*o;for(let u=c+o;c!==u;c+=4)Ma.slerpFlat(s,0,a,c-o,a,c,l);return s}}class Nw extends Hl{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new mne(this.times,this.values,this.getValueSize(),e)}}Nw.prototype.ValueTypeName="quaternion";Nw.prototype.InterpolantFactoryMethodSmooth=void 0;class mg extends Hl{constructor(e,t,r){super(e,t,r)}}mg.prototype.ValueTypeName="string";mg.prototype.ValueBufferType=Array;mg.prototype.DefaultInterpolation=T_;mg.prototype.InterpolantFactoryMethodLinear=void 0;mg.prototype.InterpolantFactoryMethodSmooth=void 0;class O_ extends Hl{constructor(e,t,r,i){super(e,t,r,i)}}O_.prototype.ValueTypeName="vector";class L_{constructor(e="",t=-1,r=[],i=RC){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=al(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)t.push(GRe(r[a]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)t.push(Hl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const u=dne(l);l=s3(l,1,u),c=s3(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new D_(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let d=i[h];d||(i[h]=d=[]),d.push(c)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,d,p,g,_){if(p.length!==0){const w=[],x=[];W4(p,w,x,g),w.length!==0&&_.push(new h(d,w,x))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const d=c[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let _=0;_<d[g].morphTargets.length;_++)p[d[g].morphTargets[_]]=-1;for(const _ in p){const w=[],x=[];for(let S=0;S!==d[g].morphTargets.length;++S){const E=d[g];w.push(E.time),x.push(E.morphTarget===_?1:0)}i.push(new D_(".morphTargetInfluence["+_+"]",w,x))}l=p.length*a}else{const p=".bones["+t[h].name+"]";r(O_,p+".position",d,"pos",i),r(Nw,p+".quaternion",d,"rot",i),r(O_,p+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function WRe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return D_;case"vector":case"vector2":case"vector3":case"vector4":return O_;case"color":return $4;case"quaternion":return Nw;case"bool":case"boolean":return pg;case"string":return mg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function GRe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=WRe(n.type);if(n.times===void 0){const t=[],r=[];W4(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const mu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class q4{constructor(e,t,r){const i=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.abortController=new AbortController,this.itemStart=function(u){o++,s===!1&&i.onStart!==void 0&&i.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,d=c.length;h<d;h+=2){const p=c[h],g=c[h+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const gne=new q4;class Fo{constructor(e){this.manager=e!==void 0?e:gne,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Fo.DEFAULT_MATERIAL_NAME="__DEFAULT";const lh={};class $Re extends Error{constructor(e,t){super(e),this.response=t}}class $h extends Fo{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=mu.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(lh[e]!==void 0){lh[e].push({onLoad:t,onProgress:r,onError:i});return}lh[e]=[],lh[e].push({onLoad:t,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=lh[e],h=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),p=d?parseInt(d):0,g=p!==0;let _=0;const w=new ReadableStream({start(x){S();function S(){h.read().then(({done:E,value:T})=>{if(E)x.close();else{_+=T.byteLength;const D=new ProgressEvent("progress",{lengthComputable:g,loaded:_,total:p});for(let k=0,I=u.length;k<I;k++){const N=u[k];N.onProgress&&N.onProgress(D)}x.enqueue(T),S()}},E=>{x.error(E)})}}});return new Response(w)}else throw new $Re(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o==="")return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(o),d=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{mu.add(`file:${e}`,c);const u=lh[e];delete lh[e];for(let h=0,d=u.length;h<d;h++){const p=u[h];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=lh[e];if(u===void 0)throw this.manager.itemError(e),c;delete lh[e];for(let h=0,d=u.length;h<d;h++){const p=u[h];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class qRe extends Fo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new $h(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=L_.parse(e[r]);t.push(i)}return t}}class XRe extends Fo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=[],o=new UC,l=new $h(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(d){const p=s.parse(d,!0);a[h]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(o.minFilter=vs),o.image=a,o.format=p.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let h=0,d=e.length;h<d;++h)u(h);else l.load(e,function(h){const d=s.parse(h,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let g=0;g<p;g++){a[g]={mipmaps:[]};for(let _=0;_<d.mipmapCount;_++)a[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+_]),a[g].format=d.format,a[g].width=d.width,a[g].height=d.height}o.image=a}else o.image.width=d.width,o.image.height=d.height,o.mipmaps=d.mipmaps;d.mipmapCount===1&&(o.minFilter=vs),o.format=d.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}const t0=new WeakMap;class F_ extends Fo{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=mu.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0);else{let h=t0.get(a);h===void 0&&(h=[],t0.set(a,h)),h.push({onLoad:t,onError:i})}return a}const o=P_("img");function l(){u(),t&&t(this);const h=t0.get(this)||[];for(let d=0;d<h.length;d++){const p=h[d];p.onLoad&&p.onLoad(this)}t0.delete(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),mu.remove(`image:${e}`);const d=t0.get(this)||[];for(let p=0;p<d.length;p++){const g=d[p];g.onError&&g.onError(h)}t0.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),mu.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class YRe extends Fo{constructor(e){super(e)}load(e,t,r,i){const s=new Tw;s.colorSpace=To;const a=new F_(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){s.images[c]=u,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class KRe extends Fo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Cu,o=new $h(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Dl,a.wrapT=c.wrapT!==void 0?c.wrapT:Dl,a.magFilter=c.magFilter!==void 0?c.magFilter:vs,a.minFilter=c.minFilter!==void 0?c.minFilter:vs,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=pu),c.mipmapCount===1&&(a.minFilter=vs),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c)},r,i),a}}class JC extends Fo{constructor(e){super(e)}load(e,t,r,i){const s=new fi,a=new F_(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class rp extends hr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class vne extends rp{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(hr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Lt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const BP=new yn,HV=new oe,WV=new oe;class X4{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nt(512,512),this.mapType=zl,this.map=null,this.mapPass=null,this.matrix=new yn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cy,this._frameExtents=new nt(1,1),this._viewportCount=1,this._viewports=[new cr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;HV.setFromMatrixPosition(e.matrixWorld),t.position.copy(HV),WV.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(WV),t.updateMatrixWorld(),BP.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BP,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(BP)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ZRe extends X4{constructor(){super(new Gi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=ey*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class yne extends rp{constructor(e,t,r=0,i=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(hr.DEFAULT_UP),this.updateMatrix(),this.target=new hr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new ZRe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const GV=new yn,bx=new oe,UP=new oe;class QRe extends X4{constructor(){super(new Gi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new nt(4,2),this._viewportCount=6,this._viewports=[new cr(2,1,1,1),new cr(0,1,1,1),new cr(3,1,1,1),new cr(1,1,1,1),new cr(3,0,1,1),new cr(1,0,1,1)],this._cubeDirections=[new oe(1,0,0),new oe(-1,0,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,1,0),new oe(0,-1,0)],this._cubeUps=[new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,0,1),new oe(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),bx.setFromMatrixPosition(e.matrixWorld),r.position.copy(bx),UP.copy(r.position),UP.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(UP),r.updateMatrixWorld(),i.makeTranslation(-bx.x,-bx.y,-bx.z),GV.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(GV,r.coordinateSystem,r.reversedDepth)}}class xne extends rp{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new QRe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Cf extends Aw{constructor(e=-1,t=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class JRe extends X4{constructor(){super(new Cf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _ne extends rp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(hr.DEFAULT_UP),this.updateMatrix(),this.target=new hr,this.shadow=new JRe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class wne extends rp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class bne extends rp{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Sne{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*r),t.addScaledVector(a[4],1.092548*(r*i)),t.addScaledVector(a[5],1.092548*(i*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(r*s)),t.addScaledVector(a[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*r),t.addScaledVector(a[4],2*.429043*r*i),t.addScaledVector(a[5],2*.429043*i*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*r*s),t.addScaledVector(a[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class Ene extends rp{constructor(e=new Sne,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class eM extends Fo{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,a=new $h(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new Lt().setHex(a.value);break;case"v2":i.uniforms[s].value=new nt().fromArray(a.value);break;case"v3":i.uniforms[s].value=new oe().fromArray(a.value);break;case"v4":i.uniforms[s].value=new cr().fromArray(a.value);break;case"m3":i.uniforms[s].value=new In().fromArray(a.value);break;case"m4":i.uniforms[s].value=new yn().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new nt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new nt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return eM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:nne,SpriteMaterial:R4,RawShaderMaterial:rne,ShaderMaterial:kc,PointsMaterial:k4,MeshPhysicalMaterial:ine,MeshStandardMaterial:V4,MeshPhongMaterial:sne,MeshToonMaterial:ane,MeshNormalMaterial:one,MeshLambertMaterial:lne,MeshDepthMaterial:z4,MeshDistanceMaterial:H4,MeshBasicMaterial:tp,MeshMatcapMaterial:cne,LineDashedMaterial:une,LineBasicMaterial:oo,Material:Na};return new t[e]}}class a3{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Ane extends Nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Tne extends Fo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new $h(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(p,g){if(t[g]!==void 0)return t[g];const w=p.interleavedBuffers[g],x=s(p,w.buffer),S=V0(w.type,x),E=new LC(S,w.stride);return E.uuid=w.uuid,t[g]=E,E}function s(p,g){if(r[g]!==void 0)return r[g];const w=p.arrayBuffers[g],x=new Uint32Array(w).buffer;return r[g]=x,x}const a=e.isInstancedBufferGeometry?new Ane:new Nn,o=e.data.index;if(o!==void 0){const p=V0(o.type,o.array);a.setIndex(new Br(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let _;if(g.isInterleavedBufferAttribute){const w=i(e.data,g.data);_=new Km(w,g.itemSize,g.offset,g.normalized)}else{const w=V0(g.type,g.array),x=g.isInstancedBufferAttribute?ny:Br;_=new x(w,g.itemSize,g.normalized)}g.name!==void 0&&(_.name=g.name),g.usage!==void 0&&_.setUsage(g.usage),a.setAttribute(p,_)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],_=[];for(let w=0,x=g.length;w<x;w++){const S=g[w];let E;if(S.isInterleavedBufferAttribute){const T=i(e.data,S.data);E=new Km(T,S.itemSize,S.offset,S.normalized)}else{const T=V0(S.type,S.array);E=new Br(T,S.itemSize,S.normalized)}S.name!==void 0&&(E.name=S.name),_.push(E)}a.morphAttributes[p]=_}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let p=0,g=h.length;p!==g;++p){const _=h[p];a.addGroup(_.start,_.count,_.materialIndex)}const d=e.data.boundingSphere;return d!==void 0&&(a.boundingSphere=new Zs().fromJSON(d)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class eNe extends Fo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=this.path===""?a3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new $h(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?a3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new $h(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),t!==void 0){let h=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Tm().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new FC().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Tne;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in zV?o=zV[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new eM;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=L_.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:V0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new q4(t);s=new F_(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],d=h.url;if(Array.isArray(d)){const p=[];for(let g=0,_=d.length;g<_;g++){const w=d[g],x=o(w);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new Cu(x.data,x.width,x.height)))}i[h.uuid]=new hf(p)}else{const p=o(h.url);i[h.uuid]=new hf(p)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:V0(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new F_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,d=c.length;h<d;h++){const p=c[h],g=await s(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Cu(g.data,g.width,g.height)))}r[l.uuid]=new hf(u)}else{const u=await s(l.url);r[l.uuid]=new hf(u)}}}return r}parseTextures(e,t){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let u;Array.isArray(c)?(u=new Tw,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Cu:u=new fi,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=r(o.mapping,tNe)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=r(o.wrap[0],$V),u.wrapT=r(o.wrap[1],$V)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=r(o.minFilter,qV)),o.magFilter!==void 0&&(u.magFilter=r(o.magFilter,qV)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,t,r,i,s){let a;function o(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let g=0,_=d.length;g<_;g++){const w=d[g];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),p.push(r[w])}return p}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,h;switch(e.type){case"Scene":a=new P4,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Lt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new OC(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new DC(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Gi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Cf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new wne(e.color,e.intensity);break;case"DirectionalLight":a=new _ne(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new xne(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new bne(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new yne(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new vne(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Ene().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),h=l(e.material),a=new Ute(u,h),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),h=l(e.material),a=new rs(u,h);break;case"InstancedMesh":u=o(e.geometry),h=l(e.material);const d=e.count,p=e.instanceMatrix,g=e.instanceColor;a=new jte(u,h,d),a.instanceMatrix=new ny(new Float32Array(p.array),16),g!==void 0&&(a.instanceColor=new ny(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=o(e.geometry),h=l(e.material),a=new Vte(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(_=>{let w=null,x=null;return _.boundingBox!==void 0&&(w=new Ia().fromJSON(_.boundingBox)),_.boundingSphere!==void 0&&(x=new Zs().fromJSON(_.boundingSphere)),{..._,boundingBox:w,boundingSphere:x}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Zs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Ia().fromJSON(e.boundingBox));break;case"LOD":a=new Bte;break;case"Line":a=new Wf(o(e.geometry),l(e.material));break;case"LineLoop":a=new zte(o(e.geometry),l(e.material));break;case"LineSegments":a=new Bu(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Hte(o(e.geometry),l(e.material));break;case"Sprite":a=new Fte(l(e.material));break;case"Group":a=new z0;break;case"Bone":a=new N4;break;default:a=new hr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)a.add(this.parseObject(d[p],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const g=d[p];a.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const g=d[p],_=a.getObjectByProperty("uuid",g.object);_!==void 0&&a.addLevel(_,g.distance,g.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new hr}})}}const tNe={UVMapping:EC,CubeReflectionMapping:Wh,CubeRefractionMapping:Hf,EquirectangularReflectionMapping:b_,EquirectangularRefractionMapping:S_,CubeUVReflectionMapping:Ay},$V={RepeatWrapping:E_,ClampToEdgeWrapping:Dl,MirroredRepeatWrapping:A_},qV={NearestFilter:Ks,NearestMipmapNearestFilter:g4,NearestMipmapLinearFilter:j0,LinearFilter:vs,LinearMipmapNearestFilter:S1,LinearMipmapLinearFilter:pu},jP=new WeakMap;class nNe extends Fo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=mu.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{if(jP.has(a)===!0)i&&i(jP.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return mu.add(`image-bitmap:${e}`,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),jP.set(l,c),mu.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});mu.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let LS;class Y4{static getContext(){return LS===void 0&&(LS=new(window.AudioContext||window.webkitAudioContext)),LS}static setContext(e){LS=e}}class rNe extends Fo{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new $h(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);Y4.getContext().decodeAudioData(c,function(h){t(h)}).catch(o)}catch(c){o(c)}},r,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const XV=new yn,YV=new yn,Mp=new yn;class iNe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Gi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Gi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Mp.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,a=t.near*Math.tan(Em*t.fov*.5)/t.zoom;let o,l;YV.elements[12]=-i,XV.elements[12]=i,o=-a*t.aspect+s,l=a*t.aspect+s,Mp.elements[0]=2*t.near/(l-o),Mp.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Mp),o=-a*t.aspect-s,l=a*t.aspect-s,Mp.elements[0]=2*t.near/(l-o),Mp.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Mp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(YV),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(XV)}}class Cne extends Gi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class K4{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const Ip=new oe,VP=new Ma,sNe=new oe,Pp=new oe,Rp=new oe;class aNe extends hr{constructor(){super(),this.type="AudioListener",this.context=Y4.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new K4}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ip,VP,sNe),Pp.set(0,0,-1).applyQuaternion(VP),Rp.set(0,1,0).applyQuaternion(VP),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ip.x,r),t.positionY.linearRampToValueAtTime(Ip.y,r),t.positionZ.linearRampToValueAtTime(Ip.z,r),t.forwardX.linearRampToValueAtTime(Pp.x,r),t.forwardY.linearRampToValueAtTime(Pp.y,r),t.forwardZ.linearRampToValueAtTime(Pp.z,r),t.upX.linearRampToValueAtTime(Rp.x,r),t.upY.linearRampToValueAtTime(Rp.y,r),t.upZ.linearRampToValueAtTime(Rp.z,r)}else t.setPosition(Ip.x,Ip.y,Ip.z),t.setOrientation(Pp.x,Pp.y,Pp.z,Rp.x,Rp.y,Rp.z)}}class Mne extends hr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Np=new oe,KV=new Ma,oNe=new oe,kp=new oe;class lNe extends Mne{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Np,KV,oNe),kp.set(0,0,1).applyQuaternion(KV);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Np.x,r),t.positionY.linearRampToValueAtTime(Np.y,r),t.positionZ.linearRampToValueAtTime(Np.z,r),t.orientationX.linearRampToValueAtTime(kp.x,r),t.orientationY.linearRampToValueAtTime(kp.y,r),t.orientationZ.linearRampToValueAtTime(kp.z,r)}else t.setPosition(Np.x,Np.y,Np.z),t.setOrientation(kp.x,kp.y,kp.z)}}class cNe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class Ine{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,a;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,a=i;s!==a;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[t+a]=e[r+a]}_slerp(e,t,r,i){Ma.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const a=this._workIndex*s;Ma.multiplyQuaternionsFlat(e,a,e,t,e,r),Ma.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,t,r,i,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[r+a]*i}}}const Z4="\\[\\]\\.:\\/",uNe=new RegExp("["+Z4+"]","g"),Q4="[^"+Z4+"]",hNe="[^"+Z4.replace("\\.","")+"]",dNe=/((?:WC+[\/:])*)/.source.replace("WC",Q4),fNe=/(WCOD+)?/.source.replace("WCOD",hNe),pNe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Q4),mNe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Q4),gNe=new RegExp("^"+dNe+fNe+pNe+mNe+"$"),vNe=["material","materials","bones","map"];class yNe{constructor(e,t,r){const i=r||lr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class lr{constructor(e,t,r){this.path=t,this.parsedPath=r||lr.parseTrackName(t),this.node=lr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new lr.Composite(e,t,r):new lr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(uNe,"")}static parseTrackName(e){const t=gNe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);vNe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=lr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}lr.Composite=yNe;lr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};lr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};lr.prototype.GetterByBindingType=[lr.prototype._getValue_direct,lr.prototype._getValue_array,lr.prototype._getValue_arrayElement,lr.prototype._getValue_toArray];lr.prototype.SetterByBindingTypeAndVersioning=[[lr.prototype._setValue_direct,lr.prototype._setValue_direct_setNeedsUpdate,lr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[lr.prototype._setValue_array,lr.prototype._setValue_array_setNeedsUpdate,lr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[lr.prototype._setValue_arrayElement,lr.prototype._setValue_arrayElement_setNeedsUpdate,lr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[lr.prototype._setValue_fromArray,lr.prototype._setValue_fromArray_setNeedsUpdate,lr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xNe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=al(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],p=d.uuid;let g=t[p];if(g===void 0){g=l++,t[p]=g,e.push(d);for(let _=0,w=a;_!==w;++_)s[_].push(new lr(d,r[_],i[_]))}else if(g<c){o=e[g];const _=--c,w=e[_];t[w.uuid]=g,e[g]=w,t[p]=_,e[_]=d;for(let x=0,S=a;x!==S;++x){const E=s[x],T=E[_];let D=E[g];E[g]=T,D===void 0&&(D=new lr(d,r[x],i[x])),E[_]=D}}else e[g]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,d=e[h];t[d.uuid]=u,e[u]=d,t[c]=h,e[h]=l;for(let p=0,g=i;p!==g;++p){const _=r[p],w=_[h],x=_[u];_[u]=w,_[h]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const d=--s,p=e[d],g=--a,_=e[g];t[p.uuid]=h,e[h]=p,t[_.uuid]=d,e[d]=_,e.pop();for(let w=0,x=i;w!==x;++w){const S=r[w],E=S[d],T=S[g];S[h]=E,S[d]=T,S.pop()}}else{const d=--a,p=e[d];d>0&&(t[p.uuid]=h),e[h]=p,e.pop();for(let g=0,_=i;g!==_;++g){const w=r[g];w[h]=w[d],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,a.push(e),o.push(t),s.push(h);for(let d=u,p=l.length;d!==p;++d){const g=l[d];h[d]=new lr(g,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];t[c]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class Pne{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:sm,endingEnd:sm};for(let c=0;c!==a;++c){const u=s[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gte,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case E4:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case RC:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===vte;if(e===0)return s===-1?i:a&&(s&1)===1?t-i:i;if(r===mte){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=am,i.endingEnd=am):(e?i.endingStart=this.zeroSlopeAtStart?am:sm:i.endingStart=C_,t?i.endingEnd=this.zeroSlopeAtEnd?am:sm:i.endingEnd=C_)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=r,this}}const _Ne=new Float32Array(1);class wNe extends Fu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const d=i[h],p=d.name;let g=u[p];if(g!==void 0)++g.referenceCount,a[h]=g;else{if(g=a[h],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const _=t&&t._propertyBindings[h].binding.parsedPath;g=new Ine(lr.create(r,p,_),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),a[h]=g}o[h].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=o.actionByRoot,d=(e._localRoot||this._root).uuid;delete h[d],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new G4(new Float32Array(2),new Float32Array(2),1,_Ne),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let a=typeof e=="string"?L_.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=RC),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new Pne(this,a,t,r);return this._bindAction(u,c),this._addInactiveAction(u,o,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?L_.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class bNe extends C4{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new kC(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class J4{constructor(e){this.value=e}clone(){return new J4(this.value.clone===void 0?this.value:this.value.clone())}}let SNe=0;class ENe extends Fu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:SNe++}),this.name="",this.usage=I_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class ANe extends LC{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class TNe{constructor(e,t,r,i,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const ZV=new yn;class Rne{constructor(e,t,r=0,i=1/0){this.ray=new dg(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Am,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return ZV.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(ZV),this}intersectObject(e,t=!0,r=[]){return o3(e,this,r,t),r.sort(QV),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)o3(e[i],this,r,t);return r.sort(QV),r}}function QV(n,e){return n.distance-e.distance}function o3(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)o3(s[a],e,t,!0)}}class CNe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=MNe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function MNe(){this._document.hidden===!1&&this.reset()}class l3{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=pn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(pn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class INe{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class eF{constructor(e,t,r,i){eF.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const s=this.elements;return s[0]=e,s[2]=t,s[1]=r,s[3]=i,this}}const JV=new nt;class PNe{constructor(e=new nt(1/0,1/0),t=new nt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=JV.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,JV).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const e9=new oe,FS=new oe,n0=new oe,r0=new oe,zP=new oe,RNe=new oe,NNe=new oe;class kNe{constructor(e=new oe,t=new oe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){e9.subVectors(e,this.start),FS.subVectors(this.end,this.start);const r=FS.dot(FS);let s=FS.dot(e9)/r;return t&&(s=pn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=RNe,r=NNe){const i=10000000000000001e-32;let s,a;const o=this.start,l=e.start,c=this.end,u=e.end;n0.subVectors(c,o),r0.subVectors(u,l),zP.subVectors(o,l);const h=n0.dot(n0),d=r0.dot(r0),p=r0.dot(zP);if(h<=i&&d<=i)return t.copy(o),r.copy(l),t.sub(r),t.dot(t);if(h<=i)s=0,a=p/d,a=pn(a,0,1);else{const g=n0.dot(zP);if(d<=i)a=0,s=pn(-g/h,0,1);else{const _=n0.dot(r0),w=h*d-_*_;w!==0?s=pn((_*p-g*d)/w,0,1):s=0,a=(_*s+p)/d,a<0?(a=0,s=pn(-g/h,0,1)):a>1&&(a=1,s=pn((_-g)/h,0,1))}}return t.copy(o).add(n0.multiplyScalar(s)),r.copy(l).add(r0.multiplyScalar(a)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const t9=new oe;class DNe extends hr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Nn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Gt(i,3));const s=new oo({fog:!1,toneMapped:!1});this.cone=new Bu(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),t9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const kd=new oe,BS=new yn,HP=new yn;class ONe extends Bu{constructor(e){const t=Nne(e),r=new Nn,i=[],s=[];for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Gt(i,3)),r.setAttribute("color",new Gt(s,3));const a=new oo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Lt(255),l=new Lt(65280);this.setColors(o,l)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");HP.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(BS.multiplyMatrices(HP,o.matrixWorld),kd.setFromMatrixPosition(BS),i.setXYZ(a,kd.x,kd.y,kd.z),BS.multiplyMatrices(HP,o.parent.matrixWorld),kd.setFromMatrixPosition(BS),i.setXYZ(a+1,kd.x,kd.y,kd.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Nne(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...Nne(n.children[t]));return e}class LNe extends rs{constructor(e,t,r){const i=new Pw(t,4,2),s=new tp({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const FNe=new oe,n9=new Lt,r9=new Lt;class BNe extends hr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Iw(t);i.rotateY(Math.PI*.5),this.material=new tp({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Br(a,3)),this.add(new rs(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");n9.copy(this.light.color),r9.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?n9:r9;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(FNe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class UNe extends Bu{constructor(e=10,t=10,r=4473924,i=8947848){r=new Lt(r),i=new Lt(i);const s=t/2,a=e/t,o=e/2,l=[],c=[];for(let d=0,p=0,g=-o;d<=t;d++,g+=a){l.push(-o,0,g,o,0,g),l.push(g,0,-o,g,0,o);const _=d===s?r:i;_.toArray(c,p),p+=3,_.toArray(c,p),p+=3,_.toArray(c,p),p+=3,_.toArray(c,p),p+=3}const u=new Nn;u.setAttribute("position",new Gt(l,3)),u.setAttribute("color",new Gt(c,3));const h=new oo({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jNe extends Bu{constructor(e=10,t=16,r=8,i=64,s=4473924,a=8947848){s=new Lt(s),a=new Lt(a);const o=[],l=[];if(t>1)for(let h=0;h<t;h++){const d=h/t*(Math.PI*2),p=Math.sin(d)*e,g=Math.cos(d)*e;o.push(0,0,0),o.push(p,0,g);const _=h&1?s:a;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let h=0;h<r;h++){const d=h&1?s:a,p=e-e/r*h;for(let g=0;g<i;g++){let _=g/i*(Math.PI*2),w=Math.sin(_)*p,x=Math.cos(_)*p;o.push(w,0,x),l.push(d.r,d.g,d.b),_=(g+1)/i*(Math.PI*2),w=Math.sin(_)*p,x=Math.cos(_)*p,o.push(w,0,x),l.push(d.r,d.g,d.b)}}const c=new Nn;c.setAttribute("position",new Gt(o,3)),c.setAttribute("color",new Gt(l,3));const u=new oo({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const i9=new oe,US=new oe,s9=new oe;class VNe extends hr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Nn;i.setAttribute("position",new Gt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new oo({fog:!1,toneMapped:!1});this.lightPlane=new Wf(i,s),this.add(this.lightPlane),i=new Nn,i.setAttribute("position",new Gt([0,0,0,0,0,1],3)),this.targetLine=new Wf(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),i9.setFromMatrixPosition(this.light.matrixWorld),US.setFromMatrixPosition(this.light.target.matrixWorld),s9.subVectors(US,i9),this.lightPlane.lookAt(US),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(US),this.targetLine.scale.z=s9.length()}}const jS=new oe,Ri=new Aw;class zNe extends Bu{constructor(e){const t=new Nn,r=new oo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(g,_){l(g),l(_)}function l(g){i.push(0,0,0),s.push(0,0,0),a[g]===void 0&&(a[g]=[]),a[g].push(i.length/3-1)}t.setAttribute("position",new Gt(i,3)),t.setAttribute("color",new Gt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Lt(16755200),u=new Lt(16711680),h=new Lt(43775),d=new Lt(16777215),p=new Lt(3355443);this.setColors(c,u,h,d,p)}setColors(e,t,r,i,s){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;let s,a;if(Ri.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,a=0;else if(this.camera.coordinateSystem===el)s=-1,a=1;else if(this.camera.coordinateSystem===Jv)s=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);ji("c",t,e,Ri,0,0,s),ji("t",t,e,Ri,0,0,a),ji("n1",t,e,Ri,-r,-i,s),ji("n2",t,e,Ri,r,-i,s),ji("n3",t,e,Ri,-r,i,s),ji("n4",t,e,Ri,r,i,s),ji("f1",t,e,Ri,-r,-i,a),ji("f2",t,e,Ri,r,-i,a),ji("f3",t,e,Ri,-r,i,a),ji("f4",t,e,Ri,r,i,a),ji("u1",t,e,Ri,r*.7,i*1.1,s),ji("u2",t,e,Ri,-r*.7,i*1.1,s),ji("u3",t,e,Ri,0,i*2,s),ji("cf1",t,e,Ri,-r,0,a),ji("cf2",t,e,Ri,r,0,a),ji("cf3",t,e,Ri,0,-i,a),ji("cf4",t,e,Ri,0,i,a),ji("cn1",t,e,Ri,-r,0,s),ji("cn2",t,e,Ri,r,0,s),ji("cn3",t,e,Ri,0,-i,s),ji("cn4",t,e,Ri,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ji(n,e,t,r,i,s,a){jS.set(i,s,a).unproject(r);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],jS.x,jS.y,jS.z)}}const VS=new Ia;class HNe extends Bu{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Nn;s.setIndex(new Br(r,1)),s.setAttribute("position",new Br(i,3)),super(s,new oo({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&VS.setFromObject(this.object),VS.isEmpty())return;const e=VS.min,t=VS.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WNe extends Bu{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Nn;s.setIndex(new Br(r,1)),s.setAttribute("position",new Gt(i,3)),super(s,new oo({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class GNe extends Wf{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Nn;a.setAttribute("position",new Gt(s,3)),a.computeBoundingSphere(),super(a,new oo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Nn;l.setAttribute("position",new Gt(o,3)),l.computeBoundingSphere(),this.add(new rs(l,new tp({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const a9=new oe;let zS,WP;class $Ne extends hr{constructor(e=new oe(0,0,1),t=new oe(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",zS===void 0&&(zS=new Nn,zS.setAttribute("position",new Gt([0,0,0,0,1,0],3)),WP=new Mw(.5,1,5,1),WP.translate(0,-.5,0)),this.position.copy(t),this.line=new Wf(zS,new oo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new rs(WP,new tp({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{a9.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(a9,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class qNe extends Bu{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Nn;i.setAttribute("position",new Gt(t,3)),i.setAttribute("color",new Gt(r,3));const s=new oo({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Lt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class XNe{constructor(){this.type="ShapePath",this.color=new Lt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new VA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,a){return this.currentPath.bezierCurveTo(e,t,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const S=[];for(let E=0,T=x.length;E<T;E++){const D=x[E],k=new Tm;k.curves=D.curves,S.push(k)}return S}function r(x,S){const E=S.length;let T=!1;for(let D=E-1,k=0;k<E;D=k++){let I=S[D],N=S[k],P=N.x-I.x,R=N.y-I.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(I=S[k],P=-P,N=S[D],R=-R),x.y<I.y||x.y>N.y)continue;if(x.y===I.y){if(x.x===I.x)return!0}else{const B=R*(x.x-I.x)-P*(x.y-I.y);if(B===0)return!0;if(B<0)continue;T=!T}}else{if(x.y!==I.y)continue;if(N.x<=x.x&&x.x<=I.x||I.x<=x.x&&x.x<=N.x)return!0}}return T}const i=_c.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new Tm,l.curves=o.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const h=[],d=[];let p=[],g=0,_;d[g]=void 0,p[g]=[];for(let x=0,S=s.length;x<S;x++)o=s[x],_=o.getPoints(),a=i(_),a=e?!a:a,a?(!u&&d[g]&&g++,d[g]={s:new Tm,p:_},d[g].s.curves=o.curves,u&&g++,p[g]=[]):p[g].push({h:o,p:_[0]});if(!d[0])return t(s);if(d.length>1){let x=!1,S=0;for(let E=0,T=d.length;E<T;E++)h[E]=[];for(let E=0,T=d.length;E<T;E++){const D=p[E];for(let k=0;k<D.length;k++){const I=D[k];let N=!0;for(let P=0;P<d.length;P++)r(I.p,d[P].p)&&(E!==P&&S++,N?(N=!1,h[P].push(I)):x=!0);N&&h[E].push(I)}}S>0&&x===!1&&(p=h)}let w;for(let x=0,S=d.length;x<S;x++){l=d[x].s,c.push(l),w=p[x];for(let E=0,T=w.length;E<T;E++)l.holes.push(w[E].h)}return c}}class YNe extends Fu{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function KNe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function ZNe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function QNe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function c3(n,e,t,r){const i=JNe(r);switch(t){case _4:return n*e;case MC:return n*e/i.components*i.byteLength;case Ew:return n*e/i.components*i.byteLength;case b4:return n*e*2/i.components*i.byteLength;case IC:return n*e*2/i.components*i.byteLength;case w4:return n*e*3/i.components*i.byteLength;case Ca:return n*e*4/i.components*i.byteLength;case PC:return n*e*4/i.components*i.byteLength;case E1:case A1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case T1:case C1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case dA:case pA:return Math.max(n,16)*Math.max(e,8)/4;case hA:case fA:return Math.max(n,8)*Math.max(e,8)/2;case mA:case gA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case vA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case yA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case xA:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case _A:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case wA:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case bA:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case SA:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case EA:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case AA:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case TA:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case CA:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case MA:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case IA:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case PA:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case RA:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case M1:case NA:case kA:return Math.ceil(n/4)*Math.ceil(e/4)*16;case S4:case DA:return Math.ceil(n/4)*Math.ceil(e/4)*8;case OA:case LA:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function JNe(n){switch(n){case zl:case v4:return{byteLength:1,components:1};case Yv:case y4:case Ty:return{byteLength:2,components:1};case TC:case CC:return{byteLength:2,components:4};case Gh:case AC:case Ro:return{byteLength:4,components:1};case x4:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class eke{static contain(e,t){return KNe(e,t)}static cover(e,t){return ZNe(e,t)}static fill(e){return QNe(e)}static getByteLength(e,t,r,i){return c3(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bC}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bC);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function kne(){let n=null,e=!1,t=null,r=null;function i(s,a){t(s,a),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function tke(n){const e=new WeakMap;function t(o,l){const c=o.array,u=o.usage,h=c.byteLength,d=n.createBuffer();n.bindBuffer(l,d),n.bufferData(l,c,u),o.onUploadCallback();let p;if(c instanceof Float32Array)p=n.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)p=n.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?p=n.HALF_FLOAT:p=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=n.SHORT;else if(c instanceof Uint32Array)p=n.UNSIGNED_INT;else if(c instanceof Int32Array)p=n.INT;else if(c instanceof Int8Array)p=n.BYTE;else if(c instanceof Uint8Array)p=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:h}}function r(o,l,c){const u=l.array,h=l.updateRanges;if(n.bindBuffer(c,o),h.length===0)n.bufferSubData(c,0,u);else{h.sort((p,g)=>p.start-g.start);let d=0;for(let p=1;p<h.length;p++){const g=h[d],_=h[p];_.start<=g.start+g.count+1?g.count=Math.max(g.count,_.start+_.count-g.start):(++d,h[d]=_)}h.length=d+1;for(let p=0,g=h.length;p<g;p++){const _=h[p];n.bufferSubData(c,_.start*u.BYTES_PER_ELEMENT,u,_.start,_.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:s,update:a}}var nke=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rke=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,ike=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ske=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ake=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,oke=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lke=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,cke=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uke=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,hke=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,dke=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,fke=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,pke=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,mke=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gke=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vke=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,yke=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xke=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_ke=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wke=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,bke=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Ske=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Eke=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Ake=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Tke=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Cke=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Mke=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ike=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Pke=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Rke=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Nke="gl_FragColor = linearToOutputTexel( gl_FragColor );",kke=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Dke=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Oke=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Lke=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Fke=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Bke=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Uke=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jke=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Vke=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,zke=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Hke=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Wke=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Gke=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,$ke=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,qke=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Xke=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Yke=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Kke=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Zke=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Qke=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Jke=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,e3e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,t3e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,n3e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,r3e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,i3e=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,s3e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,a3e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,o3e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,l3e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,c3e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,u3e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,h3e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,d3e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,f3e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,p3e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,m3e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,g3e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,v3e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,y3e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,x3e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,_3e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,w3e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,b3e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,S3e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,E3e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,A3e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,T3e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,C3e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,M3e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,I3e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,P3e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,R3e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,N3e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,k3e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,D3e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,O3e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,L3e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,F3e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,B3e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,U3e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,j3e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,V3e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,z3e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,H3e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,W3e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,G3e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,$3e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,q3e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,X3e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Y3e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,K3e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Z3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Q3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,J3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,eDe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tDe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nDe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rDe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iDe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sDe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aDe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oDe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lDe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,cDe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,uDe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hDe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dDe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fDe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pDe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mDe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gDe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vDe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yDe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xDe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,_De=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wDe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,bDe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,SDe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EDe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ADe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,TDe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CDe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MDe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IDe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,PDe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,RDe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NDe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kDe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,DDe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,On={alphahash_fragment:nke,alphahash_pars_fragment:rke,alphamap_fragment:ike,alphamap_pars_fragment:ske,alphatest_fragment:ake,alphatest_pars_fragment:oke,aomap_fragment:lke,aomap_pars_fragment:cke,batching_pars_vertex:uke,batching_vertex:hke,begin_vertex:dke,beginnormal_vertex:fke,bsdfs:pke,iridescence_fragment:mke,bumpmap_pars_fragment:gke,clipping_planes_fragment:vke,clipping_planes_pars_fragment:yke,clipping_planes_pars_vertex:xke,clipping_planes_vertex:_ke,color_fragment:wke,color_pars_fragment:bke,color_pars_vertex:Ske,color_vertex:Eke,common:Ake,cube_uv_reflection_fragment:Tke,defaultnormal_vertex:Cke,displacementmap_pars_vertex:Mke,displacementmap_vertex:Ike,emissivemap_fragment:Pke,emissivemap_pars_fragment:Rke,colorspace_fragment:Nke,colorspace_pars_fragment:kke,envmap_fragment:Dke,envmap_common_pars_fragment:Oke,envmap_pars_fragment:Lke,envmap_pars_vertex:Fke,envmap_physical_pars_fragment:Xke,envmap_vertex:Bke,fog_vertex:Uke,fog_pars_vertex:jke,fog_fragment:Vke,fog_pars_fragment:zke,gradientmap_pars_fragment:Hke,lightmap_pars_fragment:Wke,lights_lambert_fragment:Gke,lights_lambert_pars_fragment:$ke,lights_pars_begin:qke,lights_toon_fragment:Yke,lights_toon_pars_fragment:Kke,lights_phong_fragment:Zke,lights_phong_pars_fragment:Qke,lights_physical_fragment:Jke,lights_physical_pars_fragment:e3e,lights_fragment_begin:t3e,lights_fragment_maps:n3e,lights_fragment_end:r3e,logdepthbuf_fragment:i3e,logdepthbuf_pars_fragment:s3e,logdepthbuf_pars_vertex:a3e,logdepthbuf_vertex:o3e,map_fragment:l3e,map_pars_fragment:c3e,map_particle_fragment:u3e,map_particle_pars_fragment:h3e,metalnessmap_fragment:d3e,metalnessmap_pars_fragment:f3e,morphinstance_vertex:p3e,morphcolor_vertex:m3e,morphnormal_vertex:g3e,morphtarget_pars_vertex:v3e,morphtarget_vertex:y3e,normal_fragment_begin:x3e,normal_fragment_maps:_3e,normal_pars_fragment:w3e,normal_pars_vertex:b3e,normal_vertex:S3e,normalmap_pars_fragment:E3e,clearcoat_normal_fragment_begin:A3e,clearcoat_normal_fragment_maps:T3e,clearcoat_pars_fragment:C3e,iridescence_pars_fragment:M3e,opaque_fragment:I3e,packing:P3e,premultiplied_alpha_fragment:R3e,project_vertex:N3e,dithering_fragment:k3e,dithering_pars_fragment:D3e,roughnessmap_fragment:O3e,roughnessmap_pars_fragment:L3e,shadowmap_pars_fragment:F3e,shadowmap_pars_vertex:B3e,shadowmap_vertex:U3e,shadowmask_pars_fragment:j3e,skinbase_vertex:V3e,skinning_pars_vertex:z3e,skinning_vertex:H3e,skinnormal_vertex:W3e,specularmap_fragment:G3e,specularmap_pars_fragment:$3e,tonemapping_fragment:q3e,tonemapping_pars_fragment:X3e,transmission_fragment:Y3e,transmission_pars_fragment:K3e,uv_pars_fragment:Z3e,uv_pars_vertex:Q3e,uv_vertex:J3e,worldpos_vertex:eDe,background_vert:tDe,background_frag:nDe,backgroundCube_vert:rDe,backgroundCube_frag:iDe,cube_vert:sDe,cube_frag:aDe,depth_vert:oDe,depth_frag:lDe,distanceRGBA_vert:cDe,distanceRGBA_frag:uDe,equirect_vert:hDe,equirect_frag:dDe,linedashed_vert:fDe,linedashed_frag:pDe,meshbasic_vert:mDe,meshbasic_frag:gDe,meshlambert_vert:vDe,meshlambert_frag:yDe,meshmatcap_vert:xDe,meshmatcap_frag:_De,meshnormal_vert:wDe,meshnormal_frag:bDe,meshphong_vert:SDe,meshphong_frag:EDe,meshphysical_vert:ADe,meshphysical_frag:TDe,meshtoon_vert:CDe,meshtoon_frag:MDe,points_vert:IDe,points_frag:PDe,shadow_vert:RDe,shadow_frag:NDe,sprite_vert:kDe,sprite_frag:DDe},Tt={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new In},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new In}},envmap:{envMap:{value:null},envMapRotation:{value:new In},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new In}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new In}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new In},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new In},normalScale:{value:new nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new In},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new In}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new In}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new In}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0},uvTransform:{value:new In}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new nt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new In},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0}}},pc={basic:{uniforms:Xa([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.fog]),vertexShader:On.meshbasic_vert,fragmentShader:On.meshbasic_frag},lambert:{uniforms:Xa([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:On.meshlambert_vert,fragmentShader:On.meshlambert_frag},phong:{uniforms:Xa([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:On.meshphong_vert,fragmentShader:On.meshphong_frag},standard:{uniforms:Xa([Tt.common,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.roughnessmap,Tt.metalnessmap,Tt.fog,Tt.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:On.meshphysical_vert,fragmentShader:On.meshphysical_frag},toon:{uniforms:Xa([Tt.common,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.gradientmap,Tt.fog,Tt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:On.meshtoon_vert,fragmentShader:On.meshtoon_frag},matcap:{uniforms:Xa([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,{matcap:{value:null}}]),vertexShader:On.meshmatcap_vert,fragmentShader:On.meshmatcap_frag},points:{uniforms:Xa([Tt.points,Tt.fog]),vertexShader:On.points_vert,fragmentShader:On.points_frag},dashed:{uniforms:Xa([Tt.common,Tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:On.linedashed_vert,fragmentShader:On.linedashed_frag},depth:{uniforms:Xa([Tt.common,Tt.displacementmap]),vertexShader:On.depth_vert,fragmentShader:On.depth_frag},normal:{uniforms:Xa([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,{opacity:{value:1}}]),vertexShader:On.meshnormal_vert,fragmentShader:On.meshnormal_frag},sprite:{uniforms:Xa([Tt.sprite,Tt.fog]),vertexShader:On.sprite_vert,fragmentShader:On.sprite_frag},background:{uniforms:{uvTransform:{value:new In},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:On.background_vert,fragmentShader:On.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new In}},vertexShader:On.backgroundCube_vert,fragmentShader:On.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:On.cube_vert,fragmentShader:On.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:On.equirect_vert,fragmentShader:On.equirect_frag},distanceRGBA:{uniforms:Xa([Tt.common,Tt.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:On.distanceRGBA_vert,fragmentShader:On.distanceRGBA_frag},shadow:{uniforms:Xa([Tt.lights,Tt.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:On.shadow_vert,fragmentShader:On.shadow_frag}};pc.physical={uniforms:Xa([pc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new In},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new In},clearcoatNormalScale:{value:new nt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new In},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new In},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new In},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new In},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new In},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new In},transmissionSamplerSize:{value:new nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new In},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new In},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new In},anisotropyVector:{value:new nt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new In}}]),vertexShader:On.meshphysical_vert,fragmentShader:On.meshphysical_frag};const HS={r:0,b:0,g:0},Dp=new ul,ODe=new yn;function LDe(n,e,t,r,i,s,a){const o=new Lt(0);let l=s===!0?0:1,c,u,h=null,d=0,p=null;function g(E){let T=E.isScene===!0?E.background:null;return T&&T.isTexture&&(T=(E.backgroundBlurriness>0?t:e).get(T)),T}function _(E){let T=!1;const D=g(E);D===null?x(o,l):D&&D.isColor&&(x(D,1),T=!0);const k=n.xr.getEnvironmentBlendMode();k==="additive"?r.buffers.color.setClear(0,0,0,1,a):k==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(n.autoClear||T)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function w(E,T){const D=g(T);D&&(D.isCubeTexture||D.mapping===Ay)?(u===void 0&&(u=new rs(new fg(1,1,1),new kc({name:"BackgroundCubeMaterial",uniforms:ty(pc.backgroundCube.uniforms),vertexShader:pc.backgroundCube.vertexShader,fragmentShader:pc.backgroundCube.fragmentShader,side:io,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(k,I,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Dp.copy(T.backgroundRotation),Dp.x*=-1,Dp.y*=-1,Dp.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Dp.y*=-1,Dp.z*=-1),u.material.uniforms.envMap.value=D,u.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=T.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(ODe.makeRotationFromEuler(Dp)),u.material.toneMapped=ar.getTransfer(D.colorSpace)!==Rr,(h!==D||d!==D.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,h=D,d=D.version,p=n.toneMapping),u.layers.enableAll(),E.unshift(u,u.geometry,u.material,0,0,null)):D&&D.isTexture&&(c===void 0&&(c=new rs(new My(2,2),new kc({name:"BackgroundMaterial",uniforms:ty(pc.background.uniforms),vertexShader:pc.background.vertexShader,fragmentShader:pc.background.fragmentShader,side:Hh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=D,c.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,c.material.toneMapped=ar.getTransfer(D.colorSpace)!==Rr,D.matrixAutoUpdate===!0&&D.updateMatrix(),c.material.uniforms.uvTransform.value.copy(D.matrix),(h!==D||d!==D.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,h=D,d=D.version,p=n.toneMapping),c.layers.enableAll(),E.unshift(c,c.geometry,c.material,0,0,null))}function x(E,T){E.getRGB(HS,Nte(n)),r.buffers.color.setClear(HS.r,HS.g,HS.b,T,a)}function S(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(E,T=1){o.set(E),l=T,x(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,x(o,l)},render:_,addToRenderList:w,dispose:S}}function FDe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=d(null);let s=i,a=!1;function o(R,B,z,H,K){let J=!1;const se=h(H,z,B);s!==se&&(s=se,c(s.object)),J=p(R,H,z,K),J&&g(R,H,z,K),K!==null&&e.update(K,n.ELEMENT_ARRAY_BUFFER),(J||a)&&(a=!1,T(R,B,z,H),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function l(){return n.createVertexArray()}function c(R){return n.bindVertexArray(R)}function u(R){return n.deleteVertexArray(R)}function h(R,B,z){const H=z.wireframe===!0;let K=r[R.id];K===void 0&&(K={},r[R.id]=K);let J=K[B.id];J===void 0&&(J={},K[B.id]=J);let se=J[H];return se===void 0&&(se=d(l()),J[H]=se),se}function d(R){const B=[],z=[],H=[];for(let K=0;K<t;K++)B[K]=0,z[K]=0,H[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:z,attributeDivisors:H,object:R,attributes:{},index:null}}function p(R,B,z,H){const K=s.attributes,J=B.attributes;let se=0;const ce=z.getAttributes();for(const X in ce)if(ce[X].location>=0){const q=K[X];let ge=J[X];if(ge===void 0&&(X==="instanceMatrix"&&R.instanceMatrix&&(ge=R.instanceMatrix),X==="instanceColor"&&R.instanceColor&&(ge=R.instanceColor)),q===void 0||q.attribute!==ge||ge&&q.data!==ge.data)return!0;se++}return s.attributesNum!==se||s.index!==H}function g(R,B,z,H){const K={},J=B.attributes;let se=0;const ce=z.getAttributes();for(const X in ce)if(ce[X].location>=0){let q=J[X];q===void 0&&(X==="instanceMatrix"&&R.instanceMatrix&&(q=R.instanceMatrix),X==="instanceColor"&&R.instanceColor&&(q=R.instanceColor));const ge={};ge.attribute=q,q&&q.data&&(ge.data=q.data),K[X]=ge,se++}s.attributes=K,s.attributesNum=se,s.index=H}function _(){const R=s.newAttributes;for(let B=0,z=R.length;B<z;B++)R[B]=0}function w(R){x(R,0)}function x(R,B){const z=s.newAttributes,H=s.enabledAttributes,K=s.attributeDivisors;z[R]=1,H[R]===0&&(n.enableVertexAttribArray(R),H[R]=1),K[R]!==B&&(n.vertexAttribDivisor(R,B),K[R]=B)}function S(){const R=s.newAttributes,B=s.enabledAttributes;for(let z=0,H=B.length;z<H;z++)B[z]!==R[z]&&(n.disableVertexAttribArray(z),B[z]=0)}function E(R,B,z,H,K,J,se){se===!0?n.vertexAttribIPointer(R,B,z,K,J):n.vertexAttribPointer(R,B,z,H,K,J)}function T(R,B,z,H){_();const K=H.attributes,J=z.getAttributes(),se=B.defaultAttributeValues;for(const ce in J){const X=J[ce];if(X.location>=0){let ue=K[ce];if(ue===void 0&&(ce==="instanceMatrix"&&R.instanceMatrix&&(ue=R.instanceMatrix),ce==="instanceColor"&&R.instanceColor&&(ue=R.instanceColor)),ue!==void 0){const q=ue.normalized,ge=ue.itemSize,De=e.get(ue);if(De===void 0)continue;const Q=De.buffer,et=De.type,ye=De.bytesPerElement,Ie=et===n.INT||et===n.UNSIGNED_INT||ue.gpuType===AC;if(ue.isInterleavedBufferAttribute){const Se=ue.data,Je=Se.stride,Qe=ue.offset;if(Se.isInstancedInterleavedBuffer){for(let rt=0;rt<X.locationSize;rt++)x(X.location+rt,Se.meshPerAttribute);R.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let rt=0;rt<X.locationSize;rt++)w(X.location+rt);n.bindBuffer(n.ARRAY_BUFFER,Q);for(let rt=0;rt<X.locationSize;rt++)E(X.location+rt,ge/X.locationSize,et,q,Je*ye,(Qe+ge/X.locationSize*rt)*ye,Ie)}else{if(ue.isInstancedBufferAttribute){for(let Se=0;Se<X.locationSize;Se++)x(X.location+Se,ue.meshPerAttribute);R.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let Se=0;Se<X.locationSize;Se++)w(X.location+Se);n.bindBuffer(n.ARRAY_BUFFER,Q);for(let Se=0;Se<X.locationSize;Se++)E(X.location+Se,ge/X.locationSize,et,q,ge*ye,ge/X.locationSize*Se*ye,Ie)}}else if(se!==void 0){const q=se[ce];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(X.location,q);break;case 3:n.vertexAttrib3fv(X.location,q);break;case 4:n.vertexAttrib4fv(X.location,q);break;default:n.vertexAttrib1fv(X.location,q)}}}}S()}function D(){N();for(const R in r){const B=r[R];for(const z in B){const H=B[z];for(const K in H)u(H[K].object),delete H[K];delete B[z]}delete r[R]}}function k(R){if(r[R.id]===void 0)return;const B=r[R.id];for(const z in B){const H=B[z];for(const K in H)u(H[K].object),delete H[K];delete B[z]}delete r[R.id]}function I(R){for(const B in r){const z=r[B];if(z[R.id]===void 0)continue;const H=z[R.id];for(const K in H)u(H[K].object),delete H[K];delete z[R.id]}}function N(){P(),a=!0,s!==i&&(s=i,c(s.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:N,resetDefaultState:P,dispose:D,releaseStatesOfGeometry:k,releaseStatesOfProgram:I,initAttributes:_,enableAttribute:w,disableUnusedAttributes:S}}function BDe(n,e,t){let r;function i(c){r=c}function s(c,u){n.drawArrays(r,c,u),t.update(u,r,1)}function a(c,u,h){h!==0&&(n.drawArraysInstanced(r,c,u,h),t.update(u,r,h))}function o(c,u,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,h);let p=0;for(let g=0;g<h;g++)p+=u[g];t.update(p,r,1)}function l(c,u,h,d){if(h===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<c.length;g++)a(c[g],u[g],d[g]);else{p.multiDrawArraysInstancedWEBGL(r,c,0,u,0,d,0,h);let g=0;for(let _=0;_<h;_++)g+=u[_]*d[_];t.update(g,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function UDe(n,e,t,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(I){return!(I!==Ca&&r.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(I){const N=I===Ty&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==zl&&r.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Ro&&!N)}function l(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=t.logarithmicDepthBuffer===!0,d=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),S=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),E=n.getParameter(n.MAX_VARYING_VECTORS),T=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=g>0,k=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:h,reversedDepthBuffer:d,maxTextures:p,maxVertexTextures:g,maxTextureSize:_,maxCubemapSize:w,maxAttributes:x,maxVertexUniforms:S,maxVaryings:E,maxFragmentUniforms:T,vertexTextures:D,maxSamples:k}}function jDe(n){const e=this;let t=null,r=0,i=!1,s=!1;const a=new fh,o=new In,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){const p=h.length!==0||d||r!==0||i;return i=d,r=h.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,d){t=u(h,d,0)},this.setState=function(h,d,p){const g=h.clippingPlanes,_=h.clipIntersection,w=h.clipShadows,x=n.get(h);if(!i||g===null||g.length===0||s&&!w)s?u(null):c();else{const S=s?0:r,E=S*4;let T=x.clippingState||null;l.value=T,T=u(g,d,E,p);for(let D=0;D!==E;++D)T[D]=t[D];x.clippingState=T,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,d,p,g){const _=h!==null?h.length:0;let w=null;if(_!==0){if(w=l.value,g!==!0||w===null){const x=p+_*4,S=d.matrixWorldInverse;o.getNormalMatrix(S),(w===null||w.length<x)&&(w=new Float32Array(x));for(let E=0,T=p;E!==_;++E,T+=4)a.copy(h[E]).applyMatrix4(S,o),a.normal.toArray(w,T),w[T+3]=a.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,w}}function VDe(n){let e=new WeakMap;function t(a,o){return o===b_?a.mapping=Wh:o===S_&&(a.mapping=Hf),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===b_||o===S_)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new Ote(l.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",i),t(c.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const H0=4,o9=[.125,.215,.35,.446,.526,.582],Zp=20,GP=new Cf,l9=new Lt;let $P=null,qP=0,XP=0,YP=!1;const Yp=(1+Math.sqrt(5))/2,i0=1/Yp,c9=[new oe(-Yp,i0,0),new oe(Yp,i0,0),new oe(-i0,0,Yp),new oe(i0,0,Yp),new oe(0,Yp,-i0),new oe(0,Yp,i0),new oe(-1,1,-1),new oe(1,1,-1),new oe(-1,1,1),new oe(1,1,1)],zDe=new oe;class u3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100,s={}){const{size:a=256,position:o=zDe}=s;$P=this._renderer.getRenderTarget(),qP=this._renderer.getActiveCubeFace(),XP=this._renderer.getActiveMipmapLevel(),YP=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=d9(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=h9(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($P,qP,XP),this._renderer.xr.enabled=YP,e.scissorTest=!1,WS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Wh||e.mapping===Hf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),$P=this._renderer.getRenderTarget(),qP=this._renderer.getActiveCubeFace(),XP=this._renderer.getActiveMipmapLevel(),YP=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:vs,minFilter:vs,generateMipmaps:!1,type:Ty,format:Ca,colorSpace:Ym,depthBuffer:!1},i=u9(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=u9(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=HDe(s)),this._blurMaterial=WDe(s,e,t)}return i}_compileMaterial(e){const t=new rs(this._lodPlanes[0],e);this._renderer.compile(t,GP)}_sceneToCubeUV(e,t,r,i,s){const l=new Gi(90,1,t,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(l9),h.toneMapping=Tu,h.autoClear=!1,h.state.buffers.depth.getReversed()&&(h.setRenderTarget(i),h.clearDepth(),h.setRenderTarget(null));const _=new tp({name:"PMREM.Background",side:io,depthWrite:!1,depthTest:!1}),w=new rs(new fg,_);let x=!1;const S=e.background;S?S.isColor&&(_.color.copy(S),e.background=null,x=!0):(_.color.copy(l9),x=!0);for(let E=0;E<6;E++){const T=E%3;T===0?(l.up.set(0,c[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+u[E],s.y,s.z)):T===1?(l.up.set(0,0,c[E]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+u[E],s.z)):(l.up.set(0,c[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+u[E]));const D=this._cubeSize;WS(i,T*D,E>2?D:0,D,D),h.setRenderTarget(i),x&&h.render(w,l),h.render(e,l)}w.geometry.dispose(),w.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=S}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Wh||e.mapping===Hf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=d9()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=h9());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new rs(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;WS(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(a,GP)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=c9[(i-s-1)%c9.length];this._blur(e,s-1,s,a,o)}t.autoClear=r}_blur(e,t,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new rs(this._lodPlanes[i],c),d=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*Zp-1),_=s/g,w=isFinite(s)?1+Math.floor(u*_):Zp;w>Zp&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Zp}`);const x=[];let S=0;for(let I=0;I<Zp;++I){const N=I/_,P=Math.exp(-N*N/2);x.push(P),I===0?S+=P:I<w&&(S+=2*P)}for(let I=0;I<x.length;I++)x[I]=x[I]/S;d.envMap.value=e.texture,d.samples.value=w,d.weights.value=x,d.latitudinal.value=a==="latitudinal",o&&(d.poleAxis.value=o);const{_lodMax:E}=this;d.dTheta.value=g,d.mipInt.value=E-r;const T=this._sizeLods[i],D=3*T*(i>E-H0?i-E+H0:0),k=4*(this._cubeSize-T);WS(t,D,k,3*T,2*T),l.setRenderTarget(t),l.render(h,GP)}}function HDe(n){const e=[],t=[],r=[];let i=n;const s=n-H0+1+o9.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);t.push(o);let l=1/o;a>n-H0?l=o9[a-n+H0-1]:a===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],p=6,g=6,_=3,w=2,x=1,S=new Float32Array(_*g*p),E=new Float32Array(w*g*p),T=new Float32Array(x*g*p);for(let k=0;k<p;k++){const I=k%3*2/3-1,N=k>2?0:-1,P=[I,N,0,I+2/3,N,0,I+2/3,N+1,0,I,N,0,I+2/3,N+1,0,I,N+1,0];S.set(P,_*g*k),E.set(d,w*g*k);const R=[k,k,k,k,k,k];T.set(R,x*g*k)}const D=new Nn;D.setAttribute("position",new Br(S,_)),D.setAttribute("uv",new Br(E,w)),D.setAttribute("faceIndex",new Br(T,x)),e.push(D),i>H0&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function u9(n,e,t){const r=new ku(n,e,t);return r.texture.mapping=Ay,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function WS(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function WDe(n,e,t){const r=new Float32Array(Zp),i=new oe(0,1,0);return new kc({name:"SphericalGaussianBlur",defines:{n:Zp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:tF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ih,depthTest:!1,depthWrite:!1})}function h9(){return new kc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:tF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ih,depthTest:!1,depthWrite:!1})}function d9(){return new kc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:tF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ih,depthTest:!1,depthWrite:!1})}function tF(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function GDe(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===b_||l===S_,u=l===Wh||l===Hf;if(c||u){let h=e.get(o);const d=h!==void 0?h.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==d)return t===null&&(t=new u3(n)),h=c?t.fromEquirectangular(o,h):t.fromCubemap(o,h),h.texture.pmremVersion=o.pmremVersion,e.set(o,h),h.texture;if(h!==void 0)return h.texture;{const p=o.image;return c&&p&&p.height>0||u&&p&&i(p)?(t===null&&(t=new u3(n)),h=c?t.fromEquirectangular(o):t.fromCubemap(o),h.texture.pmremVersion=o.pmremVersion,e.set(o,h),o.addEventListener("dispose",s),h.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:a}}function $De(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&hv("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function qDe(n,e,t,r){const i={},s=new WeakMap;function a(h){const d=h.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",a),delete i[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function o(h,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,t.memory.geometries++),d}function l(h){const d=h.attributes;for(const p in d)e.update(d[p],n.ARRAY_BUFFER)}function c(h){const d=[],p=h.index,g=h.attributes.position;let _=0;if(p!==null){const S=p.array;_=p.version;for(let E=0,T=S.length;E<T;E+=3){const D=S[E+0],k=S[E+1],I=S[E+2];d.push(D,k,k,I,I,D)}}else if(g!==void 0){const S=g.array;_=g.version;for(let E=0,T=S.length/3-1;E<T;E+=3){const D=E+0,k=E+1,I=E+2;d.push(D,k,k,I,I,D)}}else return;const w=new(Mte(d)?I4:M4)(d,1);w.version=_;const x=s.get(h);x&&e.remove(x),s.set(h,w)}function u(h){const d=s.get(h);if(d){const p=h.index;p!==null&&d.version<p.version&&c(h)}else c(h);return s.get(h)}return{get:o,update:l,getWireframeAttribute:u}}function XDe(n,e,t){let r;function i(d){r=d}let s,a;function o(d){s=d.type,a=d.bytesPerElement}function l(d,p){n.drawElements(r,p,s,d*a),t.update(p,r,1)}function c(d,p,g){g!==0&&(n.drawElementsInstanced(r,p,s,d*a,g),t.update(p,r,g))}function u(d,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,s,d,0,g);let w=0;for(let x=0;x<g;x++)w+=p[x];t.update(w,r,1)}function h(d,p,g,_){if(g===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let x=0;x<d.length;x++)c(d[x]/a,p[x],_[x]);else{w.multiDrawElementsInstancedWEBGL(r,p,0,s,d,0,_,0,g);let x=0;for(let S=0;S<g;S++)x+=p[S]*_[S];t.update(x,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function YDe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function KDe(n,e,t){const r=new WeakMap,i=new cr;function s(a,o,l){const c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,h=u!==void 0?u.length:0;let d=r.get(o);if(d===void 0||d.count!==h){let R=function(){N.dispose(),r.delete(o),o.removeEventListener("dispose",R)};var p=R;d!==void 0&&d.texture.dispose();const g=o.morphAttributes.position!==void 0,_=o.morphAttributes.normal!==void 0,w=o.morphAttributes.color!==void 0,x=o.morphAttributes.position||[],S=o.morphAttributes.normal||[],E=o.morphAttributes.color||[];let T=0;g===!0&&(T=1),_===!0&&(T=2),w===!0&&(T=3);let D=o.attributes.position.count*T,k=1;D>e.maxTextureSize&&(k=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const I=new Float32Array(D*k*4*h),N=new NC(I,D,k,h);N.type=Ro,N.needsUpdate=!0;const P=T*4;for(let B=0;B<h;B++){const z=x[B],H=S[B],K=E[B],J=D*k*4*B;for(let se=0;se<z.count;se++){const ce=se*P;g===!0&&(i.fromBufferAttribute(z,se),I[J+ce+0]=i.x,I[J+ce+1]=i.y,I[J+ce+2]=i.z,I[J+ce+3]=0),_===!0&&(i.fromBufferAttribute(H,se),I[J+ce+4]=i.x,I[J+ce+5]=i.y,I[J+ce+6]=i.z,I[J+ce+7]=0),w===!0&&(i.fromBufferAttribute(K,se),I[J+ce+8]=i.x,I[J+ce+9]=i.y,I[J+ce+10]=i.z,I[J+ce+11]=K.itemSize===4?i.w:1)}}d={count:h,texture:N,size:new nt(D,k)},r.set(o,d),o.addEventListener("dispose",R)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let g=0;for(let w=0;w<c.length;w++)g+=c[w];const _=o.morphTargetsRelative?1:1-g;l.getUniforms().setValue(n,"morphTargetBaseInfluence",_),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",d.size)}return{update:s}}function ZDe(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,h=e.get(l,u);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return h}function a(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const Dne=new fi,f9=new D4(1,1),One=new NC,Lne=new kC,Fne=new Tw,p9=[],m9=[],g9=new Float32Array(16),v9=new Float32Array(9),y9=new Float32Array(4);function Iy(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=p9[i];if(s===void 0&&(s=new Float32Array(i),p9[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function _s(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ws(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function tM(n,e){let t=m9[e];t===void 0&&(t=new Int32Array(e),m9[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function QDe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function JDe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_s(t,e))return;n.uniform2fv(this.addr,e),ws(t,e)}}function eOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(_s(t,e))return;n.uniform3fv(this.addr,e),ws(t,e)}}function tOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_s(t,e))return;n.uniform4fv(this.addr,e),ws(t,e)}}function nOe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_s(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ws(t,e)}else{if(_s(t,r))return;y9.set(r),n.uniformMatrix2fv(this.addr,!1,y9),ws(t,r)}}function rOe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_s(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ws(t,e)}else{if(_s(t,r))return;v9.set(r),n.uniformMatrix3fv(this.addr,!1,v9),ws(t,r)}}function iOe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_s(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ws(t,e)}else{if(_s(t,r))return;g9.set(r),n.uniformMatrix4fv(this.addr,!1,g9),ws(t,r)}}function sOe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function aOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_s(t,e))return;n.uniform2iv(this.addr,e),ws(t,e)}}function oOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(_s(t,e))return;n.uniform3iv(this.addr,e),ws(t,e)}}function lOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_s(t,e))return;n.uniform4iv(this.addr,e),ws(t,e)}}function cOe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function uOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_s(t,e))return;n.uniform2uiv(this.addr,e),ws(t,e)}}function hOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(_s(t,e))return;n.uniform3uiv(this.addr,e),ws(t,e)}}function dOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_s(t,e))return;n.uniform4uiv(this.addr,e),ws(t,e)}}function fOe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let s;this.type===n.SAMPLER_2D_SHADOW?(f9.compareFunction=A4,s=f9):s=Dne,t.setTexture2D(e||s,i)}function pOe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Lne,i)}function mOe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Fne,i)}function gOe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||One,i)}function vOe(n){switch(n){case 5126:return QDe;case 35664:return JDe;case 35665:return eOe;case 35666:return tOe;case 35674:return nOe;case 35675:return rOe;case 35676:return iOe;case 5124:case 35670:return sOe;case 35667:case 35671:return aOe;case 35668:case 35672:return oOe;case 35669:case 35673:return lOe;case 5125:return cOe;case 36294:return uOe;case 36295:return hOe;case 36296:return dOe;case 35678:case 36198:case 36298:case 36306:case 35682:return fOe;case 35679:case 36299:case 36307:return pOe;case 35680:case 36300:case 36308:case 36293:return mOe;case 36289:case 36303:case 36311:case 36292:return gOe}}function yOe(n,e){n.uniform1fv(this.addr,e)}function xOe(n,e){const t=Iy(e,this.size,2);n.uniform2fv(this.addr,t)}function _Oe(n,e){const t=Iy(e,this.size,3);n.uniform3fv(this.addr,t)}function wOe(n,e){const t=Iy(e,this.size,4);n.uniform4fv(this.addr,t)}function bOe(n,e){const t=Iy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function SOe(n,e){const t=Iy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function EOe(n,e){const t=Iy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function AOe(n,e){n.uniform1iv(this.addr,e)}function TOe(n,e){n.uniform2iv(this.addr,e)}function COe(n,e){n.uniform3iv(this.addr,e)}function MOe(n,e){n.uniform4iv(this.addr,e)}function IOe(n,e){n.uniform1uiv(this.addr,e)}function POe(n,e){n.uniform2uiv(this.addr,e)}function ROe(n,e){n.uniform3uiv(this.addr,e)}function NOe(n,e){n.uniform4uiv(this.addr,e)}function kOe(n,e,t){const r=this.cache,i=e.length,s=tM(t,i);_s(r,s)||(n.uniform1iv(this.addr,s),ws(r,s));for(let a=0;a!==i;++a)t.setTexture2D(e[a]||Dne,s[a])}function DOe(n,e,t){const r=this.cache,i=e.length,s=tM(t,i);_s(r,s)||(n.uniform1iv(this.addr,s),ws(r,s));for(let a=0;a!==i;++a)t.setTexture3D(e[a]||Lne,s[a])}function OOe(n,e,t){const r=this.cache,i=e.length,s=tM(t,i);_s(r,s)||(n.uniform1iv(this.addr,s),ws(r,s));for(let a=0;a!==i;++a)t.setTextureCube(e[a]||Fne,s[a])}function LOe(n,e,t){const r=this.cache,i=e.length,s=tM(t,i);_s(r,s)||(n.uniform1iv(this.addr,s),ws(r,s));for(let a=0;a!==i;++a)t.setTexture2DArray(e[a]||One,s[a])}function FOe(n){switch(n){case 5126:return yOe;case 35664:return xOe;case 35665:return _Oe;case 35666:return wOe;case 35674:return bOe;case 35675:return SOe;case 35676:return EOe;case 5124:case 35670:return AOe;case 35667:case 35671:return TOe;case 35668:case 35672:return COe;case 35669:case 35673:return MOe;case 5125:return IOe;case 36294:return POe;case 36295:return ROe;case 36296:return NOe;case 35678:case 36198:case 36298:case 36306:case 35682:return kOe;case 35679:case 36299:case 36307:return DOe;case 35680:case 36300:case 36308:case 36293:return OOe;case 36289:case 36303:case 36311:case 36292:return LOe}}class BOe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=vOe(t.type)}}class UOe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=FOe(t.type)}}class jOe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,t[o.id],r)}}}const KP=/(\w+)(\])?(\[|\.)?/g;function x9(n,e){n.seq.push(e),n.map[e.id]=e}function VOe(n,e,t){const r=n.name,i=r.length;for(KP.lastIndex=0;;){const s=KP.exec(r),a=KP.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){x9(t,c===void 0?new BOe(o,n,e):new UOe(o,n,e));break}else{let h=t.map[o];h===void 0&&(h=new jOe(o),x9(t,h)),t=h}}}class LE{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),a=e.getUniformLocation(t,s.name);VOe(s,a,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in t&&r.push(a)}return r}}function _9(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const zOe=37297;let HOe=0;function WOe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return r.join(`
`)}const w9=new In;function GOe(n){ar._getMatrix(w9,ar.workingColorSpace,n);const e=`mat3( ${w9.elements.map(t=>t.toFixed(4))} )`;switch(ar.getTransfer(n)){case M_:return[e,"LinearTransferOETF"];case Rr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function b9(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),s=(n.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+s+`

`+WOe(n.getShaderSource(e),o)}else return s}function $Oe(n,e){const t=GOe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function qOe(n,e){let t;switch(e){case lte:t="Linear";break;case cte:t="Reinhard";break;case ute:t="Cineon";break;case m4:t="ACESFilmic";break;case dte:t="AgX";break;case fte:t="Neutral";break;case hte:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const GS=new oe;function XOe(){ar.getLuminanceCoefficients(GS);const n=GS.x.toFixed(4),e=GS.y.toFixed(4),t=GS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function YOe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(qx).join(`
`)}function KOe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function ZOe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function qx(n){return n!==""}function S9(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function E9(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const QOe=/^[ \t]*#include +<([\w\d./]+)>/gm;function h3(n){return n.replace(QOe,eLe)}const JOe=new Map;function eLe(n,e){let t=On[e];if(t===void 0){const r=JOe.get(e);if(r!==void 0)t=On[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return h3(t)}const tLe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function A9(n){return n.replace(tLe,nLe)}function nLe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function T9(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rLe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===SC?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===b1?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===lc&&(e="SHADOWMAP_TYPE_VSM"),e}function iLe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Wh:case Hf:e="ENVMAP_TYPE_CUBE";break;case Ay:e="ENVMAP_TYPE_CUBE_UV";break}return e}function sLe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Hf:e="ENVMAP_MODE_REFRACTION";break}return e}function aLe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Sw:e="ENVMAP_BLENDING_MULTIPLY";break;case ate:e="ENVMAP_BLENDING_MIX";break;case ote:e="ENVMAP_BLENDING_ADD";break}return e}function oLe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function lLe(n,e,t,r){const i=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=rLe(t),c=iLe(t),u=sLe(t),h=aLe(t),d=oLe(t),p=YOe(t),g=KOe(s),_=i.createProgram();let w,x,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(qx).join(`
`),w.length>0&&(w+=`
`),x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(qx).join(`
`),x.length>0&&(x+=`
`)):(w=[T9(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qx).join(`
`),x=[T9(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Tu?"#define TONE_MAPPING":"",t.toneMapping!==Tu?On.tonemapping_pars_fragment:"",t.toneMapping!==Tu?qOe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",On.colorspace_pars_fragment,$Oe("linearToOutputTexel",t.outputColorSpace),XOe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(qx).join(`
`)),a=h3(a),a=S9(a,t),a=E9(a,t),o=h3(o),o=S9(o,t),o=E9(o,t),a=A9(a),o=A9(o),t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,w=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,x=["#define varying in",t.glslVersion===t3?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===t3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const E=S+w+a,T=S+x+o,D=_9(i,i.VERTEX_SHADER,E),k=_9(i,i.FRAGMENT_SHADER,T);i.attachShader(_,D),i.attachShader(_,k),t.index0AttributeName!==void 0?i.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function I(B){if(n.debug.checkShaderErrors){const z=i.getProgramInfoLog(_)||"",H=i.getShaderInfoLog(D)||"",K=i.getShaderInfoLog(k)||"",J=z.trim(),se=H.trim(),ce=K.trim();let X=!0,ue=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(X=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,_,D,k);else{const q=b9(i,D,"vertex"),ge=b9(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+J+`
`+q+`
`+ge)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(se===""||ce==="")&&(ue=!1);ue&&(B.diagnostics={runnable:X,programLog:J,vertexShader:{log:se,prefix:w},fragmentShader:{log:ce,prefix:x}})}i.deleteShader(D),i.deleteShader(k),N=new LE(i,_),P=ZOe(i,_)}let N;this.getUniforms=function(){return N===void 0&&I(this),N};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let R=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(_,zOe)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=HOe++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=D,this.fragmentShader=k,this}let cLe=0;class uLe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new hLe(e),t.set(e,r)),r}}class hLe{constructor(e){this.id=cLe++,this.code=e,this.usedTimes=0}}function dLe(n,e,t,r,i,s,a){const o=new Am,l=new uLe,c=new Set,u=[],h=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(P){return c.add(P),P===0?"uv":`uv${P}`}function w(P,R,B,z,H){const K=z.fog,J=H.geometry,se=P.isMeshStandardMaterial?z.environment:null,ce=(P.isMeshStandardMaterial?t:e).get(P.envMap||se),X=ce&&ce.mapping===Ay?ce.image.height:null,ue=g[P.type];P.precision!==null&&(p=i.getMaxPrecision(P.precision),p!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",p,"instead."));const q=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,ge=q!==void 0?q.length:0;let De=0;J.morphAttributes.position!==void 0&&(De=1),J.morphAttributes.normal!==void 0&&(De=2),J.morphAttributes.color!==void 0&&(De=3);let Q,et,ye,Ie;if(ue){const xn=pc[ue];Q=xn.vertexShader,et=xn.fragmentShader}else Q=P.vertexShader,et=P.fragmentShader,l.update(P),ye=l.getVertexShaderID(P),Ie=l.getFragmentShaderID(P);const Se=n.getRenderTarget(),Je=n.state.buffers.depth.getReversed(),Qe=H.isInstancedMesh===!0,rt=H.isBatchedMesh===!0,ut=!!P.map,Be=!!P.matcap,ae=!!ce,Re=!!P.aoMap,ke=!!P.lightMap,$e=!!P.bumpMap,We=!!P.normalMap,ne=!!P.displacementMap,Ae=!!P.emissiveMap,Fe=!!P.metalnessMap,ot=!!P.roughnessMap,vt=P.anisotropy>0,ie=P.clearcoat>0,Y=P.dispersion>0,xe=P.iridescence>0,re=P.sheen>0,pe=P.transmission>0,_e=vt&&!!P.anisotropyMap,at=ie&&!!P.clearcoatMap,qe=ie&&!!P.clearcoatNormalMap,xt=ie&&!!P.clearcoatRoughnessMap,bt=xe&&!!P.iridescenceMap,it=xe&&!!P.iridescenceThicknessMap,pt=re&&!!P.sheenColorMap,Nt=re&&!!P.sheenRoughnessMap,de=!!P.specularMap,Pe=!!P.specularColorMap,lt=!!P.specularIntensityMap,fe=pe&&!!P.transmissionMap,tt=pe&&!!P.thicknessMap,ve=!!P.gradientMap,Xe=!!P.alphaMap,Ye=P.alphaTest>0,Le=!!P.alphaHash,dt=!!P.extensions;let _t=Tu;P.toneMapped&&(Se===null||Se.isXRRenderTarget===!0)&&(_t=n.toneMapping);const En={shaderID:ue,shaderType:P.type,shaderName:P.name,vertexShader:Q,fragmentShader:et,defines:P.defines,customVertexShaderID:ye,customFragmentShaderID:Ie,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:p,batching:rt,batchingColor:rt&&H._colorsTexture!==null,instancing:Qe,instancingColor:Qe&&H.instanceColor!==null,instancingMorph:Qe&&H.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:Se===null?n.outputColorSpace:Se.isXRRenderTarget===!0?Se.texture.colorSpace:Ym,alphaToCoverage:!!P.alphaToCoverage,map:ut,matcap:Be,envMap:ae,envMapMode:ae&&ce.mapping,envMapCubeUVHeight:X,aoMap:Re,lightMap:ke,bumpMap:$e,normalMap:We,displacementMap:d&&ne,emissiveMap:Ae,normalMapObjectSpace:We&&P.normalMapType===_te,normalMapTangentSpace:We&&P.normalMapType===ep,metalnessMap:Fe,roughnessMap:ot,anisotropy:vt,anisotropyMap:_e,clearcoat:ie,clearcoatMap:at,clearcoatNormalMap:qe,clearcoatRoughnessMap:xt,dispersion:Y,iridescence:xe,iridescenceMap:bt,iridescenceThicknessMap:it,sheen:re,sheenColorMap:pt,sheenRoughnessMap:Nt,specularMap:de,specularColorMap:Pe,specularIntensityMap:lt,transmission:pe,transmissionMap:fe,thicknessMap:tt,gradientMap:ve,opaque:P.transparent===!1&&P.blending===Sm&&P.alphaToCoverage===!1,alphaMap:Xe,alphaTest:Ye,alphaHash:Le,combine:P.combine,mapUv:ut&&_(P.map.channel),aoMapUv:Re&&_(P.aoMap.channel),lightMapUv:ke&&_(P.lightMap.channel),bumpMapUv:$e&&_(P.bumpMap.channel),normalMapUv:We&&_(P.normalMap.channel),displacementMapUv:ne&&_(P.displacementMap.channel),emissiveMapUv:Ae&&_(P.emissiveMap.channel),metalnessMapUv:Fe&&_(P.metalnessMap.channel),roughnessMapUv:ot&&_(P.roughnessMap.channel),anisotropyMapUv:_e&&_(P.anisotropyMap.channel),clearcoatMapUv:at&&_(P.clearcoatMap.channel),clearcoatNormalMapUv:qe&&_(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:xt&&_(P.clearcoatRoughnessMap.channel),iridescenceMapUv:bt&&_(P.iridescenceMap.channel),iridescenceThicknessMapUv:it&&_(P.iridescenceThicknessMap.channel),sheenColorMapUv:pt&&_(P.sheenColorMap.channel),sheenRoughnessMapUv:Nt&&_(P.sheenRoughnessMap.channel),specularMapUv:de&&_(P.specularMap.channel),specularColorMapUv:Pe&&_(P.specularColorMap.channel),specularIntensityMapUv:lt&&_(P.specularIntensityMap.channel),transmissionMapUv:fe&&_(P.transmissionMap.channel),thicknessMapUv:tt&&_(P.thicknessMap.channel),alphaMapUv:Xe&&_(P.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(We||vt),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,pointsUvs:H.isPoints===!0&&!!J.attributes.uv&&(ut||Xe),fog:!!K,useFog:P.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:Je,skinning:H.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:ge,morphTextureStride:De,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:_t,decodeVideoTexture:ut&&P.map.isVideoTexture===!0&&ar.getTransfer(P.map.colorSpace)===Rr,decodeVideoTextureEmissive:Ae&&P.emissiveMap.isVideoTexture===!0&&ar.getTransfer(P.emissiveMap.colorSpace)===Rr,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===hu,flipSided:P.side===io,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:dt&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(dt&&P.extensions.multiDraw===!0||rt)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return En.vertexUv1s=c.has(1),En.vertexUv2s=c.has(2),En.vertexUv3s=c.has(3),c.clear(),En}function x(P){const R=[];if(P.shaderID?R.push(P.shaderID):(R.push(P.customVertexShaderID),R.push(P.customFragmentShaderID)),P.defines!==void 0)for(const B in P.defines)R.push(B),R.push(P.defines[B]);return P.isRawShaderMaterial===!1&&(S(R,P),E(R,P),R.push(n.outputColorSpace)),R.push(P.customProgramCacheKey),R.join()}function S(P,R){P.push(R.precision),P.push(R.outputColorSpace),P.push(R.envMapMode),P.push(R.envMapCubeUVHeight),P.push(R.mapUv),P.push(R.alphaMapUv),P.push(R.lightMapUv),P.push(R.aoMapUv),P.push(R.bumpMapUv),P.push(R.normalMapUv),P.push(R.displacementMapUv),P.push(R.emissiveMapUv),P.push(R.metalnessMapUv),P.push(R.roughnessMapUv),P.push(R.anisotropyMapUv),P.push(R.clearcoatMapUv),P.push(R.clearcoatNormalMapUv),P.push(R.clearcoatRoughnessMapUv),P.push(R.iridescenceMapUv),P.push(R.iridescenceThicknessMapUv),P.push(R.sheenColorMapUv),P.push(R.sheenRoughnessMapUv),P.push(R.specularMapUv),P.push(R.specularColorMapUv),P.push(R.specularIntensityMapUv),P.push(R.transmissionMapUv),P.push(R.thicknessMapUv),P.push(R.combine),P.push(R.fogExp2),P.push(R.sizeAttenuation),P.push(R.morphTargetsCount),P.push(R.morphAttributeCount),P.push(R.numDirLights),P.push(R.numPointLights),P.push(R.numSpotLights),P.push(R.numSpotLightMaps),P.push(R.numHemiLights),P.push(R.numRectAreaLights),P.push(R.numDirLightShadows),P.push(R.numPointLightShadows),P.push(R.numSpotLightShadows),P.push(R.numSpotLightShadowsWithMaps),P.push(R.numLightProbes),P.push(R.shadowMapType),P.push(R.toneMapping),P.push(R.numClippingPlanes),P.push(R.numClipIntersection),P.push(R.depthPacking)}function E(P,R){o.disableAll(),R.supportsVertexTextures&&o.enable(0),R.instancing&&o.enable(1),R.instancingColor&&o.enable(2),R.instancingMorph&&o.enable(3),R.matcap&&o.enable(4),R.envMap&&o.enable(5),R.normalMapObjectSpace&&o.enable(6),R.normalMapTangentSpace&&o.enable(7),R.clearcoat&&o.enable(8),R.iridescence&&o.enable(9),R.alphaTest&&o.enable(10),R.vertexColors&&o.enable(11),R.vertexAlphas&&o.enable(12),R.vertexUv1s&&o.enable(13),R.vertexUv2s&&o.enable(14),R.vertexUv3s&&o.enable(15),R.vertexTangents&&o.enable(16),R.anisotropy&&o.enable(17),R.alphaHash&&o.enable(18),R.batching&&o.enable(19),R.dispersion&&o.enable(20),R.batchingColor&&o.enable(21),R.gradientMap&&o.enable(22),P.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.reversedDepthBuffer&&o.enable(4),R.skinning&&o.enable(5),R.morphTargets&&o.enable(6),R.morphNormals&&o.enable(7),R.morphColors&&o.enable(8),R.premultipliedAlpha&&o.enable(9),R.shadowMapEnabled&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),R.decodeVideoTexture&&o.enable(19),R.decodeVideoTextureEmissive&&o.enable(20),R.alphaToCoverage&&o.enable(21),P.push(o.mask)}function T(P){const R=g[P.type];let B;if(R){const z=pc[R];B=kte.clone(z.uniforms)}else B=P.uniforms;return B}function D(P,R){let B;for(let z=0,H=u.length;z<H;z++){const K=u[z];if(K.cacheKey===R){B=K,++B.usedTimes;break}}return B===void 0&&(B=new lLe(n,R,P,s),u.push(B)),B}function k(P){if(--P.usedTimes===0){const R=u.indexOf(P);u[R]=u[u.length-1],u.pop(),P.destroy()}}function I(P){l.remove(P)}function N(){l.dispose()}return{getParameters:w,getProgramCacheKey:x,getUniforms:T,acquireProgram:D,releaseProgram:k,releaseShaderCache:I,programs:u,dispose:N}}function fLe(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function r(a){n.delete(a)}function i(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:s}}function pLe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function C9(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function M9(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function a(h,d,p,g,_,w){let x=n[e];return x===void 0?(x={id:h.id,object:h,geometry:d,material:p,groupOrder:g,renderOrder:h.renderOrder,z:_,group:w},n[e]=x):(x.id=h.id,x.object=h,x.geometry=d,x.material=p,x.groupOrder=g,x.renderOrder=h.renderOrder,x.z=_,x.group=w),e++,x}function o(h,d,p,g,_,w){const x=a(h,d,p,g,_,w);p.transmission>0?r.push(x):p.transparent===!0?i.push(x):t.push(x)}function l(h,d,p,g,_,w){const x=a(h,d,p,g,_,w);p.transmission>0?r.unshift(x):p.transparent===!0?i.unshift(x):t.unshift(x)}function c(h,d){t.length>1&&t.sort(h||pLe),r.length>1&&r.sort(d||C9),i.length>1&&i.sort(d||C9)}function u(){for(let h=e,d=n.length;h<d;h++){const p=n[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:u,sort:c}}function mLe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let a;return s===void 0?(a=new M9,n.set(r,[a])):i>=s.length?(a=new M9,s.push(a)):a=s[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function gLe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new oe,color:new Lt};break;case"SpotLight":t={position:new oe,direction:new oe,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new oe,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new oe,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":t={color:new Lt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return n[e.id]=t,t}}}function vLe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let yLe=0;function xLe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function _Le(n){const e=new gLe,t=vLe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new oe);const i=new oe,s=new yn,a=new yn;function o(c){let u=0,h=0,d=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let p=0,g=0,_=0,w=0,x=0,S=0,E=0,T=0,D=0,k=0,I=0;c.sort(xLe);for(let P=0,R=c.length;P<R;P++){const B=c[P],z=B.color,H=B.intensity,K=B.distance,J=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)u+=z.r*H,h+=z.g*H,d+=z.b*H;else if(B.isLightProbe){for(let se=0;se<9;se++)r.probe[se].addScaledVector(B.sh.coefficients[se],H);I++}else if(B.isDirectionalLight){const se=e.get(B);if(se.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const ce=B.shadow,X=t.get(B);X.shadowIntensity=ce.intensity,X.shadowBias=ce.bias,X.shadowNormalBias=ce.normalBias,X.shadowRadius=ce.radius,X.shadowMapSize=ce.mapSize,r.directionalShadow[p]=X,r.directionalShadowMap[p]=J,r.directionalShadowMatrix[p]=B.shadow.matrix,S++}r.directional[p]=se,p++}else if(B.isSpotLight){const se=e.get(B);se.position.setFromMatrixPosition(B.matrixWorld),se.color.copy(z).multiplyScalar(H),se.distance=K,se.coneCos=Math.cos(B.angle),se.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),se.decay=B.decay,r.spot[_]=se;const ce=B.shadow;if(B.map&&(r.spotLightMap[D]=B.map,D++,ce.updateMatrices(B),B.castShadow&&k++),r.spotLightMatrix[_]=ce.matrix,B.castShadow){const X=t.get(B);X.shadowIntensity=ce.intensity,X.shadowBias=ce.bias,X.shadowNormalBias=ce.normalBias,X.shadowRadius=ce.radius,X.shadowMapSize=ce.mapSize,r.spotShadow[_]=X,r.spotShadowMap[_]=J,T++}_++}else if(B.isRectAreaLight){const se=e.get(B);se.color.copy(z).multiplyScalar(H),se.halfWidth.set(B.width*.5,0,0),se.halfHeight.set(0,B.height*.5,0),r.rectArea[w]=se,w++}else if(B.isPointLight){const se=e.get(B);if(se.color.copy(B.color).multiplyScalar(B.intensity),se.distance=B.distance,se.decay=B.decay,B.castShadow){const ce=B.shadow,X=t.get(B);X.shadowIntensity=ce.intensity,X.shadowBias=ce.bias,X.shadowNormalBias=ce.normalBias,X.shadowRadius=ce.radius,X.shadowMapSize=ce.mapSize,X.shadowCameraNear=ce.camera.near,X.shadowCameraFar=ce.camera.far,r.pointShadow[g]=X,r.pointShadowMap[g]=J,r.pointShadowMatrix[g]=B.shadow.matrix,E++}r.point[g]=se,g++}else if(B.isHemisphereLight){const se=e.get(B);se.skyColor.copy(B.color).multiplyScalar(H),se.groundColor.copy(B.groundColor).multiplyScalar(H),r.hemi[x]=se,x++}}w>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Tt.LTC_FLOAT_1,r.rectAreaLTC2=Tt.LTC_FLOAT_2):(r.rectAreaLTC1=Tt.LTC_HALF_1,r.rectAreaLTC2=Tt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=h,r.ambient[2]=d;const N=r.hash;(N.directionalLength!==p||N.pointLength!==g||N.spotLength!==_||N.rectAreaLength!==w||N.hemiLength!==x||N.numDirectionalShadows!==S||N.numPointShadows!==E||N.numSpotShadows!==T||N.numSpotMaps!==D||N.numLightProbes!==I)&&(r.directional.length=p,r.spot.length=_,r.rectArea.length=w,r.point.length=g,r.hemi.length=x,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=T+D-k,r.spotLightMap.length=D,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=I,N.directionalLength=p,N.pointLength=g,N.spotLength=_,N.rectAreaLength=w,N.hemiLength=x,N.numDirectionalShadows=S,N.numPointShadows=E,N.numSpotShadows=T,N.numSpotMaps=D,N.numLightProbes=I,r.version=yLe++)}function l(c,u){let h=0,d=0,p=0,g=0,_=0;const w=u.matrixWorldInverse;for(let x=0,S=c.length;x<S;x++){const E=c[x];if(E.isDirectionalLight){const T=r.directional[h];T.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(i),T.direction.transformDirection(w),h++}else if(E.isSpotLight){const T=r.spot[p];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(w),T.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(i),T.direction.transformDirection(w),p++}else if(E.isRectAreaLight){const T=r.rectArea[g];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(w),a.identity(),s.copy(E.matrixWorld),s.premultiply(w),a.extractRotation(s),T.halfWidth.set(E.width*.5,0,0),T.halfHeight.set(0,E.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),g++}else if(E.isPointLight){const T=r.point[d];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(w),d++}else if(E.isHemisphereLight){const T=r.hemi[_];T.direction.setFromMatrixPosition(E.matrixWorld),T.direction.transformDirection(w),_++}}}return{setup:o,setupView:l,state:r}}function I9(n){const e=new _Le(n),t=[],r=[];function i(u){c.camera=u,t.length=0,r.length=0}function s(u){t.push(u)}function a(u){r.push(u)}function o(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function wLe(n){let e=new WeakMap;function t(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new I9(n),e.set(i,[o])):s>=a.length?(o=new I9(n),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:t,dispose:r}}const bLe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,SLe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ELe(n,e,t){let r=new Cy;const i=new nt,s=new nt,a=new cr,o=new z4({depthPacking:xte}),l=new H4,c={},u=t.maxTextureSize,h={[Hh]:io,[io]:Hh,[hu]:hu},d=new kc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nt},radius:{value:4}},vertexShader:bLe,fragmentShader:SLe}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const g=new Nn;g.setAttribute("position",new Br(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new rs(g,d),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=SC;let x=this.type;this.render=function(k,I,N){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||k.length===0)return;const P=n.getRenderTarget(),R=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),z=n.state;z.setBlending(Ih),z.buffers.depth.getReversed()?z.buffers.color.setClear(0,0,0,0):z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const H=x!==lc&&this.type===lc,K=x===lc&&this.type!==lc;for(let J=0,se=k.length;J<se;J++){const ce=k[J],X=ce.shadow;if(X===void 0){console.warn("THREE.WebGLShadowMap:",ce,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;i.copy(X.mapSize);const ue=X.getFrameExtents();if(i.multiply(ue),s.copy(X.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/ue.x),i.x=s.x*ue.x,X.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/ue.y),i.y=s.y*ue.y,X.mapSize.y=s.y)),X.map===null||H===!0||K===!0){const ge=this.type!==lc?{minFilter:Ks,magFilter:Ks}:{};X.map!==null&&X.map.dispose(),X.map=new ku(i.x,i.y,ge),X.map.texture.name=ce.name+".shadowMap",X.camera.updateProjectionMatrix()}n.setRenderTarget(X.map),n.clear();const q=X.getViewportCount();for(let ge=0;ge<q;ge++){const De=X.getViewport(ge);a.set(s.x*De.x,s.y*De.y,s.x*De.z,s.y*De.w),z.viewport(a),X.updateMatrices(ce,ge),r=X.getFrustum(),T(I,N,X.camera,ce,this.type)}X.isPointLightShadow!==!0&&this.type===lc&&S(X,N),X.needsUpdate=!1}x=this.type,w.needsUpdate=!1,n.setRenderTarget(P,R,B)};function S(k,I){const N=e.update(_);d.defines.VSM_SAMPLES!==k.blurSamples&&(d.defines.VSM_SAMPLES=k.blurSamples,p.defines.VSM_SAMPLES=k.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new ku(i.x,i.y)),d.uniforms.shadow_pass.value=k.map.texture,d.uniforms.resolution.value=k.mapSize,d.uniforms.radius.value=k.radius,n.setRenderTarget(k.mapPass),n.clear(),n.renderBufferDirect(I,null,N,d,_,null),p.uniforms.shadow_pass.value=k.mapPass.texture,p.uniforms.resolution.value=k.mapSize,p.uniforms.radius.value=k.radius,n.setRenderTarget(k.map),n.clear(),n.renderBufferDirect(I,null,N,p,_,null)}function E(k,I,N,P){let R=null;const B=N.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(B!==void 0)R=B;else if(R=N.isPointLight===!0?l:o,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const z=R.uuid,H=I.uuid;let K=c[z];K===void 0&&(K={},c[z]=K);let J=K[H];J===void 0&&(J=R.clone(),K[H]=J,I.addEventListener("dispose",D)),R=J}if(R.visible=I.visible,R.wireframe=I.wireframe,P===lc?R.side=I.shadowSide!==null?I.shadowSide:I.side:R.side=I.shadowSide!==null?I.shadowSide:h[I.side],R.alphaMap=I.alphaMap,R.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,R.map=I.map,R.clipShadows=I.clipShadows,R.clippingPlanes=I.clippingPlanes,R.clipIntersection=I.clipIntersection,R.displacementMap=I.displacementMap,R.displacementScale=I.displacementScale,R.displacementBias=I.displacementBias,R.wireframeLinewidth=I.wireframeLinewidth,R.linewidth=I.linewidth,N.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const z=n.properties.get(R);z.light=N}return R}function T(k,I,N,P,R){if(k.visible===!1)return;if(k.layers.test(I.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&R===lc)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,k.matrixWorld);const H=e.update(k),K=k.material;if(Array.isArray(K)){const J=H.groups;for(let se=0,ce=J.length;se<ce;se++){const X=J[se],ue=K[X.materialIndex];if(ue&&ue.visible){const q=E(k,ue,P,R);k.onBeforeShadow(n,k,I,N,H,q,X),n.renderBufferDirect(N,null,H,q,k,X),k.onAfterShadow(n,k,I,N,H,q,X)}}}else if(K.visible){const J=E(k,K,P,R);k.onBeforeShadow(n,k,I,N,H,J,null),n.renderBufferDirect(N,null,H,J,k,null),k.onAfterShadow(n,k,I,N,H,J,null)}}const z=k.children;for(let H=0,K=z.length;H<K;H++)T(z[H],I,N,P,R)}function D(k){k.target.removeEventListener("dispose",D);for(const N in c){const P=c[N],R=k.target.uuid;R in P&&(P[R].dispose(),delete P[R])}}}const ALe={[iA]:sA,[aA]:cA,[oA]:uA,[Xm]:lA,[sA]:iA,[cA]:aA,[uA]:oA,[lA]:Xm};function TLe(n,e){function t(){let fe=!1;const tt=new cr;let ve=null;const Xe=new cr(0,0,0,0);return{setMask:function(Ye){ve!==Ye&&!fe&&(n.colorMask(Ye,Ye,Ye,Ye),ve=Ye)},setLocked:function(Ye){fe=Ye},setClear:function(Ye,Le,dt,_t,En){En===!0&&(Ye*=_t,Le*=_t,dt*=_t),tt.set(Ye,Le,dt,_t),Xe.equals(tt)===!1&&(n.clearColor(Ye,Le,dt,_t),Xe.copy(tt))},reset:function(){fe=!1,ve=null,Xe.set(-1,0,0,0)}}}function r(){let fe=!1,tt=!1,ve=null,Xe=null,Ye=null;return{setReversed:function(Le){if(tt!==Le){const dt=e.get("EXT_clip_control");Le?dt.clipControlEXT(dt.LOWER_LEFT_EXT,dt.ZERO_TO_ONE_EXT):dt.clipControlEXT(dt.LOWER_LEFT_EXT,dt.NEGATIVE_ONE_TO_ONE_EXT),tt=Le;const _t=Ye;Ye=null,this.setClear(_t)}},getReversed:function(){return tt},setTest:function(Le){Le?Se(n.DEPTH_TEST):Je(n.DEPTH_TEST)},setMask:function(Le){ve!==Le&&!fe&&(n.depthMask(Le),ve=Le)},setFunc:function(Le){if(tt&&(Le=ALe[Le]),Xe!==Le){switch(Le){case iA:n.depthFunc(n.NEVER);break;case sA:n.depthFunc(n.ALWAYS);break;case aA:n.depthFunc(n.LESS);break;case Xm:n.depthFunc(n.LEQUAL);break;case oA:n.depthFunc(n.EQUAL);break;case lA:n.depthFunc(n.GEQUAL);break;case cA:n.depthFunc(n.GREATER);break;case uA:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Xe=Le}},setLocked:function(Le){fe=Le},setClear:function(Le){Ye!==Le&&(tt&&(Le=1-Le),n.clearDepth(Le),Ye=Le)},reset:function(){fe=!1,ve=null,Xe=null,Ye=null,tt=!1}}}function i(){let fe=!1,tt=null,ve=null,Xe=null,Ye=null,Le=null,dt=null,_t=null,En=null;return{setTest:function(xn){fe||(xn?Se(n.STENCIL_TEST):Je(n.STENCIL_TEST))},setMask:function(xn){tt!==xn&&!fe&&(n.stencilMask(xn),tt=xn)},setFunc:function(xn,Jr,er){(ve!==xn||Xe!==Jr||Ye!==er)&&(n.stencilFunc(xn,Jr,er),ve=xn,Xe=Jr,Ye=er)},setOp:function(xn,Jr,er){(Le!==xn||dt!==Jr||_t!==er)&&(n.stencilOp(xn,Jr,er),Le=xn,dt=Jr,_t=er)},setLocked:function(xn){fe=xn},setClear:function(xn){En!==xn&&(n.clearStencil(xn),En=xn)},reset:function(){fe=!1,tt=null,ve=null,Xe=null,Ye=null,Le=null,dt=null,_t=null,En=null}}}const s=new t,a=new r,o=new i,l=new WeakMap,c=new WeakMap;let u={},h={},d=new WeakMap,p=[],g=null,_=!1,w=null,x=null,S=null,E=null,T=null,D=null,k=null,I=new Lt(0,0,0),N=0,P=!1,R=null,B=null,z=null,H=null,K=null;const J=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let se=!1,ce=0;const X=n.getParameter(n.VERSION);X.indexOf("WebGL")!==-1?(ce=parseFloat(/^WebGL (\d)/.exec(X)[1]),se=ce>=1):X.indexOf("OpenGL ES")!==-1&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),se=ce>=2);let ue=null,q={};const ge=n.getParameter(n.SCISSOR_BOX),De=n.getParameter(n.VIEWPORT),Q=new cr().fromArray(ge),et=new cr().fromArray(De);function ye(fe,tt,ve,Xe){const Ye=new Uint8Array(4),Le=n.createTexture();n.bindTexture(fe,Le),n.texParameteri(fe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(fe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let dt=0;dt<ve;dt++)fe===n.TEXTURE_3D||fe===n.TEXTURE_2D_ARRAY?n.texImage3D(tt,0,n.RGBA,1,1,Xe,0,n.RGBA,n.UNSIGNED_BYTE,Ye):n.texImage2D(tt+dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ye);return Le}const Ie={};Ie[n.TEXTURE_2D]=ye(n.TEXTURE_2D,n.TEXTURE_2D,1),Ie[n.TEXTURE_CUBE_MAP]=ye(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ie[n.TEXTURE_2D_ARRAY]=ye(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ie[n.TEXTURE_3D]=ye(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),Se(n.DEPTH_TEST),a.setFunc(Xm),$e(!1),We(Yk),Se(n.CULL_FACE),Re(Ih);function Se(fe){u[fe]!==!0&&(n.enable(fe),u[fe]=!0)}function Je(fe){u[fe]!==!1&&(n.disable(fe),u[fe]=!1)}function Qe(fe,tt){return h[fe]!==tt?(n.bindFramebuffer(fe,tt),h[fe]=tt,fe===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=tt),fe===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=tt),!0):!1}function rt(fe,tt){let ve=p,Xe=!1;if(fe){ve=d.get(tt),ve===void 0&&(ve=[],d.set(tt,ve));const Ye=fe.textures;if(ve.length!==Ye.length||ve[0]!==n.COLOR_ATTACHMENT0){for(let Le=0,dt=Ye.length;Le<dt;Le++)ve[Le]=n.COLOR_ATTACHMENT0+Le;ve.length=Ye.length,Xe=!0}}else ve[0]!==n.BACK&&(ve[0]=n.BACK,Xe=!0);Xe&&n.drawBuffers(ve)}function ut(fe){return g!==fe?(n.useProgram(fe),g=fe,!0):!1}const Be={[Kd]:n.FUNC_ADD,[Hee]:n.FUNC_SUBTRACT,[Wee]:n.FUNC_REVERSE_SUBTRACT};Be[Gee]=n.MIN,Be[$ee]=n.MAX;const ae={[qee]:n.ZERO,[Xee]:n.ONE,[Yee]:n.SRC_COLOR,[nA]:n.SRC_ALPHA,[tte]:n.SRC_ALPHA_SATURATE,[Jee]:n.DST_COLOR,[Zee]:n.DST_ALPHA,[Kee]:n.ONE_MINUS_SRC_COLOR,[rA]:n.ONE_MINUS_SRC_ALPHA,[ete]:n.ONE_MINUS_DST_COLOR,[Qee]:n.ONE_MINUS_DST_ALPHA,[nte]:n.CONSTANT_COLOR,[rte]:n.ONE_MINUS_CONSTANT_COLOR,[ite]:n.CONSTANT_ALPHA,[ste]:n.ONE_MINUS_CONSTANT_ALPHA};function Re(fe,tt,ve,Xe,Ye,Le,dt,_t,En,xn){if(fe===Ih){_===!0&&(Je(n.BLEND),_=!1);return}if(_===!1&&(Se(n.BLEND),_=!0),fe!==zee){if(fe!==w||xn!==P){if((x!==Kd||T!==Kd)&&(n.blendEquation(n.FUNC_ADD),x=Kd,T=Kd),xn)switch(fe){case Sm:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Kk:n.blendFunc(n.ONE,n.ONE);break;case Zk:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Qk:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case Sm:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Kk:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case Zk:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Qk:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}S=null,E=null,D=null,k=null,I.set(0,0,0),N=0,w=fe,P=xn}return}Ye=Ye||tt,Le=Le||ve,dt=dt||Xe,(tt!==x||Ye!==T)&&(n.blendEquationSeparate(Be[tt],Be[Ye]),x=tt,T=Ye),(ve!==S||Xe!==E||Le!==D||dt!==k)&&(n.blendFuncSeparate(ae[ve],ae[Xe],ae[Le],ae[dt]),S=ve,E=Xe,D=Le,k=dt),(_t.equals(I)===!1||En!==N)&&(n.blendColor(_t.r,_t.g,_t.b,En),I.copy(_t),N=En),w=fe,P=!1}function ke(fe,tt){fe.side===hu?Je(n.CULL_FACE):Se(n.CULL_FACE);let ve=fe.side===io;tt&&(ve=!ve),$e(ve),fe.blending===Sm&&fe.transparent===!1?Re(Ih):Re(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),a.setFunc(fe.depthFunc),a.setTest(fe.depthTest),a.setMask(fe.depthWrite),s.setMask(fe.colorWrite);const Xe=fe.stencilWrite;o.setTest(Xe),Xe&&(o.setMask(fe.stencilWriteMask),o.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),o.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),Ae(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?Se(n.SAMPLE_ALPHA_TO_COVERAGE):Je(n.SAMPLE_ALPHA_TO_COVERAGE)}function $e(fe){R!==fe&&(fe?n.frontFace(n.CW):n.frontFace(n.CCW),R=fe)}function We(fe){fe!==Uee?(Se(n.CULL_FACE),fe!==B&&(fe===Yk?n.cullFace(n.BACK):fe===jee?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Je(n.CULL_FACE),B=fe}function ne(fe){fe!==z&&(se&&n.lineWidth(fe),z=fe)}function Ae(fe,tt,ve){fe?(Se(n.POLYGON_OFFSET_FILL),(H!==tt||K!==ve)&&(n.polygonOffset(tt,ve),H=tt,K=ve)):Je(n.POLYGON_OFFSET_FILL)}function Fe(fe){fe?Se(n.SCISSOR_TEST):Je(n.SCISSOR_TEST)}function ot(fe){fe===void 0&&(fe=n.TEXTURE0+J-1),ue!==fe&&(n.activeTexture(fe),ue=fe)}function vt(fe,tt,ve){ve===void 0&&(ue===null?ve=n.TEXTURE0+J-1:ve=ue);let Xe=q[ve];Xe===void 0&&(Xe={type:void 0,texture:void 0},q[ve]=Xe),(Xe.type!==fe||Xe.texture!==tt)&&(ue!==ve&&(n.activeTexture(ve),ue=ve),n.bindTexture(fe,tt||Ie[fe]),Xe.type=fe,Xe.texture=tt)}function ie(){const fe=q[ue];fe!==void 0&&fe.type!==void 0&&(n.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function Y(){try{n.compressedTexImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function xe(){try{n.compressedTexImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function re(){try{n.texSubImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function pe(){try{n.texSubImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function _e(){try{n.compressedTexSubImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function at(){try{n.compressedTexSubImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function qe(){try{n.texStorage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function xt(){try{n.texStorage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function bt(){try{n.texImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function it(){try{n.texImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function pt(fe){Q.equals(fe)===!1&&(n.scissor(fe.x,fe.y,fe.z,fe.w),Q.copy(fe))}function Nt(fe){et.equals(fe)===!1&&(n.viewport(fe.x,fe.y,fe.z,fe.w),et.copy(fe))}function de(fe,tt){let ve=c.get(tt);ve===void 0&&(ve=new WeakMap,c.set(tt,ve));let Xe=ve.get(fe);Xe===void 0&&(Xe=n.getUniformBlockIndex(tt,fe.name),ve.set(fe,Xe))}function Pe(fe,tt){const Xe=c.get(tt).get(fe);l.get(tt)!==Xe&&(n.uniformBlockBinding(tt,Xe,fe.__bindingPointIndex),l.set(tt,Xe))}function lt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},ue=null,q={},h={},d=new WeakMap,p=[],g=null,_=!1,w=null,x=null,S=null,E=null,T=null,D=null,k=null,I=new Lt(0,0,0),N=0,P=!1,R=null,B=null,z=null,H=null,K=null,Q.set(0,0,n.canvas.width,n.canvas.height),et.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:Se,disable:Je,bindFramebuffer:Qe,drawBuffers:rt,useProgram:ut,setBlending:Re,setMaterial:ke,setFlipSided:$e,setCullFace:We,setLineWidth:ne,setPolygonOffset:Ae,setScissorTest:Fe,activeTexture:ot,bindTexture:vt,unbindTexture:ie,compressedTexImage2D:Y,compressedTexImage3D:xe,texImage2D:bt,texImage3D:it,updateUBOMapping:de,uniformBlockBinding:Pe,texStorage2D:qe,texStorage3D:xt,texSubImage2D:re,texSubImage3D:pe,compressedTexSubImage2D:_e,compressedTexSubImage3D:at,scissor:pt,viewport:Nt,reset:lt}}function CLe(n,e,t,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new nt,u=new WeakMap;let h;const d=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(ie,Y){return p?new OffscreenCanvas(ie,Y):P_("canvas")}function _(ie,Y,xe){let re=1;const pe=vt(ie);if((pe.width>xe||pe.height>xe)&&(re=xe/Math.max(pe.width,pe.height)),re<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const _e=Math.floor(re*pe.width),at=Math.floor(re*pe.height);h===void 0&&(h=g(_e,at));const qe=Y?g(_e,at):h;return qe.width=_e,qe.height=at,qe.getContext("2d").drawImage(ie,0,0,_e,at),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+pe.width+"x"+pe.height+") to ("+_e+"x"+at+")."),qe}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+pe.width+"x"+pe.height+")."),ie;return ie}function w(ie){return ie.generateMipmaps}function x(ie){n.generateMipmap(ie)}function S(ie){return ie.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?n.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function E(ie,Y,xe,re,pe=!1){if(ie!==null){if(n[ie]!==void 0)return n[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let _e=Y;if(Y===n.RED&&(xe===n.FLOAT&&(_e=n.R32F),xe===n.HALF_FLOAT&&(_e=n.R16F),xe===n.UNSIGNED_BYTE&&(_e=n.R8)),Y===n.RED_INTEGER&&(xe===n.UNSIGNED_BYTE&&(_e=n.R8UI),xe===n.UNSIGNED_SHORT&&(_e=n.R16UI),xe===n.UNSIGNED_INT&&(_e=n.R32UI),xe===n.BYTE&&(_e=n.R8I),xe===n.SHORT&&(_e=n.R16I),xe===n.INT&&(_e=n.R32I)),Y===n.RG&&(xe===n.FLOAT&&(_e=n.RG32F),xe===n.HALF_FLOAT&&(_e=n.RG16F),xe===n.UNSIGNED_BYTE&&(_e=n.RG8)),Y===n.RG_INTEGER&&(xe===n.UNSIGNED_BYTE&&(_e=n.RG8UI),xe===n.UNSIGNED_SHORT&&(_e=n.RG16UI),xe===n.UNSIGNED_INT&&(_e=n.RG32UI),xe===n.BYTE&&(_e=n.RG8I),xe===n.SHORT&&(_e=n.RG16I),xe===n.INT&&(_e=n.RG32I)),Y===n.RGB_INTEGER&&(xe===n.UNSIGNED_BYTE&&(_e=n.RGB8UI),xe===n.UNSIGNED_SHORT&&(_e=n.RGB16UI),xe===n.UNSIGNED_INT&&(_e=n.RGB32UI),xe===n.BYTE&&(_e=n.RGB8I),xe===n.SHORT&&(_e=n.RGB16I),xe===n.INT&&(_e=n.RGB32I)),Y===n.RGBA_INTEGER&&(xe===n.UNSIGNED_BYTE&&(_e=n.RGBA8UI),xe===n.UNSIGNED_SHORT&&(_e=n.RGBA16UI),xe===n.UNSIGNED_INT&&(_e=n.RGBA32UI),xe===n.BYTE&&(_e=n.RGBA8I),xe===n.SHORT&&(_e=n.RGBA16I),xe===n.INT&&(_e=n.RGBA32I)),Y===n.RGB&&xe===n.UNSIGNED_INT_5_9_9_9_REV&&(_e=n.RGB9_E5),Y===n.RGBA){const at=pe?M_:ar.getTransfer(re);xe===n.FLOAT&&(_e=n.RGBA32F),xe===n.HALF_FLOAT&&(_e=n.RGBA16F),xe===n.UNSIGNED_BYTE&&(_e=at===Rr?n.SRGB8_ALPHA8:n.RGBA8),xe===n.UNSIGNED_SHORT_4_4_4_4&&(_e=n.RGBA4),xe===n.UNSIGNED_SHORT_5_5_5_1&&(_e=n.RGB5_A1)}return(_e===n.R16F||_e===n.R32F||_e===n.RG16F||_e===n.RG32F||_e===n.RGBA16F||_e===n.RGBA32F)&&e.get("EXT_color_buffer_float"),_e}function T(ie,Y){let xe;return ie?Y===null||Y===Gh||Y===Kv?xe=n.DEPTH24_STENCIL8:Y===Ro?xe=n.DEPTH32F_STENCIL8:Y===Yv&&(xe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Y===null||Y===Gh||Y===Kv?xe=n.DEPTH_COMPONENT24:Y===Ro?xe=n.DEPTH_COMPONENT32F:Y===Yv&&(xe=n.DEPTH_COMPONENT16),xe}function D(ie,Y){return w(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==Ks&&ie.minFilter!==vs?Math.log2(Math.max(Y.width,Y.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?Y.mipmaps.length:1}function k(ie){const Y=ie.target;Y.removeEventListener("dispose",k),N(Y),Y.isVideoTexture&&u.delete(Y)}function I(ie){const Y=ie.target;Y.removeEventListener("dispose",I),R(Y)}function N(ie){const Y=r.get(ie);if(Y.__webglInit===void 0)return;const xe=ie.source,re=d.get(xe);if(re){const pe=re[Y.__cacheKey];pe.usedTimes--,pe.usedTimes===0&&P(ie),Object.keys(re).length===0&&d.delete(xe)}r.remove(ie)}function P(ie){const Y=r.get(ie);n.deleteTexture(Y.__webglTexture);const xe=ie.source,re=d.get(xe);delete re[Y.__cacheKey],a.memory.textures--}function R(ie){const Y=r.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),r.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let re=0;re<6;re++){if(Array.isArray(Y.__webglFramebuffer[re]))for(let pe=0;pe<Y.__webglFramebuffer[re].length;pe++)n.deleteFramebuffer(Y.__webglFramebuffer[re][pe]);else n.deleteFramebuffer(Y.__webglFramebuffer[re]);Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer[re])}else{if(Array.isArray(Y.__webglFramebuffer))for(let re=0;re<Y.__webglFramebuffer.length;re++)n.deleteFramebuffer(Y.__webglFramebuffer[re]);else n.deleteFramebuffer(Y.__webglFramebuffer);if(Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer),Y.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Y.__webglMultisampledFramebuffer),Y.__webglColorRenderbuffer)for(let re=0;re<Y.__webglColorRenderbuffer.length;re++)Y.__webglColorRenderbuffer[re]&&n.deleteRenderbuffer(Y.__webglColorRenderbuffer[re]);Y.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Y.__webglDepthRenderbuffer)}const xe=ie.textures;for(let re=0,pe=xe.length;re<pe;re++){const _e=r.get(xe[re]);_e.__webglTexture&&(n.deleteTexture(_e.__webglTexture),a.memory.textures--),r.remove(xe[re])}r.remove(ie)}let B=0;function z(){B=0}function H(){const ie=B;return ie>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+i.maxTextures),B+=1,ie}function K(ie){const Y=[];return Y.push(ie.wrapS),Y.push(ie.wrapT),Y.push(ie.wrapR||0),Y.push(ie.magFilter),Y.push(ie.minFilter),Y.push(ie.anisotropy),Y.push(ie.internalFormat),Y.push(ie.format),Y.push(ie.type),Y.push(ie.generateMipmaps),Y.push(ie.premultiplyAlpha),Y.push(ie.flipY),Y.push(ie.unpackAlignment),Y.push(ie.colorSpace),Y.join()}function J(ie,Y){const xe=r.get(ie);if(ie.isVideoTexture&&Fe(ie),ie.isRenderTargetTexture===!1&&ie.isExternalTexture!==!0&&ie.version>0&&xe.__version!==ie.version){const re=ie.image;if(re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ie(xe,ie,Y);return}}else ie.isExternalTexture&&(xe.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,xe.__webglTexture,n.TEXTURE0+Y)}function se(ie,Y){const xe=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&xe.__version!==ie.version){Ie(xe,ie,Y);return}t.bindTexture(n.TEXTURE_2D_ARRAY,xe.__webglTexture,n.TEXTURE0+Y)}function ce(ie,Y){const xe=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&xe.__version!==ie.version){Ie(xe,ie,Y);return}t.bindTexture(n.TEXTURE_3D,xe.__webglTexture,n.TEXTURE0+Y)}function X(ie,Y){const xe=r.get(ie);if(ie.version>0&&xe.__version!==ie.version){Se(xe,ie,Y);return}t.bindTexture(n.TEXTURE_CUBE_MAP,xe.__webglTexture,n.TEXTURE0+Y)}const ue={[E_]:n.REPEAT,[Dl]:n.CLAMP_TO_EDGE,[A_]:n.MIRRORED_REPEAT},q={[Ks]:n.NEAREST,[g4]:n.NEAREST_MIPMAP_NEAREST,[j0]:n.NEAREST_MIPMAP_LINEAR,[vs]:n.LINEAR,[S1]:n.LINEAR_MIPMAP_NEAREST,[pu]:n.LINEAR_MIPMAP_LINEAR},ge={[wte]:n.NEVER,[Cte]:n.ALWAYS,[bte]:n.LESS,[A4]:n.LEQUAL,[Ste]:n.EQUAL,[Tte]:n.GEQUAL,[Ete]:n.GREATER,[Ate]:n.NOTEQUAL};function De(ie,Y){if(Y.type===Ro&&e.has("OES_texture_float_linear")===!1&&(Y.magFilter===vs||Y.magFilter===S1||Y.magFilter===j0||Y.magFilter===pu||Y.minFilter===vs||Y.minFilter===S1||Y.minFilter===j0||Y.minFilter===pu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ie,n.TEXTURE_WRAP_S,ue[Y.wrapS]),n.texParameteri(ie,n.TEXTURE_WRAP_T,ue[Y.wrapT]),(ie===n.TEXTURE_3D||ie===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ie,n.TEXTURE_WRAP_R,ue[Y.wrapR]),n.texParameteri(ie,n.TEXTURE_MAG_FILTER,q[Y.magFilter]),n.texParameteri(ie,n.TEXTURE_MIN_FILTER,q[Y.minFilter]),Y.compareFunction&&(n.texParameteri(ie,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ie,n.TEXTURE_COMPARE_FUNC,ge[Y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Y.magFilter===Ks||Y.minFilter!==j0&&Y.minFilter!==pu||Y.type===Ro&&e.has("OES_texture_float_linear")===!1)return;if(Y.anisotropy>1||r.get(Y).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ie,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,i.getMaxAnisotropy())),r.get(Y).__currentAnisotropy=Y.anisotropy}}}function Q(ie,Y){let xe=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,Y.addEventListener("dispose",k));const re=Y.source;let pe=d.get(re);pe===void 0&&(pe={},d.set(re,pe));const _e=K(Y);if(_e!==ie.__cacheKey){pe[_e]===void 0&&(pe[_e]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,xe=!0),pe[_e].usedTimes++;const at=pe[ie.__cacheKey];at!==void 0&&(pe[ie.__cacheKey].usedTimes--,at.usedTimes===0&&P(Y)),ie.__cacheKey=_e,ie.__webglTexture=pe[_e].texture}return xe}function et(ie,Y,xe){return Math.floor(Math.floor(ie/xe)/Y)}function ye(ie,Y,xe,re){const _e=ie.updateRanges;if(_e.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,Y.width,Y.height,xe,re,Y.data);else{_e.sort((it,pt)=>it.start-pt.start);let at=0;for(let it=1;it<_e.length;it++){const pt=_e[at],Nt=_e[it],de=pt.start+pt.count,Pe=et(Nt.start,Y.width,4),lt=et(pt.start,Y.width,4);Nt.start<=de+1&&Pe===lt&&et(Nt.start+Nt.count-1,Y.width,4)===Pe?pt.count=Math.max(pt.count,Nt.start+Nt.count-pt.start):(++at,_e[at]=Nt)}_e.length=at+1;const qe=n.getParameter(n.UNPACK_ROW_LENGTH),xt=n.getParameter(n.UNPACK_SKIP_PIXELS),bt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,Y.width);for(let it=0,pt=_e.length;it<pt;it++){const Nt=_e[it],de=Math.floor(Nt.start/4),Pe=Math.ceil(Nt.count/4),lt=de%Y.width,fe=Math.floor(de/Y.width),tt=Pe,ve=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,lt),n.pixelStorei(n.UNPACK_SKIP_ROWS,fe),t.texSubImage2D(n.TEXTURE_2D,0,lt,fe,tt,ve,xe,re,Y.data)}ie.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,qe),n.pixelStorei(n.UNPACK_SKIP_PIXELS,xt),n.pixelStorei(n.UNPACK_SKIP_ROWS,bt)}}function Ie(ie,Y,xe){let re=n.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(re=n.TEXTURE_2D_ARRAY),Y.isData3DTexture&&(re=n.TEXTURE_3D);const pe=Q(ie,Y),_e=Y.source;t.bindTexture(re,ie.__webglTexture,n.TEXTURE0+xe);const at=r.get(_e);if(_e.version!==at.__version||pe===!0){t.activeTexture(n.TEXTURE0+xe);const qe=ar.getPrimaries(ar.workingColorSpace),xt=Y.colorSpace===mh?null:ar.getPrimaries(Y.colorSpace),bt=Y.colorSpace===mh||qe===xt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);let it=_(Y.image,!1,i.maxTextureSize);it=ot(Y,it);const pt=s.convert(Y.format,Y.colorSpace),Nt=s.convert(Y.type);let de=E(Y.internalFormat,pt,Nt,Y.colorSpace,Y.isVideoTexture);De(re,Y);let Pe;const lt=Y.mipmaps,fe=Y.isVideoTexture!==!0,tt=at.__version===void 0||pe===!0,ve=_e.dataReady,Xe=D(Y,it);if(Y.isDepthTexture)de=T(Y.format===Qv,Y.type),tt&&(fe?t.texStorage2D(n.TEXTURE_2D,1,de,it.width,it.height):t.texImage2D(n.TEXTURE_2D,0,de,it.width,it.height,0,pt,Nt,null));else if(Y.isDataTexture)if(lt.length>0){fe&&tt&&t.texStorage2D(n.TEXTURE_2D,Xe,de,lt[0].width,lt[0].height);for(let Ye=0,Le=lt.length;Ye<Le;Ye++)Pe=lt[Ye],fe?ve&&t.texSubImage2D(n.TEXTURE_2D,Ye,0,0,Pe.width,Pe.height,pt,Nt,Pe.data):t.texImage2D(n.TEXTURE_2D,Ye,de,Pe.width,Pe.height,0,pt,Nt,Pe.data);Y.generateMipmaps=!1}else fe?(tt&&t.texStorage2D(n.TEXTURE_2D,Xe,de,it.width,it.height),ve&&ye(Y,it,pt,Nt)):t.texImage2D(n.TEXTURE_2D,0,de,it.width,it.height,0,pt,Nt,it.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){fe&&tt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Xe,de,lt[0].width,lt[0].height,it.depth);for(let Ye=0,Le=lt.length;Ye<Le;Ye++)if(Pe=lt[Ye],Y.format!==Ca)if(pt!==null)if(fe){if(ve)if(Y.layerUpdates.size>0){const dt=c3(Pe.width,Pe.height,Y.format,Y.type);for(const _t of Y.layerUpdates){const En=Pe.data.subarray(_t*dt/Pe.data.BYTES_PER_ELEMENT,(_t+1)*dt/Pe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ye,0,0,_t,Pe.width,Pe.height,1,pt,En)}Y.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ye,0,0,0,Pe.width,Pe.height,it.depth,pt,Pe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ye,de,Pe.width,Pe.height,it.depth,0,Pe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else fe?ve&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ye,0,0,0,Pe.width,Pe.height,it.depth,pt,Nt,Pe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ye,de,Pe.width,Pe.height,it.depth,0,pt,Nt,Pe.data)}else{fe&&tt&&t.texStorage2D(n.TEXTURE_2D,Xe,de,lt[0].width,lt[0].height);for(let Ye=0,Le=lt.length;Ye<Le;Ye++)Pe=lt[Ye],Y.format!==Ca?pt!==null?fe?ve&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ye,0,0,Pe.width,Pe.height,pt,Pe.data):t.compressedTexImage2D(n.TEXTURE_2D,Ye,de,Pe.width,Pe.height,0,Pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):fe?ve&&t.texSubImage2D(n.TEXTURE_2D,Ye,0,0,Pe.width,Pe.height,pt,Nt,Pe.data):t.texImage2D(n.TEXTURE_2D,Ye,de,Pe.width,Pe.height,0,pt,Nt,Pe.data)}else if(Y.isDataArrayTexture)if(fe){if(tt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Xe,de,it.width,it.height,it.depth),ve)if(Y.layerUpdates.size>0){const Ye=c3(it.width,it.height,Y.format,Y.type);for(const Le of Y.layerUpdates){const dt=it.data.subarray(Le*Ye/it.data.BYTES_PER_ELEMENT,(Le+1)*Ye/it.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Le,it.width,it.height,1,pt,Nt,dt)}Y.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,it.width,it.height,it.depth,pt,Nt,it.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,de,it.width,it.height,it.depth,0,pt,Nt,it.data);else if(Y.isData3DTexture)fe?(tt&&t.texStorage3D(n.TEXTURE_3D,Xe,de,it.width,it.height,it.depth),ve&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,it.width,it.height,it.depth,pt,Nt,it.data)):t.texImage3D(n.TEXTURE_3D,0,de,it.width,it.height,it.depth,0,pt,Nt,it.data);else if(Y.isFramebufferTexture){if(tt)if(fe)t.texStorage2D(n.TEXTURE_2D,Xe,de,it.width,it.height);else{let Ye=it.width,Le=it.height;for(let dt=0;dt<Xe;dt++)t.texImage2D(n.TEXTURE_2D,dt,de,Ye,Le,0,pt,Nt,null),Ye>>=1,Le>>=1}}else if(lt.length>0){if(fe&&tt){const Ye=vt(lt[0]);t.texStorage2D(n.TEXTURE_2D,Xe,de,Ye.width,Ye.height)}for(let Ye=0,Le=lt.length;Ye<Le;Ye++)Pe=lt[Ye],fe?ve&&t.texSubImage2D(n.TEXTURE_2D,Ye,0,0,pt,Nt,Pe):t.texImage2D(n.TEXTURE_2D,Ye,de,pt,Nt,Pe);Y.generateMipmaps=!1}else if(fe){if(tt){const Ye=vt(it);t.texStorage2D(n.TEXTURE_2D,Xe,de,Ye.width,Ye.height)}ve&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,pt,Nt,it)}else t.texImage2D(n.TEXTURE_2D,0,de,pt,Nt,it);w(Y)&&x(re),at.__version=_e.version,Y.onUpdate&&Y.onUpdate(Y)}ie.__version=Y.version}function Se(ie,Y,xe){if(Y.image.length!==6)return;const re=Q(ie,Y),pe=Y.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+xe);const _e=r.get(pe);if(pe.version!==_e.__version||re===!0){t.activeTexture(n.TEXTURE0+xe);const at=ar.getPrimaries(ar.workingColorSpace),qe=Y.colorSpace===mh?null:ar.getPrimaries(Y.colorSpace),xt=Y.colorSpace===mh||at===qe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,xt);const bt=Y.isCompressedTexture||Y.image[0].isCompressedTexture,it=Y.image[0]&&Y.image[0].isDataTexture,pt=[];for(let Le=0;Le<6;Le++)!bt&&!it?pt[Le]=_(Y.image[Le],!0,i.maxCubemapSize):pt[Le]=it?Y.image[Le].image:Y.image[Le],pt[Le]=ot(Y,pt[Le]);const Nt=pt[0],de=s.convert(Y.format,Y.colorSpace),Pe=s.convert(Y.type),lt=E(Y.internalFormat,de,Pe,Y.colorSpace),fe=Y.isVideoTexture!==!0,tt=_e.__version===void 0||re===!0,ve=pe.dataReady;let Xe=D(Y,Nt);De(n.TEXTURE_CUBE_MAP,Y);let Ye;if(bt){fe&&tt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Xe,lt,Nt.width,Nt.height);for(let Le=0;Le<6;Le++){Ye=pt[Le].mipmaps;for(let dt=0;dt<Ye.length;dt++){const _t=Ye[dt];Y.format!==Ca?de!==null?fe?ve&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,dt,0,0,_t.width,_t.height,de,_t.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,dt,lt,_t.width,_t.height,0,_t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):fe?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,dt,0,0,_t.width,_t.height,de,Pe,_t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,dt,lt,_t.width,_t.height,0,de,Pe,_t.data)}}}else{if(Ye=Y.mipmaps,fe&&tt){Ye.length>0&&Xe++;const Le=vt(pt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Xe,lt,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if(it){fe?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,pt[Le].width,pt[Le].height,de,Pe,pt[Le].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,lt,pt[Le].width,pt[Le].height,0,de,Pe,pt[Le].data);for(let dt=0;dt<Ye.length;dt++){const En=Ye[dt].image[Le].image;fe?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,dt+1,0,0,En.width,En.height,de,Pe,En.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,dt+1,lt,En.width,En.height,0,de,Pe,En.data)}}else{fe?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,de,Pe,pt[Le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,lt,de,Pe,pt[Le]);for(let dt=0;dt<Ye.length;dt++){const _t=Ye[dt];fe?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,dt+1,0,0,de,Pe,_t.image[Le]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,dt+1,lt,de,Pe,_t.image[Le])}}}w(Y)&&x(n.TEXTURE_CUBE_MAP),_e.__version=pe.version,Y.onUpdate&&Y.onUpdate(Y)}ie.__version=Y.version}function Je(ie,Y,xe,re,pe,_e){const at=s.convert(xe.format,xe.colorSpace),qe=s.convert(xe.type),xt=E(xe.internalFormat,at,qe,xe.colorSpace),bt=r.get(Y),it=r.get(xe);if(it.__renderTarget=Y,!bt.__hasExternalTextures){const pt=Math.max(1,Y.width>>_e),Nt=Math.max(1,Y.height>>_e);pe===n.TEXTURE_3D||pe===n.TEXTURE_2D_ARRAY?t.texImage3D(pe,_e,xt,pt,Nt,Y.depth,0,at,qe,null):t.texImage2D(pe,_e,xt,pt,Nt,0,at,qe,null)}t.bindFramebuffer(n.FRAMEBUFFER,ie),Ae(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,re,pe,it.__webglTexture,0,ne(Y)):(pe===n.TEXTURE_2D||pe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&pe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,re,pe,it.__webglTexture,_e),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(ie,Y,xe){if(n.bindRenderbuffer(n.RENDERBUFFER,ie),Y.depthBuffer){const re=Y.depthTexture,pe=re&&re.isDepthTexture?re.type:null,_e=T(Y.stencilBuffer,pe),at=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,qe=ne(Y);Ae(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,qe,_e,Y.width,Y.height):xe?n.renderbufferStorageMultisample(n.RENDERBUFFER,qe,_e,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,_e,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,at,n.RENDERBUFFER,ie)}else{const re=Y.textures;for(let pe=0;pe<re.length;pe++){const _e=re[pe],at=s.convert(_e.format,_e.colorSpace),qe=s.convert(_e.type),xt=E(_e.internalFormat,at,qe,_e.colorSpace),bt=ne(Y);xe&&Ae(Y)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,bt,xt,Y.width,Y.height):Ae(Y)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,bt,xt,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,xt,Y.width,Y.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function rt(ie,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ie),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const re=r.get(Y.depthTexture);re.__renderTarget=Y,(!re.__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),J(Y.depthTexture,0);const pe=re.__webglTexture,_e=ne(Y);if(Y.depthTexture.format===Zv)Ae(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,pe,0,_e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,pe,0);else if(Y.depthTexture.format===Qv)Ae(Y)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,pe,0,_e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,pe,0);else throw new Error("Unknown depthTexture format")}function ut(ie){const Y=r.get(ie),xe=ie.isWebGLCubeRenderTarget===!0;if(Y.__boundDepthTexture!==ie.depthTexture){const re=ie.depthTexture;if(Y.__depthDisposeCallback&&Y.__depthDisposeCallback(),re){const pe=()=>{delete Y.__boundDepthTexture,delete Y.__depthDisposeCallback,re.removeEventListener("dispose",pe)};re.addEventListener("dispose",pe),Y.__depthDisposeCallback=pe}Y.__boundDepthTexture=re}if(ie.depthTexture&&!Y.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");const re=ie.texture.mipmaps;re&&re.length>0?rt(Y.__webglFramebuffer[0],ie):rt(Y.__webglFramebuffer,ie)}else if(xe){Y.__webglDepthbuffer=[];for(let re=0;re<6;re++)if(t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[re]),Y.__webglDepthbuffer[re]===void 0)Y.__webglDepthbuffer[re]=n.createRenderbuffer(),Qe(Y.__webglDepthbuffer[re],ie,!1);else{const pe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,_e=Y.__webglDepthbuffer[re];n.bindRenderbuffer(n.RENDERBUFFER,_e),n.framebufferRenderbuffer(n.FRAMEBUFFER,pe,n.RENDERBUFFER,_e)}}else{const re=ie.texture.mipmaps;if(re&&re.length>0?t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer===void 0)Y.__webglDepthbuffer=n.createRenderbuffer(),Qe(Y.__webglDepthbuffer,ie,!1);else{const pe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,_e=Y.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,_e),n.framebufferRenderbuffer(n.FRAMEBUFFER,pe,n.RENDERBUFFER,_e)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Be(ie,Y,xe){const re=r.get(ie);Y!==void 0&&Je(re.__webglFramebuffer,ie,ie.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),xe!==void 0&&ut(ie)}function ae(ie){const Y=ie.texture,xe=r.get(ie),re=r.get(Y);ie.addEventListener("dispose",I);const pe=ie.textures,_e=ie.isWebGLCubeRenderTarget===!0,at=pe.length>1;if(at||(re.__webglTexture===void 0&&(re.__webglTexture=n.createTexture()),re.__version=Y.version,a.memory.textures++),_e){xe.__webglFramebuffer=[];for(let qe=0;qe<6;qe++)if(Y.mipmaps&&Y.mipmaps.length>0){xe.__webglFramebuffer[qe]=[];for(let xt=0;xt<Y.mipmaps.length;xt++)xe.__webglFramebuffer[qe][xt]=n.createFramebuffer()}else xe.__webglFramebuffer[qe]=n.createFramebuffer()}else{if(Y.mipmaps&&Y.mipmaps.length>0){xe.__webglFramebuffer=[];for(let qe=0;qe<Y.mipmaps.length;qe++)xe.__webglFramebuffer[qe]=n.createFramebuffer()}else xe.__webglFramebuffer=n.createFramebuffer();if(at)for(let qe=0,xt=pe.length;qe<xt;qe++){const bt=r.get(pe[qe]);bt.__webglTexture===void 0&&(bt.__webglTexture=n.createTexture(),a.memory.textures++)}if(ie.samples>0&&Ae(ie)===!1){xe.__webglMultisampledFramebuffer=n.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let qe=0;qe<pe.length;qe++){const xt=pe[qe];xe.__webglColorRenderbuffer[qe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,xe.__webglColorRenderbuffer[qe]);const bt=s.convert(xt.format,xt.colorSpace),it=s.convert(xt.type),pt=E(xt.internalFormat,bt,it,xt.colorSpace,ie.isXRRenderTarget===!0),Nt=ne(ie);n.renderbufferStorageMultisample(n.RENDERBUFFER,Nt,pt,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.RENDERBUFFER,xe.__webglColorRenderbuffer[qe])}n.bindRenderbuffer(n.RENDERBUFFER,null),ie.depthBuffer&&(xe.__webglDepthRenderbuffer=n.createRenderbuffer(),Qe(xe.__webglDepthRenderbuffer,ie,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(_e){t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture),De(n.TEXTURE_CUBE_MAP,Y);for(let qe=0;qe<6;qe++)if(Y.mipmaps&&Y.mipmaps.length>0)for(let xt=0;xt<Y.mipmaps.length;xt++)Je(xe.__webglFramebuffer[qe][xt],ie,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,xt);else Je(xe.__webglFramebuffer[qe],ie,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0);w(Y)&&x(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(at){for(let qe=0,xt=pe.length;qe<xt;qe++){const bt=pe[qe],it=r.get(bt);let pt=n.TEXTURE_2D;(ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(pt=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(pt,it.__webglTexture),De(pt,bt),Je(xe.__webglFramebuffer,ie,bt,n.COLOR_ATTACHMENT0+qe,pt,0),w(bt)&&x(pt)}t.unbindTexture()}else{let qe=n.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(qe=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(qe,re.__webglTexture),De(qe,Y),Y.mipmaps&&Y.mipmaps.length>0)for(let xt=0;xt<Y.mipmaps.length;xt++)Je(xe.__webglFramebuffer[xt],ie,Y,n.COLOR_ATTACHMENT0,qe,xt);else Je(xe.__webglFramebuffer,ie,Y,n.COLOR_ATTACHMENT0,qe,0);w(Y)&&x(qe),t.unbindTexture()}ie.depthBuffer&&ut(ie)}function Re(ie){const Y=ie.textures;for(let xe=0,re=Y.length;xe<re;xe++){const pe=Y[xe];if(w(pe)){const _e=S(ie),at=r.get(pe).__webglTexture;t.bindTexture(_e,at),x(_e),t.unbindTexture()}}}const ke=[],$e=[];function We(ie){if(ie.samples>0){if(Ae(ie)===!1){const Y=ie.textures,xe=ie.width,re=ie.height;let pe=n.COLOR_BUFFER_BIT;const _e=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,at=r.get(ie),qe=Y.length>1;if(qe)for(let bt=0;bt<Y.length;bt++)t.bindFramebuffer(n.FRAMEBUFFER,at.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,at.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,at.__webglMultisampledFramebuffer);const xt=ie.texture.mipmaps;xt&&xt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglFramebuffer);for(let bt=0;bt<Y.length;bt++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(pe|=n.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(pe|=n.STENCIL_BUFFER_BIT)),qe){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,at.__webglColorRenderbuffer[bt]);const it=r.get(Y[bt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,it,0)}n.blitFramebuffer(0,0,xe,re,0,0,xe,re,pe,n.NEAREST),l===!0&&(ke.length=0,$e.length=0,ke.push(n.COLOR_ATTACHMENT0+bt),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(ke.push(_e),$e.push(_e),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,$e)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ke))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),qe)for(let bt=0;bt<Y.length;bt++){t.bindFramebuffer(n.FRAMEBUFFER,at.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.RENDERBUFFER,at.__webglColorRenderbuffer[bt]);const it=r.get(Y[bt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,at.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+bt,n.TEXTURE_2D,it,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const Y=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Y])}}}function ne(ie){return Math.min(i.maxSamples,ie.samples)}function Ae(ie){const Y=r.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function Fe(ie){const Y=a.render.frame;u.get(ie)!==Y&&(u.set(ie,Y),ie.update())}function ot(ie,Y){const xe=ie.colorSpace,re=ie.format,pe=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||xe!==Ym&&xe!==mh&&(ar.getTransfer(xe)===Rr?(re!==Ca||pe!==zl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xe)),Y}function vt(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(c.width=ie.naturalWidth||ie.width,c.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(c.width=ie.displayWidth,c.height=ie.displayHeight):(c.width=ie.width,c.height=ie.height),c}this.allocateTextureUnit=H,this.resetTextureUnits=z,this.setTexture2D=J,this.setTexture2DArray=se,this.setTexture3D=ce,this.setTextureCube=X,this.rebindTextures=Be,this.setupRenderTarget=ae,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=ut,this.setupFrameBufferTexture=Je,this.useMultisampledRTT=Ae}function Bne(n,e){function t(r,i=mh){let s;const a=ar.getTransfer(i);if(r===zl)return n.UNSIGNED_BYTE;if(r===TC)return n.UNSIGNED_SHORT_4_4_4_4;if(r===CC)return n.UNSIGNED_SHORT_5_5_5_1;if(r===x4)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===v4)return n.BYTE;if(r===y4)return n.SHORT;if(r===Yv)return n.UNSIGNED_SHORT;if(r===AC)return n.INT;if(r===Gh)return n.UNSIGNED_INT;if(r===Ro)return n.FLOAT;if(r===Ty)return n.HALF_FLOAT;if(r===_4)return n.ALPHA;if(r===w4)return n.RGB;if(r===Ca)return n.RGBA;if(r===Zv)return n.DEPTH_COMPONENT;if(r===Qv)return n.DEPTH_STENCIL;if(r===MC)return n.RED;if(r===Ew)return n.RED_INTEGER;if(r===b4)return n.RG;if(r===IC)return n.RG_INTEGER;if(r===PC)return n.RGBA_INTEGER;if(r===E1||r===A1||r===T1||r===C1)if(a===Rr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===E1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===A1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===T1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===C1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===E1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===A1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===T1)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===C1)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===hA||r===dA||r===fA||r===pA)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===hA)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===dA)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===fA)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===pA)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===mA||r===gA||r===vA)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===mA||r===gA)return a===Rr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===vA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===yA||r===xA||r===_A||r===wA||r===bA||r===SA||r===EA||r===AA||r===TA||r===CA||r===MA||r===IA||r===PA||r===RA)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===yA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===xA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===_A)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===wA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===bA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===SA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===EA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===AA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===TA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===CA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===MA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===IA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===PA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===RA)return a===Rr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===M1||r===NA||r===kA)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===M1)return a===Rr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===NA)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===kA)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===S4||r===DA||r===OA||r===LA)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===M1)return s.COMPRESSED_RED_RGTC1_EXT;if(r===DA)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===OA)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===LA)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Kv?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}class Une extends fi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const MLe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,ILe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class PLe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new Une(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new kc({vertexShader:MLe,fragmentShader:ILe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new rs(new My(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class RLe extends Fu{constructor(e,t){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,u=null,h=null,d=null,p=null,g=null;const _=new PLe,w={},x=t.getContextAttributes();let S=null,E=null;const T=[],D=[],k=new nt;let I=null;const N=new Gi;N.viewport=new cr;const P=new Gi;P.viewport=new cr;const R=[N,P],B=new Cne;let z=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ye){let Ie=T[ye];return Ie===void 0&&(Ie=new OE,T[ye]=Ie),Ie.getTargetRaySpace()},this.getControllerGrip=function(ye){let Ie=T[ye];return Ie===void 0&&(Ie=new OE,T[ye]=Ie),Ie.getGripSpace()},this.getHand=function(ye){let Ie=T[ye];return Ie===void 0&&(Ie=new OE,T[ye]=Ie),Ie.getHandSpace()};function K(ye){const Ie=D.indexOf(ye.inputSource);if(Ie===-1)return;const Se=T[Ie];Se!==void 0&&(Se.update(ye.inputSource,ye.frame,c||a),Se.dispatchEvent({type:ye.type,data:ye.inputSource}))}function J(){i.removeEventListener("select",K),i.removeEventListener("selectstart",K),i.removeEventListener("selectend",K),i.removeEventListener("squeeze",K),i.removeEventListener("squeezestart",K),i.removeEventListener("squeezeend",K),i.removeEventListener("end",J),i.removeEventListener("inputsourceschange",se);for(let ye=0;ye<T.length;ye++){const Ie=D[ye];Ie!==null&&(D[ye]=null,T[ye].disconnect(Ie))}z=null,H=null,_.reset();for(const ye in w)delete w[ye];e.setRenderTarget(S),p=null,d=null,h=null,i=null,E=null,et.stop(),r.isPresenting=!1,e.setPixelRatio(I),e.setSize(k.width,k.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ye){s=ye,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ye){o=ye,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ye){c=ye},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return h},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(ye){if(i=ye,i!==null){if(S=e.getRenderTarget(),i.addEventListener("select",K),i.addEventListener("selectstart",K),i.addEventListener("selectend",K),i.addEventListener("squeeze",K),i.addEventListener("squeezestart",K),i.addEventListener("squeezeend",K),i.addEventListener("end",J),i.addEventListener("inputsourceschange",se),x.xrCompatible!==!0&&await t.makeXRCompatible(),I=e.getPixelRatio(),e.getSize(k),typeof XRWebGLBinding<"u"&&(h=new XRWebGLBinding(i,t)),h!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let Se=null,Je=null,Qe=null;x.depth&&(Qe=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Se=x.stencil?Qv:Zv,Je=x.stencil?Kv:Gh);const rt={colorFormat:t.RGBA8,depthFormat:Qe,scaleFactor:s};d=h.createProjectionLayer(rt),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),E=new ku(d.textureWidth,d.textureHeight,{format:Ca,type:zl,depthTexture:new D4(d.textureWidth,d.textureHeight,Je,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}else{const Se={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,Se),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),E=new ku(p.framebufferWidth,p.framebufferHeight,{format:Ca,type:zl,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}E.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),et.setContext(i),et.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function se(ye){for(let Ie=0;Ie<ye.removed.length;Ie++){const Se=ye.removed[Ie],Je=D.indexOf(Se);Je>=0&&(D[Je]=null,T[Je].disconnect(Se))}for(let Ie=0;Ie<ye.added.length;Ie++){const Se=ye.added[Ie];let Je=D.indexOf(Se);if(Je===-1){for(let rt=0;rt<T.length;rt++)if(rt>=D.length){D.push(Se),Je=rt;break}else if(D[rt]===null){D[rt]=Se,Je=rt;break}if(Je===-1)break}const Qe=T[Je];Qe&&Qe.connect(Se)}}const ce=new oe,X=new oe;function ue(ye,Ie,Se){ce.setFromMatrixPosition(Ie.matrixWorld),X.setFromMatrixPosition(Se.matrixWorld);const Je=ce.distanceTo(X),Qe=Ie.projectionMatrix.elements,rt=Se.projectionMatrix.elements,ut=Qe[14]/(Qe[10]-1),Be=Qe[14]/(Qe[10]+1),ae=(Qe[9]+1)/Qe[5],Re=(Qe[9]-1)/Qe[5],ke=(Qe[8]-1)/Qe[0],$e=(rt[8]+1)/rt[0],We=ut*ke,ne=ut*$e,Ae=Je/(-ke+$e),Fe=Ae*-ke;if(Ie.matrixWorld.decompose(ye.position,ye.quaternion,ye.scale),ye.translateX(Fe),ye.translateZ(Ae),ye.matrixWorld.compose(ye.position,ye.quaternion,ye.scale),ye.matrixWorldInverse.copy(ye.matrixWorld).invert(),Qe[10]===-1)ye.projectionMatrix.copy(Ie.projectionMatrix),ye.projectionMatrixInverse.copy(Ie.projectionMatrixInverse);else{const ot=ut+Ae,vt=Be+Ae,ie=We-Fe,Y=ne+(Je-Fe),xe=ae*Be/vt*ot,re=Re*Be/vt*ot;ye.projectionMatrix.makePerspective(ie,Y,xe,re,ot,vt),ye.projectionMatrixInverse.copy(ye.projectionMatrix).invert()}}function q(ye,Ie){Ie===null?ye.matrixWorld.copy(ye.matrix):ye.matrixWorld.multiplyMatrices(Ie.matrixWorld,ye.matrix),ye.matrixWorldInverse.copy(ye.matrixWorld).invert()}this.updateCamera=function(ye){if(i===null)return;let Ie=ye.near,Se=ye.far;_.texture!==null&&(_.depthNear>0&&(Ie=_.depthNear),_.depthFar>0&&(Se=_.depthFar)),B.near=P.near=N.near=Ie,B.far=P.far=N.far=Se,(z!==B.near||H!==B.far)&&(i.updateRenderState({depthNear:B.near,depthFar:B.far}),z=B.near,H=B.far),B.layers.mask=ye.layers.mask|6,N.layers.mask=B.layers.mask&3,P.layers.mask=B.layers.mask&5;const Je=ye.parent,Qe=B.cameras;q(B,Je);for(let rt=0;rt<Qe.length;rt++)q(Qe[rt],Je);Qe.length===2?ue(B,N,P):B.projectionMatrix.copy(N.projectionMatrix),ge(ye,B,Je)};function ge(ye,Ie,Se){Se===null?ye.matrix.copy(Ie.matrixWorld):(ye.matrix.copy(Se.matrixWorld),ye.matrix.invert(),ye.matrix.multiply(Ie.matrixWorld)),ye.matrix.decompose(ye.position,ye.quaternion,ye.scale),ye.updateMatrixWorld(!0),ye.projectionMatrix.copy(Ie.projectionMatrix),ye.projectionMatrixInverse.copy(Ie.projectionMatrixInverse),ye.isPerspectiveCamera&&(ye.fov=ey*2*Math.atan(1/ye.projectionMatrix.elements[5]),ye.zoom=1)}this.getCamera=function(){return B},this.getFoveation=function(){if(!(d===null&&p===null))return l},this.setFoveation=function(ye){l=ye,d!==null&&(d.fixedFoveation=ye),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=ye)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(B)},this.getCameraTexture=function(ye){return w[ye]};let De=null;function Q(ye,Ie){if(u=Ie.getViewerPose(c||a),g=Ie,u!==null){const Se=u.views;p!==null&&(e.setRenderTargetFramebuffer(E,p.framebuffer),e.setRenderTarget(E));let Je=!1;Se.length!==B.cameras.length&&(B.cameras.length=0,Je=!0);for(let Be=0;Be<Se.length;Be++){const ae=Se[Be];let Re=null;if(p!==null)Re=p.getViewport(ae);else{const $e=h.getViewSubImage(d,ae);Re=$e.viewport,Be===0&&(e.setRenderTargetTextures(E,$e.colorTexture,$e.depthStencilTexture),e.setRenderTarget(E))}let ke=R[Be];ke===void 0&&(ke=new Gi,ke.layers.enable(Be),ke.viewport=new cr,R[Be]=ke),ke.matrix.fromArray(ae.transform.matrix),ke.matrix.decompose(ke.position,ke.quaternion,ke.scale),ke.projectionMatrix.fromArray(ae.projectionMatrix),ke.projectionMatrixInverse.copy(ke.projectionMatrix).invert(),ke.viewport.set(Re.x,Re.y,Re.width,Re.height),Be===0&&(B.matrix.copy(ke.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),Je===!0&&B.cameras.push(ke)}const Qe=i.enabledFeatures;if(Qe&&Qe.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&h){const Be=h.getDepthInformation(Se[0]);Be&&Be.isValid&&Be.texture&&_.init(Be,i.renderState)}if(Qe&&Qe.includes("camera-access")&&(e.state.unbindTexture(),h))for(let Be=0;Be<Se.length;Be++){const ae=Se[Be].camera;if(ae){let Re=w[ae];Re||(Re=new Une,w[ae]=Re);const ke=h.getCameraImage(ae);Re.sourceTexture=ke}}}for(let Se=0;Se<T.length;Se++){const Je=D[Se],Qe=T[Se];Je!==null&&Qe!==void 0&&Qe.update(Je,Ie,c||a)}De&&De(ye,Ie),Ie.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ie}),g=null}const et=new kne;et.setAnimationLoop(Q),this.setAnimationLoop=function(ye){De=ye},this.dispose=function(){}}}const Op=new ul,NLe=new yn;function kLe(n,e){function t(w,x){w.matrixAutoUpdate===!0&&w.updateMatrix(),x.value.copy(w.matrix)}function r(w,x){x.color.getRGB(w.fogColor.value,Nte(n)),x.isFog?(w.fogNear.value=x.near,w.fogFar.value=x.far):x.isFogExp2&&(w.fogDensity.value=x.density)}function i(w,x,S,E,T){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(w,x):x.isMeshToonMaterial?(s(w,x),h(w,x)):x.isMeshPhongMaterial?(s(w,x),u(w,x)):x.isMeshStandardMaterial?(s(w,x),d(w,x),x.isMeshPhysicalMaterial&&p(w,x,T)):x.isMeshMatcapMaterial?(s(w,x),g(w,x)):x.isMeshDepthMaterial?s(w,x):x.isMeshDistanceMaterial?(s(w,x),_(w,x)):x.isMeshNormalMaterial?s(w,x):x.isLineBasicMaterial?(a(w,x),x.isLineDashedMaterial&&o(w,x)):x.isPointsMaterial?l(w,x,S,E):x.isSpriteMaterial?c(w,x):x.isShadowMaterial?(w.color.value.copy(x.color),w.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(w,x){w.opacity.value=x.opacity,x.color&&w.diffuse.value.copy(x.color),x.emissive&&w.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(w.map.value=x.map,t(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.bumpMap&&(w.bumpMap.value=x.bumpMap,t(x.bumpMap,w.bumpMapTransform),w.bumpScale.value=x.bumpScale,x.side===io&&(w.bumpScale.value*=-1)),x.normalMap&&(w.normalMap.value=x.normalMap,t(x.normalMap,w.normalMapTransform),w.normalScale.value.copy(x.normalScale),x.side===io&&w.normalScale.value.negate()),x.displacementMap&&(w.displacementMap.value=x.displacementMap,t(x.displacementMap,w.displacementMapTransform),w.displacementScale.value=x.displacementScale,w.displacementBias.value=x.displacementBias),x.emissiveMap&&(w.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,w.emissiveMapTransform)),x.specularMap&&(w.specularMap.value=x.specularMap,t(x.specularMap,w.specularMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest);const S=e.get(x),E=S.envMap,T=S.envMapRotation;E&&(w.envMap.value=E,Op.copy(T),Op.x*=-1,Op.y*=-1,Op.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Op.y*=-1,Op.z*=-1),w.envMapRotation.value.setFromMatrix4(NLe.makeRotationFromEuler(Op)),w.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=x.reflectivity,w.ior.value=x.ior,w.refractionRatio.value=x.refractionRatio),x.lightMap&&(w.lightMap.value=x.lightMap,w.lightMapIntensity.value=x.lightMapIntensity,t(x.lightMap,w.lightMapTransform)),x.aoMap&&(w.aoMap.value=x.aoMap,w.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,w.aoMapTransform))}function a(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,x.map&&(w.map.value=x.map,t(x.map,w.mapTransform))}function o(w,x){w.dashSize.value=x.dashSize,w.totalSize.value=x.dashSize+x.gapSize,w.scale.value=x.scale}function l(w,x,S,E){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.size.value=x.size*S,w.scale.value=E*.5,x.map&&(w.map.value=x.map,t(x.map,w.uvTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function c(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.rotation.value=x.rotation,x.map&&(w.map.value=x.map,t(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,t(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function u(w,x){w.specular.value.copy(x.specular),w.shininess.value=Math.max(x.shininess,1e-4)}function h(w,x){x.gradientMap&&(w.gradientMap.value=x.gradientMap)}function d(w,x){w.metalness.value=x.metalness,x.metalnessMap&&(w.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,w.metalnessMapTransform)),w.roughness.value=x.roughness,x.roughnessMap&&(w.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,w.roughnessMapTransform)),x.envMap&&(w.envMapIntensity.value=x.envMapIntensity)}function p(w,x,S){w.ior.value=x.ior,x.sheen>0&&(w.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),w.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(w.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,w.sheenColorMapTransform)),x.sheenRoughnessMap&&(w.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,w.sheenRoughnessMapTransform))),x.clearcoat>0&&(w.clearcoat.value=x.clearcoat,w.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(w.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,w.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(w.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===io&&w.clearcoatNormalScale.value.negate())),x.dispersion>0&&(w.dispersion.value=x.dispersion),x.iridescence>0&&(w.iridescence.value=x.iridescence,w.iridescenceIOR.value=x.iridescenceIOR,w.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(w.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,w.iridescenceMapTransform)),x.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),x.transmission>0&&(w.transmission.value=x.transmission,w.transmissionSamplerMap.value=S.texture,w.transmissionSamplerSize.value.set(S.width,S.height),x.transmissionMap&&(w.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,w.transmissionMapTransform)),w.thickness.value=x.thickness,x.thicknessMap&&(w.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=x.attenuationDistance,w.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(w.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(w.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=x.specularIntensity,w.specularColor.value.copy(x.specularColor),x.specularColorMap&&(w.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,w.specularColorMapTransform)),x.specularIntensityMap&&(w.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,w.specularIntensityMapTransform))}function g(w,x){x.matcap&&(w.matcap.value=x.matcap)}function _(w,x){const S=e.get(x).light;w.referencePosition.value.setFromMatrixPosition(S.matrixWorld),w.nearDistance.value=S.shadow.camera.near,w.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function DLe(n,e,t,r){let i={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,E){const T=E.program;r.uniformBlockBinding(S,T)}function c(S,E){let T=i[S.id];T===void 0&&(g(S),T=u(S),i[S.id]=T,S.addEventListener("dispose",w));const D=E.program;r.updateUBOMapping(S,D);const k=e.render.frame;s[S.id]!==k&&(d(S),s[S.id]=k)}function u(S){const E=h();S.__bindingPointIndex=E;const T=n.createBuffer(),D=S.__size,k=S.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,D,k),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,T),T}function h(){for(let S=0;S<o;S++)if(a.indexOf(S)===-1)return a.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(S){const E=i[S.id],T=S.uniforms,D=S.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let k=0,I=T.length;k<I;k++){const N=Array.isArray(T[k])?T[k]:[T[k]];for(let P=0,R=N.length;P<R;P++){const B=N[P];if(p(B,k,P,D)===!0){const z=B.__offset,H=Array.isArray(B.value)?B.value:[B.value];let K=0;for(let J=0;J<H.length;J++){const se=H[J],ce=_(se);typeof se=="number"||typeof se=="boolean"?(B.__data[0]=se,n.bufferSubData(n.UNIFORM_BUFFER,z+K,B.__data)):se.isMatrix3?(B.__data[0]=se.elements[0],B.__data[1]=se.elements[1],B.__data[2]=se.elements[2],B.__data[3]=0,B.__data[4]=se.elements[3],B.__data[5]=se.elements[4],B.__data[6]=se.elements[5],B.__data[7]=0,B.__data[8]=se.elements[6],B.__data[9]=se.elements[7],B.__data[10]=se.elements[8],B.__data[11]=0):(se.toArray(B.__data,K),K+=ce.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,z,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function p(S,E,T,D){const k=S.value,I=E+"_"+T;if(D[I]===void 0)return typeof k=="number"||typeof k=="boolean"?D[I]=k:D[I]=k.clone(),!0;{const N=D[I];if(typeof k=="number"||typeof k=="boolean"){if(N!==k)return D[I]=k,!0}else if(N.equals(k)===!1)return N.copy(k),!0}return!1}function g(S){const E=S.uniforms;let T=0;const D=16;for(let I=0,N=E.length;I<N;I++){const P=Array.isArray(E[I])?E[I]:[E[I]];for(let R=0,B=P.length;R<B;R++){const z=P[R],H=Array.isArray(z.value)?z.value:[z.value];for(let K=0,J=H.length;K<J;K++){const se=H[K],ce=_(se),X=T%D,ue=X%ce.boundary,q=X+ue;T+=ue,q!==0&&D-q<ce.storage&&(T+=D-q),z.__data=new Float32Array(ce.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=T,T+=ce.storage}}}const k=T%D;return k>0&&(T+=D-k),S.__size=T,S.__cache={},this}function _(S){const E={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(E.boundary=4,E.storage=4):S.isVector2?(E.boundary=8,E.storage=8):S.isVector3||S.isColor?(E.boundary=16,E.storage=12):S.isVector4?(E.boundary=16,E.storage=16):S.isMatrix3?(E.boundary=48,E.storage=48):S.isMatrix4?(E.boundary=64,E.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),E}function w(S){const E=S.target;E.removeEventListener("dispose",w);const T=a.indexOf(E.__bindingPointIndex);a.splice(T,1),n.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function x(){for(const S in i)n.deleteBuffer(i[S]);a=[],i={},s={}}return{bind:l,update:c,dispose:x}}class jne{constructor(e={}){const{canvas:t=Ite(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reversedDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=a;const g=new Uint32Array(4),_=new Int32Array(4);let w=null,x=null;const S=[],E=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Tu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const T=this;let D=!1;this._outputColorSpace=To;let k=0,I=0,N=null,P=-1,R=null;const B=new cr,z=new cr;let H=null;const K=new Lt(0);let J=0,se=t.width,ce=t.height,X=1,ue=null,q=null;const ge=new cr(0,0,se,ce),De=new cr(0,0,se,ce);let Q=!1;const et=new Cy;let ye=!1,Ie=!1;const Se=new yn,Je=new oe,Qe=new cr,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ut=!1;function Be(){return N===null?X:1}let ae=r;function Re(ee,Ee){return t.getContext(ee,Ee)}try{const ee={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${bC}`),t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",Xe,!1),t.addEventListener("webglcontextcreationerror",Ye,!1),ae===null){const Ee="webgl2";if(ae=Re(Ee,ee),ae===null)throw Re(Ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let ke,$e,We,ne,Ae,Fe,ot,vt,ie,Y,xe,re,pe,_e,at,qe,xt,bt,it,pt,Nt,de,Pe,lt;function fe(){ke=new $De(ae),ke.init(),de=new Bne(ae,ke),$e=new UDe(ae,ke,e,de),We=new TLe(ae,ke),$e.reversedDepthBuffer&&d&&We.buffers.depth.setReversed(!0),ne=new YDe(ae),Ae=new fLe,Fe=new CLe(ae,ke,We,Ae,$e,de,ne),ot=new VDe(T),vt=new GDe(T),ie=new tke(ae),Pe=new FDe(ae,ie),Y=new qDe(ae,ie,ne,Pe),xe=new ZDe(ae,Y,ie,ne),it=new KDe(ae,$e,Fe),qe=new jDe(Ae),re=new dLe(T,ot,vt,ke,$e,Pe,qe),pe=new kLe(T,Ae),_e=new mLe,at=new wLe(ke),bt=new LDe(T,ot,vt,We,xe,p,l),xt=new ELe(T,xe,$e),lt=new DLe(ae,ne,$e,We),pt=new BDe(ae,ke,ne),Nt=new XDe(ae,ke,ne),ne.programs=re.programs,T.capabilities=$e,T.extensions=ke,T.properties=Ae,T.renderLists=_e,T.shadowMap=xt,T.state=We,T.info=ne}fe();const tt=new RLe(T,ae);this.xr=tt,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){const ee=ke.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=ke.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(ee){ee!==void 0&&(X=ee,this.setSize(se,ce,!1))},this.getSize=function(ee){return ee.set(se,ce)},this.setSize=function(ee,Ee,je=!0){if(tt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}se=ee,ce=Ee,t.width=Math.floor(ee*X),t.height=Math.floor(Ee*X),je===!0&&(t.style.width=ee+"px",t.style.height=Ee+"px"),this.setViewport(0,0,ee,Ee)},this.getDrawingBufferSize=function(ee){return ee.set(se*X,ce*X).floor()},this.setDrawingBufferSize=function(ee,Ee,je){se=ee,ce=Ee,X=je,t.width=Math.floor(ee*je),t.height=Math.floor(Ee*je),this.setViewport(0,0,ee,Ee)},this.getCurrentViewport=function(ee){return ee.copy(B)},this.getViewport=function(ee){return ee.copy(ge)},this.setViewport=function(ee,Ee,je,Ve){ee.isVector4?ge.set(ee.x,ee.y,ee.z,ee.w):ge.set(ee,Ee,je,Ve),We.viewport(B.copy(ge).multiplyScalar(X).round())},this.getScissor=function(ee){return ee.copy(De)},this.setScissor=function(ee,Ee,je,Ve){ee.isVector4?De.set(ee.x,ee.y,ee.z,ee.w):De.set(ee,Ee,je,Ve),We.scissor(z.copy(De).multiplyScalar(X).round())},this.getScissorTest=function(){return Q},this.setScissorTest=function(ee){We.setScissorTest(Q=ee)},this.setOpaqueSort=function(ee){ue=ee},this.setTransparentSort=function(ee){q=ee},this.getClearColor=function(ee){return ee.copy(bt.getClearColor())},this.setClearColor=function(){bt.setClearColor(...arguments)},this.getClearAlpha=function(){return bt.getClearAlpha()},this.setClearAlpha=function(){bt.setClearAlpha(...arguments)},this.clear=function(ee=!0,Ee=!0,je=!0){let Ve=0;if(ee){let Te=!1;if(N!==null){const ft=N.texture.format;Te=ft===PC||ft===IC||ft===Ew}if(Te){const ft=N.texture.type,Et=ft===zl||ft===Gh||ft===Yv||ft===Kv||ft===TC||ft===CC,Pt=bt.getClearColor(),At=bt.getClearAlpha(),Zt=Pt.r,Xt=Pt.g,Ft=Pt.b;Et?(g[0]=Zt,g[1]=Xt,g[2]=Ft,g[3]=At,ae.clearBufferuiv(ae.COLOR,0,g)):(_[0]=Zt,_[1]=Xt,_[2]=Ft,_[3]=At,ae.clearBufferiv(ae.COLOR,0,_))}else Ve|=ae.COLOR_BUFFER_BIT}Ee&&(Ve|=ae.DEPTH_BUFFER_BIT),je&&(Ve|=ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ae.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",Xe,!1),t.removeEventListener("webglcontextcreationerror",Ye,!1),bt.dispose(),_e.dispose(),at.dispose(),Ae.dispose(),ot.dispose(),vt.dispose(),xe.dispose(),Pe.dispose(),lt.dispose(),re.dispose(),tt.dispose(),tt.removeEventListener("sessionstart",er),tt.removeEventListener("sessionend",Uu),Ls.stop()};function ve(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function Xe(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const ee=ne.autoReset,Ee=xt.enabled,je=xt.autoUpdate,Ve=xt.needsUpdate,Te=xt.type;fe(),ne.autoReset=ee,xt.enabled=Ee,xt.autoUpdate=je,xt.needsUpdate=Ve,xt.type=Te}function Ye(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function Le(ee){const Ee=ee.target;Ee.removeEventListener("dispose",Le),dt(Ee)}function dt(ee){_t(ee),Ae.remove(ee)}function _t(ee){const Ee=Ae.get(ee).programs;Ee!==void 0&&(Ee.forEach(function(je){re.releaseProgram(je)}),ee.isShaderMaterial&&re.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,Ee,je,Ve,Te,ft){Ee===null&&(Ee=rt);const Et=Te.isMesh&&Te.matrixWorld.determinant()<0,Pt=Fc(ee,Ee,je,Ve,Te);We.setMaterial(Ve,Et);let At=je.index,Zt=1;if(Ve.wireframe===!0){if(At=Y.getWireframeAttribute(je),At===void 0)return;Zt=2}const Xt=je.drawRange,Ft=je.attributes.position;let Bt=Xt.start*Zt,Wt=(Xt.start+Xt.count)*Zt;ft!==null&&(Bt=Math.max(Bt,ft.start*Zt),Wt=Math.min(Wt,(ft.start+ft.count)*Zt)),At!==null?(Bt=Math.max(Bt,0),Wt=Math.min(Wt,At.count)):Ft!=null&&(Bt=Math.max(Bt,0),Wt=Math.min(Wt,Ft.count));const Ut=Wt-Bt;if(Ut<0||Ut===1/0)return;Pe.setup(Te,Ve,Pt,je,At);let kt,hn=pt;if(At!==null&&(kt=ie.get(At),hn=Nt,hn.setIndex(kt)),Te.isMesh)Ve.wireframe===!0?(We.setLineWidth(Ve.wireframeLinewidth*Be()),hn.setMode(ae.LINES)):hn.setMode(ae.TRIANGLES);else if(Te.isLine){let Dt=Ve.linewidth;Dt===void 0&&(Dt=1),We.setLineWidth(Dt*Be()),Te.isLineSegments?hn.setMode(ae.LINES):Te.isLineLoop?hn.setMode(ae.LINE_LOOP):hn.setMode(ae.LINE_STRIP)}else Te.isPoints?hn.setMode(ae.POINTS):Te.isSprite&&hn.setMode(ae.TRIANGLES);if(Te.isBatchedMesh)if(Te._multiDrawInstances!==null)hv("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),hn.renderMultiDrawInstances(Te._multiDrawStarts,Te._multiDrawCounts,Te._multiDrawCount,Te._multiDrawInstances);else if(ke.get("WEBGL_multi_draw"))hn.renderMultiDraw(Te._multiDrawStarts,Te._multiDrawCounts,Te._multiDrawCount);else{const Dt=Te._multiDrawStarts,Un=Te._multiDrawCounts,nn=Te._multiDrawCount,Yt=At?ie.get(At).bytesPerElement:1,rr=Ae.get(Ve).currentProgram.getUniforms();for(let Ci=0;Ci<nn;Ci++)rr.setValue(ae,"_gl_DrawID",Ci),hn.render(Dt[Ci]/Yt,Un[Ci])}else if(Te.isInstancedMesh)hn.renderInstances(Bt,Ut,Te.count);else if(je.isInstancedBufferGeometry){const Dt=je._maxInstanceCount!==void 0?je._maxInstanceCount:1/0,Un=Math.min(je.instanceCount,Dt);hn.renderInstances(Bt,Ut,Un)}else hn.render(Bt,Ut)};function En(ee,Ee,je){ee.transparent===!0&&ee.side===hu&&ee.forceSinglePass===!1?(ee.side=io,ee.needsUpdate=!0,Wl(ee,Ee,je),ee.side=Hh,ee.needsUpdate=!0,Wl(ee,Ee,je),ee.side=hu):Wl(ee,Ee,je)}this.compile=function(ee,Ee,je=null){je===null&&(je=ee),x=at.get(je),x.init(Ee),E.push(x),je.traverseVisible(function(Te){Te.isLight&&Te.layers.test(Ee.layers)&&(x.pushLight(Te),Te.castShadow&&x.pushShadow(Te))}),ee!==je&&ee.traverseVisible(function(Te){Te.isLight&&Te.layers.test(Ee.layers)&&(x.pushLight(Te),Te.castShadow&&x.pushShadow(Te))}),x.setupLights();const Ve=new Set;return ee.traverse(function(Te){if(!(Te.isMesh||Te.isPoints||Te.isLine||Te.isSprite))return;const ft=Te.material;if(ft)if(Array.isArray(ft))for(let Et=0;Et<ft.length;Et++){const Pt=ft[Et];En(Pt,je,Te),Ve.add(Pt)}else En(ft,je,Te),Ve.add(ft)}),x=E.pop(),Ve},this.compileAsync=function(ee,Ee,je=null){const Ve=this.compile(ee,Ee,je);return new Promise(Te=>{function ft(){if(Ve.forEach(function(Et){Ae.get(Et).currentProgram.isReady()&&Ve.delete(Et)}),Ve.size===0){Te(ee);return}setTimeout(ft,10)}ke.get("KHR_parallel_shader_compile")!==null?ft():setTimeout(ft,10)})};let xn=null;function Jr(ee){xn&&xn(ee)}function er(){Ls.stop()}function Uu(){Ls.start()}const Ls=new kne;Ls.setAnimationLoop(Jr),typeof self<"u"&&Ls.setContext(self),this.setAnimationLoop=function(ee){xn=ee,tt.setAnimationLoop(ee),ee===null?Ls.stop():Ls.start()},tt.addEventListener("sessionstart",er),tt.addEventListener("sessionend",Uu),this.render=function(ee,Ee){if(Ee!==void 0&&Ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),Ee.parent===null&&Ee.matrixWorldAutoUpdate===!0&&Ee.updateMatrixWorld(),tt.enabled===!0&&tt.isPresenting===!0&&(tt.cameraAutoUpdate===!0&&tt.updateCamera(Ee),Ee=tt.getCamera()),ee.isScene===!0&&ee.onBeforeRender(T,ee,Ee,N),x=at.get(ee,E.length),x.init(Ee),E.push(x),Se.multiplyMatrices(Ee.projectionMatrix,Ee.matrixWorldInverse),et.setFromProjectionMatrix(Se,el,Ee.reversedDepth),Ie=this.localClippingEnabled,ye=qe.init(this.clippingPlanes,Ie),w=_e.get(ee,S.length),w.init(),S.push(w),tt.enabled===!0&&tt.isPresenting===!0){const ft=T.xr.getDepthSensingMesh();ft!==null&&lo(ft,Ee,-1/0,T.sortObjects)}lo(ee,Ee,0,T.sortObjects),w.finish(),T.sortObjects===!0&&w.sort(ue,q),ut=tt.enabled===!1||tt.isPresenting===!1||tt.hasDepthSensing()===!1,ut&&bt.addToRenderList(w,ee),this.info.render.frame++,ye===!0&&qe.beginShadows();const je=x.state.shadowsArray;xt.render(je,ee,Ee),ye===!0&&qe.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ve=w.opaque,Te=w.transmissive;if(x.setupLights(),Ee.isArrayCamera){const ft=Ee.cameras;if(Te.length>0)for(let Et=0,Pt=ft.length;Et<Pt;Et++){const At=ft[Et];$t(Ve,Te,ee,At)}ut&&bt.render(ee);for(let Et=0,Pt=ft.length;Et<Pt;Et++){const At=ft[Et];is(w,ee,At,At.viewport)}}else Te.length>0&&$t(Ve,Te,ee,Ee),ut&&bt.render(ee),is(w,ee,Ee);N!==null&&I===0&&(Fe.updateMultisampleRenderTarget(N),Fe.updateRenderTargetMipmap(N)),ee.isScene===!0&&ee.onAfterRender(T,ee,Ee),Pe.resetDefaultState(),P=-1,R=null,E.pop(),E.length>0?(x=E[E.length-1],ye===!0&&qe.setGlobalState(T.clippingPlanes,x.state.camera)):x=null,S.pop(),S.length>0?w=S[S.length-1]:w=null};function lo(ee,Ee,je,Ve){if(ee.visible===!1)return;if(ee.layers.test(Ee.layers)){if(ee.isGroup)je=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(Ee);else if(ee.isLight)x.pushLight(ee),ee.castShadow&&x.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||et.intersectsSprite(ee)){Ve&&Qe.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(Se);const Et=xe.update(ee),Pt=ee.material;Pt.visible&&w.push(ee,Et,Pt,je,Qe.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||et.intersectsObject(ee))){const Et=xe.update(ee),Pt=ee.material;if(Ve&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),Qe.copy(ee.boundingSphere.center)):(Et.boundingSphere===null&&Et.computeBoundingSphere(),Qe.copy(Et.boundingSphere.center)),Qe.applyMatrix4(ee.matrixWorld).applyMatrix4(Se)),Array.isArray(Pt)){const At=Et.groups;for(let Zt=0,Xt=At.length;Zt<Xt;Zt++){const Ft=At[Zt],Bt=Pt[Ft.materialIndex];Bt&&Bt.visible&&w.push(ee,Et,Bt,je,Qe.z,Ft)}}else Pt.visible&&w.push(ee,Et,Pt,je,Qe.z,null)}}const ft=ee.children;for(let Et=0,Pt=ft.length;Et<Pt;Et++)lo(ft[Et],Ee,je,Ve)}function is(ee,Ee,je,Ve){const Te=ee.opaque,ft=ee.transmissive,Et=ee.transparent;x.setupLightsView(je),ye===!0&&qe.setGlobalState(T.clippingPlanes,je),Ve&&We.viewport(B.copy(Ve)),Te.length>0&&qi(Te,Ee,je),ft.length>0&&qi(ft,Ee,je),Et.length>0&&qi(Et,Ee,je),We.buffers.depth.setTest(!0),We.buffers.depth.setMask(!0),We.buffers.color.setMask(!0),We.setPolygonOffset(!1)}function $t(ee,Ee,je,Ve){if((je.isScene===!0?je.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[Ve.id]===void 0&&(x.state.transmissionRenderTarget[Ve.id]=new ku(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")||ke.has("EXT_color_buffer_float")?Ty:zl,minFilter:pu,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ar.workingColorSpace}));const ft=x.state.transmissionRenderTarget[Ve.id],Et=Ve.viewport||B;ft.setSize(Et.z*T.transmissionResolutionScale,Et.w*T.transmissionResolutionScale);const Pt=T.getRenderTarget(),At=T.getActiveCubeFace(),Zt=T.getActiveMipmapLevel();T.setRenderTarget(ft),T.getClearColor(K),J=T.getClearAlpha(),J<1&&T.setClearColor(16777215,.5),T.clear(),ut&&bt.render(je);const Xt=T.toneMapping;T.toneMapping=Tu;const Ft=Ve.viewport;if(Ve.viewport!==void 0&&(Ve.viewport=void 0),x.setupLightsView(Ve),ye===!0&&qe.setGlobalState(T.clippingPlanes,Ve),qi(ee,je,Ve),Fe.updateMultisampleRenderTarget(ft),Fe.updateRenderTargetMipmap(ft),ke.has("WEBGL_multisampled_render_to_texture")===!1){let Bt=!1;for(let Wt=0,Ut=Ee.length;Wt<Ut;Wt++){const kt=Ee[Wt],hn=kt.object,Dt=kt.geometry,Un=kt.material,nn=kt.group;if(Un.side===hu&&hn.layers.test(Ve.layers)){const Yt=Un.side;Un.side=io,Un.needsUpdate=!0,ju(hn,je,Ve,Dt,Un,nn),Un.side=Yt,Un.needsUpdate=!0,Bt=!0}}Bt===!0&&(Fe.updateMultisampleRenderTarget(ft),Fe.updateRenderTargetMipmap(ft))}T.setRenderTarget(Pt,At,Zt),T.setClearColor(K,J),Ft!==void 0&&(Ve.viewport=Ft),T.toneMapping=Xt}function qi(ee,Ee,je){const Ve=Ee.isScene===!0?Ee.overrideMaterial:null;for(let Te=0,ft=ee.length;Te<ft;Te++){const Et=ee[Te],Pt=Et.object,At=Et.geometry,Zt=Et.group;let Xt=Et.material;Xt.allowOverride===!0&&Ve!==null&&(Xt=Ve),Pt.layers.test(je.layers)&&ju(Pt,Ee,je,At,Xt,Zt)}}function ju(ee,Ee,je,Ve,Te,ft){ee.onBeforeRender(T,Ee,je,Ve,Te,ft),ee.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),Te.onBeforeRender(T,Ee,je,Ve,ee,ft),Te.transparent===!0&&Te.side===hu&&Te.forceSinglePass===!1?(Te.side=io,Te.needsUpdate=!0,T.renderBufferDirect(je,Ee,Ve,Te,ee,ft),Te.side=Hh,Te.needsUpdate=!0,T.renderBufferDirect(je,Ee,Ve,Te,ee,ft),Te.side=hu):T.renderBufferDirect(je,Ee,Ve,Te,ee,ft),ee.onAfterRender(T,Ee,je,Ve,Te,ft)}function Wl(ee,Ee,je){Ee.isScene!==!0&&(Ee=rt);const Ve=Ae.get(ee),Te=x.state.lights,ft=x.state.shadowsArray,Et=Te.state.version,Pt=re.getParameters(ee,Te.state,ft,Ee,je),At=re.getProgramCacheKey(Pt);let Zt=Ve.programs;Ve.environment=ee.isMeshStandardMaterial?Ee.environment:null,Ve.fog=Ee.fog,Ve.envMap=(ee.isMeshStandardMaterial?vt:ot).get(ee.envMap||Ve.environment),Ve.envMapRotation=Ve.environment!==null&&ee.envMap===null?Ee.environmentRotation:ee.envMapRotation,Zt===void 0&&(ee.addEventListener("dispose",Le),Zt=new Map,Ve.programs=Zt);let Xt=Zt.get(At);if(Xt!==void 0){if(Ve.currentProgram===Xt&&Ve.lightsStateVersion===Et)return Gl(ee,Pt),Xt}else Pt.uniforms=re.getUniforms(ee),ee.onBeforeCompile(Pt,T),Xt=re.acquireProgram(Pt,At),Zt.set(At,Xt),Ve.uniforms=Pt.uniforms;const Ft=Ve.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(Ft.clippingPlanes=qe.uniform),Gl(ee,Pt),Ve.needsLights=La(ee),Ve.lightsStateVersion=Et,Ve.needsLights&&(Ft.ambientLightColor.value=Te.state.ambient,Ft.lightProbe.value=Te.state.probe,Ft.directionalLights.value=Te.state.directional,Ft.directionalLightShadows.value=Te.state.directionalShadow,Ft.spotLights.value=Te.state.spot,Ft.spotLightShadows.value=Te.state.spotShadow,Ft.rectAreaLights.value=Te.state.rectArea,Ft.ltc_1.value=Te.state.rectAreaLTC1,Ft.ltc_2.value=Te.state.rectAreaLTC2,Ft.pointLights.value=Te.state.point,Ft.pointLightShadows.value=Te.state.pointShadow,Ft.hemisphereLights.value=Te.state.hemi,Ft.directionalShadowMap.value=Te.state.directionalShadowMap,Ft.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,Ft.spotShadowMap.value=Te.state.spotShadowMap,Ft.spotLightMatrix.value=Te.state.spotLightMatrix,Ft.spotLightMap.value=Te.state.spotLightMap,Ft.pointShadowMap.value=Te.state.pointShadowMap,Ft.pointShadowMatrix.value=Te.state.pointShadowMatrix),Ve.currentProgram=Xt,Ve.uniformsList=null,Xt}function fl(ee){if(ee.uniformsList===null){const Ee=ee.currentProgram.getUniforms();ee.uniformsList=LE.seqWithValue(Ee.seq,ee.uniforms)}return ee.uniformsList}function Gl(ee,Ee){const je=Ae.get(ee);je.outputColorSpace=Ee.outputColorSpace,je.batching=Ee.batching,je.batchingColor=Ee.batchingColor,je.instancing=Ee.instancing,je.instancingColor=Ee.instancingColor,je.instancingMorph=Ee.instancingMorph,je.skinning=Ee.skinning,je.morphTargets=Ee.morphTargets,je.morphNormals=Ee.morphNormals,je.morphColors=Ee.morphColors,je.morphTargetsCount=Ee.morphTargetsCount,je.numClippingPlanes=Ee.numClippingPlanes,je.numIntersection=Ee.numClipIntersection,je.vertexAlphas=Ee.vertexAlphas,je.vertexTangents=Ee.vertexTangents,je.toneMapping=Ee.toneMapping}function Fc(ee,Ee,je,Ve,Te){Ee.isScene!==!0&&(Ee=rt),Fe.resetTextureUnits();const ft=Ee.fog,Et=Ve.isMeshStandardMaterial?Ee.environment:null,Pt=N===null?T.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Ym,At=(Ve.isMeshStandardMaterial?vt:ot).get(Ve.envMap||Et),Zt=Ve.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,Xt=!!je.attributes.tangent&&(!!Ve.normalMap||Ve.anisotropy>0),Ft=!!je.morphAttributes.position,Bt=!!je.morphAttributes.normal,Wt=!!je.morphAttributes.color;let Ut=Tu;Ve.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(Ut=T.toneMapping);const kt=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,hn=kt!==void 0?kt.length:0,Dt=Ae.get(Ve),Un=x.state.lights;if(ye===!0&&(Ie===!0||ee!==R)){const Dr=ee===R&&Ve.id===P;qe.setState(Ve,ee,Dr)}let nn=!1;Ve.version===Dt.__version?(Dt.needsLights&&Dt.lightsStateVersion!==Un.state.version||Dt.outputColorSpace!==Pt||Te.isBatchedMesh&&Dt.batching===!1||!Te.isBatchedMesh&&Dt.batching===!0||Te.isBatchedMesh&&Dt.batchingColor===!0&&Te.colorTexture===null||Te.isBatchedMesh&&Dt.batchingColor===!1&&Te.colorTexture!==null||Te.isInstancedMesh&&Dt.instancing===!1||!Te.isInstancedMesh&&Dt.instancing===!0||Te.isSkinnedMesh&&Dt.skinning===!1||!Te.isSkinnedMesh&&Dt.skinning===!0||Te.isInstancedMesh&&Dt.instancingColor===!0&&Te.instanceColor===null||Te.isInstancedMesh&&Dt.instancingColor===!1&&Te.instanceColor!==null||Te.isInstancedMesh&&Dt.instancingMorph===!0&&Te.morphTexture===null||Te.isInstancedMesh&&Dt.instancingMorph===!1&&Te.morphTexture!==null||Dt.envMap!==At||Ve.fog===!0&&Dt.fog!==ft||Dt.numClippingPlanes!==void 0&&(Dt.numClippingPlanes!==qe.numPlanes||Dt.numIntersection!==qe.numIntersection)||Dt.vertexAlphas!==Zt||Dt.vertexTangents!==Xt||Dt.morphTargets!==Ft||Dt.morphNormals!==Bt||Dt.morphColors!==Wt||Dt.toneMapping!==Ut||Dt.morphTargetsCount!==hn)&&(nn=!0):(nn=!0,Dt.__version=Ve.version);let Yt=Dt.currentProgram;nn===!0&&(Yt=Wl(Ve,Ee,Te));let rr=!1,Ci=!1,pi=!1;const fn=Yt.getUniforms(),vr=Dt.uniforms;if(We.useProgram(Yt.program)&&(rr=!0,Ci=!0,pi=!0),Ve.id!==P&&(P=Ve.id,Ci=!0),rr||R!==ee){We.buffers.depth.getReversed()&&ee.reversedDepth!==!0&&(ee._reversedDepth=!0,ee.updateProjectionMatrix()),fn.setValue(ae,"projectionMatrix",ee.projectionMatrix),fn.setValue(ae,"viewMatrix",ee.matrixWorldInverse);const qt=fn.map.cameraPosition;qt!==void 0&&qt.setValue(ae,Je.setFromMatrixPosition(ee.matrixWorld)),$e.logarithmicDepthBuffer&&fn.setValue(ae,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&fn.setValue(ae,"isOrthographic",ee.isOrthographicCamera===!0),R!==ee&&(R=ee,Ci=!0,pi=!0)}if(Te.isSkinnedMesh){fn.setOptional(ae,Te,"bindMatrix"),fn.setOptional(ae,Te,"bindMatrixInverse");const Dr=Te.skeleton;Dr&&(Dr.boneTexture===null&&Dr.computeBoneTexture(),fn.setValue(ae,"boneTexture",Dr.boneTexture,Fe))}Te.isBatchedMesh&&(fn.setOptional(ae,Te,"batchingTexture"),fn.setValue(ae,"batchingTexture",Te._matricesTexture,Fe),fn.setOptional(ae,Te,"batchingIdTexture"),fn.setValue(ae,"batchingIdTexture",Te._indirectTexture,Fe),fn.setOptional(ae,Te,"batchingColorTexture"),Te._colorsTexture!==null&&fn.setValue(ae,"batchingColorTexture",Te._colorsTexture,Fe));const ci=je.morphAttributes;if((ci.position!==void 0||ci.normal!==void 0||ci.color!==void 0)&&it.update(Te,je,Yt),(Ci||Dt.receiveShadow!==Te.receiveShadow)&&(Dt.receiveShadow=Te.receiveShadow,fn.setValue(ae,"receiveShadow",Te.receiveShadow)),Ve.isMeshGouraudMaterial&&Ve.envMap!==null&&(vr.envMap.value=At,vr.flipEnvMap.value=At.isCubeTexture&&At.isRenderTargetTexture===!1?-1:1),Ve.isMeshStandardMaterial&&Ve.envMap===null&&Ee.environment!==null&&(vr.envMapIntensity.value=Ee.environmentIntensity),Ci&&(fn.setValue(ae,"toneMappingExposure",T.toneMappingExposure),Dt.needsLights&&Oa(vr,pi),ft&&Ve.fog===!0&&pe.refreshFogUniforms(vr,ft),pe.refreshMaterialUniforms(vr,Ve,X,ce,x.state.transmissionRenderTarget[ee.id]),LE.upload(ae,fl(Dt),vr,Fe)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(LE.upload(ae,fl(Dt),vr,Fe),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&fn.setValue(ae,"center",Te.center),fn.setValue(ae,"modelViewMatrix",Te.modelViewMatrix),fn.setValue(ae,"normalMatrix",Te.normalMatrix),fn.setValue(ae,"modelMatrix",Te.matrixWorld),Ve.isShaderMaterial||Ve.isRawShaderMaterial){const Dr=Ve.uniformsGroups;for(let qt=0,Fi=Dr.length;qt<Fi;qt++){const ui=Dr[qt];lt.update(ui,Yt),lt.bind(ui,Yt)}}return Yt}function Oa(ee,Ee){ee.ambientLightColor.needsUpdate=Ee,ee.lightProbe.needsUpdate=Ee,ee.directionalLights.needsUpdate=Ee,ee.directionalLightShadows.needsUpdate=Ee,ee.pointLights.needsUpdate=Ee,ee.pointLightShadows.needsUpdate=Ee,ee.spotLights.needsUpdate=Ee,ee.spotLightShadows.needsUpdate=Ee,ee.rectAreaLights.needsUpdate=Ee,ee.hemisphereLights.needsUpdate=Ee}function La(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(ee,Ee,je){const Ve=Ae.get(ee);Ve.__autoAllocateDepthBuffer=ee.resolveDepthBuffer===!1,Ve.__autoAllocateDepthBuffer===!1&&(Ve.__useRenderToTexture=!1),Ae.get(ee.texture).__webglTexture=Ee,Ae.get(ee.depthTexture).__webglTexture=Ve.__autoAllocateDepthBuffer?void 0:je,Ve.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ee,Ee){const je=Ae.get(ee);je.__webglFramebuffer=Ee,je.__useDefaultFramebuffer=Ee===void 0};const Vu=ae.createFramebuffer();this.setRenderTarget=function(ee,Ee=0,je=0){N=ee,k=Ee,I=je;let Ve=!0,Te=null,ft=!1,Et=!1;if(ee){const At=Ae.get(ee);if(At.__useDefaultFramebuffer!==void 0)We.bindFramebuffer(ae.FRAMEBUFFER,null),Ve=!1;else if(At.__webglFramebuffer===void 0)Fe.setupRenderTarget(ee);else if(At.__hasExternalTextures)Fe.rebindTextures(ee,Ae.get(ee.texture).__webglTexture,Ae.get(ee.depthTexture).__webglTexture);else if(ee.depthBuffer){const Ft=ee.depthTexture;if(At.__boundDepthTexture!==Ft){if(Ft!==null&&Ae.has(Ft)&&(ee.width!==Ft.image.width||ee.height!==Ft.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Fe.setupDepthRenderbuffer(ee)}}const Zt=ee.texture;(Zt.isData3DTexture||Zt.isDataArrayTexture||Zt.isCompressedArrayTexture)&&(Et=!0);const Xt=Ae.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(Xt[Ee])?Te=Xt[Ee][je]:Te=Xt[Ee],ft=!0):ee.samples>0&&Fe.useMultisampledRTT(ee)===!1?Te=Ae.get(ee).__webglMultisampledFramebuffer:Array.isArray(Xt)?Te=Xt[je]:Te=Xt,B.copy(ee.viewport),z.copy(ee.scissor),H=ee.scissorTest}else B.copy(ge).multiplyScalar(X).floor(),z.copy(De).multiplyScalar(X).floor(),H=Q;if(je!==0&&(Te=Vu),We.bindFramebuffer(ae.FRAMEBUFFER,Te)&&Ve&&We.drawBuffers(ee,Te),We.viewport(B),We.scissor(z),We.setScissorTest(H),ft){const At=Ae.get(ee.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,At.__webglTexture,je)}else if(Et){const At=Ee;for(let Zt=0;Zt<ee.textures.length;Zt++){const Xt=Ae.get(ee.textures[Zt]);ae.framebufferTextureLayer(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0+Zt,Xt.__webglTexture,je,At)}}else if(ee!==null&&je!==0){const At=Ae.get(ee.texture);ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,At.__webglTexture,je)}P=-1},this.readRenderTargetPixels=function(ee,Ee,je,Ve,Te,ft,Et,Pt=0){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let At=Ae.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&Et!==void 0&&(At=At[Et]),At){We.bindFramebuffer(ae.FRAMEBUFFER,At);try{const Zt=ee.textures[Pt],Xt=Zt.format,Ft=Zt.type;if(!$e.textureFormatReadable(Xt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!$e.textureTypeReadable(Ft)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ee>=0&&Ee<=ee.width-Ve&&je>=0&&je<=ee.height-Te&&(ee.textures.length>1&&ae.readBuffer(ae.COLOR_ATTACHMENT0+Pt),ae.readPixels(Ee,je,Ve,Te,de.convert(Xt),de.convert(Ft),ft))}finally{const Zt=N!==null?Ae.get(N).__webglFramebuffer:null;We.bindFramebuffer(ae.FRAMEBUFFER,Zt)}}},this.readRenderTargetPixelsAsync=async function(ee,Ee,je,Ve,Te,ft,Et,Pt=0){if(!(ee&&ee.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let At=Ae.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&Et!==void 0&&(At=At[Et]),At)if(Ee>=0&&Ee<=ee.width-Ve&&je>=0&&je<=ee.height-Te){We.bindFramebuffer(ae.FRAMEBUFFER,At);const Zt=ee.textures[Pt],Xt=Zt.format,Ft=Zt.type;if(!$e.textureFormatReadable(Xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!$e.textureTypeReadable(Ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Bt=ae.createBuffer();ae.bindBuffer(ae.PIXEL_PACK_BUFFER,Bt),ae.bufferData(ae.PIXEL_PACK_BUFFER,ft.byteLength,ae.STREAM_READ),ee.textures.length>1&&ae.readBuffer(ae.COLOR_ATTACHMENT0+Pt),ae.readPixels(Ee,je,Ve,Te,de.convert(Xt),de.convert(Ft),0);const Wt=N!==null?Ae.get(N).__webglFramebuffer:null;We.bindFramebuffer(ae.FRAMEBUFFER,Wt);const Ut=ae.fenceSync(ae.SYNC_GPU_COMMANDS_COMPLETE,0);return ae.flush(),await _Pe(ae,Ut,4),ae.bindBuffer(ae.PIXEL_PACK_BUFFER,Bt),ae.getBufferSubData(ae.PIXEL_PACK_BUFFER,0,ft),ae.deleteBuffer(Bt),ae.deleteSync(Ut),ft}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ee,Ee=null,je=0){const Ve=Math.pow(2,-je),Te=Math.floor(ee.image.width*Ve),ft=Math.floor(ee.image.height*Ve),Et=Ee!==null?Ee.x:0,Pt=Ee!==null?Ee.y:0;Fe.setTexture2D(ee,0),ae.copyTexSubImage2D(ae.TEXTURE_2D,je,0,0,Et,Pt,Te,ft),We.unbindTexture()};const Zh=ae.createFramebuffer(),zu=ae.createFramebuffer();this.copyTextureToTexture=function(ee,Ee,je=null,Ve=null,Te=0,ft=null){ft===null&&(Te!==0?(hv("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ft=Te,Te=0):ft=0);let Et,Pt,At,Zt,Xt,Ft,Bt,Wt,Ut;const kt=ee.isCompressedTexture?ee.mipmaps[ft]:ee.image;if(je!==null)Et=je.max.x-je.min.x,Pt=je.max.y-je.min.y,At=je.isBox3?je.max.z-je.min.z:1,Zt=je.min.x,Xt=je.min.y,Ft=je.isBox3?je.min.z:0;else{const ci=Math.pow(2,-Te);Et=Math.floor(kt.width*ci),Pt=Math.floor(kt.height*ci),ee.isDataArrayTexture?At=kt.depth:ee.isData3DTexture?At=Math.floor(kt.depth*ci):At=1,Zt=0,Xt=0,Ft=0}Ve!==null?(Bt=Ve.x,Wt=Ve.y,Ut=Ve.z):(Bt=0,Wt=0,Ut=0);const hn=de.convert(Ee.format),Dt=de.convert(Ee.type);let Un;Ee.isData3DTexture?(Fe.setTexture3D(Ee,0),Un=ae.TEXTURE_3D):Ee.isDataArrayTexture||Ee.isCompressedArrayTexture?(Fe.setTexture2DArray(Ee,0),Un=ae.TEXTURE_2D_ARRAY):(Fe.setTexture2D(Ee,0),Un=ae.TEXTURE_2D),ae.pixelStorei(ae.UNPACK_FLIP_Y_WEBGL,Ee.flipY),ae.pixelStorei(ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),ae.pixelStorei(ae.UNPACK_ALIGNMENT,Ee.unpackAlignment);const nn=ae.getParameter(ae.UNPACK_ROW_LENGTH),Yt=ae.getParameter(ae.UNPACK_IMAGE_HEIGHT),rr=ae.getParameter(ae.UNPACK_SKIP_PIXELS),Ci=ae.getParameter(ae.UNPACK_SKIP_ROWS),pi=ae.getParameter(ae.UNPACK_SKIP_IMAGES);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,kt.width),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,kt.height),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,Zt),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,Xt),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,Ft);const fn=ee.isDataArrayTexture||ee.isData3DTexture,vr=Ee.isDataArrayTexture||Ee.isData3DTexture;if(ee.isDepthTexture){const ci=Ae.get(ee),Dr=Ae.get(Ee),qt=Ae.get(ci.__renderTarget),Fi=Ae.get(Dr.__renderTarget);We.bindFramebuffer(ae.READ_FRAMEBUFFER,qt.__webglFramebuffer),We.bindFramebuffer(ae.DRAW_FRAMEBUFFER,Fi.__webglFramebuffer);for(let ui=0;ui<At;ui++)fn&&(ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Ae.get(ee).__webglTexture,Te,Ft+ui),ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Ae.get(Ee).__webglTexture,ft,Ut+ui)),ae.blitFramebuffer(Zt,Xt,Et,Pt,Bt,Wt,Et,Pt,ae.DEPTH_BUFFER_BIT,ae.NEAREST);We.bindFramebuffer(ae.READ_FRAMEBUFFER,null),We.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else if(Te!==0||ee.isRenderTargetTexture||Ae.has(ee)){const ci=Ae.get(ee),Dr=Ae.get(Ee);We.bindFramebuffer(ae.READ_FRAMEBUFFER,Zh),We.bindFramebuffer(ae.DRAW_FRAMEBUFFER,zu);for(let qt=0;qt<At;qt++)fn?ae.framebufferTextureLayer(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ci.__webglTexture,Te,Ft+qt):ae.framebufferTexture2D(ae.READ_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,ci.__webglTexture,Te),vr?ae.framebufferTextureLayer(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,Dr.__webglTexture,ft,Ut+qt):ae.framebufferTexture2D(ae.DRAW_FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,Dr.__webglTexture,ft),Te!==0?ae.blitFramebuffer(Zt,Xt,Et,Pt,Bt,Wt,Et,Pt,ae.COLOR_BUFFER_BIT,ae.NEAREST):vr?ae.copyTexSubImage3D(Un,ft,Bt,Wt,Ut+qt,Zt,Xt,Et,Pt):ae.copyTexSubImage2D(Un,ft,Bt,Wt,Zt,Xt,Et,Pt);We.bindFramebuffer(ae.READ_FRAMEBUFFER,null),We.bindFramebuffer(ae.DRAW_FRAMEBUFFER,null)}else vr?ee.isDataTexture||ee.isData3DTexture?ae.texSubImage3D(Un,ft,Bt,Wt,Ut,Et,Pt,At,hn,Dt,kt.data):Ee.isCompressedArrayTexture?ae.compressedTexSubImage3D(Un,ft,Bt,Wt,Ut,Et,Pt,At,hn,kt.data):ae.texSubImage3D(Un,ft,Bt,Wt,Ut,Et,Pt,At,hn,Dt,kt):ee.isDataTexture?ae.texSubImage2D(ae.TEXTURE_2D,ft,Bt,Wt,Et,Pt,hn,Dt,kt.data):ee.isCompressedTexture?ae.compressedTexSubImage2D(ae.TEXTURE_2D,ft,Bt,Wt,kt.width,kt.height,hn,kt.data):ae.texSubImage2D(ae.TEXTURE_2D,ft,Bt,Wt,Et,Pt,hn,Dt,kt);ae.pixelStorei(ae.UNPACK_ROW_LENGTH,nn),ae.pixelStorei(ae.UNPACK_IMAGE_HEIGHT,Yt),ae.pixelStorei(ae.UNPACK_SKIP_PIXELS,rr),ae.pixelStorei(ae.UNPACK_SKIP_ROWS,Ci),ae.pixelStorei(ae.UNPACK_SKIP_IMAGES,pi),ft===0&&Ee.generateMipmaps&&ae.generateMipmap(Un),We.unbindTexture()},this.copyTextureToTexture3D=function(ee,Ee,je=null,Ve=null,Te=0){return hv('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(ee,Ee,je,Ve,Te)},this.initRenderTarget=function(ee){Ae.get(ee).__webglFramebuffer===void 0&&Fe.setupRenderTarget(ee)},this.initTexture=function(ee){ee.isCubeTexture?Fe.setTextureCube(ee,0):ee.isData3DTexture?Fe.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?Fe.setTexture2DArray(ee,0):Fe.setTexture2D(ee,0),We.unbindTexture()},this.resetState=function(){k=0,I=0,N=null,We.reset(),Pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return el}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=ar._getDrawingBufferColorSpace(e),t.unpackColorSpace=ar._getUnpackColorSpace()}}const OLe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:m4,AddEquation:Kd,AddOperation:ote,AdditiveAnimationBlendMode:E4,AdditiveBlending:Kk,AgXToneMapping:dte,AlphaFormat:_4,AlwaysCompare:Cte,AlwaysDepth:sA,AlwaysStencilFunc:e3,AmbientLight:wne,AnimationAction:Pne,AnimationClip:L_,AnimationLoader:qRe,AnimationMixer:wNe,AnimationObjectGroup:xNe,AnimationUtils:HRe,ArcCurve:$te,ArrayCamera:Cne,ArrowHelper:$Ne,AttachedBindMode:Jk,Audio:Mne,AudioAnalyser:cNe,AudioContext:Y4,AudioListener:aNe,AudioLoader:rNe,AxesHelper:qNe,BackSide:io,BasicDepthPacking:yte,BasicShadowMap:Vee,BatchedMesh:Vte,Bone:N4,BooleanKeyframeTrack:pg,Box2:PNe,Box3:Ia,Box3Helper:WNe,BoxGeometry:fg,BoxHelper:HNe,BufferAttribute:Br,BufferGeometry:Nn,BufferGeometryLoader:Tne,ByteType:v4,Cache:mu,Camera:Aw,CameraHelper:zNe,CanvasTexture:dRe,CapsuleGeometry:jC,CatmullRomCurve3:qte,CineonToneMapping:ute,CircleGeometry:VC,ClampToEdgeWrapping:Dl,Clock:K4,Color:Lt,ColorKeyframeTrack:$4,ColorManagement:ar,CompressedArrayTexture:uRe,CompressedCubeTexture:hRe,CompressedTexture:UC,CompressedTextureLoader:XRe,ConeGeometry:Mw,ConstantAlphaFactor:ite,ConstantColorFactor:nte,Controls:YNe,CubeCamera:Dte,CubeReflectionMapping:Wh,CubeRefractionMapping:Hf,CubeTexture:Tw,CubeTextureLoader:YRe,CubeUVReflectionMapping:Ay,CubicBezierCurve:L4,CubicBezierCurve3:Xte,CubicInterpolant:fne,CullFaceBack:Yk,CullFaceFront:jee,CullFaceFrontBack:xIe,CullFaceNone:Uee,Curve:Lc,CurvePath:Kte,CustomBlending:zee,CustomToneMapping:hte,CylinderGeometry:Cw,Cylindrical:INe,Data3DTexture:kC,DataArrayTexture:NC,DataTexture:Cu,DataTextureLoader:KRe,DataUtils:OPe,DecrementStencilOp:kIe,DecrementWrapStencilOp:OIe,DefaultLoadingManager:gne,DepthFormat:Zv,DepthStencilFormat:Qv,DepthTexture:D4,DetachedBindMode:pte,DirectionalLight:_ne,DirectionalLightHelper:VNe,DiscreteInterpolant:pne,DodecahedronGeometry:zC,DoubleSide:hu,DstAlphaFactor:Zee,DstColorFactor:Jee,DynamicCopyUsage:KIe,DynamicDrawUsage:WIe,DynamicReadUsage:qIe,EdgesGeometry:Gte,EllipseCurve:HC,EqualCompare:Ste,EqualDepth:oA,EqualStencilFunc:UIe,EquirectangularReflectionMapping:b_,EquirectangularRefractionMapping:S_,Euler:ul,EventDispatcher:Fu,ExtrudeGeometry:WC,FileLoader:$h,Float16BufferAttribute:zPe,Float32BufferAttribute:Gt,FloatType:Ro,Fog:OC,FogExp2:DC,FramebufferTexture:cRe,FrontSide:Hh,Frustum:Cy,FrustumArray:BC,GLBufferAttribute:TNe,GLSL1:QIe,GLSL3:t3,GreaterCompare:Ete,GreaterDepth:cA,GreaterEqualCompare:Tte,GreaterEqualDepth:lA,GreaterEqualStencilFunc:HIe,GreaterStencilFunc:VIe,GridHelper:UNe,Group:z0,HalfFloatType:Ty,HemisphereLight:vne,HemisphereLightHelper:BNe,IcosahedronGeometry:GC,ImageBitmapLoader:nNe,ImageLoader:F_,ImageUtils:Pte,IncrementStencilOp:NIe,IncrementWrapStencilOp:DIe,InstancedBufferAttribute:ny,InstancedBufferGeometry:Ane,InstancedInterleavedBuffer:ANe,InstancedMesh:jte,Int16BufferAttribute:jPe,Int32BufferAttribute:VPe,Int8BufferAttribute:FPe,IntType:AC,InterleavedBuffer:LC,InterleavedBufferAttribute:Km,Interpolant:Rw,InterpolateDiscrete:T_,InterpolateLinear:FA,InterpolateSmooth:DE,InterpolationSamplingMode:tPe,InterpolationSamplingType:ePe,InvertStencilOp:LIe,KeepStencilOp:Xp,KeyframeTrack:Hl,LOD:Bte,LatheGeometry:$C,Layers:Am,LessCompare:bte,LessDepth:aA,LessEqualCompare:A4,LessEqualDepth:Xm,LessEqualStencilFunc:jIe,LessStencilFunc:BIe,Light:rp,LightProbe:Ene,Line:Wf,Line3:kNe,LineBasicMaterial:oo,LineCurve:F4,LineCurve3:Yte,LineDashedMaterial:une,LineLoop:zte,LineSegments:Bu,LinearFilter:vs,LinearInterpolant:G4,LinearMipMapLinearFilter:SIe,LinearMipMapNearestFilter:bIe,LinearMipmapLinearFilter:pu,LinearMipmapNearestFilter:S1,LinearSRGBColorSpace:Ym,LinearToneMapping:lte,LinearTransfer:M_,Loader:Fo,LoaderUtils:a3,LoadingManager:q4,LoopOnce:mte,LoopPingPong:vte,LoopRepeat:gte,MOUSE:$p,Material:Na,MaterialLoader:eM,MathUtils:yPe,Matrix2:eF,Matrix3:In,Matrix4:yn,MaxEquation:$ee,Mesh:rs,MeshBasicMaterial:tp,MeshDepthMaterial:z4,MeshDistanceMaterial:H4,MeshLambertMaterial:lne,MeshMatcapMaterial:cne,MeshNormalMaterial:one,MeshPhongMaterial:sne,MeshPhysicalMaterial:ine,MeshStandardMaterial:V4,MeshToonMaterial:ane,MinEquation:Gee,MirroredRepeatWrapping:A_,MixOperation:ate,MultiplyBlending:Qk,MultiplyOperation:Sw,NearestFilter:Ks,NearestMipMapLinearFilter:wIe,NearestMipMapNearestFilter:_Ie,NearestMipmapLinearFilter:j0,NearestMipmapNearestFilter:g4,NeutralToneMapping:fte,NeverCompare:wte,NeverDepth:iA,NeverStencilFunc:FIe,NoBlending:Ih,NoColorSpace:mh,NoToneMapping:Tu,NormalAnimationBlendMode:RC,NormalBlending:Sm,NotEqualCompare:Ate,NotEqualDepth:uA,NotEqualStencilFunc:zIe,NumberKeyframeTrack:D_,Object3D:hr,ObjectLoader:eNe,ObjectSpaceNormalMap:_te,OctahedronGeometry:Iw,OneFactor:Xee,OneMinusConstantAlphaFactor:ste,OneMinusConstantColorFactor:rte,OneMinusDstAlphaFactor:Qee,OneMinusDstColorFactor:ete,OneMinusSrcAlphaFactor:rA,OneMinusSrcColorFactor:Kee,OrthographicCamera:Cf,PCFShadowMap:SC,PCFSoftShadowMap:b1,PMREMGenerator:u3,Path:VA,PerspectiveCamera:Gi,Plane:fh,PlaneGeometry:My,PlaneHelper:GNe,PointLight:xne,PointLightHelper:LNe,Points:Hte,PointsMaterial:k4,PolarGridHelper:jNe,PolyhedronGeometry:np,PositionalAudio:lNe,PropertyBinding:lr,PropertyMixer:Ine,QuadraticBezierCurve:B4,QuadraticBezierCurve3:U4,Quaternion:Ma,QuaternionKeyframeTrack:Nw,QuaternionLinearInterpolant:mne,RED_GREEN_RGTC2_Format:OA,RED_RGTC1_Format:S4,REVISION:bC,RGBADepthPacking:xte,RGBAFormat:Ca,RGBAIntegerFormat:PC,RGBA_ASTC_10x10_Format:IA,RGBA_ASTC_10x5_Format:TA,RGBA_ASTC_10x6_Format:CA,RGBA_ASTC_10x8_Format:MA,RGBA_ASTC_12x10_Format:PA,RGBA_ASTC_12x12_Format:RA,RGBA_ASTC_4x4_Format:yA,RGBA_ASTC_5x4_Format:xA,RGBA_ASTC_5x5_Format:_A,RGBA_ASTC_6x5_Format:wA,RGBA_ASTC_6x6_Format:bA,RGBA_ASTC_8x5_Format:SA,RGBA_ASTC_8x6_Format:EA,RGBA_ASTC_8x8_Format:AA,RGBA_BPTC_Format:M1,RGBA_ETC2_EAC_Format:vA,RGBA_PVRTC_2BPPV1_Format:pA,RGBA_PVRTC_4BPPV1_Format:fA,RGBA_S3TC_DXT1_Format:A1,RGBA_S3TC_DXT3_Format:T1,RGBA_S3TC_DXT5_Format:C1,RGBDepthPacking:MIe,RGBFormat:w4,RGBIntegerFormat:EIe,RGB_BPTC_SIGNED_Format:NA,RGB_BPTC_UNSIGNED_Format:kA,RGB_ETC1_Format:mA,RGB_ETC2_Format:gA,RGB_PVRTC_2BPPV1_Format:dA,RGB_PVRTC_4BPPV1_Format:hA,RGB_S3TC_DXT1_Format:E1,RGDepthPacking:IIe,RGFormat:b4,RGIntegerFormat:IC,RawShaderMaterial:rne,Ray:dg,Raycaster:Rne,RectAreaLight:bne,RedFormat:MC,RedIntegerFormat:Ew,ReinhardToneMapping:cte,RenderTarget:C4,RenderTarget3D:bNe,RepeatWrapping:E_,ReplaceStencilOp:RIe,ReverseSubtractEquation:Wee,RingGeometry:qC,SIGNED_RED_GREEN_RGTC2_Format:LA,SIGNED_RED_RGTC1_Format:DA,SRGBColorSpace:To,SRGBTransfer:Rr,Scene:P4,ShaderChunk:On,ShaderLib:pc,ShaderMaterial:kc,ShadowMaterial:nne,Shape:Tm,ShapeGeometry:XC,ShapePath:XNe,ShapeUtils:_c,ShortType:y4,Skeleton:FC,SkeletonHelper:ONe,SkinnedMesh:Ute,Source:hf,Sphere:Zs,SphereGeometry:Pw,Spherical:l3,SphericalHarmonics3:Sne,SplineCurve:j4,SpotLight:yne,SpotLightHelper:DNe,Sprite:Fte,SpriteMaterial:R4,SrcAlphaFactor:nA,SrcAlphaSaturateFactor:tte,SrcColorFactor:Yee,StaticCopyUsage:YIe,StaticDrawUsage:I_,StaticReadUsage:$Ie,StereoCamera:iNe,StreamCopyUsage:ZIe,StreamDrawUsage:GIe,StreamReadUsage:XIe,StringKeyframeTrack:mg,SubtractEquation:Hee,SubtractiveBlending:Zk,TOUCH:qp,TangentSpaceNormalMap:ep,TetrahedronGeometry:YC,Texture:fi,TextureLoader:JC,TextureUtils:eke,Timer:CNe,TimestampQuery:JIe,TorusGeometry:KC,TorusKnotGeometry:ZC,Triangle:Mo,TriangleFanDrawMode:CIe,TriangleStripDrawMode:TIe,TrianglesDrawMode:AIe,TubeGeometry:QC,UVMapping:EC,Uint16BufferAttribute:M4,Uint32BufferAttribute:I4,Uint8BufferAttribute:BPe,Uint8ClampedBufferAttribute:UPe,Uniform:J4,UniformsGroup:ENe,UniformsLib:Tt,UniformsUtils:kte,UnsignedByteType:zl,UnsignedInt248Type:Kv,UnsignedInt5999Type:x4,UnsignedIntType:Gh,UnsignedShort4444Type:TC,UnsignedShort5551Type:CC,UnsignedShortType:Yv,VSMShadowMap:lc,Vector2:nt,Vector3:oe,Vector4:cr,VectorKeyframeTrack:O_,VideoFrameTexture:lRe,VideoTexture:Wte,WebGL3DRenderTarget:APe,WebGLArrayRenderTarget:EPe,WebGLCoordinateSystem:el,WebGLCubeRenderTarget:Ote,WebGLRenderTarget:ku,WebGLRenderer:jne,WebGLUtils:Bne,WebGPUCoordinateSystem:Jv,WebXRController:OE,WireframeGeometry:tne,WrapAroundEnding:C_,ZeroCurvatureEnding:sm,ZeroFactor:qee,ZeroSlopeEnding:am,ZeroStencilOp:PIe,createCanvasElement:Ite},Symbol.toStringTag,{value:"Module"}));var Vne={exports:{}},gg={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */gg.ConcurrentRoot=1;gg.ContinuousEventPriority=4;gg.DefaultEventPriority=16;gg.DiscreteEventPriority=1;gg.IdleEventPriority=536870912;gg.LegacyRoot=0;Vne.exports=gg;var W0=Vne.exports;function LLe(n){let e;const t=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const d=e;e=u?h:Object.assign({},e,h),t.forEach(p=>p(e,d))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const g=u(e);if(!h(d,g)){const _=d;c(d=g,_)}}return t.add(p),()=>t.delete(p)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const FLe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),P9=FLe?F.useEffect:F.useLayoutEffect;function BLe(n){const e=typeof n=="function"?LLe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=F.useReducer(w=>w+1,0),a=e.getState(),o=F.useRef(a),l=F.useRef(r),c=F.useRef(i),u=F.useRef(!1),h=F.useRef();h.current===void 0&&(h.current=r(a));let d,p=!1;(o.current!==a||l.current!==r||c.current!==i||u.current)&&(d=r(a),p=!i(h.current,d)),P9(()=>{p&&(h.current=d),o.current=a,l.current=r,c.current=i,u.current=!1});const g=F.useRef(a);P9(()=>{const w=()=>{try{const S=e.getState(),E=l.current(S);c.current(h.current,E)||(o.current=S,h.current=E,s())}catch{u.current=!0,s()}},x=e.subscribe(w);return e.getState()!==g.current&&w(),x},[]);const _=p?d:h.current;return F.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const ULe=n=>typeof n=="object"&&typeof n.then=="function",lm=[];function zne(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Hne(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of lm)if(zne(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=lm.indexOf(i);s!==-1&&lm.splice(s,1)},promise:(ULe(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(lm.push(i),!t)throw i.promise}const jLe=(n,e,t)=>Hne(n,e,!1,t),VLe=(n,e,t)=>void Hne(n,e,!0,t),zLe=n=>{if(n===void 0||n.length===0)lm.splice(0,lm.length);else{const e=lm.find(t=>zne(n,t.keys,t.equal));e&&e.remove()}};var Wne={exports:{}},Gne={exports:{}},$ne={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(X,ue){var q=X.length;X.push(ue);e:for(;0<q;){var ge=q-1>>>1,De=X[ge];if(0<i(De,ue))X[ge]=ue,X[q]=De,q=ge;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],q=X.pop();if(q!==ue){X[0]=q;e:for(var ge=0,De=X.length,Q=De>>>1;ge<Q;){var et=2*(ge+1)-1,ye=X[et],Ie=et+1,Se=X[Ie];if(0>i(ye,q))Ie<De&&0>i(Se,ye)?(X[ge]=Se,X[Ie]=q,ge=Ie):(X[ge]=ye,X[et]=q,ge=et);else if(Ie<De&&0>i(Se,q))X[ge]=Se,X[Ie]=q,ge=Ie;else break e}}return ue}function i(X,ue){var q=X.sortIndex-ue.sortIndex;return q!==0?q:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,p=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(X){for(var ue=t(c);ue!==null;){if(ue.callback===null)r(c);else if(ue.startTime<=X)r(c),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=t(c)}}function T(X){if(_=!1,E(X),!g)if(t(l)!==null)g=!0,se(D);else{var ue=t(c);ue!==null&&ce(T,ue.startTime-X)}}function D(X,ue){g=!1,_&&(_=!1,x(N),N=-1),p=!0;var q=d;try{for(E(ue),h=t(l);h!==null&&(!(h.expirationTime>ue)||X&&!B());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,d=h.priorityLevel;var De=ge(h.expirationTime<=ue);ue=n.unstable_now(),typeof De=="function"?h.callback=De:h===t(l)&&r(l),E(ue)}else r(l);h=t(l)}if(h!==null)var Q=!0;else{var et=t(c);et!==null&&ce(T,et.startTime-ue),Q=!1}return Q}finally{h=null,d=q,p=!1}}var k=!1,I=null,N=-1,P=5,R=-1;function B(){return!(n.unstable_now()-R<P)}function z(){if(I!==null){var X=n.unstable_now();R=X;var ue=!0;try{ue=I(!0,X)}finally{ue?H():(k=!1,I=null)}}else k=!1}var H;if(typeof S=="function")H=function(){S(z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=z,H=function(){J.postMessage(null)}}else H=function(){w(z,0)};function se(X){I=X,k||(k=!0,H())}function ce(X,ue){N=w(function(){X(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,se(D))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(X){switch(d){case 1:case 2:case 3:var ue=3;break;default:ue=d}var q=d;d=ue;try{return X()}finally{d=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var q=d;d=X;try{return ue()}finally{d=q}},n.unstable_scheduleCallback=function(X,ue,q){var ge=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ge+q:ge):q=ge,X){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=q+De,X={id:u++,callback:ue,priorityLevel:X,startTime:q,expirationTime:De,sortIndex:-1},q>ge?(X.sortIndex=q,e(c,X),t(l)===null&&X===t(c)&&(_?(x(N),N=-1):_=!0,ce(T,q-ge))):(X.sortIndex=De,e(l,X),g||p||(g=!0,se(D))),X},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(X){var ue=d;return function(){var q=d;d=ue;try{return X.apply(this,arguments)}finally{d=q}}}})($ne);Gne.exports=$ne;var d3=Gne.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HLe=function(e){var t={},r=F,i=d3,s=Object.assign;function a(v){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+v,M=1;M<arguments.length;M++)y+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),D=Symbol.iterator;function k(v){return v===null||typeof v!="object"?null:(v=D&&v[D]||v["@@iterator"],typeof v=="function"?v:null)}function I(v){if(v==null)return null;if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v;switch(v){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case h:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof v=="object")switch(v.$$typeof){case g:return(v.displayName||"Context")+".Consumer";case p:return(v._context.displayName||"Context")+".Provider";case _:var y=v.render;return v=v.displayName,v||(v=y.displayName||y.name||"",v=v!==""?"ForwardRef("+v+")":"ForwardRef"),v;case S:return y=v.displayName||null,y!==null?y:I(v.type)||"Memo";case E:y=v._payload,v=v._init;try{return I(v(y))}catch{}}return null}function N(v){var y=v.type;switch(v.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return v=y.render,v=v.displayName||v.name||"",y.displayName||(v!==""?"ForwardRef("+v+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(y);case 8:return y===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function P(v){var y=v,M=v;if(v.alternate)for(;y.return;)y=y.return;else{v=y;do y=v,y.flags&4098&&(M=y.return),v=y.return;while(v)}return y.tag===3?M:null}function R(v){if(P(v)!==v)throw Error(a(188))}function B(v){var y=v.alternate;if(!y){if(y=P(v),y===null)throw Error(a(188));return y!==v?null:v}for(var M=v,O=y;;){var j=M.return;if(j===null)break;var $=j.alternate;if($===null){if(O=j.return,O!==null){M=O;continue}break}if(j.child===$.child){for($=j.child;$;){if($===M)return R(j),v;if($===O)return R(j),y;$=$.sibling}throw Error(a(188))}if(M.return!==O.return)M=j,O=$;else{for(var he=!1,be=j.child;be;){if(be===M){he=!0,M=j,O=$;break}if(be===O){he=!0,O=j,M=$;break}be=be.sibling}if(!he){for(be=$.child;be;){if(be===M){he=!0,M=$,O=j;break}if(be===O){he=!0,O=$,M=j;break}be=be.sibling}if(!he)throw Error(a(189))}}if(M.alternate!==O)throw Error(a(190))}if(M.tag!==3)throw Error(a(188));return M.stateNode.current===M?v:y}function z(v){return v=B(v),v!==null?H(v):null}function H(v){if(v.tag===5||v.tag===6)return v;for(v=v.child;v!==null;){var y=H(v);if(y!==null)return y;v=v.sibling}return null}function K(v){if(v.tag===5||v.tag===6)return v;for(v=v.child;v!==null;){if(v.tag!==4){var y=K(v);if(y!==null)return y}v=v.sibling}return null}var J=Array.isArray,se=e.getPublicInstance,ce=e.getRootHostContext,X=e.getChildHostContext,ue=e.prepareForCommit,q=e.resetAfterCommit,ge=e.createInstance,De=e.appendInitialChild,Q=e.finalizeInitialChildren,et=e.prepareUpdate,ye=e.shouldSetTextContent,Ie=e.createTextInstance,Se=e.scheduleTimeout,Je=e.cancelTimeout,Qe=e.noTimeout,rt=e.isPrimaryRenderer,ut=e.supportsMutation,Be=e.supportsPersistence,ae=e.supportsHydration,Re=e.getInstanceFromNode,ke=e.preparePortalMount,$e=e.getCurrentEventPriority,We=e.detachDeletedInstance,ne=e.supportsMicrotasks,Ae=e.scheduleMicrotask,Fe=e.supportsTestSelectors,ot=e.findFiberRoot,vt=e.getBoundingRect,ie=e.getTextContent,Y=e.isHiddenSubtree,xe=e.matchAccessibilityRole,re=e.setFocusIfFocusable,pe=e.setupIntersectionObserver,_e=e.appendChild,at=e.appendChildToContainer,qe=e.commitTextUpdate,xt=e.commitMount,bt=e.commitUpdate,it=e.insertBefore,pt=e.insertInContainerBefore,Nt=e.removeChild,de=e.removeChildFromContainer,Pe=e.resetTextContent,lt=e.hideInstance,fe=e.hideTextInstance,tt=e.unhideInstance,ve=e.unhideTextInstance,Xe=e.clearContainer,Ye=e.cloneInstance,Le=e.createContainerChildSet,dt=e.appendChildToContainerChildSet,_t=e.finalizeContainerChildren,En=e.replaceContainerChildren,xn=e.cloneHiddenInstance,Jr=e.cloneHiddenTextInstance,er=e.canHydrateInstance,Uu=e.canHydrateTextInstance,Ls=e.canHydrateSuspenseInstance,lo=e.isSuspenseInstancePending,is=e.isSuspenseInstanceFallback,$t=e.registerSuspenseInstanceRetry,qi=e.getNextHydratableSibling,ju=e.getFirstHydratableChild,Wl=e.getFirstHydratableChildWithinContainer,fl=e.getFirstHydratableChildWithinSuspenseInstance,Gl=e.hydrateInstance,Fc=e.hydrateTextInstance,Oa=e.hydrateSuspenseInstance,La=e.getNextHydratableInstanceAfterSuspenseInstance,Vu=e.commitHydratedContainer,Zh=e.commitHydratedSuspenseInstance,zu=e.clearSuspenseBoundary,ee=e.clearSuspenseBoundaryFromContainer,Ee=e.shouldDeleteUnhydratedTailInstances,je=e.didNotMatchHydratedContainerTextInstance,Ve=e.didNotMatchHydratedTextInstance,Te;function ft(v){if(Te===void 0)try{throw Error()}catch(M){var y=M.stack.trim().match(/\n( *(at )?)/);Te=y&&y[1]||""}return`
`+Te+v}var Et=!1;function Pt(v,y){if(!v||Et)return"";Et=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(wt){var O=wt}Reflect.construct(v,[],y)}else{try{y.call()}catch(wt){O=wt}v.call(y.prototype)}else{try{throw Error()}catch(wt){O=wt}v()}}catch(wt){if(wt&&O&&typeof wt.stack=="string"){for(var j=wt.stack.split(`
`),$=O.stack.split(`
`),he=j.length-1,be=$.length-1;1<=he&&0<=be&&j[he]!==$[be];)be--;for(;1<=he&&0<=be;he--,be--)if(j[he]!==$[be]){if(he!==1||be!==1)do if(he--,be--,0>be||j[he]!==$[be]){var Ke=`
`+j[he].replace(" at new "," at ");return v.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",v.displayName)),Ke}while(1<=he&&0<=be);break}}}finally{Et=!1,Error.prepareStackTrace=M}return(v=v?v.displayName||v.name:"")?ft(v):""}var At=Object.prototype.hasOwnProperty,Zt=[],Xt=-1;function Ft(v){return{current:v}}function Bt(v){0>Xt||(v.current=Zt[Xt],Zt[Xt]=null,Xt--)}function Wt(v,y){Xt++,Zt[Xt]=v.current,v.current=y}var Ut={},kt=Ft(Ut),hn=Ft(!1),Dt=Ut;function Un(v,y){var M=v.type.contextTypes;if(!M)return Ut;var O=v.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===y)return O.__reactInternalMemoizedMaskedChildContext;var j={},$;for($ in M)j[$]=y[$];return O&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=y,v.__reactInternalMemoizedMaskedChildContext=j),j}function nn(v){return v=v.childContextTypes,v!=null}function Yt(){Bt(hn),Bt(kt)}function rr(v,y,M){if(kt.current!==Ut)throw Error(a(168));Wt(kt,y),Wt(hn,M)}function Ci(v,y,M){var O=v.stateNode;if(y=y.childContextTypes,typeof O.getChildContext!="function")return M;O=O.getChildContext();for(var j in O)if(!(j in y))throw Error(a(108,N(v)||"Unknown",j));return s({},M,O)}function pi(v){return v=(v=v.stateNode)&&v.__reactInternalMemoizedMergedChildContext||Ut,Dt=kt.current,Wt(kt,v),Wt(hn,hn.current),!0}function fn(v,y,M){var O=v.stateNode;if(!O)throw Error(a(169));M?(v=Ci(v,y,Dt),O.__reactInternalMemoizedMergedChildContext=v,Bt(hn),Bt(kt),Wt(kt,v)):Bt(hn),Wt(hn,M)}var vr=Math.clz32?Math.clz32:qt,ci=Math.log,Dr=Math.LN2;function qt(v){return v>>>=0,v===0?32:31-(ci(v)/Dr|0)|0}var Fi=64,ui=4194304;function Fs(v){switch(v&-v){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return v&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return v}}function Bc(v,y){var M=v.pendingLanes;if(M===0)return 0;var O=0,j=v.suspendedLanes,$=v.pingedLanes,he=M&268435455;if(he!==0){var be=he&~j;be!==0?O=Fs(be):($&=he,$!==0&&(O=Fs($)))}else he=M&~j,he!==0?O=Fs(he):$!==0&&(O=Fs($));if(O===0)return 0;if(y!==0&&y!==O&&!(y&j)&&(j=O&-O,$=y&-y,j>=$||j===16&&($&4194240)!==0))return y;if(O&4&&(O|=M&16),y=v.entangledLanes,y!==0)for(v=v.entanglements,y&=O;0<y;)M=31-vr(y),j=1<<M,O|=v[M],y&=~j;return O}function Uc(v,y){switch(v){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sp(v,y){for(var M=v.suspendedLanes,O=v.pingedLanes,j=v.expirationTimes,$=v.pendingLanes;0<$;){var he=31-vr($),be=1<<he,Ke=j[he];Ke===-1?(!(be&M)||be&O)&&(j[he]=Uc(be,y)):Ke<=y&&(v.expiredLanes|=be),$&=~be}}function Hu(v){return v=v.pendingLanes&-1073741825,v!==0?v:v&1073741824?1073741824:0}function jc(v){for(var y=[],M=0;31>M;M++)y.push(v);return y}function $l(v,y,M){v.pendingLanes|=y,y!==536870912&&(v.suspendedLanes=0,v.pingedLanes=0),v=v.eventTimes,y=31-vr(y),v[y]=M}function ql(v,y){var M=v.pendingLanes&~y;v.pendingLanes=y,v.suspendedLanes=0,v.pingedLanes=0,v.expiredLanes&=y,v.mutableReadLanes&=y,v.entangledLanes&=y,y=v.entanglements;var O=v.eventTimes;for(v=v.expirationTimes;0<M;){var j=31-vr(M),$=1<<j;y[j]=0,O[j]=-1,v[j]=-1,M&=~$}}function Bs(v,y){var M=v.entangledLanes|=y;for(v=v.entanglements;M;){var O=31-vr(M),j=1<<O;j&y|v[O]&y&&(v[O]|=y),M&=~j}}var Wn=0;function Wu(v){return v&=-v,1<v?4<v?v&268435455?16:536870912:4:1}var Qh=i.unstable_scheduleCallback,an=i.unstable_cancelCallback,co=i.unstable_shouldYield,br=i.unstable_requestPaint,mi=i.unstable_now,ta=i.unstable_ImmediatePriority,ap=i.unstable_UserBlockingPriority,Gu=i.unstable_NormalPriority,uo=i.unstable_IdlePriority,jo=null,ss=null;function ei(v){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(jo,v,void 0,(v.current.flags&128)===128)}catch{}}function Fa(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var na=typeof Object.is=="function"?Object.is:Fa,ra=null,Cr=!1,Jh=!1;function ed(v){ra===null?ra=[v]:ra.push(v)}function yg(v){Cr=!0,ed(v)}function ia(){if(!Jh&&ra!==null){Jh=!0;var v=0,y=Wn;try{var M=ra;for(Wn=1;v<M.length;v++){var O=M[v];do O=O(!0);while(O!==null)}ra=null,Cr=!1}catch(j){throw ra!==null&&(ra=ra.slice(v+1)),Qh(ta,ia),j}finally{Wn=y,Jh=!1}}return null}var jn=o.ReactCurrentBatchConfig;function Xl(v,y){if(na(v,y))return!0;if(typeof v!="object"||v===null||typeof y!="object"||y===null)return!1;var M=Object.keys(v),O=Object.keys(y);if(M.length!==O.length)return!1;for(O=0;O<M.length;O++){var j=M[O];if(!At.call(y,j)||!na(v[j],y[j]))return!1}return!0}function sa(v){switch(v.tag){case 5:return ft(v.type);case 16:return ft("Lazy");case 13:return ft("Suspense");case 19:return ft("SuspenseList");case 0:case 2:case 15:return v=Pt(v.type,!1),v;case 11:return v=Pt(v.type.render,!1),v;case 1:return v=Pt(v.type,!0),v;default:return""}}function jr(v,y){if(v&&v.defaultProps){y=s({},y),v=v.defaultProps;for(var M in v)y[M]===void 0&&(y[M]=v[M]);return y}return y}var Vc=Ft(null),td=null,aa=null,nd=null;function zc(){nd=aa=td=null}function $u(v,y,M){rt?(Wt(Vc,y._currentValue),y._currentValue=M):(Wt(Vc,y._currentValue2),y._currentValue2=M)}function rd(v){var y=Vc.current;Bt(Vc),rt?v._currentValue=y:v._currentValue2=y}function pl(v,y,M){for(;v!==null;){var O=v.alternate;if((v.childLanes&y)!==y?(v.childLanes|=y,O!==null&&(O.childLanes|=y)):O!==null&&(O.childLanes&y)!==y&&(O.childLanes|=y),v===M)break;v=v.return}}function Hc(v,y){td=v,nd=aa=null,v=v.dependencies,v!==null&&v.firstContext!==null&&(v.lanes&y&&(Ho=!0),v.firstContext=null)}function Wr(v){var y=rt?v._currentValue:v._currentValue2;if(nd!==v)if(v={context:v,memoizedValue:y,next:null},aa===null){if(td===null)throw Error(a(308));aa=v,td.dependencies={lanes:0,firstContext:v}}else aa=aa.next=v;return y}var bs=null,ho=!1;function Ba(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qu(v,y){v=v.updateQueue,y.updateQueue===v&&(y.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects})}function oa(v,y){return{eventTime:v,lane:y,tag:0,payload:null,callback:null,next:null}}function Ua(v,y){var M=v.updateQueue;M!==null&&(M=M.shared,Xi!==null&&v.mode&1&&!(Vn&2)?(v=M.interleaved,v===null?(y.next=y,bs===null?bs=[M]:bs.push(M)):(y.next=v.next,v.next=y),M.interleaved=y):(v=M.pending,v===null?y.next=y:(y.next=v.next,v.next=y),M.pending=y))}function Yl(v,y,M){if(y=y.updateQueue,y!==null&&(y=y.shared,(M&4194240)!==0)){var O=y.lanes;O&=v.pendingLanes,M|=O,y.lanes=M,Bs(v,M)}}function id(v,y){var M=v.updateQueue,O=v.alternate;if(O!==null&&(O=O.updateQueue,M===O)){var j=null,$=null;if(M=M.firstBaseUpdate,M!==null){do{var he={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};$===null?j=$=he:$=$.next=he,M=M.next}while(M!==null);$===null?j=$=y:$=$.next=y}else j=$=y;M={baseState:O.baseState,firstBaseUpdate:j,lastBaseUpdate:$,shared:O.shared,effects:O.effects},v.updateQueue=M;return}v=M.lastBaseUpdate,v===null?M.firstBaseUpdate=y:v.next=y,M.lastBaseUpdate=y}function Wc(v,y,M,O){var j=v.updateQueue;ho=!1;var $=j.firstBaseUpdate,he=j.lastBaseUpdate,be=j.shared.pending;if(be!==null){j.shared.pending=null;var Ke=be,wt=Ke.next;Ke.next=null,he===null?$=wt:he.next=wt,he=Ke;var Vt=v.alternate;Vt!==null&&(Vt=Vt.updateQueue,be=Vt.lastBaseUpdate,be!==he&&(be===null?Vt.firstBaseUpdate=wt:be.next=wt,Vt.lastBaseUpdate=Ke))}if($!==null){var Cn=j.baseState;he=0,Vt=wt=Ke=null,be=$;do{var on=be.lane,zr=be.eventTime;if((O&on)===on){Vt!==null&&(Vt=Vt.next={eventTime:zr,lane:0,tag:be.tag,payload:be.payload,callback:be.callback,next:null});e:{var Jt=v,ha=be;switch(on=y,zr=M,ha.tag){case 1:if(Jt=ha.payload,typeof Jt=="function"){Cn=Jt.call(zr,Cn,on);break e}Cn=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=ha.payload,on=typeof Jt=="function"?Jt.call(zr,Cn,on):Jt,on==null)break e;Cn=s({},Cn,on);break e;case 2:ho=!0}}be.callback!==null&&be.lane!==0&&(v.flags|=64,on=j.effects,on===null?j.effects=[be]:on.push(be))}else zr={eventTime:zr,lane:on,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Vt===null?(wt=Vt=zr,Ke=Cn):Vt=Vt.next=zr,he|=on;if(be=be.next,be===null){if(be=j.shared.pending,be===null)break;on=be,be=on.next,on.next=null,j.lastBaseUpdate=on,j.shared.pending=null}}while(!0);if(Vt===null&&(Ke=Cn),j.baseState=Ke,j.firstBaseUpdate=wt,j.lastBaseUpdate=Vt,y=j.shared.interleaved,y!==null){j=y;do he|=j.lane,j=j.next;while(j!==y)}else $===null&&(j.shared.lanes=0);Mg|=he,v.lanes=he,v.memoizedState=Cn}}function ml(v,y,M){if(v=y.effects,y.effects=null,v!==null)for(y=0;y<v.length;y++){var O=v[y],j=O.callback;if(j!==null){if(O.callback=null,O=M,typeof j!="function")throw Error(a(191,j));j.call(O)}}}var op=new r.Component().refs;function Gc(v,y,M,O){y=v.memoizedState,M=M(O,y),M=M==null?y:s({},y,M),v.memoizedState=M,v.lanes===0&&(v.updateQueue.baseState=M)}var Xu={isMounted:function(v){return(v=v._reactInternals)?P(v)===v:!1},enqueueSetState:function(v,y,M){v=v._reactInternals;var O=Wa(),j=yd(v),$=oa(O,j);$.payload=y,M!=null&&($.callback=M),Ua(v,$),y=xl(v,j,O),y!==null&&Yl(y,v,j)},enqueueReplaceState:function(v,y,M){v=v._reactInternals;var O=Wa(),j=yd(v),$=oa(O,j);$.tag=1,$.payload=y,M!=null&&($.callback=M),Ua(v,$),y=xl(v,j,O),y!==null&&Yl(y,v,j)},enqueueForceUpdate:function(v,y){v=v._reactInternals;var M=Wa(),O=yd(v),j=oa(M,O);j.tag=2,y!=null&&(j.callback=y),Ua(v,j),y=xl(v,O,M),y!==null&&Yl(y,v,O)}};function sd(v,y,M,O,j,$,he){return v=v.stateNode,typeof v.shouldComponentUpdate=="function"?v.shouldComponentUpdate(O,$,he):y.prototype&&y.prototype.isPureReactComponent?!Xl(M,O)||!Xl(j,$):!0}function $c(v,y,M){var O=!1,j=Ut,$=y.contextType;return typeof $=="object"&&$!==null?$=Wr($):(j=nn(y)?Dt:kt.current,O=y.contextTypes,$=(O=O!=null)?Un(v,j):Ut),y=new y(M,$),v.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Xu,v.stateNode=y,y._reactInternals=v,O&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=j,v.__reactInternalMemoizedMaskedChildContext=$),y}function Bi(v,y,M,O){v=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(M,O),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(M,O),y.state!==v&&Xu.enqueueReplaceState(y,y.state,null)}function fo(v,y,M,O){var j=v.stateNode;j.props=M,j.state=v.memoizedState,j.refs=op,Ba(v);var $=y.contextType;typeof $=="object"&&$!==null?j.context=Wr($):($=nn(y)?Dt:kt.current,j.context=Un(v,$)),j.state=v.memoizedState,$=y.getDerivedStateFromProps,typeof $=="function"&&(Gc(v,y,$,M),j.state=v.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(y=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),y!==j.state&&Xu.enqueueReplaceState(j,j.state,null),Wc(v,M,j,O),j.state=v.memoizedState),typeof j.componentDidMount=="function"&&(v.flags|=4194308)}var Kl=[],as=0,A=null,V=0,G=[],te=0,Me=null,ze=1,mt="";function qn(v,y){Kl[as++]=V,Kl[as++]=A,A=v,V=y}function gi(v,y,M){G[te++]=ze,G[te++]=mt,G[te++]=Me,Me=v;var O=ze;v=mt;var j=32-vr(O)-1;O&=~(1<<j),M+=1;var $=32-vr(y)+j;if(30<$){var he=j-j%5;$=(O&(1<<he)-1).toString(32),O>>=he,j-=he,ze=1<<32-vr(y)+j|M<<j|O,mt=$+v}else ze=1<<$|M<<j|O,mt=v}function Gn(v){v.return!==null&&(qn(v,1),gi(v,1,0))}function dr(v){for(;v===A;)A=Kl[--as],Kl[as]=null,V=Kl[--as],Kl[as]=null;for(;v===Me;)Me=G[--te],G[te]=null,mt=G[--te],G[te]=null,ze=G[--te],G[te]=null}var Xn=null,Mi=null,wn=!1,gl=!1,Ii=null;function Uw(v,y){var M=_l(5,null,null,0);M.elementType="DELETED",M.stateNode=y,M.return=v,y=v.deletions,y===null?(v.deletions=[M],v.flags|=16):y.push(M)}function ad(v,y){switch(v.tag){case 5:return y=er(y,v.type,v.pendingProps),y!==null?(v.stateNode=y,Xn=v,Mi=ju(y),!0):!1;case 6:return y=Uu(y,v.pendingProps),y!==null?(v.stateNode=y,Xn=v,Mi=null,!0):!1;case 13:if(y=Ls(y),y!==null){var M=Me!==null?{id:ze,overflow:mt}:null;return v.memoizedState={dehydrated:y,treeContext:M,retryLane:1073741824},M=_l(18,null,null,0),M.stateNode=y,M.return=v,v.child=M,Xn=v,Mi=null,!0}return!1;default:return!1}}function xg(v){return(v.mode&1)!==0&&(v.flags&128)===0}function od(v){if(wn){var y=Mi;if(y){var M=y;if(!ad(v,y)){if(xg(v))throw Error(a(418));y=qi(M);var O=Xn;y&&ad(v,y)?Uw(O,M):(v.flags=v.flags&-4097|2,wn=!1,Xn=v)}}else{if(xg(v))throw Error(a(418));v.flags=v.flags&-4097|2,wn=!1,Xn=v}}}function jw(v){for(v=v.return;v!==null&&v.tag!==5&&v.tag!==3&&v.tag!==13;)v=v.return;Xn=v}function po(v){if(!ae||v!==Xn)return!1;if(!wn)return jw(v),wn=!0,!1;if(v.tag!==3&&(v.tag!==5||Ee(v.type)&&!ye(v.type,v.memoizedProps))){var y=Mi;if(y){if(xg(v)){for(v=Mi;v;)v=qi(v);throw Error(a(418))}for(;y;)Uw(v,y),y=qi(y)}}if(jw(v),v.tag===13){if(!ae)throw Error(a(316));if(v=v.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));Mi=La(v)}else Mi=Xn?qi(v.stateNode):null;return!0}function Zl(){ae&&(Mi=Xn=null,gl=wn=!1)}function Dy(v){Ii===null?Ii=[v]:Ii.push(v)}function Yu(v,y,M){if(v=M.ref,v!==null&&typeof v!="function"&&typeof v!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(a(309));var O=M.stateNode}if(!O)throw Error(a(147,v));var j=O,$=""+v;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===$?y.ref:(y=function(he){var be=j.refs;be===op&&(be=j.refs={}),he===null?delete be[$]:be[$]=he},y._stringRef=$,y)}if(typeof v!="string")throw Error(a(284));if(!M._owner)throw Error(a(290,v))}return v}function _g(v,y){throw v=Object.prototype.toString.call(y),Error(a(31,v==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":v))}function vl(v){var y=v._init;return y(v._payload)}function Vw(v){function y(Ue,Ce){if(v){var Ge=Ue.deletions;Ge===null?(Ue.deletions=[Ce],Ue.flags|=16):Ge.push(Ce)}}function M(Ue,Ce){if(!v)return null;for(;Ce!==null;)y(Ue,Ce),Ce=Ce.sibling;return null}function O(Ue,Ce){for(Ue=new Map;Ce!==null;)Ce.key!==null?Ue.set(Ce.key,Ce):Ue.set(Ce.index,Ce),Ce=Ce.sibling;return Ue}function j(Ue,Ce){return Ue=_d(Ue,Ce),Ue.index=0,Ue.sibling=null,Ue}function $(Ue,Ce,Ge){return Ue.index=Ge,v?(Ge=Ue.alternate,Ge!==null?(Ge=Ge.index,Ge<Ce?(Ue.flags|=2,Ce):Ge):(Ue.flags|=2,Ce)):(Ue.flags|=1048576,Ce)}function he(Ue){return v&&Ue.alternate===null&&(Ue.flags|=2),Ue}function be(Ue,Ce,Ge,Rt){return Ce===null||Ce.tag!==6?(Ce=OM(Ge,Ue.mode,Rt),Ce.return=Ue,Ce):(Ce=j(Ce,Ge),Ce.return=Ue,Ce)}function Ke(Ue,Ce,Ge,Rt){var Qt=Ge.type;return Qt===u?Vt(Ue,Ce,Ge.props.children,Rt,Ge.key):Ce!==null&&(Ce.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===E&&vl(Qt)===Ce.type)?(Rt=j(Ce,Ge.props),Rt.ref=Yu(Ue,Ce,Ge),Rt.return=Ue,Rt):(Rt=gb(Ge.type,Ge.key,Ge.props,null,Ue.mode,Rt),Rt.ref=Yu(Ue,Ce,Ge),Rt.return=Ue,Rt)}function wt(Ue,Ce,Ge,Rt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ge.containerInfo||Ce.stateNode.implementation!==Ge.implementation?(Ce=LM(Ge,Ue.mode,Rt),Ce.return=Ue,Ce):(Ce=j(Ce,Ge.children||[]),Ce.return=Ue,Ce)}function Vt(Ue,Ce,Ge,Rt,Qt){return Ce===null||Ce.tag!==7?(Ce=xp(Ge,Ue.mode,Rt,Qt),Ce.return=Ue,Ce):(Ce=j(Ce,Ge),Ce.return=Ue,Ce)}function Cn(Ue,Ce,Ge){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=OM(""+Ce,Ue.mode,Ge),Ce.return=Ue,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case l:return Ge=gb(Ce.type,Ce.key,Ce.props,null,Ue.mode,Ge),Ge.ref=Yu(Ue,null,Ce),Ge.return=Ue,Ge;case c:return Ce=LM(Ce,Ue.mode,Ge),Ce.return=Ue,Ce;case E:var Rt=Ce._init;return Cn(Ue,Rt(Ce._payload),Ge)}if(J(Ce)||k(Ce))return Ce=xp(Ce,Ue.mode,Ge,null),Ce.return=Ue,Ce;_g(Ue,Ce)}return null}function on(Ue,Ce,Ge,Rt){var Qt=Ce!==null?Ce.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Qt!==null?null:be(Ue,Ce,""+Ge,Rt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return Ge.key===Qt?Ke(Ue,Ce,Ge,Rt):null;case c:return Ge.key===Qt?wt(Ue,Ce,Ge,Rt):null;case E:return Qt=Ge._init,on(Ue,Ce,Qt(Ge._payload),Rt)}if(J(Ge)||k(Ge))return Qt!==null?null:Vt(Ue,Ce,Ge,Rt,null);_g(Ue,Ge)}return null}function zr(Ue,Ce,Ge,Rt,Qt){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return Ue=Ue.get(Ge)||null,be(Ce,Ue,""+Rt,Qt);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case l:return Ue=Ue.get(Rt.key===null?Ge:Rt.key)||null,Ke(Ce,Ue,Rt,Qt);case c:return Ue=Ue.get(Rt.key===null?Ge:Rt.key)||null,wt(Ce,Ue,Rt,Qt);case E:var Fn=Rt._init;return zr(Ue,Ce,Ge,Fn(Rt._payload),Qt)}if(J(Rt)||k(Rt))return Ue=Ue.get(Ge)||null,Vt(Ce,Ue,Rt,Qt,null);_g(Ce,Rt)}return null}function Jt(Ue,Ce,Ge,Rt){for(var Qt=null,Fn=null,Mn=Ce,fr=Ce=0,Es=null;Mn!==null&&fr<Ge.length;fr++){Mn.index>fr?(Es=Mn,Mn=null):Es=Mn.sibling;var pr=on(Ue,Mn,Ge[fr],Rt);if(pr===null){Mn===null&&(Mn=Es);break}v&&Mn&&pr.alternate===null&&y(Ue,Mn),Ce=$(pr,Ce,fr),Fn===null?Qt=pr:Fn.sibling=pr,Fn=pr,Mn=Es}if(fr===Ge.length)return M(Ue,Mn),wn&&qn(Ue,fr),Qt;if(Mn===null){for(;fr<Ge.length;fr++)Mn=Cn(Ue,Ge[fr],Rt),Mn!==null&&(Ce=$(Mn,Ce,fr),Fn===null?Qt=Mn:Fn.sibling=Mn,Fn=Mn);return wn&&qn(Ue,fr),Qt}for(Mn=O(Ue,Mn);fr<Ge.length;fr++)Es=zr(Mn,Ue,fr,Ge[fr],Rt),Es!==null&&(v&&Es.alternate!==null&&Mn.delete(Es.key===null?fr:Es.key),Ce=$(Es,Ce,fr),Fn===null?Qt=Es:Fn.sibling=Es,Fn=Es);return v&&Mn.forEach(function(wd){return y(Ue,wd)}),wn&&qn(Ue,fr),Qt}function ha(Ue,Ce,Ge,Rt){var Qt=k(Ge);if(typeof Qt!="function")throw Error(a(150));if(Ge=Qt.call(Ge),Ge==null)throw Error(a(151));for(var Fn=Qt=null,Mn=Ce,fr=Ce=0,Es=null,pr=Ge.next();Mn!==null&&!pr.done;fr++,pr=Ge.next()){Mn.index>fr?(Es=Mn,Mn=null):Es=Mn.sibling;var wd=on(Ue,Mn,pr.value,Rt);if(wd===null){Mn===null&&(Mn=Es);break}v&&Mn&&wd.alternate===null&&y(Ue,Mn),Ce=$(wd,Ce,fr),Fn===null?Qt=wd:Fn.sibling=wd,Fn=wd,Mn=Es}if(pr.done)return M(Ue,Mn),wn&&qn(Ue,fr),Qt;if(Mn===null){for(;!pr.done;fr++,pr=Ge.next())pr=Cn(Ue,pr.value,Rt),pr!==null&&(Ce=$(pr,Ce,fr),Fn===null?Qt=pr:Fn.sibling=pr,Fn=pr);return wn&&qn(Ue,fr),Qt}for(Mn=O(Ue,Mn);!pr.done;fr++,pr=Ge.next())pr=zr(Mn,Ue,fr,pr.value,Rt),pr!==null&&(v&&pr.alternate!==null&&Mn.delete(pr.key===null?fr:pr.key),Ce=$(pr,Ce,fr),Fn===null?Qt=pr:Fn.sibling=pr,Fn=pr);return v&&Mn.forEach(function(Pie){return y(Ue,Pie)}),wn&&qn(Ue,fr),Qt}function wl(Ue,Ce,Ge,Rt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===u&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:e:{for(var Qt=Ge.key,Fn=Ce;Fn!==null;){if(Fn.key===Qt){if(Qt=Ge.type,Qt===u){if(Fn.tag===7){M(Ue,Fn.sibling),Ce=j(Fn,Ge.props.children),Ce.return=Ue,Ue=Ce;break e}}else if(Fn.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===E&&vl(Qt)===Fn.type){M(Ue,Fn.sibling),Ce=j(Fn,Ge.props),Ce.ref=Yu(Ue,Fn,Ge),Ce.return=Ue,Ue=Ce;break e}M(Ue,Fn);break}else y(Ue,Fn);Fn=Fn.sibling}Ge.type===u?(Ce=xp(Ge.props.children,Ue.mode,Rt,Ge.key),Ce.return=Ue,Ue=Ce):(Rt=gb(Ge.type,Ge.key,Ge.props,null,Ue.mode,Rt),Rt.ref=Yu(Ue,Ce,Ge),Rt.return=Ue,Ue=Rt)}return he(Ue);case c:e:{for(Fn=Ge.key;Ce!==null;){if(Ce.key===Fn)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ge.containerInfo&&Ce.stateNode.implementation===Ge.implementation){M(Ue,Ce.sibling),Ce=j(Ce,Ge.children||[]),Ce.return=Ue,Ue=Ce;break e}else{M(Ue,Ce);break}else y(Ue,Ce);Ce=Ce.sibling}Ce=LM(Ge,Ue.mode,Rt),Ce.return=Ue,Ue=Ce}return he(Ue);case E:return Fn=Ge._init,wl(Ue,Ce,Fn(Ge._payload),Rt)}if(J(Ge))return Jt(Ue,Ce,Ge,Rt);if(k(Ge))return ha(Ue,Ce,Ge,Rt);_g(Ue,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"?(Ge=""+Ge,Ce!==null&&Ce.tag===6?(M(Ue,Ce.sibling),Ce=j(Ce,Ge),Ce.return=Ue,Ue=Ce):(M(Ue,Ce),Ce=OM(Ge,Ue.mode,Rt),Ce.return=Ue,Ue=Ce),he(Ue)):M(Ue,Ce)}return wl}var Vo=Vw(!0),zw=Vw(!1),ja={},Us=Ft(ja),ld=Ft(ja),qc=Ft(ja);function Va(v){if(v===ja)throw Error(a(174));return v}function lp(v,y){Wt(qc,y),Wt(ld,v),Wt(Us,ja),v=ce(y),Bt(Us),Wt(Us,v)}function Ql(){Bt(Us),Bt(ld),Bt(qc)}function Ku(v){var y=Va(qc.current),M=Va(Us.current);y=X(M,v.type,y),M!==y&&(Wt(ld,v),Wt(Us,y))}function cd(v){ld.current===v&&(Bt(Us),Bt(ld))}var Vr=Ft(0);function cp(v){for(var y=v;y!==null;){if(y.tag===13){var M=y.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||lo(M)||is(M)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if(y.flags&128)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===v)break;for(;y.sibling===null;){if(y.return===null||y.return===v)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var Oy=[];function ud(){for(var v=0;v<Oy.length;v++){var y=Oy[v];rt?y._workInProgressVersionPrimary=null:y._workInProgressVersionSecondary=null}Oy.length=0}var wg=o.ReactCurrentDispatcher,za=o.ReactCurrentBatchConfig,hd=0,ti=null,Ss=null,Mr=null,Zu=!1,up=!1,Xc=0,cM=0;function os(){throw Error(a(321))}function Ly(v,y){if(y===null)return!1;for(var M=0;M<y.length&&M<v.length;M++)if(!na(v[M],y[M]))return!1;return!0}function Qu(v,y,M,O,j,$){if(hd=$,ti=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,wg.current=v===null||v.memoizedState===null?cn:Ln,v=M(O,j),up){$=0;do{if(up=!1,Xc=0,25<=$)throw Error(a(301));$+=1,Mr=Ss=null,y.updateQueue=null,wg.current=js,v=M(O,j)}while(up)}if(wg.current=Ct,y=Ss!==null&&Ss.next!==null,hd=0,Mr=Ss=ti=null,Zu=!1,y)throw Error(a(300));return v}function Fy(){var v=Xc!==0;return Xc=0,v}function la(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?ti.memoizedState=Mr=v:Mr=Mr.next=v,Mr}function zo(){if(Ss===null){var v=ti.alternate;v=v!==null?v.memoizedState:null}else v=Ss.next;var y=Mr===null?ti.memoizedState:Mr.next;if(y!==null)Mr=y,Ss=v;else{if(v===null)throw Error(a(310));Ss=v,v={memoizedState:Ss.memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},Mr===null?ti.memoizedState=Mr=v:Mr=Mr.next=v}return Mr}function Yc(v,y){return typeof y=="function"?y(v):y}function bg(v){var y=zo(),M=y.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=v;var O=Ss,j=O.baseQueue,$=M.pending;if($!==null){if(j!==null){var he=j.next;j.next=$.next,$.next=he}O.baseQueue=j=$,M.pending=null}if(j!==null){$=j.next,O=O.baseState;var be=he=null,Ke=null,wt=$;do{var Vt=wt.lane;if((hd&Vt)===Vt)Ke!==null&&(Ke=Ke.next={lane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),O=wt.hasEagerState?wt.eagerState:v(O,wt.action);else{var Cn={lane:Vt,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null};Ke===null?(be=Ke=Cn,he=O):Ke=Ke.next=Cn,ti.lanes|=Vt,Mg|=Vt}wt=wt.next}while(wt!==null&&wt!==$);Ke===null?he=O:Ke.next=be,na(O,y.memoizedState)||(Ho=!0),y.memoizedState=O,y.baseState=he,y.baseQueue=Ke,M.lastRenderedState=O}if(v=M.interleaved,v!==null){j=v;do $=j.lane,ti.lanes|=$,Mg|=$,j=j.next;while(j!==v)}else j===null&&(M.lanes=0);return[y.memoizedState,M.dispatch]}function mo(v){var y=zo(),M=y.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=v;var O=M.dispatch,j=M.pending,$=y.memoizedState;if(j!==null){M.pending=null;var he=j=j.next;do $=v($,he.action),he=he.next;while(he!==j);na($,y.memoizedState)||(Ho=!0),y.memoizedState=$,y.baseQueue===null&&(y.baseState=$),M.lastRenderedState=$}return[$,O]}function By(){}function Uy(v,y){var M=ti,O=zo(),j=y(),$=!na(O.memoizedState,j);if($&&(O.memoizedState=j,Ho=!0),O=O.queue,md(hp.bind(null,M,O,v),[v]),O.getSnapshot!==y||$||Mr!==null&&Mr.memoizedState.tag&1){if(M.flags|=2048,pd(9,Hw.bind(null,M,O,j,y),void 0,null),Xi===null)throw Error(a(349));hd&30||dd(M,y,j)}return j}function dd(v,y,M){v.flags|=16384,v={getSnapshot:y,value:M},y=ti.updateQueue,y===null?(y={lastEffect:null,stores:null},ti.updateQueue=y,y.stores=[v]):(M=y.stores,M===null?y.stores=[v]:M.push(v))}function Hw(v,y,M,O){y.value=M,y.getSnapshot=O,fd(y)&&xl(v,1,-1)}function hp(v,y,M){return M(function(){fd(y)&&xl(v,1,-1)})}function fd(v){var y=v.getSnapshot;v=v.value;try{var M=y();return!na(v,M)}catch{return!0}}function Sg(v){var y=la();return typeof v=="function"&&(v=v()),y.memoizedState=y.baseState=v,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:v},y.queue=v,v=v.dispatch=Z.bind(null,ti,v),[y.memoizedState,v]}function pd(v,y,M,O){return v={tag:v,create:y,destroy:M,deps:O,next:null},y=ti.updateQueue,y===null?(y={lastEffect:null,stores:null},ti.updateQueue=y,y.lastEffect=v.next=v):(M=y.lastEffect,M===null?y.lastEffect=v.next=v:(O=M.next,M.next=v,v.next=O,y.lastEffect=v)),v}function Ww(){return zo().memoizedState}function dp(v,y,M,O){var j=la();ti.flags|=v,j.memoizedState=pd(1|y,M,void 0,O===void 0?null:O)}function fp(v,y,M,O){var j=zo();O=O===void 0?null:O;var $=void 0;if(Ss!==null){var he=Ss.memoizedState;if($=he.destroy,O!==null&&Ly(O,he.deps)){j.memoizedState=pd(y,M,$,O);return}}ti.flags|=v,j.memoizedState=pd(1|y,M,$,O)}function Eg(v,y){return dp(8390656,8,v,y)}function md(v,y){return fp(2048,8,v,y)}function jy(v,y){return fp(4,2,v,y)}function Gw(v,y){return fp(4,4,v,y)}function Vy(v,y){if(typeof y=="function")return v=v(),y(v),function(){y(null)};if(y!=null)return v=v(),y.current=v,function(){y.current=null}}function zy(v,y,M){return M=M!=null?M.concat([v]):null,fp(4,4,Vy.bind(null,y,v),M)}function Hy(){}function f(v,y){var M=zo();y=y===void 0?null:y;var O=M.memoizedState;return O!==null&&y!==null&&Ly(y,O[1])?O[0]:(M.memoizedState=[v,y],v)}function b(v,y){var M=zo();y=y===void 0?null:y;var O=M.memoizedState;return O!==null&&y!==null&&Ly(y,O[1])?O[0]:(v=v(),M.memoizedState=[v,y],v)}function C(v,y){var M=Wn;Wn=M!==0&&4>M?M:4,v(!0);var O=za.transition;za.transition={};try{v(!1),y()}finally{Wn=M,za.transition=O}}function U(){return zo().memoizedState}function W(v,y,M){var O=yd(v);M={lane:O,action:M,hasEagerState:!1,eagerState:null,next:null},me(v)?Ne(y,M):(He(v,y,M),M=Wa(),v=xl(v,O,M),v!==null&&ht(v,y,O))}function Z(v,y,M){var O=yd(v),j={lane:O,action:M,hasEagerState:!1,eagerState:null,next:null};if(me(v))Ne(y,j);else{He(v,y,j);var $=v.alternate;if(v.lanes===0&&($===null||$.lanes===0)&&($=y.lastRenderedReducer,$!==null))try{var he=y.lastRenderedState,be=$(he,M);if(j.hasEagerState=!0,j.eagerState=be,na(be,he))return}catch{}finally{}M=Wa(),v=xl(v,O,M),v!==null&&ht(v,y,O)}}function me(v){var y=v.alternate;return v===ti||y!==null&&y===ti}function Ne(v,y){up=Zu=!0;var M=v.pending;M===null?y.next=y:(y.next=M.next,M.next=y),v.pending=y}function He(v,y,M){Xi!==null&&v.mode&1&&!(Vn&2)?(v=y.interleaved,v===null?(M.next=M,bs===null?bs=[y]:bs.push(y)):(M.next=v.next,v.next=M),y.interleaved=M):(v=y.pending,v===null?M.next=M:(M.next=v.next,v.next=M),y.pending=M)}function ht(v,y,M){if(M&4194240){var O=y.lanes;O&=v.pendingLanes,M|=O,y.lanes=M,Bs(v,M)}}var Ct={readContext:Wr,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useInsertionEffect:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useSyncExternalStore:os,useId:os,unstable_isNewReconciler:!1},cn={readContext:Wr,useCallback:function(v,y){return la().memoizedState=[v,y===void 0?null:y],v},useContext:Wr,useEffect:Eg,useImperativeHandle:function(v,y,M){return M=M!=null?M.concat([v]):null,dp(4194308,4,Vy.bind(null,y,v),M)},useLayoutEffect:function(v,y){return dp(4194308,4,v,y)},useInsertionEffect:function(v,y){return dp(4,2,v,y)},useMemo:function(v,y){var M=la();return y=y===void 0?null:y,v=v(),M.memoizedState=[v,y],v},useReducer:function(v,y,M){var O=la();return y=M!==void 0?M(y):y,O.memoizedState=O.baseState=y,v={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:v,lastRenderedState:y},O.queue=v,v=v.dispatch=W.bind(null,ti,v),[O.memoizedState,v]},useRef:function(v){var y=la();return v={current:v},y.memoizedState=v},useState:Sg,useDebugValue:Hy,useDeferredValue:function(v){var y=Sg(v),M=y[0],O=y[1];return Eg(function(){var j=za.transition;za.transition={};try{O(v)}finally{za.transition=j}},[v]),M},useTransition:function(){var v=Sg(!1),y=v[0];return v=C.bind(null,v[1]),la().memoizedState=v,[y,v]},useMutableSource:function(){},useSyncExternalStore:function(v,y,M){var O=ti,j=la();if(wn){if(M===void 0)throw Error(a(407));M=M()}else{if(M=y(),Xi===null)throw Error(a(349));hd&30||dd(O,y,M)}j.memoizedState=M;var $={value:M,getSnapshot:y};return j.queue=$,Eg(hp.bind(null,O,$,v),[v]),O.flags|=2048,pd(9,Hw.bind(null,O,$,M,y),void 0,null),M},useId:function(){var v=la(),y=Xi.identifierPrefix;if(wn){var M=mt,O=ze;M=(O&~(1<<32-vr(O)-1)).toString(32)+M,y=":"+y+"R"+M,M=Xc++,0<M&&(y+="H"+M.toString(32)),y+=":"}else M=cM++,y=":"+y+"r"+M.toString(32)+":";return v.memoizedState=y},unstable_isNewReconciler:!1},Ln={readContext:Wr,useCallback:f,useContext:Wr,useEffect:md,useImperativeHandle:zy,useInsertionEffect:jy,useLayoutEffect:Gw,useMemo:b,useReducer:bg,useRef:Ww,useState:function(){return bg(Yc)},useDebugValue:Hy,useDeferredValue:function(v){var y=bg(Yc),M=y[0],O=y[1];return md(function(){var j=za.transition;za.transition={};try{O(v)}finally{za.transition=j}},[v]),M},useTransition:function(){var v=bg(Yc)[0],y=zo().memoizedState;return[v,y]},useMutableSource:By,useSyncExternalStore:Uy,useId:U,unstable_isNewReconciler:!1},js={readContext:Wr,useCallback:f,useContext:Wr,useEffect:md,useImperativeHandle:zy,useInsertionEffect:jy,useLayoutEffect:Gw,useMemo:b,useReducer:mo,useRef:Ww,useState:function(){return mo(Yc)},useDebugValue:Hy,useDeferredValue:function(v){var y=mo(Yc),M=y[0],O=y[1];return md(function(){var j=za.transition;za.transition={};try{O(v)}finally{za.transition=j}},[v]),M},useTransition:function(){var v=mo(Yc)[0],y=zo().memoizedState;return[v,y]},useMutableSource:By,useSyncExternalStore:Uy,useId:U,unstable_isNewReconciler:!1};function Pi(v,y){try{var M="",O=y;do M+=sa(O),O=O.return;while(O);var j=M}catch($){j=`
Error generating stack: `+$.message+`
`+$.stack}return{value:v,source:y,stack:j}}function ca(v,y){try{console.error(y.value)}catch(M){setTimeout(function(){throw M})}}var ua=typeof WeakMap=="function"?WeakMap:Map;function Ju(v,y,M){M=oa(-1,M),M.tag=3,M.payload={element:null};var O=y.value;return M.callback=function(){cb||(cb=!0,MM=O),ca(v,y)},M}function $w(v,y,M){M=oa(-1,M),M.tag=3;var O=v.type.getDerivedStateFromError;if(typeof O=="function"){var j=y.value;M.payload=function(){return O(j)},M.callback=function(){ca(v,y)}}var $=v.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(M.callback=function(){ca(v,y),typeof O!="function"&&(gd===null?gd=new Set([this]):gd.add(this));var he=y.stack;this.componentDidCatch(y.value,{componentStack:he!==null?he:""})}),M}function qw(v,y,M){var O=v.pingCache;if(O===null){O=v.pingCache=new ua;var j=new Set;O.set(y,j)}else j=O.get(y),j===void 0&&(j=new Set,O.set(y,j));j.has(M)||(j.add(M),v=bie.bind(null,v,y,M),y.then(v,v))}function Xw(v){do{var y;if((y=v.tag===13)&&(y=v.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return v;v=v.return}while(v!==null);return null}function Wy(v,y,M,O,j){return v.mode&1?(v.flags|=65536,v.lanes=j,v):(v===y?v.flags|=65536:(v.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(y=oa(-1,1),y.tag=2,Ua(M,y))),M.lanes|=1),v)}function yl(v){v.flags|=4}function Gy(v,y){if(v!==null&&v.child===y.child)return!0;if(y.flags&16)return!1;for(v=y.child;v!==null;){if(v.flags&12854||v.subtreeFlags&12854)return!1;v=v.sibling}return!0}var Gr,Kc,Ag,Tg;if(ut)Gr=function(v,y){for(var M=y.child;M!==null;){if(M.tag===5||M.tag===6)De(v,M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===y)break;for(;M.sibling===null;){if(M.return===null||M.return===y)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},Kc=function(){},Ag=function(v,y,M,O,j){if(v=v.memoizedProps,v!==O){var $=y.stateNode,he=Va(Us.current);M=et($,M,v,O,j,he),(y.updateQueue=M)&&yl(y)}},Tg=function(v,y,M,O){M!==O&&yl(y)};else if(Be){Gr=function(v,y,M,O){for(var j=y.child;j!==null;){if(j.tag===5){var $=j.stateNode;M&&O&&($=xn($,j.type,j.memoizedProps,j)),De(v,$)}else if(j.tag===6)$=j.stateNode,M&&O&&($=Jr($,j.memoizedProps,j)),De(v,$);else if(j.tag!==4){if(j.tag===22&&j.memoizedState!==null)$=j.child,$!==null&&($.return=j),Gr(v,j,!0,!0);else if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===y)break;for(;j.sibling===null;){if(j.return===null||j.return===y)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};var Yw=function(v,y,M,O){for(var j=y.child;j!==null;){if(j.tag===5){var $=j.stateNode;M&&O&&($=xn($,j.type,j.memoizedProps,j)),dt(v,$)}else if(j.tag===6)$=j.stateNode,M&&O&&($=Jr($,j.memoizedProps,j)),dt(v,$);else if(j.tag!==4){if(j.tag===22&&j.memoizedState!==null)$=j.child,$!==null&&($.return=j),Yw(v,j,!0,!0);else if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===y)break;for(;j.sibling===null;){if(j.return===null||j.return===y)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};Kc=function(v,y){var M=y.stateNode;if(!Gy(v,y)){v=M.containerInfo;var O=Le(v);Yw(O,y,!1,!1),M.pendingChildren=O,yl(y),_t(v,O)}},Ag=function(v,y,M,O,j){var $=v.stateNode,he=v.memoizedProps;if((v=Gy(v,y))&&he===O)y.stateNode=$;else{var be=y.stateNode,Ke=Va(Us.current),wt=null;he!==O&&(wt=et(be,M,he,O,j,Ke)),v&&wt===null?y.stateNode=$:($=Ye($,wt,M,he,O,y,v,be),Q($,M,O,j,Ke)&&yl(y),y.stateNode=$,v?yl(y):Gr($,y,!1,!1))}},Tg=function(v,y,M,O){M!==O?(v=Va(qc.current),M=Va(Us.current),y.stateNode=Ie(O,v,M,y),yl(y)):y.stateNode=v.stateNode}}else Kc=function(){},Ag=function(){},Tg=function(){};function eh(v,y){if(!wn)switch(v.tailMode){case"hidden":y=v.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?v.tail=null:M.sibling=null;break;case"collapsed":M=v.tail;for(var O=null;M!==null;)M.alternate!==null&&(O=M),M=M.sibling;O===null?y||v.tail===null?v.tail=null:v.tail.sibling=null:O.sibling=null}}function ls(v){var y=v.alternate!==null&&v.alternate.child===v.child,M=0,O=0;if(y)for(var j=v.child;j!==null;)M|=j.lanes|j.childLanes,O|=j.subtreeFlags&14680064,O|=j.flags&14680064,j.return=v,j=j.sibling;else for(j=v.child;j!==null;)M|=j.lanes|j.childLanes,O|=j.subtreeFlags,O|=j.flags,j.return=v,j=j.sibling;return v.subtreeFlags|=O,v.childLanes=M,y}function uM(v,y,M){var O=y.pendingProps;switch(dr(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ls(y),null;case 1:return nn(y.type)&&Yt(),ls(y),null;case 3:return O=y.stateNode,Ql(),Bt(hn),Bt(kt),ud(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(v===null||v.child===null)&&(po(y)?yl(y):v===null||v.memoizedState.isDehydrated&&!(y.flags&256)||(y.flags|=1024,Ii!==null&&(RM(Ii),Ii=null))),Kc(v,y),ls(y),null;case 5:cd(y),M=Va(qc.current);var j=y.type;if(v!==null&&y.stateNode!=null)Ag(v,y,j,O,M),v.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!O){if(y.stateNode===null)throw Error(a(166));return ls(y),null}if(v=Va(Us.current),po(y)){if(!ae)throw Error(a(175));v=Gl(y.stateNode,y.type,y.memoizedProps,M,v,y,!gl),y.updateQueue=v,v!==null&&yl(y)}else{var $=ge(j,O,M,v,y);Gr($,y,!1,!1),y.stateNode=$,Q($,j,O,M,v)&&yl(y)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return ls(y),null;case 6:if(v&&y.stateNode!=null)Tg(v,y,v.memoizedProps,O);else{if(typeof O!="string"&&y.stateNode===null)throw Error(a(166));if(v=Va(qc.current),M=Va(Us.current),po(y)){if(!ae)throw Error(a(176));if(v=y.stateNode,O=y.memoizedProps,(M=Fc(v,O,y,!gl))&&(j=Xn,j!==null))switch($=(j.mode&1)!==0,j.tag){case 3:je(j.stateNode.containerInfo,v,O,$);break;case 5:Ve(j.type,j.memoizedProps,j.stateNode,v,O,$)}M&&yl(y)}else y.stateNode=Ie(O,v,M,y)}return ls(y),null;case 13:if(Bt(Vr),O=y.memoizedState,wn&&Mi!==null&&y.mode&1&&!(y.flags&128)){for(v=Mi;v;)v=qi(v);return Zl(),y.flags|=98560,y}if(O!==null&&O.dehydrated!==null){if(O=po(y),v===null){if(!O)throw Error(a(318));if(!ae)throw Error(a(344));if(v=y.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));Oa(v,y)}else Zl(),!(y.flags&128)&&(y.memoizedState=null),y.flags|=4;return ls(y),null}return Ii!==null&&(RM(Ii),Ii=null),y.flags&128?(y.lanes=M,y):(O=O!==null,M=!1,v===null?po(y):M=v.memoizedState!==null,O&&!M&&(y.child.flags|=8192,y.mode&1&&(v===null||Vr.current&1?cs===0&&(cs=3):kM())),y.updateQueue!==null&&(y.flags|=4),ls(y),null);case 4:return Ql(),Kc(v,y),v===null&&ke(y.stateNode.containerInfo),ls(y),null;case 10:return rd(y.type._context),ls(y),null;case 17:return nn(y.type)&&Yt(),ls(y),null;case 19:if(Bt(Vr),j=y.memoizedState,j===null)return ls(y),null;if(O=(y.flags&128)!==0,$=j.rendering,$===null)if(O)eh(j,!1);else{if(cs!==0||v!==null&&v.flags&128)for(v=y.child;v!==null;){if($=cp(v),$!==null){for(y.flags|=128,eh(j,!1),v=$.updateQueue,v!==null&&(y.updateQueue=v,y.flags|=4),y.subtreeFlags=0,v=M,O=y.child;O!==null;)M=O,j=v,M.flags&=14680066,$=M.alternate,$===null?(M.childLanes=0,M.lanes=j,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=$.childLanes,M.lanes=$.lanes,M.child=$.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=$.memoizedProps,M.memoizedState=$.memoizedState,M.updateQueue=$.updateQueue,M.type=$.type,j=$.dependencies,M.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),O=O.sibling;return Wt(Vr,Vr.current&1|2),y.child}v=v.sibling}j.tail!==null&&mi()>CM&&(y.flags|=128,O=!0,eh(j,!1),y.lanes=4194304)}else{if(!O)if(v=cp($),v!==null){if(y.flags|=128,O=!0,v=v.updateQueue,v!==null&&(y.updateQueue=v,y.flags|=4),eh(j,!0),j.tail===null&&j.tailMode==="hidden"&&!$.alternate&&!wn)return ls(y),null}else 2*mi()-j.renderingStartTime>CM&&M!==1073741824&&(y.flags|=128,O=!0,eh(j,!1),y.lanes=4194304);j.isBackwards?($.sibling=y.child,y.child=$):(v=j.last,v!==null?v.sibling=$:y.child=$,j.last=$)}return j.tail!==null?(y=j.tail,j.rendering=y,j.tail=y.sibling,j.renderingStartTime=mi(),y.sibling=null,v=Vr.current,Wt(Vr,O?v&1|2:v&1),y):(ls(y),null);case 22:case 23:return NM(),O=y.memoizedState!==null,v!==null&&v.memoizedState!==null!==O&&(y.flags|=8192),O&&y.mode&1?Wo&1073741824&&(ls(y),ut&&y.subtreeFlags&6&&(y.flags|=8192)):ls(y),null;case 24:return null;case 25:return null}throw Error(a(156,y.tag))}var uie=o.ReactCurrentOwner,Ho=!1;function Ha(v,y,M,O){y.child=v===null?zw(y,null,M,O):Vo(y,v.child,M,O)}function MF(v,y,M,O,j){M=M.render;var $=y.ref;return Hc(y,j),O=Qu(v,y,M,O,$,j),M=Fy(),v!==null&&!Ho?(y.updateQueue=v.updateQueue,y.flags&=-2053,v.lanes&=~j,th(v,y,j)):(wn&&M&&Gn(y),y.flags|=1,Ha(v,y,O,j),y.child)}function IF(v,y,M,O,j){if(v===null){var $=M.type;return typeof $=="function"&&!DM($)&&$.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(y.tag=15,y.type=$,PF(v,y,$,O,j)):(v=gb(M.type,null,O,y,y.mode,j),v.ref=y.ref,v.return=y,y.child=v)}if($=v.child,!(v.lanes&j)){var he=$.memoizedProps;if(M=M.compare,M=M!==null?M:Xl,M(he,O)&&v.ref===y.ref)return th(v,y,j)}return y.flags|=1,v=_d($,O),v.ref=y.ref,v.return=y,y.child=v}function PF(v,y,M,O,j){if(v!==null&&Xl(v.memoizedProps,O)&&v.ref===y.ref)if(Ho=!1,(v.lanes&j)!==0)v.flags&131072&&(Ho=!0);else return y.lanes=v.lanes,th(v,y,j);return hM(v,y,M,O,j)}function RF(v,y,M){var O=y.pendingProps,j=O.children,$=v!==null?v.memoizedState:null;if(O.mode==="hidden")if(!(y.mode&1))y.memoizedState={baseLanes:0,cachePool:null},Wt(Cg,Wo),Wo|=M;else if(M&1073741824)y.memoizedState={baseLanes:0,cachePool:null},O=$!==null?$.baseLanes:M,Wt(Cg,Wo),Wo|=O;else return v=$!==null?$.baseLanes|M:M,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:v,cachePool:null},y.updateQueue=null,Wt(Cg,Wo),Wo|=v,null;else $!==null?(O=$.baseLanes|M,y.memoizedState=null):O=M,Wt(Cg,Wo),Wo|=O;return Ha(v,y,j,M),y.child}function NF(v,y){var M=y.ref;(v===null&&M!==null||v!==null&&v.ref!==M)&&(y.flags|=512,y.flags|=2097152)}function hM(v,y,M,O,j){var $=nn(M)?Dt:kt.current;return $=Un(y,$),Hc(y,j),M=Qu(v,y,M,O,$,j),O=Fy(),v!==null&&!Ho?(y.updateQueue=v.updateQueue,y.flags&=-2053,v.lanes&=~j,th(v,y,j)):(wn&&O&&Gn(y),y.flags|=1,Ha(v,y,M,j),y.child)}function kF(v,y,M,O,j){if(nn(M)){var $=!0;pi(y)}else $=!1;if(Hc(y,j),y.stateNode===null)v!==null&&(v.alternate=null,y.alternate=null,y.flags|=2),$c(y,M,O),fo(y,M,O,j),O=!0;else if(v===null){var he=y.stateNode,be=y.memoizedProps;he.props=be;var Ke=he.context,wt=M.contextType;typeof wt=="object"&&wt!==null?wt=Wr(wt):(wt=nn(M)?Dt:kt.current,wt=Un(y,wt));var Vt=M.getDerivedStateFromProps,Cn=typeof Vt=="function"||typeof he.getSnapshotBeforeUpdate=="function";Cn||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(be!==O||Ke!==wt)&&Bi(y,he,O,wt),ho=!1;var on=y.memoizedState;he.state=on,Wc(y,O,he,j),Ke=y.memoizedState,be!==O||on!==Ke||hn.current||ho?(typeof Vt=="function"&&(Gc(y,M,Vt,O),Ke=y.memoizedState),(be=ho||sd(y,M,be,O,on,Ke,wt))?(Cn||typeof he.UNSAFE_componentWillMount!="function"&&typeof he.componentWillMount!="function"||(typeof he.componentWillMount=="function"&&he.componentWillMount(),typeof he.UNSAFE_componentWillMount=="function"&&he.UNSAFE_componentWillMount()),typeof he.componentDidMount=="function"&&(y.flags|=4194308)):(typeof he.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=O,y.memoizedState=Ke),he.props=O,he.state=Ke,he.context=wt,O=be):(typeof he.componentDidMount=="function"&&(y.flags|=4194308),O=!1)}else{he=y.stateNode,qu(v,y),be=y.memoizedProps,wt=y.type===y.elementType?be:jr(y.type,be),he.props=wt,Cn=y.pendingProps,on=he.context,Ke=M.contextType,typeof Ke=="object"&&Ke!==null?Ke=Wr(Ke):(Ke=nn(M)?Dt:kt.current,Ke=Un(y,Ke));var zr=M.getDerivedStateFromProps;(Vt=typeof zr=="function"||typeof he.getSnapshotBeforeUpdate=="function")||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(be!==Cn||on!==Ke)&&Bi(y,he,O,Ke),ho=!1,on=y.memoizedState,he.state=on,Wc(y,O,he,j);var Jt=y.memoizedState;be!==Cn||on!==Jt||hn.current||ho?(typeof zr=="function"&&(Gc(y,M,zr,O),Jt=y.memoizedState),(wt=ho||sd(y,M,wt,O,on,Jt,Ke)||!1)?(Vt||typeof he.UNSAFE_componentWillUpdate!="function"&&typeof he.componentWillUpdate!="function"||(typeof he.componentWillUpdate=="function"&&he.componentWillUpdate(O,Jt,Ke),typeof he.UNSAFE_componentWillUpdate=="function"&&he.UNSAFE_componentWillUpdate(O,Jt,Ke)),typeof he.componentDidUpdate=="function"&&(y.flags|=4),typeof he.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof he.componentDidUpdate!="function"||be===v.memoizedProps&&on===v.memoizedState||(y.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||be===v.memoizedProps&&on===v.memoizedState||(y.flags|=1024),y.memoizedProps=O,y.memoizedState=Jt),he.props=O,he.state=Jt,he.context=Ke,O=wt):(typeof he.componentDidUpdate!="function"||be===v.memoizedProps&&on===v.memoizedState||(y.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||be===v.memoizedProps&&on===v.memoizedState||(y.flags|=1024),O=!1)}return dM(v,y,M,O,$,j)}function dM(v,y,M,O,j,$){NF(v,y);var he=(y.flags&128)!==0;if(!O&&!he)return j&&fn(y,M,!1),th(v,y,$);O=y.stateNode,uie.current=y;var be=he&&typeof M.getDerivedStateFromError!="function"?null:O.render();return y.flags|=1,v!==null&&he?(y.child=Vo(y,v.child,null,$),y.child=Vo(y,null,be,$)):Ha(v,y,be,$),y.memoizedState=O.state,j&&fn(y,M,!0),y.child}function DF(v){var y=v.stateNode;y.pendingContext?rr(v,y.pendingContext,y.pendingContext!==y.context):y.context&&rr(v,y.context,!1),lp(v,y.containerInfo)}function OF(v,y,M,O,j){return Zl(),Dy(j),y.flags|=256,Ha(v,y,M,O),y.child}var Kw={dehydrated:null,treeContext:null,retryLane:0};function Zw(v){return{baseLanes:v,cachePool:null}}function LF(v,y,M){var O=y.pendingProps,j=Vr.current,$=!1,he=(y.flags&128)!==0,be;if((be=he)||(be=v!==null&&v.memoizedState===null?!1:(j&2)!==0),be?($=!0,y.flags&=-129):(v===null||v.memoizedState!==null)&&(j|=1),Wt(Vr,j&1),v===null)return od(y),v=y.memoizedState,v!==null&&(v=v.dehydrated,v!==null)?(y.mode&1?is(v)?y.lanes=8:y.lanes=1073741824:y.lanes=1,null):(j=O.children,v=O.fallback,$?(O=y.mode,$=y.child,j={mode:"hidden",children:j},!(O&1)&&$!==null?($.childLanes=0,$.pendingProps=j):$=vb(j,O,0,null),v=xp(v,O,M,null),$.return=y,v.return=y,$.sibling=v,y.child=$,y.child.memoizedState=Zw(M),y.memoizedState=Kw,v):fM(y,j));if(j=v.memoizedState,j!==null){if(be=j.dehydrated,be!==null){if(he)return y.flags&256?(y.flags&=-257,Qw(v,y,M,Error(a(422)))):y.memoizedState!==null?(y.child=v.child,y.flags|=128,null):($=O.fallback,j=y.mode,O=vb({mode:"visible",children:O.children},j,0,null),$=xp($,j,M,null),$.flags|=2,O.return=y,$.return=y,O.sibling=$,y.child=O,y.mode&1&&Vo(y,v.child,null,M),y.child.memoizedState=Zw(M),y.memoizedState=Kw,$);if(!(y.mode&1))y=Qw(v,y,M,null);else if(is(be))y=Qw(v,y,M,Error(a(419)));else if(O=(M&v.childLanes)!==0,Ho||O){if(O=Xi,O!==null){switch(M&-M){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}O=$&(O.suspendedLanes|M)?0:$,O!==0&&O!==j.retryLane&&(j.retryLane=O,xl(v,O,-1))}kM(),y=Qw(v,y,M,Error(a(421)))}else lo(be)?(y.flags|=128,y.child=v.child,y=Sie.bind(null,v),$t(be,y),y=null):(M=j.treeContext,ae&&(Mi=fl(be),Xn=y,wn=!0,Ii=null,gl=!1,M!==null&&(G[te++]=ze,G[te++]=mt,G[te++]=Me,ze=M.id,mt=M.overflow,Me=y)),y=fM(y,y.pendingProps.children),y.flags|=4096);return y}return $?(O=BF(v,y,O.children,O.fallback,M),$=y.child,j=v.child.memoizedState,$.memoizedState=j===null?Zw(M):{baseLanes:j.baseLanes|M,cachePool:null},$.childLanes=v.childLanes&~M,y.memoizedState=Kw,O):(M=FF(v,y,O.children,M),y.memoizedState=null,M)}return $?(O=BF(v,y,O.children,O.fallback,M),$=y.child,j=v.child.memoizedState,$.memoizedState=j===null?Zw(M):{baseLanes:j.baseLanes|M,cachePool:null},$.childLanes=v.childLanes&~M,y.memoizedState=Kw,O):(M=FF(v,y,O.children,M),y.memoizedState=null,M)}function fM(v,y){return y=vb({mode:"visible",children:y},v.mode,0,null),y.return=v,v.child=y}function FF(v,y,M,O){var j=v.child;return v=j.sibling,M=_d(j,{mode:"visible",children:M}),!(y.mode&1)&&(M.lanes=O),M.return=y,M.sibling=null,v!==null&&(O=y.deletions,O===null?(y.deletions=[v],y.flags|=16):O.push(v)),y.child=M}function BF(v,y,M,O,j){var $=y.mode;v=v.child;var he=v.sibling,be={mode:"hidden",children:M};return!($&1)&&y.child!==v?(M=y.child,M.childLanes=0,M.pendingProps=be,y.deletions=null):(M=_d(v,be),M.subtreeFlags=v.subtreeFlags&14680064),he!==null?O=_d(he,O):(O=xp(O,$,j,null),O.flags|=2),O.return=y,M.return=y,M.sibling=O,y.child=M,O}function Qw(v,y,M,O){return O!==null&&Dy(O),Vo(y,v.child,null,M),v=fM(y,y.pendingProps.children),v.flags|=2,y.memoizedState=null,v}function UF(v,y,M){v.lanes|=y;var O=v.alternate;O!==null&&(O.lanes|=y),pl(v.return,y,M)}function pM(v,y,M,O,j){var $=v.memoizedState;$===null?v.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:O,tail:M,tailMode:j}:($.isBackwards=y,$.rendering=null,$.renderingStartTime=0,$.last=O,$.tail=M,$.tailMode=j)}function jF(v,y,M){var O=y.pendingProps,j=O.revealOrder,$=O.tail;if(Ha(v,y,O.children,M),O=Vr.current,O&2)O=O&1|2,y.flags|=128;else{if(v!==null&&v.flags&128)e:for(v=y.child;v!==null;){if(v.tag===13)v.memoizedState!==null&&UF(v,M,y);else if(v.tag===19)UF(v,M,y);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===y)break e;for(;v.sibling===null;){if(v.return===null||v.return===y)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}O&=1}if(Wt(Vr,O),!(y.mode&1))y.memoizedState=null;else switch(j){case"forwards":for(M=y.child,j=null;M!==null;)v=M.alternate,v!==null&&cp(v)===null&&(j=M),M=M.sibling;M=j,M===null?(j=y.child,y.child=null):(j=M.sibling,M.sibling=null),pM(y,!1,j,M,$);break;case"backwards":for(M=null,j=y.child,y.child=null;j!==null;){if(v=j.alternate,v!==null&&cp(v)===null){y.child=j;break}v=j.sibling,j.sibling=M,M=j,j=v}pM(y,!0,M,null,$);break;case"together":pM(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function th(v,y,M){if(v!==null&&(y.dependencies=v.dependencies),Mg|=y.lanes,!(M&y.childLanes))return null;if(v!==null&&y.child!==v.child)throw Error(a(153));if(y.child!==null){for(v=y.child,M=_d(v,v.pendingProps),y.child=M,M.return=y;v.sibling!==null;)v=v.sibling,M=M.sibling=_d(v,v.pendingProps),M.return=y;M.sibling=null}return y.child}function hie(v,y,M){switch(y.tag){case 3:DF(y),Zl();break;case 5:Ku(y);break;case 1:nn(y.type)&&pi(y);break;case 4:lp(y,y.stateNode.containerInfo);break;case 10:$u(y,y.type._context,y.memoizedProps.value);break;case 13:var O=y.memoizedState;if(O!==null)return O.dehydrated!==null?(Wt(Vr,Vr.current&1),y.flags|=128,null):M&y.child.childLanes?LF(v,y,M):(Wt(Vr,Vr.current&1),v=th(v,y,M),v!==null?v.sibling:null);Wt(Vr,Vr.current&1);break;case 19:if(O=(M&y.childLanes)!==0,v.flags&128){if(O)return jF(v,y,M);y.flags|=128}var j=y.memoizedState;if(j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Wt(Vr,Vr.current),O)break;return null;case 22:case 23:return y.lanes=0,RF(v,y,M)}return th(v,y,M)}function die(v,y){switch(dr(y),y.tag){case 1:return nn(y.type)&&Yt(),v=y.flags,v&65536?(y.flags=v&-65537|128,y):null;case 3:return Ql(),Bt(hn),Bt(kt),ud(),v=y.flags,v&65536&&!(v&128)?(y.flags=v&-65537|128,y):null;case 5:return cd(y),null;case 13:if(Bt(Vr),v=y.memoizedState,v!==null&&v.dehydrated!==null){if(y.alternate===null)throw Error(a(340));Zl()}return v=y.flags,v&65536?(y.flags=v&-65537|128,y):null;case 19:return Bt(Vr),null;case 4:return Ql(),null;case 10:return rd(y.type._context),null;case 22:case 23:return NM(),null;case 24:return null;default:return null}}var Jw=!1,pp=!1,fie=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function eb(v,y){var M=v.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(O){yo(v,y,O)}else M.current=null}function mM(v,y,M){try{M()}catch(O){yo(v,y,O)}}var VF=!1;function pie(v,y){for(ue(v.containerInfo),Mt=y;Mt!==null;)if(v=Mt,y=v.child,(v.subtreeFlags&1028)!==0&&y!==null)y.return=v,Mt=y;else for(;Mt!==null;){v=Mt;try{var M=v.alternate;if(v.flags&1024)switch(v.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var O=M.memoizedProps,j=M.memoizedState,$=v.stateNode,he=$.getSnapshotBeforeUpdate(v.elementType===v.type?O:jr(v.type,O),j);$.__reactInternalSnapshotBeforeUpdate=he}break;case 3:ut&&Xe(v.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(be){yo(v,v.return,be)}if(y=v.sibling,y!==null){y.return=v.return,Mt=y;break}Mt=v.return}return M=VF,VF=!1,M}function mp(v,y,M){var O=y.updateQueue;if(O=O!==null?O.lastEffect:null,O!==null){var j=O=O.next;do{if((j.tag&v)===v){var $=j.destroy;j.destroy=void 0,$!==void 0&&mM(y,M,$)}j=j.next}while(j!==O)}}function $y(v,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var M=y=y.next;do{if((M.tag&v)===v){var O=M.create;M.destroy=O()}M=M.next}while(M!==y)}}function gM(v){var y=v.ref;if(y!==null){var M=v.stateNode;switch(v.tag){case 5:v=se(M);break;default:v=M}typeof y=="function"?y(v):y.current=v}}function zF(v,y,M){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(jo,y)}catch{}switch(y.tag){case 0:case 11:case 14:case 15:if(v=y.updateQueue,v!==null&&(v=v.lastEffect,v!==null)){var O=v=v.next;do{var j=O,$=j.destroy;j=j.tag,$!==void 0&&(j&2||j&4)&&mM(y,M,$),O=O.next}while(O!==v)}break;case 1:if(eb(y,M),v=y.stateNode,typeof v.componentWillUnmount=="function")try{v.props=y.memoizedProps,v.state=y.memoizedState,v.componentWillUnmount()}catch(he){yo(y,M,he)}break;case 5:eb(y,M);break;case 4:ut?XF(v,y,M):Be&&Be&&(y=y.stateNode.containerInfo,M=Le(y),En(y,M))}}function HF(v,y,M){for(var O=y;;)if(zF(v,O,M),O.child===null||ut&&O.tag===4){if(O===y)break;for(;O.sibling===null;){if(O.return===null||O.return===y)return;O=O.return}O.sibling.return=O.return,O=O.sibling}else O.child.return=O,O=O.child}function WF(v){var y=v.alternate;y!==null&&(v.alternate=null,WF(y)),v.child=null,v.deletions=null,v.sibling=null,v.tag===5&&(y=v.stateNode,y!==null&&We(y)),v.stateNode=null,v.return=null,v.dependencies=null,v.memoizedProps=null,v.memoizedState=null,v.pendingProps=null,v.stateNode=null,v.updateQueue=null}function GF(v){return v.tag===5||v.tag===3||v.tag===4}function $F(v){e:for(;;){for(;v.sibling===null;){if(v.return===null||GF(v.return))return null;v=v.return}for(v.sibling.return=v.return,v=v.sibling;v.tag!==5&&v.tag!==6&&v.tag!==18;){if(v.flags&2||v.child===null||v.tag===4)continue e;v.child.return=v,v=v.child}if(!(v.flags&2))return v.stateNode}}function qF(v){if(ut){e:{for(var y=v.return;y!==null;){if(GF(y))break e;y=y.return}throw Error(a(160))}var M=y;switch(M.tag){case 5:y=M.stateNode,M.flags&32&&(Pe(y),M.flags&=-33),M=$F(v),yM(v,M,y);break;case 3:case 4:y=M.stateNode.containerInfo,M=$F(v),vM(v,M,y);break;default:throw Error(a(161))}}}function vM(v,y,M){var O=v.tag;if(O===5||O===6)v=v.stateNode,y?pt(M,v,y):at(M,v);else if(O!==4&&(v=v.child,v!==null))for(vM(v,y,M),v=v.sibling;v!==null;)vM(v,y,M),v=v.sibling}function yM(v,y,M){var O=v.tag;if(O===5||O===6)v=v.stateNode,y?it(M,v,y):_e(M,v);else if(O!==4&&(v=v.child,v!==null))for(yM(v,y,M),v=v.sibling;v!==null;)yM(v,y,M),v=v.sibling}function XF(v,y,M){for(var O=y,j=!1,$,he;;){if(!j){j=O.return;e:for(;;){if(j===null)throw Error(a(160));switch($=j.stateNode,j.tag){case 5:he=!1;break e;case 3:$=$.containerInfo,he=!0;break e;case 4:$=$.containerInfo,he=!0;break e}j=j.return}j=!0}if(O.tag===5||O.tag===6)HF(v,O,M),he?de($,O.stateNode):Nt($,O.stateNode);else if(O.tag===18)he?ee($,O.stateNode):zu($,O.stateNode);else if(O.tag===4){if(O.child!==null){$=O.stateNode.containerInfo,he=!0,O.child.return=O,O=O.child;continue}}else if(zF(v,O,M),O.child!==null){O.child.return=O,O=O.child;continue}if(O===y)break;for(;O.sibling===null;){if(O.return===null||O.return===y)return;O=O.return,O.tag===4&&(j=!1)}O.sibling.return=O.return,O=O.sibling}}function xM(v,y){if(ut){switch(y.tag){case 0:case 11:case 14:case 15:mp(3,y,y.return),$y(3,y),mp(5,y,y.return);return;case 1:return;case 5:var M=y.stateNode;if(M!=null){var O=y.memoizedProps;v=v!==null?v.memoizedProps:O;var j=y.type,$=y.updateQueue;y.updateQueue=null,$!==null&&bt(M,$,j,v,O,y)}return;case 6:if(y.stateNode===null)throw Error(a(162));M=y.memoizedProps,qe(y.stateNode,v!==null?v.memoizedProps:M,M);return;case 3:ae&&v!==null&&v.memoizedState.isDehydrated&&Vu(y.stateNode.containerInfo);return;case 12:return;case 13:tb(y);return;case 19:tb(y);return;case 17:return}throw Error(a(163))}switch(y.tag){case 0:case 11:case 14:case 15:mp(3,y,y.return),$y(3,y),mp(5,y,y.return);return;case 12:return;case 13:tb(y);return;case 19:tb(y);return;case 3:ae&&v!==null&&v.memoizedState.isDehydrated&&Vu(y.stateNode.containerInfo);break;case 22:case 23:return}e:if(Be){switch(y.tag){case 1:case 5:case 6:break e;case 3:case 4:y=y.stateNode,En(y.containerInfo,y.pendingChildren);break e}throw Error(a(163))}}function tb(v){var y=v.updateQueue;if(y!==null){v.updateQueue=null;var M=v.stateNode;M===null&&(M=v.stateNode=new fie),y.forEach(function(O){var j=Eie.bind(null,v,O);M.has(O)||(M.add(O),O.then(j,j))})}}function mie(v,y){for(Mt=y;Mt!==null;){y=Mt;var M=y.deletions;if(M!==null)for(var O=0;O<M.length;O++){var j=M[O];try{var $=v;ut?XF($,j,y):HF($,j,y);var he=j.alternate;he!==null&&(he.return=null),j.return=null}catch(Qt){yo(j,y,Qt)}}if(M=y.child,y.subtreeFlags&12854&&M!==null)M.return=y,Mt=M;else for(;Mt!==null;){y=Mt;try{var be=y.flags;if(be&32&&ut&&Pe(y.stateNode),be&512){var Ke=y.alternate;if(Ke!==null){var wt=Ke.ref;wt!==null&&(typeof wt=="function"?wt(null):wt.current=null)}}if(be&8192)switch(y.tag){case 13:if(y.memoizedState!==null){var Vt=y.alternate;(Vt===null||Vt.memoizedState===null)&&(TM=mi())}break;case 22:var Cn=y.memoizedState!==null,on=y.alternate,zr=on!==null&&on.memoizedState!==null;if(M=y,ut){e:if(O=M,j=Cn,$=null,ut)for(var Jt=O;;){if(Jt.tag===5){if($===null){$=Jt;var ha=Jt.stateNode;j?lt(ha):tt(Jt.stateNode,Jt.memoizedProps)}}else if(Jt.tag===6){if($===null){var wl=Jt.stateNode;j?fe(wl):ve(wl,Jt.memoizedProps)}}else if((Jt.tag!==22&&Jt.tag!==23||Jt.memoizedState===null||Jt===O)&&Jt.child!==null){Jt.child.return=Jt,Jt=Jt.child;continue}if(Jt===O)break;for(;Jt.sibling===null;){if(Jt.return===null||Jt.return===O)break e;$===Jt&&($=null),Jt=Jt.return}$===Jt&&($=null),Jt.sibling.return=Jt.return,Jt=Jt.sibling}}if(Cn&&!zr&&M.mode&1){Mt=M;for(var Ue=M.child;Ue!==null;){for(M=Mt=Ue;Mt!==null;){O=Mt;var Ce=O.child;switch(O.tag){case 0:case 11:case 14:case 15:mp(4,O,O.return);break;case 1:eb(O,O.return);var Ge=O.stateNode;if(typeof Ge.componentWillUnmount=="function"){var Rt=O.return;try{Ge.props=O.memoizedProps,Ge.state=O.memoizedState,Ge.componentWillUnmount()}catch(Qt){yo(O,Rt,Qt)}}break;case 5:eb(O,O.return);break;case 22:if(O.memoizedState!==null){ZF(M);continue}}Ce!==null?(Ce.return=O,Mt=Ce):ZF(M)}Ue=Ue.sibling}}}switch(be&4102){case 2:qF(y),y.flags&=-3;break;case 6:qF(y),y.flags&=-3,xM(y.alternate,y);break;case 4096:y.flags&=-4097;break;case 4100:y.flags&=-4097,xM(y.alternate,y);break;case 4:xM(y.alternate,y)}}catch(Qt){yo(y,y.return,Qt)}if(M=y.sibling,M!==null){M.return=y.return,Mt=M;break}Mt=y.return}}}function gie(v,y,M){Mt=v,YF(v)}function YF(v,y,M){for(var O=(v.mode&1)!==0;Mt!==null;){var j=Mt,$=j.child;if(j.tag===22&&O){var he=j.memoizedState!==null||Jw;if(!he){var be=j.alternate,Ke=be!==null&&be.memoizedState!==null||pp;be=Jw;var wt=pp;if(Jw=he,(pp=Ke)&&!wt)for(Mt=j;Mt!==null;)he=Mt,Ke=he.child,he.tag===22&&he.memoizedState!==null?QF(j):Ke!==null?(Ke.return=he,Mt=Ke):QF(j);for(;$!==null;)Mt=$,YF($),$=$.sibling;Mt=j,Jw=be,pp=wt}KF(v)}else j.subtreeFlags&8772&&$!==null?($.return=j,Mt=$):KF(v)}}function KF(v){for(;Mt!==null;){var y=Mt;if(y.flags&8772){var M=y.alternate;try{if(y.flags&8772)switch(y.tag){case 0:case 11:case 15:pp||$y(5,y);break;case 1:var O=y.stateNode;if(y.flags&4&&!pp)if(M===null)O.componentDidMount();else{var j=y.elementType===y.type?M.memoizedProps:jr(y.type,M.memoizedProps);O.componentDidUpdate(j,M.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var $=y.updateQueue;$!==null&&ml(y,$,O);break;case 3:var he=y.updateQueue;if(he!==null){if(M=null,y.child!==null)switch(y.child.tag){case 5:M=se(y.child.stateNode);break;case 1:M=y.child.stateNode}ml(y,he,M)}break;case 5:var be=y.stateNode;M===null&&y.flags&4&&xt(be,y.type,y.memoizedProps,y);break;case 6:break;case 4:break;case 12:break;case 13:if(ae&&y.memoizedState===null){var Ke=y.alternate;if(Ke!==null){var wt=Ke.memoizedState;if(wt!==null){var Vt=wt.dehydrated;Vt!==null&&Zh(Vt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}pp||y.flags&512&&gM(y)}catch(Cn){yo(y,y.return,Cn)}}if(y===v){Mt=null;break}if(M=y.sibling,M!==null){M.return=y.return,Mt=M;break}Mt=y.return}}function ZF(v){for(;Mt!==null;){var y=Mt;if(y===v){Mt=null;break}var M=y.sibling;if(M!==null){M.return=y.return,Mt=M;break}Mt=y.return}}function QF(v){for(;Mt!==null;){var y=Mt;try{switch(y.tag){case 0:case 11:case 15:var M=y.return;try{$y(4,y)}catch(Ke){yo(y,M,Ke)}break;case 1:var O=y.stateNode;if(typeof O.componentDidMount=="function"){var j=y.return;try{O.componentDidMount()}catch(Ke){yo(y,j,Ke)}}var $=y.return;try{gM(y)}catch(Ke){yo(y,$,Ke)}break;case 5:var he=y.return;try{gM(y)}catch(Ke){yo(y,he,Ke)}}}catch(Ke){yo(y,y.return,Ke)}if(y===v){Mt=null;break}var be=y.sibling;if(be!==null){be.return=y.return,Mt=be;break}Mt=y.return}}var nb=0,rb=1,ib=2,sb=3,ab=4;if(typeof Symbol=="function"&&Symbol.for){var qy=Symbol.for;nb=qy("selector.component"),rb=qy("selector.has_pseudo_class"),ib=qy("selector.role"),sb=qy("selector.test_id"),ab=qy("selector.text")}function _M(v){var y=Re(v);if(y!=null){if(typeof y.memoizedProps["data-testname"]!="string")throw Error(a(364));return y}if(v=ot(v),v===null)throw Error(a(362));return v.stateNode.current}function wM(v,y){switch(y.$$typeof){case nb:if(v.type===y.value)return!0;break;case rb:e:{y=y.value,v=[v,0];for(var M=0;M<v.length;){var O=v[M++],j=v[M++],$=y[j];if(O.tag!==5||!Y(O)){for(;$!=null&&wM(O,$);)j++,$=y[j];if(j===y.length){y=!0;break e}else for(O=O.child;O!==null;)v.push(O,j),O=O.sibling}}y=!1}return y;case ib:if(v.tag===5&&xe(v.stateNode,y.value))return!0;break;case ab:if((v.tag===5||v.tag===6)&&(v=ie(v),v!==null&&0<=v.indexOf(y.value)))return!0;break;case sb:if(v.tag===5&&(v=v.memoizedProps["data-testname"],typeof v=="string"&&v.toLowerCase()===y.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function bM(v){switch(v.$$typeof){case nb:return"<"+(I(v.value)||"Unknown")+">";case rb:return":has("+(bM(v)||"")+")";case ib:return'[role="'+v.value+'"]';case ab:return'"'+v.value+'"';case sb:return'[data-testname="'+v.value+'"]';default:throw Error(a(365))}}function JF(v,y){var M=[];v=[v,0];for(var O=0;O<v.length;){var j=v[O++],$=v[O++],he=y[$];if(j.tag!==5||!Y(j)){for(;he!=null&&wM(j,he);)$++,he=y[$];if($===y.length)M.push(j);else for(j=j.child;j!==null;)v.push(j,$),j=j.sibling}}return M}function SM(v,y){if(!Fe)throw Error(a(363));v=_M(v),v=JF(v,y),y=[],v=Array.from(v);for(var M=0;M<v.length;){var O=v[M++];if(O.tag===5)Y(O)||y.push(O.stateNode);else for(O=O.child;O!==null;)v.push(O),O=O.sibling}return y}var vie=Math.ceil,ob=o.ReactCurrentDispatcher,EM=o.ReactCurrentOwner,Ui=o.ReactCurrentBatchConfig,Vn=0,Xi=null,Yi=null,Vs=0,Wo=0,Cg=Ft(0),cs=0,Xy=null,Mg=0,lb=0,AM=0,Yy=null,go=null,TM=0,CM=1/0;function Ig(){CM=mi()+500}var cb=!1,MM=null,gd=null,ub=!1,vd=null,hb=0,Ky=0,IM=null,db=-1,fb=0;function Wa(){return Vn&6?mi():db!==-1?db:db=mi()}function yd(v){return v.mode&1?Vn&2&&Vs!==0?Vs&-Vs:jn.transition!==null?(fb===0&&(v=Fi,Fi<<=1,!(Fi&4194240)&&(Fi=64),fb=v),fb):(v=Wn,v!==0?v:$e()):1}function xl(v,y,M){if(50<Ky)throw Ky=0,IM=null,Error(a(185));var O=pb(v,y);return O===null?null:($l(O,y,M),(!(Vn&2)||O!==Xi)&&(O===Xi&&(!(Vn&2)&&(lb|=y),cs===4&&xd(O,Vs)),vo(O,M),y===1&&Vn===0&&!(v.mode&1)&&(Ig(),Cr&&ia())),O)}function pb(v,y){v.lanes|=y;var M=v.alternate;for(M!==null&&(M.lanes|=y),M=v,v=v.return;v!==null;)v.childLanes|=y,M=v.alternate,M!==null&&(M.childLanes|=y),M=v,v=v.return;return M.tag===3?M.stateNode:null}function vo(v,y){var M=v.callbackNode;sp(v,y);var O=Bc(v,v===Xi?Vs:0);if(O===0)M!==null&&an(M),v.callbackNode=null,v.callbackPriority=0;else if(y=O&-O,v.callbackPriority!==y){if(M!=null&&an(M),y===1)v.tag===0?yg(t6.bind(null,v)):ed(t6.bind(null,v)),ne?Ae(function(){Vn===0&&ia()}):Qh(ta,ia),M=null;else{switch(Wu(O)){case 1:M=ta;break;case 4:M=ap;break;case 16:M=Gu;break;case 536870912:M=uo;break;default:M=Gu}M=u6(M,e6.bind(null,v))}v.callbackPriority=y,v.callbackNode=M}}function e6(v,y){if(db=-1,fb=0,Vn&6)throw Error(a(327));var M=v.callbackNode;if(yp()&&v.callbackNode!==M)return null;var O=Bc(v,v===Xi?Vs:0);if(O===0)return null;if(O&30||O&v.expiredLanes||y)y=mb(v,O);else{y=O;var j=Vn;Vn|=2;var $=i6();(Xi!==v||Vs!==y)&&(Ig(),gp(v,y));do try{_ie();break}catch(be){r6(v,be)}while(!0);zc(),ob.current=$,Vn=j,Yi!==null?y=0:(Xi=null,Vs=0,y=cs)}if(y!==0){if(y===2&&(j=Hu(v),j!==0&&(O=j,y=PM(v,j))),y===1)throw M=Xy,gp(v,0),xd(v,O),vo(v,mi()),M;if(y===6)xd(v,O);else{if(j=v.current.alternate,!(O&30)&&!yie(j)&&(y=mb(v,O),y===2&&($=Hu(v),$!==0&&(O=$,y=PM(v,$))),y===1))throw M=Xy,gp(v,0),xd(v,O),vo(v,mi()),M;switch(v.finishedWork=j,v.finishedLanes=O,y){case 0:case 1:throw Error(a(345));case 2:vp(v,go);break;case 3:if(xd(v,O),(O&130023424)===O&&(y=TM+500-mi(),10<y)){if(Bc(v,0)!==0)break;if(j=v.suspendedLanes,(j&O)!==O){Wa(),v.pingedLanes|=v.suspendedLanes&j;break}v.timeoutHandle=Se(vp.bind(null,v,go),y);break}vp(v,go);break;case 4:if(xd(v,O),(O&4194240)===O)break;for(y=v.eventTimes,j=-1;0<O;){var he=31-vr(O);$=1<<he,he=y[he],he>j&&(j=he),O&=~$}if(O=j,O=mi()-O,O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3e3>O?3e3:4320>O?4320:1960*vie(O/1960))-O,10<O){v.timeoutHandle=Se(vp.bind(null,v,go),O);break}vp(v,go);break;case 5:vp(v,go);break;default:throw Error(a(329))}}}return vo(v,mi()),v.callbackNode===M?e6.bind(null,v):null}function PM(v,y){var M=Yy;return v.current.memoizedState.isDehydrated&&(gp(v,y).flags|=256),v=mb(v,y),v!==2&&(y=go,go=M,y!==null&&RM(y)),v}function RM(v){go===null?go=v:go.push.apply(go,v)}function yie(v){for(var y=v;;){if(y.flags&16384){var M=y.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var O=0;O<M.length;O++){var j=M[O],$=j.getSnapshot;j=j.value;try{if(!na($(),j))return!1}catch{return!1}}}if(M=y.child,y.subtreeFlags&16384&&M!==null)M.return=y,y=M;else{if(y===v)break;for(;y.sibling===null;){if(y.return===null||y.return===v)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function xd(v,y){for(y&=~AM,y&=~lb,v.suspendedLanes|=y,v.pingedLanes&=~y,v=v.expirationTimes;0<y;){var M=31-vr(y),O=1<<M;v[M]=-1,y&=~O}}function t6(v){if(Vn&6)throw Error(a(327));yp();var y=Bc(v,0);if(!(y&1))return vo(v,mi()),null;var M=mb(v,y);if(v.tag!==0&&M===2){var O=Hu(v);O!==0&&(y=O,M=PM(v,O))}if(M===1)throw M=Xy,gp(v,0),xd(v,y),vo(v,mi()),M;if(M===6)throw Error(a(345));return v.finishedWork=v.current.alternate,v.finishedLanes=y,vp(v,go),vo(v,mi()),null}function n6(v){vd!==null&&vd.tag===0&&!(Vn&6)&&yp();var y=Vn;Vn|=1;var M=Ui.transition,O=Wn;try{if(Ui.transition=null,Wn=1,v)return v()}finally{Wn=O,Ui.transition=M,Vn=y,!(Vn&6)&&ia()}}function NM(){Wo=Cg.current,Bt(Cg)}function gp(v,y){v.finishedWork=null,v.finishedLanes=0;var M=v.timeoutHandle;if(M!==Qe&&(v.timeoutHandle=Qe,Je(M)),Yi!==null)for(M=Yi.return;M!==null;){var O=M;switch(dr(O),O.tag){case 1:O=O.type.childContextTypes,O!=null&&Yt();break;case 3:Ql(),Bt(hn),Bt(kt),ud();break;case 5:cd(O);break;case 4:Ql();break;case 13:Bt(Vr);break;case 19:Bt(Vr);break;case 10:rd(O.type._context);break;case 22:case 23:NM()}M=M.return}if(Xi=v,Yi=v=_d(v.current,null),Vs=Wo=y,cs=0,Xy=null,AM=lb=Mg=0,go=Yy=null,bs!==null){for(y=0;y<bs.length;y++)if(M=bs[y],O=M.interleaved,O!==null){M.interleaved=null;var j=O.next,$=M.pending;if($!==null){var he=$.next;$.next=j,O.next=he}M.pending=O}bs=null}return v}function r6(v,y){do{var M=Yi;try{if(zc(),wg.current=Ct,Zu){for(var O=ti.memoizedState;O!==null;){var j=O.queue;j!==null&&(j.pending=null),O=O.next}Zu=!1}if(hd=0,Mr=Ss=ti=null,up=!1,Xc=0,EM.current=null,M===null||M.return===null){cs=1,Xy=y,Yi=null;break}e:{var $=v,he=M.return,be=M,Ke=y;if(y=Vs,be.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var wt=Ke,Vt=be,Cn=Vt.tag;if(!(Vt.mode&1)&&(Cn===0||Cn===11||Cn===15)){var on=Vt.alternate;on?(Vt.updateQueue=on.updateQueue,Vt.memoizedState=on.memoizedState,Vt.lanes=on.lanes):(Vt.updateQueue=null,Vt.memoizedState=null)}var zr=Xw(he);if(zr!==null){zr.flags&=-257,Wy(zr,he,be,$,y),zr.mode&1&&qw($,wt,y),y=zr,Ke=wt;var Jt=y.updateQueue;if(Jt===null){var ha=new Set;ha.add(Ke),y.updateQueue=ha}else Jt.add(Ke);break e}else{if(!(y&1)){qw($,wt,y),kM();break e}Ke=Error(a(426))}}else if(wn&&be.mode&1){var wl=Xw(he);if(wl!==null){!(wl.flags&65536)&&(wl.flags|=256),Wy(wl,he,be,$,y),Dy(Ke);break e}}$=Ke,cs!==4&&(cs=2),Yy===null?Yy=[$]:Yy.push($),Ke=Pi(Ke,be),be=he;do{switch(be.tag){case 3:be.flags|=65536,y&=-y,be.lanes|=y;var Ue=Ju(be,Ke,y);id(be,Ue);break e;case 1:$=Ke;var Ce=be.type,Ge=be.stateNode;if(!(be.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(gd===null||!gd.has(Ge)))){be.flags|=65536,y&=-y,be.lanes|=y;var Rt=$w(be,$,y);id(be,Rt);break e}}be=be.return}while(be!==null)}a6(M)}catch(Qt){y=Qt,Yi===M&&M!==null&&(Yi=M=M.return);continue}break}while(!0)}function i6(){var v=ob.current;return ob.current=Ct,v===null?Ct:v}function kM(){(cs===0||cs===3||cs===2)&&(cs=4),Xi===null||!(Mg&268435455)&&!(lb&268435455)||xd(Xi,Vs)}function mb(v,y){var M=Vn;Vn|=2;var O=i6();Xi===v&&Vs===y||gp(v,y);do try{xie();break}catch(j){r6(v,j)}while(!0);if(zc(),Vn=M,ob.current=O,Yi!==null)throw Error(a(261));return Xi=null,Vs=0,cs}function xie(){for(;Yi!==null;)s6(Yi)}function _ie(){for(;Yi!==null&&!co();)s6(Yi)}function s6(v){var y=c6(v.alternate,v,Wo);v.memoizedProps=v.pendingProps,y===null?a6(v):Yi=y,EM.current=null}function a6(v){var y=v;do{var M=y.alternate;if(v=y.return,y.flags&32768){if(M=die(M,y),M!==null){M.flags&=32767,Yi=M;return}if(v!==null)v.flags|=32768,v.subtreeFlags=0,v.deletions=null;else{cs=6,Yi=null;return}}else if(M=uM(M,y,Wo),M!==null){Yi=M;return}if(y=y.sibling,y!==null){Yi=y;return}Yi=y=v}while(y!==null);cs===0&&(cs=5)}function vp(v,y){var M=Wn,O=Ui.transition;try{Ui.transition=null,Wn=1,wie(v,y,M)}finally{Ui.transition=O,Wn=M}return null}function wie(v,y,M){do yp();while(vd!==null);if(Vn&6)throw Error(a(327));var O=v.finishedWork,j=v.finishedLanes;if(O===null)return null;if(v.finishedWork=null,v.finishedLanes=0,O===v.current)throw Error(a(177));v.callbackNode=null,v.callbackPriority=0;var $=O.lanes|O.childLanes;if(ql(v,$),v===Xi&&(Yi=Xi=null,Vs=0),!(O.subtreeFlags&2064)&&!(O.flags&2064)||ub||(ub=!0,u6(Gu,function(){return yp(),null})),$=(O.flags&15990)!==0,O.subtreeFlags&15990||$){$=Ui.transition,Ui.transition=null;var he=Wn;Wn=1;var be=Vn;Vn|=4,EM.current=null,pie(v,O),mie(v,O),q(v.containerInfo),v.current=O,gie(O),br(),Vn=be,Wn=he,Ui.transition=$}else v.current=O;if(ub&&(ub=!1,vd=v,hb=j),$=v.pendingLanes,$===0&&(gd=null),ei(O.stateNode),vo(v,mi()),y!==null)for(M=v.onRecoverableError,O=0;O<y.length;O++)M(y[O]);if(cb)throw cb=!1,v=MM,MM=null,v;return hb&1&&v.tag!==0&&yp(),$=v.pendingLanes,$&1?v===IM?Ky++:(Ky=0,IM=v):Ky=0,ia(),null}function yp(){if(vd!==null){var v=Wu(hb),y=Ui.transition,M=Wn;try{if(Ui.transition=null,Wn=16>v?16:v,vd===null)var O=!1;else{if(v=vd,vd=null,hb=0,Vn&6)throw Error(a(331));var j=Vn;for(Vn|=4,Mt=v.current;Mt!==null;){var $=Mt,he=$.child;if(Mt.flags&16){var be=$.deletions;if(be!==null){for(var Ke=0;Ke<be.length;Ke++){var wt=be[Ke];for(Mt=wt;Mt!==null;){var Vt=Mt;switch(Vt.tag){case 0:case 11:case 15:mp(8,Vt,$)}var Cn=Vt.child;if(Cn!==null)Cn.return=Vt,Mt=Cn;else for(;Mt!==null;){Vt=Mt;var on=Vt.sibling,zr=Vt.return;if(WF(Vt),Vt===wt){Mt=null;break}if(on!==null){on.return=zr,Mt=on;break}Mt=zr}}}var Jt=$.alternate;if(Jt!==null){var ha=Jt.child;if(ha!==null){Jt.child=null;do{var wl=ha.sibling;ha.sibling=null,ha=wl}while(ha!==null)}}Mt=$}}if($.subtreeFlags&2064&&he!==null)he.return=$,Mt=he;else e:for(;Mt!==null;){if($=Mt,$.flags&2048)switch($.tag){case 0:case 11:case 15:mp(9,$,$.return)}var Ue=$.sibling;if(Ue!==null){Ue.return=$.return,Mt=Ue;break e}Mt=$.return}}var Ce=v.current;for(Mt=Ce;Mt!==null;){he=Mt;var Ge=he.child;if(he.subtreeFlags&2064&&Ge!==null)Ge.return=he,Mt=Ge;else e:for(he=Ce;Mt!==null;){if(be=Mt,be.flags&2048)try{switch(be.tag){case 0:case 11:case 15:$y(9,be)}}catch(Qt){yo(be,be.return,Qt)}if(be===he){Mt=null;break e}var Rt=be.sibling;if(Rt!==null){Rt.return=be.return,Mt=Rt;break e}Mt=be.return}}if(Vn=j,ia(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(jo,v)}catch{}O=!0}return O}finally{Wn=M,Ui.transition=y}}return!1}function o6(v,y,M){y=Pi(M,y),y=Ju(v,y,1),Ua(v,y),y=Wa(),v=pb(v,1),v!==null&&($l(v,1,y),vo(v,y))}function yo(v,y,M){if(v.tag===3)o6(v,v,M);else for(;y!==null;){if(y.tag===3){o6(y,v,M);break}else if(y.tag===1){var O=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(gd===null||!gd.has(O))){v=Pi(M,v),v=$w(y,v,1),Ua(y,v),v=Wa(),y=pb(y,1),y!==null&&($l(y,1,v),vo(y,v));break}}y=y.return}}function bie(v,y,M){var O=v.pingCache;O!==null&&O.delete(y),y=Wa(),v.pingedLanes|=v.suspendedLanes&M,Xi===v&&(Vs&M)===M&&(cs===4||cs===3&&(Vs&130023424)===Vs&&500>mi()-TM?gp(v,0):AM|=M),vo(v,y)}function l6(v,y){y===0&&(v.mode&1?(y=ui,ui<<=1,!(ui&130023424)&&(ui=4194304)):y=1);var M=Wa();v=pb(v,y),v!==null&&($l(v,y,M),vo(v,M))}function Sie(v){var y=v.memoizedState,M=0;y!==null&&(M=y.retryLane),l6(v,M)}function Eie(v,y){var M=0;switch(v.tag){case 13:var O=v.stateNode,j=v.memoizedState;j!==null&&(M=j.retryLane);break;case 19:O=v.stateNode;break;default:throw Error(a(314))}O!==null&&O.delete(y),l6(v,M)}var c6;c6=function(v,y,M){if(v!==null)if(v.memoizedProps!==y.pendingProps||hn.current)Ho=!0;else{if(!(v.lanes&M)&&!(y.flags&128))return Ho=!1,hie(v,y,M);Ho=!!(v.flags&131072)}else Ho=!1,wn&&y.flags&1048576&&gi(y,V,y.index);switch(y.lanes=0,y.tag){case 2:var O=y.type;v!==null&&(v.alternate=null,y.alternate=null,y.flags|=2),v=y.pendingProps;var j=Un(y,kt.current);Hc(y,M),j=Qu(null,y,O,v,j,M);var $=Fy();return y.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,nn(O)?($=!0,pi(y)):$=!1,y.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Ba(y),j.updater=Xu,y.stateNode=j,j._reactInternals=y,fo(y,O,v,M),y=dM(null,y,O,!0,$,M)):(y.tag=0,wn&&$&&Gn(y),Ha(null,y,j,M),y=y.child),y;case 16:O=y.elementType;e:{switch(v!==null&&(v.alternate=null,y.alternate=null,y.flags|=2),v=y.pendingProps,j=O._init,O=j(O._payload),y.type=O,j=y.tag=Tie(O),v=jr(O,v),j){case 0:y=hM(null,y,O,v,M);break e;case 1:y=kF(null,y,O,v,M);break e;case 11:y=MF(null,y,O,v,M);break e;case 14:y=IF(null,y,O,jr(O.type,v),M);break e}throw Error(a(306,O,""))}return y;case 0:return O=y.type,j=y.pendingProps,j=y.elementType===O?j:jr(O,j),hM(v,y,O,j,M);case 1:return O=y.type,j=y.pendingProps,j=y.elementType===O?j:jr(O,j),kF(v,y,O,j,M);case 3:e:{if(DF(y),v===null)throw Error(a(387));O=y.pendingProps,$=y.memoizedState,j=$.element,qu(v,y),Wc(y,O,null,M);var he=y.memoizedState;if(O=he.element,ae&&$.isDehydrated)if($={element:O,isDehydrated:!1,cache:he.cache,transitions:he.transitions},y.updateQueue.baseState=$,y.memoizedState=$,y.flags&256){j=Error(a(423)),y=OF(v,y,O,M,j);break e}else if(O!==j){j=Error(a(424)),y=OF(v,y,O,M,j);break e}else for(ae&&(Mi=Wl(y.stateNode.containerInfo),Xn=y,wn=!0,Ii=null,gl=!1),M=zw(y,null,O,M),y.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Zl(),O===j){y=th(v,y,M);break e}Ha(v,y,O,M)}y=y.child}return y;case 5:return Ku(y),v===null&&od(y),O=y.type,j=y.pendingProps,$=v!==null?v.memoizedProps:null,he=j.children,ye(O,j)?he=null:$!==null&&ye(O,$)&&(y.flags|=32),NF(v,y),Ha(v,y,he,M),y.child;case 6:return v===null&&od(y),null;case 13:return LF(v,y,M);case 4:return lp(y,y.stateNode.containerInfo),O=y.pendingProps,v===null?y.child=Vo(y,null,O,M):Ha(v,y,O,M),y.child;case 11:return O=y.type,j=y.pendingProps,j=y.elementType===O?j:jr(O,j),MF(v,y,O,j,M);case 7:return Ha(v,y,y.pendingProps,M),y.child;case 8:return Ha(v,y,y.pendingProps.children,M),y.child;case 12:return Ha(v,y,y.pendingProps.children,M),y.child;case 10:e:{if(O=y.type._context,j=y.pendingProps,$=y.memoizedProps,he=j.value,$u(y,O,he),$!==null)if(na($.value,he)){if($.children===j.children&&!hn.current){y=th(v,y,M);break e}}else for($=y.child,$!==null&&($.return=y);$!==null;){var be=$.dependencies;if(be!==null){he=$.child;for(var Ke=be.firstContext;Ke!==null;){if(Ke.context===O){if($.tag===1){Ke=oa(-1,M&-M),Ke.tag=2;var wt=$.updateQueue;if(wt!==null){wt=wt.shared;var Vt=wt.pending;Vt===null?Ke.next=Ke:(Ke.next=Vt.next,Vt.next=Ke),wt.pending=Ke}}$.lanes|=M,Ke=$.alternate,Ke!==null&&(Ke.lanes|=M),pl($.return,M,y),be.lanes|=M;break}Ke=Ke.next}}else if($.tag===10)he=$.type===y.type?null:$.child;else if($.tag===18){if(he=$.return,he===null)throw Error(a(341));he.lanes|=M,be=he.alternate,be!==null&&(be.lanes|=M),pl(he,M,y),he=$.sibling}else he=$.child;if(he!==null)he.return=$;else for(he=$;he!==null;){if(he===y){he=null;break}if($=he.sibling,$!==null){$.return=he.return,he=$;break}he=he.return}$=he}Ha(v,y,j.children,M),y=y.child}return y;case 9:return j=y.type,O=y.pendingProps.children,Hc(y,M),j=Wr(j),O=O(j),y.flags|=1,Ha(v,y,O,M),y.child;case 14:return O=y.type,j=jr(O,y.pendingProps),j=jr(O.type,j),IF(v,y,O,j,M);case 15:return PF(v,y,y.type,y.pendingProps,M);case 17:return O=y.type,j=y.pendingProps,j=y.elementType===O?j:jr(O,j),v!==null&&(v.alternate=null,y.alternate=null,y.flags|=2),y.tag=1,nn(O)?(v=!0,pi(y)):v=!1,Hc(y,M),$c(y,O,j),fo(y,O,j,M),dM(null,y,O,!0,v,M);case 19:return jF(v,y,M);case 22:return RF(v,y,M)}throw Error(a(156,y.tag))};function u6(v,y){return Qh(v,y)}function Aie(v,y,M,O){this.tag=v,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _l(v,y,M,O){return new Aie(v,y,M,O)}function DM(v){return v=v.prototype,!(!v||!v.isReactComponent)}function Tie(v){if(typeof v=="function")return DM(v)?1:0;if(v!=null){if(v=v.$$typeof,v===_)return 11;if(v===S)return 14}return 2}function _d(v,y){var M=v.alternate;return M===null?(M=_l(v.tag,y,v.key,v.mode),M.elementType=v.elementType,M.type=v.type,M.stateNode=v.stateNode,M.alternate=v,v.alternate=M):(M.pendingProps=y,M.type=v.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=v.flags&14680064,M.childLanes=v.childLanes,M.lanes=v.lanes,M.child=v.child,M.memoizedProps=v.memoizedProps,M.memoizedState=v.memoizedState,M.updateQueue=v.updateQueue,y=v.dependencies,M.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},M.sibling=v.sibling,M.index=v.index,M.ref=v.ref,M}function gb(v,y,M,O,j,$){var he=2;if(O=v,typeof v=="function")DM(v)&&(he=1);else if(typeof v=="string")he=5;else e:switch(v){case u:return xp(M.children,j,$,y);case h:he=8,j|=8;break;case d:return v=_l(12,M,y,j|2),v.elementType=d,v.lanes=$,v;case w:return v=_l(13,M,y,j),v.elementType=w,v.lanes=$,v;case x:return v=_l(19,M,y,j),v.elementType=x,v.lanes=$,v;case T:return vb(M,j,$,y);default:if(typeof v=="object"&&v!==null)switch(v.$$typeof){case p:he=10;break e;case g:he=9;break e;case _:he=11;break e;case S:he=14;break e;case E:he=16,O=null;break e}throw Error(a(130,v==null?v:typeof v,""))}return y=_l(he,M,y,j),y.elementType=v,y.type=O,y.lanes=$,y}function xp(v,y,M,O){return v=_l(7,v,O,y),v.lanes=M,v}function vb(v,y,M,O){return v=_l(22,v,O,y),v.elementType=T,v.lanes=M,v.stateNode={},v}function OM(v,y,M){return v=_l(6,v,null,y),v.lanes=M,v}function LM(v,y,M){return y=_l(4,v.children!==null?v.children:[],v.key,y),y.lanes=M,y.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation},y}function Cie(v,y,M,O,j){this.tag=y,this.containerInfo=v,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=O,this.onRecoverableError=j,ae&&(this.mutableSourceEagerHydrationData=null)}function h6(v,y,M,O,j,$,he,be,Ke){return v=new Cie(v,y,M,be,Ke),y===1?(y=1,$===!0&&(y|=8)):y=0,$=_l(3,null,null,y),v.current=$,$.stateNode=v,$.memoizedState={element:O,isDehydrated:M,cache:null,transitions:null},Ba($),v}function d6(v){if(!v)return Ut;v=v._reactInternals;e:{if(P(v)!==v||v.tag!==1)throw Error(a(170));var y=v;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(nn(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(a(171))}if(v.tag===1){var M=v.type;if(nn(M))return Ci(v,M,y)}return y}function f6(v){var y=v._reactInternals;if(y===void 0)throw typeof v.render=="function"?Error(a(188)):(v=Object.keys(v).join(","),Error(a(268,v)));return v=z(y),v===null?null:v.stateNode}function p6(v,y){if(v=v.memoizedState,v!==null&&v.dehydrated!==null){var M=v.retryLane;v.retryLane=M!==0&&M<y?M:y}}function FM(v,y){p6(v,y),(v=v.alternate)&&p6(v,y)}function Mie(v){return v=z(v),v===null?null:v.stateNode}function Iie(){return null}return t.attemptContinuousHydration=function(v){if(v.tag===13){var y=Wa();xl(v,134217728,y),FM(v,134217728)}},t.attemptHydrationAtCurrentPriority=function(v){if(v.tag===13){var y=Wa(),M=yd(v);xl(v,M,y),FM(v,M)}},t.attemptSynchronousHydration=function(v){switch(v.tag){case 3:var y=v.stateNode;if(y.current.memoizedState.isDehydrated){var M=Fs(y.pendingLanes);M!==0&&(Bs(y,M|1),vo(y,mi()),!(Vn&6)&&(Ig(),ia()))}break;case 13:var O=Wa();n6(function(){return xl(v,1,O)}),FM(v,1)}},t.batchedUpdates=function(v,y){var M=Vn;Vn|=1;try{return v(y)}finally{Vn=M,Vn===0&&(Ig(),Cr&&ia())}},t.createComponentSelector=function(v){return{$$typeof:nb,value:v}},t.createContainer=function(v,y,M,O,j,$,he){return h6(v,y,!1,null,M,O,j,$,he)},t.createHasPseudoClassSelector=function(v){return{$$typeof:rb,value:v}},t.createHydrationContainer=function(v,y,M,O,j,$,he,be,Ke){return v=h6(M,O,!0,v,j,$,he,be,Ke),v.context=d6(null),M=v.current,O=Wa(),j=yd(M),$=oa(O,j),$.callback=y??null,Ua(M,$),v.current.lanes=j,$l(v,j,O),vo(v,O),v},t.createPortal=function(v,y,M){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:O==null?null:""+O,children:v,containerInfo:y,implementation:M}},t.createRoleSelector=function(v){return{$$typeof:ib,value:v}},t.createTestNameSelector=function(v){return{$$typeof:sb,value:v}},t.createTextSelector=function(v){return{$$typeof:ab,value:v}},t.deferredUpdates=function(v){var y=Wn,M=Ui.transition;try{return Ui.transition=null,Wn=16,v()}finally{Wn=y,Ui.transition=M}},t.discreteUpdates=function(v,y,M,O,j){var $=Wn,he=Ui.transition;try{return Ui.transition=null,Wn=1,v(y,M,O,j)}finally{Wn=$,Ui.transition=he,Vn===0&&Ig()}},t.findAllNodes=SM,t.findBoundingRects=function(v,y){if(!Fe)throw Error(a(363));y=SM(v,y),v=[];for(var M=0;M<y.length;M++)v.push(vt(y[M]));for(y=v.length-1;0<y;y--){M=v[y];for(var O=M.x,j=O+M.width,$=M.y,he=$+M.height,be=y-1;0<=be;be--)if(y!==be){var Ke=v[be],wt=Ke.x,Vt=wt+Ke.width,Cn=Ke.y,on=Cn+Ke.height;if(O>=wt&&$>=Cn&&j<=Vt&&he<=on){v.splice(y,1);break}else if(O!==wt||M.width!==Ke.width||on<$||Cn>he){if(!($!==Cn||M.height!==Ke.height||Vt<O||wt>j)){wt>O&&(Ke.width+=wt-O,Ke.x=O),Vt<j&&(Ke.width=j-wt),v.splice(y,1);break}}else{Cn>$&&(Ke.height+=Cn-$,Ke.y=$),on<he&&(Ke.height=he-Cn),v.splice(y,1);break}}}return v},t.findHostInstance=f6,t.findHostInstanceWithNoPortals=function(v){return v=B(v),v=v!==null?K(v):null,v===null?null:v.stateNode},t.findHostInstanceWithWarning=function(v){return f6(v)},t.flushControlled=function(v){var y=Vn;Vn|=1;var M=Ui.transition,O=Wn;try{Ui.transition=null,Wn=1,v()}finally{Wn=O,Ui.transition=M,Vn=y,Vn===0&&(Ig(),ia())}},t.flushPassiveEffects=yp,t.flushSync=n6,t.focusWithin=function(v,y){if(!Fe)throw Error(a(363));for(v=_M(v),y=JF(v,y),y=Array.from(y),v=0;v<y.length;){var M=y[v++];if(!Y(M)){if(M.tag===5&&re(M.stateNode))return!0;for(M=M.child;M!==null;)y.push(M),M=M.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Wn},t.getFindAllNodesFailureDescription=function(v,y){if(!Fe)throw Error(a(363));var M=0,O=[];v=[_M(v),0];for(var j=0;j<v.length;){var $=v[j++],he=v[j++],be=y[he];if(($.tag!==5||!Y($))&&(wM($,be)&&(O.push(bM(be)),he++,he>M&&(M=he)),he<y.length))for($=$.child;$!==null;)v.push($,he),$=$.sibling}if(M<y.length){for(v=[];M<y.length;M++)v.push(bM(y[M]));return`findAllNodes was able to match part of the selector:
  `+(O.join(" > ")+`

No matching component was found for:
  `)+v.join(" > ")}return null},t.getPublicRootInstance=function(v){if(v=v.current,!v.child)return null;switch(v.child.tag){case 5:return se(v.child.stateNode);default:return v.child.stateNode}},t.injectIntoDevTools=function(v){if(v={bundleType:v.bundleType,version:v.version,rendererPackageName:v.rendererPackageName,rendererConfig:v.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:Mie,findFiberByHostInstance:v.findFiberByHostInstance||Iie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")v=!1;else{var y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(y.isDisabled||!y.supportsFiber)v=!0;else{try{jo=y.inject(v),ss=y}catch{}v=!!y.checkDCE}}return v},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(v,y,M,O){if(!Fe)throw Error(a(363));v=SM(v,y);var j=pe(v,M,O).disconnect;return{disconnect:function(){j()}}},t.registerMutableSourceForHydration=function(v,y){var M=y._getVersion;M=M(y._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[y,M]:v.mutableSourceEagerHydrationData.push(y,M)},t.runWithPriority=function(v,y){var M=Wn;try{return Wn=v,y()}finally{Wn=M}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(v,y,M,O){var j=y.current,$=Wa(),he=yd(j);return M=d6(M),y.context===null?y.context=M:y.pendingContext=M,y=oa($,he),y.payload={element:v},O=O===void 0?null:O,O!==null&&(y.callback=O),Ua(j,y),v=xl(j,he,$),v!==null&&Yl(v,j,he),he},t};Wne.exports=HLe;var WLe=Wne.exports;const GLe=H_(WLe),nF={},$Le=n=>void Object.assign(nF,n);function qLe(n,e){function t(u,{args:h=[],attach:d,...p},g){let _=`${u[0].toUpperCase()}${u.slice(1)}`,w;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=p.object;w=m0(x,{type:u,root:g,attach:d,primitive:!0})}else{const x=nF[_];if(!x)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");w=m0(new x(...h),{type:u,root:g,attach:d,memoizedProps:{args:h}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),_!=="inject"&&JP(w,p),w}function r(u,h){let d=!1;if(h){var p,g;(p=h.__r3f)!=null&&p.attach?QP(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),d=!0),d||(g=u.__r3f)==null||g.objects.push(h),h.__r3f||m0(h,{}),h.__r3f.parent=u,p3(h),g0(h)}}function i(u,h,d){let p=!1;if(h){var g,_;if((g=h.__r3f)!=null&&g.attach)QP(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:h});const w=u.children.filter(S=>S!==h),x=w.indexOf(d);u.children=[...w.slice(0,x),h,...w.slice(x)],p=!0}p||(_=u.__r3f)==null||_.objects.push(h),h.__r3f||m0(h,{}),h.__r3f.parent=u,p3(h),g0(h)}}function s(u,h,d=!1){u&&[...u].forEach(p=>a(h,p,d))}function a(u,h,d){if(h){var p,g,_;if(h.__r3f&&(h.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(T=>T!==h)),(g=h.__r3f)!=null&&g.attach)O9(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var w;u.remove(h),(w=h.__r3f)!=null&&w.root&&t4e(FE(h),h)}const S=(_=h.__r3f)==null?void 0:_.primitive,E=!S&&(d===void 0?h.dispose!==null:d);if(!S){var x;s((x=h.__r3f)==null?void 0:x.objects,h,E),s(h.children,h,E)}if(delete h.__r3f,E&&h.dispose&&h.type!=="Scene"){const T=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?d3.unstable_scheduleCallback(d3.unstable_IdlePriority,T):T()}g0(u)}}function o(u,h,d,p){var g;const _=(g=u.__r3f)==null?void 0:g.parent;if(!_)return;const w=t(h,d,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(w,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(w,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(_,u),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),r(_,w),w.raycast&&w.__r3f.eventCount&&FE(w).getState().internal.interaction.push(w),[p,p.alternate].forEach(x=>{x!==null&&(x.stateNode=w,x.ref&&(typeof x.ref=="function"?x.ref(w):x.ref.current=w))})}const l=()=>{};return{reconciler:GLe({createInstance:t,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,h))},removeChildFromContainer:(u,h)=>{h&&a(u.getState().scene,h)},insertInContainerBefore:(u,h,d)=>{if(!h||!d)return;const p=u.getState().scene;p.__r3f&&i(p,h,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,d,p){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&p.object&&p.object!==u)return[!0];{const{args:w=[],children:x,...S}=p,{args:E=[],children:T,...D}=d;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((I,N)=>I!==E[N]))return[!0];const k=Jne(u,S,D,!0);return k.changes.length?[!1,k]:null}},commitUpdate(u,[h,d],p,g,_,w){h?o(u,p,_,w):JP(u,d)},commitMount(u,h,d,p){var g;const _=(g=u.__r3f)!=null?g:{};u.raycast&&_.handlers&&_.eventCount&&FE(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>m0(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:d,parent:p}=(h=u.__r3f)!=null?h:{};d&&p&&O9(p,u,d),u.isObject3D&&(u.visible=!1),g0(u)},unhideInstance(u,h){var d;const{attach:p,parent:g}=(d=u.__r3f)!=null?d:{};p&&g&&QP(g,u,p),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),g0(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():W0.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&qr.fun(performance.now)?performance.now:qr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:qr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:qr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:JP}}var R9,N9;const ZP=n=>"colorSpace"in n||"outputColorSpace"in n,qne=()=>{var n;return(n=nF.ColorManagement)!=null?n:null},Xne=n=>n&&n.isOrthographicCamera,XLe=n=>n&&n.hasOwnProperty("current"),kw=typeof window<"u"&&((R9=window.document)!=null&&R9.createElement||((N9=window.navigator)==null?void 0:N9.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function Yne(n){const e=F.useRef(n);return kw(()=>void(e.current=n),[n]),e}function YLe({set:n}){return kw(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}let Kne=class extends F.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};Kne.getDerivedStateFromError=()=>({error:!0});const Zne="__default",k9=new Map,KLe=n=>n&&!!n.memoized&&!!n.changes;function Qne(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Sx=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function FE(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const qr={obj:n=>n===Object(n)&&!qr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(qr.str(n)||qr.num(n)||qr.boo(n))return n===e;const s=qr.obj(n);if(s&&r==="reference")return n===e;const a=qr.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(o in i?e:n)if(!qr.equ(n[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:n)if(n[o]!==e[o])return!1;if(qr.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function ZLe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function QLe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function m0(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function f3(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,a)=>s[a],n),{target:t,key:i}}else return{target:t,key:e}}const D9=/-\d+$/;function QP(n,e,t){if(qr.str(t)){if(D9.test(t)){const s=t.replace(D9,""),{target:a,key:o}=f3(n,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=f3(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function O9(n,e,t){var r,i;if(qr.str(t)){const{target:s,key:a}=f3(n,t),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function Jne(n,{children:e,key:t,ref:r,...i},{children:s,key:a,ref:o,...l}={},c=!1){const u=n.__r3f,h=Object.entries(i),d=[];if(c){const g=Object.keys(l);for(let _=0;_<g.length;_++)i.hasOwnProperty(g[_])||h.unshift([g[_],Zne+"remove"])}h.forEach(([g,_])=>{var w;if((w=n.__r3f)!=null&&w.primitive&&g==="object"||qr.equ(_,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return d.push([g,_,!0,[]]);let x=[];g.includes("-")&&(x=g.split("-")),d.push([g,_,!1,x]);for(const S in i){const E=i[S];S.startsWith(`${g}-`)&&d.push([S,E,!1,S.split("-")])}});const p={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(p.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(p.attach=u.memoizedProps.attach),{memoized:p,changes:d}}function JP(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=KLe(e)?e:Jne(n,e),l=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=a);for(let d=0;d<o.length;d++){let[p,g,_,w]=o[d];if(ZP(n)){const T="srgb",D="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?T:D):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?T:D)}let x=n,S=x[p];if(w.length&&(S=w.reduce((E,T)=>E[T],n),!(S&&S.set))){const[E,...T]=w.reverse();x=T.reverse().reduce((D,k)=>D[k],n),p=E}if(g===Zne+"remove")if(x.constructor){let E=k9.get(x.constructor);E||(E=new x.constructor,k9.set(x.constructor,E)),g=E[p]}else g=0;if(_&&r)g?r.handlers[p]=g:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;else if(S&&S.set&&(S.copy||S instanceof Am)){if(Array.isArray(g))S.fromArray?S.fromArray(g):S.set(...g);else if(S.copy&&g&&g.constructor&&S.constructor===g.constructor)S.copy(g);else if(g!==void 0){var c;const E=(c=S)==null?void 0:c.isColor;!E&&S.setScalar?S.setScalar(g):S instanceof Am&&g instanceof Am?S.mask=g.mask:S.set(g),!qne()&&s&&!s.linear&&E&&S.convertSRGBToLinear()}}else{var u;if(x[p]=g,(u=x[p])!=null&&u.isTexture&&x[p].format===Ca&&x[p].type===zl&&s){const E=x[p];ZP(E)&&ZP(s.gl)?E.colorSpace=s.gl.outputColorSpace:E.encoding=s.gl.outputEncoding}}g0(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const d=FE(n).getState().internal,p=d.interaction.indexOf(n);p>-1&&d.interaction.splice(p,1),r.eventCount&&d.interaction.push(n)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(t=n.__r3f)!=null&&t.parent&&p3(n),n}function g0(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function p3(n){n.onUpdate==null||n.onUpdate(n)}function JLe(n,e){n.manual||(Xne(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function $S(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function e4e(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return W0.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return W0.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return W0.ContinuousEventPriority;default:return W0.DefaultEventPriority}}function ere(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function t4e(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{ere(t.capturedMap,e,r,i)})}function n4e(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),h=new Set,d=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<p.length;x++){const S=Sx(p[x]);S&&(S.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(x){const S=Sx(x);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var E;S.events.compute==null||S.events.compute(l,S,(E=S.previousRoot)==null?void 0:E.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(x,!0):[]}let _=p.flatMap(g).sort((x,S)=>{const E=Sx(x.object),T=Sx(S.object);return!E||!T?x.distance-S.distance:T.events.priority-E.events.priority||x.distance-S.distance}).filter(x=>{const S=$S(x);return h.has(S)?!1:(h.add(S),!0)});u.events.filter&&(_=u.events.filter(_,u));for(const x of _){let S=x.object;for(;S;){var w;(w=S.__r3f)!=null&&w.eventCount&&d.push({...x,eventObject:S}),S=S.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())h.has($S(x.intersection))||d.push(x.intersection);return d}function i(l,c,u,h){const d=n.getState();if(l.length){const p={stopped:!1};for(const g of l){const _=Sx(g.object)||d,{raycaster:w,pointer:x,camera:S,internal:E}=_,T=new oe(x.x,x.y,0).unproject(S),D=R=>{var B,z;return(B=(z=E.capturedMap.get(R))==null?void 0:z.has(g.eventObject))!=null?B:!1},k=R=>{const B={intersection:g,target:c.target};E.capturedMap.has(R)?E.capturedMap.get(R).set(g.eventObject,B):E.capturedMap.set(R,new Map([[g.eventObject,B]])),c.target.setPointerCapture(R)},I=R=>{const B=E.capturedMap.get(R);B&&ere(E.capturedMap,g.eventObject,B,R)};let N={};for(let R in c){let B=c[R];typeof B!="function"&&(N[R]=B)}let P={...g,...N,pointer:x,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:T,ray:w.ray,camera:S,stopPropagation(){const R="pointerId"in c&&E.capturedMap.get(c.pointerId);if((!R||R.has(g.eventObject))&&(P.stopped=p.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(B=>B.eventObject===g.eventObject))){const B=l.slice(0,l.indexOf(g));s([...B,g])}},target:{hasPointerCapture:D,setPointerCapture:k,releasePointerCapture:I},currentTarget:{hasPointerCapture:D,setPointerCapture:k,releasePointerCapture:I},nativeEvent:c};if(h(P),p.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const d=u.eventObject.__r3f,p=d==null?void 0:d.handlers;if(c.hovered.delete($S(u)),d!=null&&d.eventCount){const g={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function a(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:d}=n.getState();d.lastEvent.current=u;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=r(u,p?t:void 0),x=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=w.map(E=>E.eventObject)),g&&!w.length&&x<=2&&(a(u,d.interaction),h&&h(u)),p&&s(w);function S(E){const T=E.eventObject,D=T.__r3f,k=D==null?void 0:D.handlers;if(D!=null&&D.eventCount)if(p){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const I=$S(E),N=d.hovered.get(I);N?N.stopped&&E.stopPropagation():(d.hovered.set(I,E),k.onPointerOver==null||k.onPointerOver(E),k.onPointerEnter==null||k.onPointerEnter(E))}k.onPointerMove==null||k.onPointerMove(E)}else{const I=k[l];I?(!g||d.initialHits.includes(T))&&(a(u,d.interaction.filter(N=>!d.initialHits.includes(N))),I(E)):g&&d.initialHits.includes(T)&&a(u,d.interaction.filter(N=>!d.initialHits.includes(N)))}}i(w,u,x,S)}}return{handlePointer:o}}const tre=n=>!!(n!=null&&n.render),nre=F.createContext(null),r4e=(n,e)=>{const t=BLe((o,l)=>{const c=new oe,u=new oe,h=new oe;function d(x=l().camera,S=u,E=l().size){const{width:T,height:D,top:k,left:I}=E,N=T/D;S.isVector3?h.copy(S):h.set(...S);const P=x.getWorldPosition(c).distanceTo(h);if(Xne(x))return{width:T/x.zoom,height:D/x.zoom,top:k,left:I,factor:1,distance:P,aspect:N};{const R=x.fov*Math.PI/180,B=2*Math.tan(R/2)*P,z=B*(T/D);return{width:z,height:B,top:k,left:I,factor:T/z,distance:P,aspect:N}}}let p;const g=x=>o(S=>({performance:{...S.performance,current:x}})),_=new nt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,S)=>e(x,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new K4,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();p&&clearTimeout(p),x.performance.current!==x.performance.min&&g(x.performance.min),p=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:x=>o(S=>({...S,events:{...S.events,...x}})),setSize:(x,S,E,T,D)=>{const k=l().camera,I={width:x,height:S,top:T||0,left:D||0,updateStyle:E};o(N=>({size:I,viewport:{...N.viewport,...d(k,u,I)}}))},setDpr:x=>o(S=>{const E=Qne(x);return{viewport:{...S.viewport,dpr:E,initialDpr:S.viewport.initialDpr||E}}}),setFrameloop:(x="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,x!=="never"&&(S.start(),S.elapsedTime=0),o(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:F.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,S,E)=>{const T=l().internal;return T.priority=T.priority+(S>0?1:0),T.subscribers.push({ref:x,priority:S,store:E}),T.subscribers=T.subscribers.sort((D,k)=>D.priority-k.priority),()=>{const D=l().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(S>0?1:0),D.subscribers=D.subscribers.filter(k=>k.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:h}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var d;i=l,s=c.dpr,JLe(o,l),u.setPixelRatio(c.dpr);const p=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}o!==a&&(a=o,h(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};let qS,i4e=new Set,s4e=new Set,a4e=new Set;function eR(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Ex(n,e){switch(n){case"before":return eR(i4e,e);case"after":return eR(s4e,e);case"tail":return eR(a4e,e)}}let tR,nR;function rR(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),tR=e.internal.subscribers,qS=0;qS<tR.length;qS++)nR=tR[qS],nR.ref.current(nR.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function o4e(n){let e=!1,t=!1,r,i,s;function a(c){i=requestAnimationFrame(a),e=!0,r=0,Ex("before",c),t=!0;for(const h of n.values()){var u;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=rR(c,s))}if(t=!1,Ex("after",c),r===0)return Ex("tail",c),e=!1,cancelAnimationFrame(i)}function o(c,u=1){var h;if(!c)return n.forEach(d=>o(d.store.getState(),u));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,h,d){if(u&&Ex("before",c),h)rR(c,h,d);else for(const p of n.values())rR(c,p.store.getState());u&&Ex("after",c)}return{loop:a,invalidate:o,advance:l}}function rre(){const n=F.useContext(nre);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function uh(n=t=>t,e){return rre()(n,e)}function l4e(n,e=0){const t=rre(),r=t.getState().internal.subscribe,i=Yne(n);return kw(()=>r(i,e,t),[e,r,t]),null}const L9=new WeakMap;function ire(n,e){return function(t,...r){let i=L9.get(t);return i||(i=new t,L9.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((a,o)=>i.load(s,l=>{l.scene&&Object.assign(l,ZLe(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function Dw(n,e,t,r){const i=Array.isArray(e)?e:[e],s=jLe(ire(t,r),[n,...i],{equal:qr.equ});return Array.isArray(e)?s:s[0]}Dw.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return VLe(ire(t),[n,...r])};Dw.clear=function(n,e){const t=Array.isArray(e)?e:[e];return zLe([n,...t])};const iy=new Map,{invalidate:F9,advance:B9}=o4e(iy),{reconciler:zA,applyProps:s0}=qLe(iy,e4e),a0={objects:"shallow",strict:!1},c4e=(n,e)=>{const t=typeof n=="function"?n(e):n;return tre(t)?t:new jne({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function u4e(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=t}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:a}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function h4e(n){const e=iy.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||r4e(F9,B9),a=t||zA.createContainer(s,W0.ConcurrentRoot,null,!1,null,"",i,null);e||iy.set(n,{fiber:a,store:s});let o,l=!1,c;return{configure(u={}){let{gl:h,size:d,scene:p,events:g,onCreated:_,shadows:w=!1,linear:x=!1,flat:S=!1,legacy:E=!1,orthographic:T=!1,frameloop:D="always",dpr:k=[1,2],performance:I,raycaster:N,camera:P,onPointerMissed:R}=u,B=s.getState(),z=B.gl;B.gl||B.set({gl:z=c4e(h,n)});let H=B.raycaster;H||B.set({raycaster:H=new Rne});const{params:K,...J}=N||{};if(qr.equ(J,H,a0)||s0(H,{...J}),qr.equ(K,H.params,a0)||s0(H,{params:{...H.params,...K}}),!B.camera||B.camera===c&&!qr.equ(c,P,a0)){c=P;const q=P instanceof Aw,ge=q?P:T?new Cf(0,0,0,0,.1,1e3):new Gi(75,0,.1,1e3);q||(ge.position.z=5,P&&(s0(ge,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(ge.manual=!0,ge.updateProjectionMatrix())),!B.camera&&!(P!=null&&P.rotation)&&ge.lookAt(0,0,0)),B.set({camera:ge}),H.camera=ge}if(!B.scene){let q;p!=null&&p.isScene?q=p:(q=new P4,p&&s0(q,p)),B.set({scene:m0(q)})}if(!B.xr){var se;const q=(Q,et)=>{const ye=s.getState();ye.frameloop!=="never"&&B9(Q,!0,ye,et)},ge=()=>{const Q=s.getState();Q.gl.xr.enabled=Q.gl.xr.isPresenting,Q.gl.xr.setAnimationLoop(Q.gl.xr.isPresenting?q:null),Q.gl.xr.isPresenting||F9(Q)},De={connect(){const Q=s.getState().gl;Q.xr.addEventListener("sessionstart",ge),Q.xr.addEventListener("sessionend",ge)},disconnect(){const Q=s.getState().gl;Q.xr.removeEventListener("sessionstart",ge),Q.xr.removeEventListener("sessionend",ge)}};typeof((se=z.xr)==null?void 0:se.addEventListener)=="function"&&De.connect(),B.set({xr:De})}if(z.shadowMap){const q=z.shadowMap.enabled,ge=z.shadowMap.type;if(z.shadowMap.enabled=!!w,qr.boo(w))z.shadowMap.type=b1;else if(qr.str(w)){var ce;const De={basic:Vee,percentage:SC,soft:b1,variance:lc};z.shadowMap.type=(ce=De[w])!=null?ce:b1}else qr.obj(w)&&Object.assign(z.shadowMap,w);(q!==z.shadowMap.enabled||ge!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const X=qne();X&&("enabled"in X?X.enabled=!E:"legacyMode"in X&&(X.legacyMode=E)),l||s0(z,{outputEncoding:x?3e3:3001,toneMapping:S?Tu:m4}),B.legacy!==E&&B.set(()=>({legacy:E})),B.linear!==x&&B.set(()=>({linear:x})),B.flat!==S&&B.set(()=>({flat:S})),h&&!qr.fun(h)&&!tre(h)&&!qr.equ(h,z,a0)&&s0(z,h),g&&!B.events.handlers&&B.set({events:g(s)});const ue=u4e(n,d);return qr.equ(ue,B.size,a0)||B.setSize(ue.width,ue.height,ue.updateStyle,ue.top,ue.left),k&&B.viewport.dpr!==Qne(k)&&B.setDpr(k),B.frameloop!==D&&B.setFrameloop(D),B.onPointerMissed||B.set({onPointerMissed:R}),I&&!qr.equ(I,B.performance,a0)&&B.set(q=>({performance:{...q.performance,...I}})),o=_,l=!0,this},render(u){return l||this.configure(),zA.updateContainer(m.jsx(d4e,{store:s,children:u,onCreated:o,rootElement:n}),a,null,()=>{}),s},unmount(){sre(n)}}}function d4e({store:n,children:e,onCreated:t,rootElement:r}){return kw(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),m.jsx(nre.Provider,{value:n,children:e})}function sre(n,e){const t=iy.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),zA.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),QLe(i),iy.delete(n)}catch{}},500)})}}zA.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version});const iR={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function f4e(n){const{handlePointer:e}=n4e(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(iR).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,c]=iR[a];t.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=iR[s];r.connected.removeEventListener(o,a)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function U9(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function p4e({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,u=F.useRef(!1);F.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[h,d,p]=F.useMemo(()=>{const x=()=>{if(!o.current.element)return;const{left:S,top:E,width:T,height:D,bottom:k,right:I,x:N,y:P}=o.current.element.getBoundingClientRect(),R={left:S,top:E,width:T,height:D,bottom:k,right:I,x:N,y:P};o.current.element instanceof HTMLElement&&r&&(R.height=o.current.element.offsetHeight,R.width=o.current.element.offsetWidth),Object.freeze(R),u.current&&!y4e(o.current.lastBounds,R)&&a(o.current.lastBounds=R)};return[x,c?U9(x,c):x,l?U9(x,l):x]},[a,r,l,c]);function g(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",p,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function _(){o.current.element&&(o.current.resizeObserver=new i(p),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(x=>x.addEventListener("scroll",p,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=x=>{!x||x===o.current.element||(g(),o.current.element=x,o.current.scrollContainers=are(x),_())};return g4e(p,!!e),m4e(d),F.useEffect(()=>{g(),_()},[e,p,d]),F.useEffect(()=>g,[]),[w,s,h]}function m4e(n){F.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function g4e(n,e){F.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function are(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...are(n.parentElement)]}const v4e=["x","y","top","bottom","left","right","width","height"],y4e=(n,e)=>v4e.every(t=>n[t]===e[t]);var x4e=Object.defineProperty,_4e=Object.defineProperties,w4e=Object.getOwnPropertyDescriptors,j9=Object.getOwnPropertySymbols,b4e=Object.prototype.hasOwnProperty,S4e=Object.prototype.propertyIsEnumerable,V9=(n,e,t)=>e in n?x4e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z9=(n,e)=>{for(var t in e||(e={}))b4e.call(e,t)&&V9(n,t,e[t]);if(j9)for(var t of j9(e))S4e.call(e,t)&&V9(n,t,e[t]);return n},E4e=(n,e)=>_4e(n,w4e(e)),H9,W9;typeof window<"u"&&((H9=window.document)!=null&&H9.createElement||((W9=window.navigator)==null?void 0:W9.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function ore(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=ore(r,e,t);if(i)return i;r=r.sibling}}function lre(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const G9=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=G9;return}return G9.apply(this,arguments)};const rF=lre(F.createContext(null));class cre extends F.Component{render(){return F.createElement(rF.Provider,{value:this._reactInternals},this.props.children)}}function A4e(){const n=F.useContext(rF);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=ore(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}function T4e(){const n=A4e(),[e]=F.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==rF&&!e.has(i)&&e.set(i,F.useContext(lre(i)))}t=t.return}return e}function C4e(){const n=T4e();return F.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>F.createElement(e,null,F.createElement(t.Provider,E4e(z9({},r),{value:n.get(t)}))),e=>F.createElement(cre,z9({},e))),[n])}const M4e=F.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:a=f4e,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:d,orthographic:p,frameloop:g,dpr:_,performance:w,raycaster:x,camera:S,scene:E,onPointerMissed:T,onCreated:D,...k},I){F.useMemo(()=>$Le(OLe),[]);const N=C4e(),[P,R]=p4e({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=F.useRef(null),z=F.useRef(null);F.useImperativeHandle(I,()=>B.current);const H=Yne(T),[K,J]=F.useState(!1),[se,ce]=F.useState(!1);if(K)throw K;if(se)throw se;const X=F.useRef(null);kw(()=>{const q=B.current;R.width>0&&R.height>0&&q&&(X.current||(X.current=h4e(q)),X.current.configure({gl:s,events:a,shadows:c,linear:u,flat:h,legacy:d,orthographic:p,frameloop:g,dpr:_,performance:w,raycaster:x,camera:S,scene:E,size:R,onPointerMissed:(...ge)=>H.current==null?void 0:H.current(...ge),onCreated:ge=>{ge.events.connect==null||ge.events.connect(o?XLe(o)?o.current:o:z.current),l&&ge.setEvents({compute:(De,Q)=>{const et=De[l+"X"],ye=De[l+"Y"];Q.pointer.set(et/Q.size.width*2-1,-(ye/Q.size.height)*2+1),Q.raycaster.setFromCamera(Q.pointer,Q.camera)}}),D==null||D(ge)}}),X.current.render(m.jsx(N,{children:m.jsx(Kne,{set:ce,children:m.jsx(F.Suspense,{fallback:m.jsx(YLe,{set:J}),children:e??null})})})))}),F.useEffect(()=>{const q=B.current;if(q)return()=>sre(q)},[]);const ue=o?"none":"auto";return m.jsx("div",{ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ue,...i},...k,children:m.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:m.jsx("canvas",{ref:B,style:{display:"block"},children:t})})})}),I4e=F.forwardRef(function(e,t){return m.jsx(cre,{children:m.jsx(M4e,{...e,ref:t})})});function m3(){return m3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},m3.apply(null,arguments)}var P4e=Object.defineProperty,R4e=(n,e,t)=>e in n?P4e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N4e=(n,e,t)=>(R4e(n,e+"",t),t);class k4e{constructor(){N4e(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}var D4e=Object.defineProperty,O4e=(n,e,t)=>e in n?D4e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ln=(n,e,t)=>(O4e(n,typeof e!="symbol"?e+"":e,t),t);const XS=new dg,$9=new fh,L4e=Math.cos(70*(Math.PI/180)),q9=(n,e)=>(n%e+e)%e;let F4e=class extends k4e{constructor(e,t){super(),ln(this,"object"),ln(this,"domElement"),ln(this,"enabled",!0),ln(this,"target",new oe),ln(this,"minDistance",0),ln(this,"maxDistance",1/0),ln(this,"minZoom",0),ln(this,"maxZoom",1/0),ln(this,"minPolarAngle",0),ln(this,"maxPolarAngle",Math.PI),ln(this,"minAzimuthAngle",-1/0),ln(this,"maxAzimuthAngle",1/0),ln(this,"enableDamping",!1),ln(this,"dampingFactor",.05),ln(this,"enableZoom",!0),ln(this,"zoomSpeed",1),ln(this,"enableRotate",!0),ln(this,"rotateSpeed",1),ln(this,"enablePan",!0),ln(this,"panSpeed",1),ln(this,"screenSpacePanning",!0),ln(this,"keyPanSpeed",7),ln(this,"zoomToCursor",!1),ln(this,"autoRotate",!1),ln(this,"autoRotateSpeed",2),ln(this,"reverseOrbit",!1),ln(this,"reverseHorizontalOrbit",!1),ln(this,"reverseVerticalOrbit",!1),ln(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ln(this,"mouseButtons",{LEFT:$p.ROTATE,MIDDLE:$p.DOLLY,RIGHT:$p.PAN}),ln(this,"touches",{ONE:qp.ROTATE,TWO:qp.DOLLY_PAN}),ln(this,"target0"),ln(this,"position0"),ln(this,"zoom0"),ln(this,"_domElementKeyEvents",null),ln(this,"getPolarAngle"),ln(this,"getAzimuthalAngle"),ln(this,"setPolarAngle"),ln(this,"setAzimuthalAngle"),ln(this,"getDistance"),ln(this,"getZoomScale"),ln(this,"listenToKeyEvents"),ln(this,"stopListenToKeyEvents"),ln(this,"saveState"),ln(this,"reset"),ln(this,"update"),ln(this,"connect"),ln(this,"dispose"),ln(this,"dollyIn"),ln(this,"dollyOut"),ln(this,"getScale"),ln(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=de=>{let Pe=q9(de,2*Math.PI),lt=u.phi;lt<0&&(lt+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let fe=Math.abs(Pe-lt);2*Math.PI-fe<fe&&(Pe<lt?Pe+=2*Math.PI:lt+=2*Math.PI),h.phi=Pe-lt,r.update()},this.setAzimuthalAngle=de=>{let Pe=q9(de,2*Math.PI),lt=u.theta;lt<0&&(lt+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let fe=Math.abs(Pe-lt);2*Math.PI-fe<fe&&(Pe<lt?Pe+=2*Math.PI:lt+=2*Math.PI),h.theta=Pe-lt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=de=>{de.addEventListener("keydown",_e),this._domElementKeyEvents=de},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",_e),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const de=new oe,Pe=new oe(0,1,0),lt=new Ma().setFromUnitVectors(e.up,Pe),fe=lt.clone().invert(),tt=new oe,ve=new Ma,Xe=2*Math.PI;return function(){const Le=r.object.position;lt.setFromUnitVectors(e.up,Pe),fe.copy(lt).invert(),de.copy(Le).sub(r.target),de.applyQuaternion(lt),u.setFromVector3(de),r.autoRotate&&l===o.NONE&&K(z()),r.enableDamping?(u.theta+=h.theta*r.dampingFactor,u.phi+=h.phi*r.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let dt=r.minAzimuthAngle,_t=r.maxAzimuthAngle;isFinite(dt)&&isFinite(_t)&&(dt<-Math.PI?dt+=Xe:dt>Math.PI&&(dt-=Xe),_t<-Math.PI?_t+=Xe:_t>Math.PI&&(_t-=Xe),dt<=_t?u.theta=Math.max(dt,Math.min(_t,u.theta)):u.theta=u.theta>(dt+_t)/2?Math.max(dt,u.theta):Math.min(_t,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&P||r.object.isOrthographicCamera?u.radius=Q(u.radius):u.radius=Q(u.radius*d),de.setFromSpherical(u),de.applyQuaternion(fe),Le.copy(r.target).add(de),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),p.set(0,0,0));let En=!1;if(r.zoomToCursor&&P){let xn=null;if(r.object instanceof Gi&&r.object.isPerspectiveCamera){const Jr=de.length();xn=Q(Jr*d);const er=Jr-xn;r.object.position.addScaledVector(I,er),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Jr=new oe(N.x,N.y,0);Jr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),En=!0;const er=new oe(N.x,N.y,0);er.unproject(r.object),r.object.position.sub(er).add(Jr),r.object.updateMatrixWorld(),xn=de.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;xn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(xn).add(r.object.position):(XS.origin.copy(r.object.position),XS.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(XS.direction))<L4e?e.lookAt(r.target):($9.setFromNormalAndCoplanarPoint(r.object.up,r.target),XS.intersectPlane($9,r.target))))}else r.object instanceof Cf&&r.object.isOrthographicCamera&&(En=d!==1,En&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,P=!1,En||tt.distanceToSquared(r.object.position)>c||8*(1-ve.dot(r.object.quaternion))>c?(r.dispatchEvent(i),tt.copy(r.object.position),ve.copy(r.object.quaternion),En=!1,!0):!1}})(),this.connect=de=>{r.domElement=de,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",xt),r.domElement.addEventListener("pointerdown",vt),r.domElement.addEventListener("pointercancel",Y),r.domElement.addEventListener("wheel",pe)},this.dispose=()=>{var de,Pe,lt,fe,tt,ve;r.domElement&&(r.domElement.style.touchAction="auto"),(de=r.domElement)==null||de.removeEventListener("contextmenu",xt),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",vt),(lt=r.domElement)==null||lt.removeEventListener("pointercancel",Y),(fe=r.domElement)==null||fe.removeEventListener("wheel",pe),(tt=r.domElement)==null||tt.ownerDocument.removeEventListener("pointermove",ie),(ve=r.domElement)==null||ve.ownerDocument.removeEventListener("pointerup",Y),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",_e)};const r=this,i={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new l3,h=new l3;let d=1;const p=new oe,g=new nt,_=new nt,w=new nt,x=new nt,S=new nt,E=new nt,T=new nt,D=new nt,k=new nt,I=new oe,N=new nt;let P=!1;const R=[],B={};function z(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function K(de){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=de:h.theta-=de}function J(de){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=de:h.phi-=de}const se=(()=>{const de=new oe;return function(lt,fe){de.setFromMatrixColumn(fe,0),de.multiplyScalar(-lt),p.add(de)}})(),ce=(()=>{const de=new oe;return function(lt,fe){r.screenSpacePanning===!0?de.setFromMatrixColumn(fe,1):(de.setFromMatrixColumn(fe,0),de.crossVectors(r.object.up,de)),de.multiplyScalar(lt),p.add(de)}})(),X=(()=>{const de=new oe;return function(lt,fe){const tt=r.domElement;if(tt&&r.object instanceof Gi&&r.object.isPerspectiveCamera){const ve=r.object.position;de.copy(ve).sub(r.target);let Xe=de.length();Xe*=Math.tan(r.object.fov/2*Math.PI/180),se(2*lt*Xe/tt.clientHeight,r.object.matrix),ce(2*fe*Xe/tt.clientHeight,r.object.matrix)}else tt&&r.object instanceof Cf&&r.object.isOrthographicCamera?(se(lt*(r.object.right-r.object.left)/r.object.zoom/tt.clientWidth,r.object.matrix),ce(fe*(r.object.top-r.object.bottom)/r.object.zoom/tt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ue(de){r.object instanceof Gi&&r.object.isPerspectiveCamera||r.object instanceof Cf&&r.object.isOrthographicCamera?d=de:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function q(de){ue(d/de)}function ge(de){ue(d*de)}function De(de){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Pe=r.domElement.getBoundingClientRect(),lt=de.clientX-Pe.left,fe=de.clientY-Pe.top,tt=Pe.width,ve=Pe.height;N.x=lt/tt*2-1,N.y=-(fe/ve)*2+1,I.set(N.x,N.y,1).unproject(r.object).sub(r.object.position).normalize()}function Q(de){return Math.max(r.minDistance,Math.min(r.maxDistance,de))}function et(de){g.set(de.clientX,de.clientY)}function ye(de){De(de),T.set(de.clientX,de.clientY)}function Ie(de){x.set(de.clientX,de.clientY)}function Se(de){_.set(de.clientX,de.clientY),w.subVectors(_,g).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(K(2*Math.PI*w.x/Pe.clientHeight),J(2*Math.PI*w.y/Pe.clientHeight)),g.copy(_),r.update()}function Je(de){D.set(de.clientX,de.clientY),k.subVectors(D,T),k.y>0?q(H()):k.y<0&&ge(H()),T.copy(D),r.update()}function Qe(de){S.set(de.clientX,de.clientY),E.subVectors(S,x).multiplyScalar(r.panSpeed),X(E.x,E.y),x.copy(S),r.update()}function rt(de){De(de),de.deltaY<0?ge(H()):de.deltaY>0&&q(H()),r.update()}function ut(de){let Pe=!1;switch(de.code){case r.keys.UP:X(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:X(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:X(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:X(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(de.preventDefault(),r.update())}function Be(){if(R.length==1)g.set(R[0].pageX,R[0].pageY);else{const de=.5*(R[0].pageX+R[1].pageX),Pe=.5*(R[0].pageY+R[1].pageY);g.set(de,Pe)}}function ae(){if(R.length==1)x.set(R[0].pageX,R[0].pageY);else{const de=.5*(R[0].pageX+R[1].pageX),Pe=.5*(R[0].pageY+R[1].pageY);x.set(de,Pe)}}function Re(){const de=R[0].pageX-R[1].pageX,Pe=R[0].pageY-R[1].pageY,lt=Math.sqrt(de*de+Pe*Pe);T.set(0,lt)}function ke(){r.enableZoom&&Re(),r.enablePan&&ae()}function $e(){r.enableZoom&&Re(),r.enableRotate&&Be()}function We(de){if(R.length==1)_.set(de.pageX,de.pageY);else{const lt=Nt(de),fe=.5*(de.pageX+lt.x),tt=.5*(de.pageY+lt.y);_.set(fe,tt)}w.subVectors(_,g).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(K(2*Math.PI*w.x/Pe.clientHeight),J(2*Math.PI*w.y/Pe.clientHeight)),g.copy(_)}function ne(de){if(R.length==1)S.set(de.pageX,de.pageY);else{const Pe=Nt(de),lt=.5*(de.pageX+Pe.x),fe=.5*(de.pageY+Pe.y);S.set(lt,fe)}E.subVectors(S,x).multiplyScalar(r.panSpeed),X(E.x,E.y),x.copy(S)}function Ae(de){const Pe=Nt(de),lt=de.pageX-Pe.x,fe=de.pageY-Pe.y,tt=Math.sqrt(lt*lt+fe*fe);D.set(0,tt),k.set(0,Math.pow(D.y/T.y,r.zoomSpeed)),q(k.y),T.copy(D)}function Fe(de){r.enableZoom&&Ae(de),r.enablePan&&ne(de)}function ot(de){r.enableZoom&&Ae(de),r.enableRotate&&We(de)}function vt(de){var Pe,lt;r.enabled!==!1&&(R.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",ie),(lt=r.domElement)==null||lt.ownerDocument.addEventListener("pointerup",Y)),bt(de),de.pointerType==="touch"?at(de):xe(de))}function ie(de){r.enabled!==!1&&(de.pointerType==="touch"?qe(de):re(de))}function Y(de){var Pe,lt,fe;it(de),R.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(de.pointerId),(lt=r.domElement)==null||lt.ownerDocument.removeEventListener("pointermove",ie),(fe=r.domElement)==null||fe.ownerDocument.removeEventListener("pointerup",Y)),r.dispatchEvent(a),l=o.NONE}function xe(de){let Pe;switch(de.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case $p.DOLLY:if(r.enableZoom===!1)return;ye(de),l=o.DOLLY;break;case $p.ROTATE:if(de.ctrlKey||de.metaKey||de.shiftKey){if(r.enablePan===!1)return;Ie(de),l=o.PAN}else{if(r.enableRotate===!1)return;et(de),l=o.ROTATE}break;case $p.PAN:if(de.ctrlKey||de.metaKey||de.shiftKey){if(r.enableRotate===!1)return;et(de),l=o.ROTATE}else{if(r.enablePan===!1)return;Ie(de),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function re(de){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;Se(de);break;case o.DOLLY:if(r.enableZoom===!1)return;Je(de);break;case o.PAN:if(r.enablePan===!1)return;Qe(de);break}}function pe(de){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(de.preventDefault(),r.dispatchEvent(s),rt(de),r.dispatchEvent(a))}function _e(de){r.enabled===!1||r.enablePan===!1||ut(de)}function at(de){switch(pt(de),R.length){case 1:switch(r.touches.ONE){case qp.ROTATE:if(r.enableRotate===!1)return;Be(),l=o.TOUCH_ROTATE;break;case qp.PAN:if(r.enablePan===!1)return;ae(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case qp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ke(),l=o.TOUCH_DOLLY_PAN;break;case qp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;$e(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function qe(de){switch(pt(de),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;We(de),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;ne(de),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(de),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ot(de),r.update();break;default:l=o.NONE}}function xt(de){r.enabled!==!1&&de.preventDefault()}function bt(de){R.push(de)}function it(de){delete B[de.pointerId];for(let Pe=0;Pe<R.length;Pe++)if(R[Pe].pointerId==de.pointerId){R.splice(Pe,1);return}}function pt(de){let Pe=B[de.pointerId];Pe===void 0&&(Pe=new nt,B[de.pointerId]=Pe),Pe.set(de.pageX,de.pageY)}function Nt(de){const Pe=de.pointerId===R[0].pointerId?R[1]:R[0];return B[Pe.pointerId]}this.dollyIn=(de=H())=>{ge(de),r.update()},this.dollyOut=(de=H())=>{q(de),r.update()},this.getScale=()=>d,this.setScale=de=>{ue(de),r.update()},this.getZoomScale=()=>H(),t!==void 0&&this.connect(t),this.update()}};const sR=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function iF(n,e){const t=uh(s=>s.gl),r=Dw(JC,sR(n)?Object.values(n):n);return F.useLayoutEffect(()=>{e==null||e(r)},[e]),F.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(r)?s=r:r instanceof fi?s=[r]:sR(r)&&(s=Object.values(r)),s.forEach(a=>{a instanceof fi&&t.initTexture(a)})}},[t,r]),F.useMemo(()=>{if(sR(n)){const s={};let a=0;for(const o in n)s[o]=r[a++];return s}else return r},[n,r])}iF.preload=n=>Dw.preload(JC,n);iF.clear=n=>Dw.clear(JC,n);const B4e=F.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...c},u)=>{const h=uh(k=>k.invalidate),d=uh(k=>k.camera),p=uh(k=>k.gl),g=uh(k=>k.events),_=uh(k=>k.setEvents),w=uh(k=>k.set),x=uh(k=>k.get),S=uh(k=>k.performance),E=e||d,T=r||g.connected||p.domElement,D=F.useMemo(()=>new F4e(E),[E]);return l4e(()=>{D.enabled&&D.update()},-1),F.useEffect(()=>(s&&D.connect(s===!0?T:s),D.connect(T),()=>void D.dispose()),[s,T,t,D,h]),F.useEffect(()=>{const k=P=>{h(),t&&S.regress(),a&&a(P)},I=P=>{o&&o(P)},N=P=>{l&&l(P)};return D.addEventListener("change",k),D.addEventListener("start",I),D.addEventListener("end",N),()=>{D.removeEventListener("start",I),D.removeEventListener("end",N),D.removeEventListener("change",k)}},[a,o,l,D,h,_]),F.useEffect(()=>{if(n){const k=x().controls;return w({controls:D}),()=>w({controls:k})}},[n,D]),F.createElement("primitive",m3({ref:u,object:D,enableDamping:i},c))});function U4e({frontUrl:n,backUrl:e}){const t=iF([n,e]);return m.jsxs("group",{children:[m.jsxs("mesh",{children:[m.jsx("boxGeometry",{args:[3.4,2.2,.06]}),m.jsx("meshStandardMaterial",{attach:"material-0",color:"#e5e7eb"}),m.jsx("meshStandardMaterial",{attach:"material-1",color:"#e5e7eb"}),m.jsx("meshStandardMaterial",{attach:"material-2",color:"#e5e7eb"}),m.jsx("meshStandardMaterial",{attach:"material-3",color:"#e5e7eb"}),m.jsx("meshStandardMaterial",{attach:"material-4",map:t[0]}),m.jsx("meshStandardMaterial",{attach:"material-5",map:t[1]})]}),m.jsxs("mesh",{position:[0,0,.031],children:[" ",m.jsx("planeGeometry",{args:[3.4,2.2]}),m.jsx("meshBasicMaterial",{map:t[0],transparent:!0})]}),m.jsxs("mesh",{position:[0,0,-.031],rotation:[0,Math.PI,0],children:[" ",m.jsx("planeGeometry",{args:[3.4,2.2]}),m.jsx("meshBasicMaterial",{map:t[1],transparent:!0})]})]})}function j4e({frontUrl:n,backUrl:e}){return m.jsx(F.Suspense,{fallback:null,children:m.jsx(U4e,{frontUrl:n,backUrl:e})})}function V4e(){const[n,e]=F.useState({frontUrl:"",backUrl:"",fullName:""}),[,t]=ow(),[r,i]=F.useState(!1);F.useEffect(()=>{const a=new URLSearchParams(window.location.search);return e({frontUrl:a.get("frontUrl")||"",backUrl:a.get("backUrl")||"",fullName:a.get("fullName")||""}),document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[]);const s=async()=>{i(!0);try{if(n.frontUrl){const o=await(await fetch(n.frontUrl)).blob(),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`kartu-anggota-${n.fullName||"depan"}.png`,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(l)}if(n.backUrl){const o=await(await fetch(n.backUrl)).blob(),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`kartu-anggota-${n.fullName||"belakang"}-belakang.png`,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(l)}}catch{alert("Gagal mengunduh kartu. Silakan coba lagi.")}i(!1)};return!n.frontUrl||!n.backUrl?m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"URL kartu tidak valid."}):m.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[m.jsxs("div",{className:"sticky top-0 flex flex-col sm:flex-row items-center justify-between gap-2 p-3 sm:p-4 bg-black/70 z-10 w-full",children:[m.jsxs("span",{className:"text-white font-bold text-base sm:text-lg text-center w-full sm:w-auto truncate",children:["3D Kartu Anggota: ",n.fullName]}),m.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center sm:justify-end",children:[m.jsxs(Ht,{className:"bg-primary text-white w-full sm:w-auto",onClick:s,disabled:r,children:[m.jsx(kO,{className:"w-4 h-4 mr-2"}),r?"Mengunduh...":"Unduh Kartu Anggota Untuk Print"]}),m.jsx("button",{className:"text-white bg-gray-800 hover:bg-gray-700 rounded px-4 py-2 w-full sm:w-auto",onClick:()=>t("/kartu-anggota"),children:"Tutup"})]})]}),m.jsx("div",{className:"flex-1 min-h-0",children:m.jsx("div",{className:"w-full h-[60vh] sm:h-full",children:m.jsxs(I4e,{camera:{position:[0,0,6],fov:50},style:{width:"100vw",height:"100%",minHeight:320,maxHeight:"100vh",background:"black"},children:[m.jsx("ambientLight",{intensity:.7}),m.jsx("directionalLight",{position:[5,5,5],intensity:.7}),m.jsx(j4e,{frontUrl:n.frontUrl,backUrl:n.backUrl}),m.jsx(B4e,{enablePan:!1})]})})})]})}function z4e(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function H4e(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var W4e=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),G4e=function(n){W4e(e,n);function e(t,r){var i=this.constructor,s=n.call(this,t,r)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),z4e(s,i.prototype),H4e(s),s}return e}(Error),$4e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bo=function(n){$4e(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(G4e),q4e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zi=function(n){q4e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Bo),X4e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sn=function(n){X4e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Bo),ure=function(){function n(e){if(this.binarizer=e,e===null)throw new sn("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var s=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(s))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),Y4e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ts=function(n){Y4e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Bo),K4e=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),Zr=function(){function n(){}return n.arraycopy=function(e,t,r,i,s){for(;s--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),Z4e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sF=function(n){Z4e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Bo),Q4e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),X9=function(n){Q4e(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(sF),J4e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ms=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var s=t;s<r;s++)e[s]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new sn("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new X9(t);if(r>e)throw new X9(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var s=J4e(e),a=s.next();!a.done;a=s.next()){var o=a.value;i=31*i+o}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,s=new Int32Array(i);return Zr.arraycopy(e,t,s,0,i),s},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,s=e.length-1;i<=s;){var a=s+i>>1,o=r(t,e[a]);if(o>0)i=a+1;else if(o<0)s=a-1;else return a}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),$n=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),ks=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);Zr.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),s=r[i];s&=~((1<<(e&31))-1);for(var a=r.length;s===0;){if(++i===a)return t;s=r[i]}var o=i*32+$n.numberOfTrailingZeros(s);return o>t?t:o},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),s=~r[i];s&=~((1<<(e&31))-1);for(var a=r.length;s===0;){if(++i===a)return t;s=~r[i]}var o=i*32+$n.numberOfTrailingZeros(s);return o>t?t:o},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new sn;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),s=this.bits,a=r;a<=i;a++){var o=a>r?0:e&31,l=a<i?31:t&31,c=(2<<l)-(1<<o);s[a]|=c}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new sn;if(t===e)return!0;t--;for(var i=Math.floor(e/32),s=Math.floor(t/32),a=this.bits,o=i;o<=s;o++){var l=o>i?0:e&31,c=o<s?31:t&31,u=(2<<c)-(1<<l)&4294967295;if((a[o]&u)!==(r?u:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new sn("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new sn("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var s=0;s<i;s++){for(var a=0,o=0;o<8;o++)this.get(e)&&(a|=1<<7-o),e++;t[r+s]=a}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,s=0;s<r;s++){var a=i[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-s]=a}if(this.size!==r*32){for(var o=r*32-this.size,l=e[0]>>>o,s=1;s<r;s++){var c=e[s];l|=c<<32-o,e[s-1]=l,l=c>>>o}e[r-1]=l}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&ms.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+ms.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),g3;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(g3||(g3={}));const Qr=g3;var eFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),St=function(n){eFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Bo),tFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ir;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(Ir||(Ir={}));var ps=function(){function n(e,t,r){for(var i,s,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=a,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var l=this.values,c=0,u=l.length;c!==u;c++){var h=l[c];n.VALUES_TO_ECI.set(h,this)}try{for(var d=tFe(a),p=d.next();!p.done;p=d.next()){var g=p.value;n.NAME_TO_ECI.set(g,this)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new St("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new St("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new St("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(Ir.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(Ir.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(Ir.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(Ir.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(Ir.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(Ir.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(Ir.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(Ir.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(Ir.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(Ir.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(Ir.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(Ir.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(Ir.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(Ir.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(Ir.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(Ir.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(Ir.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(Ir.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(Ir.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(Ir.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(Ir.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(Ir.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(Ir.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(Ir.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(Ir.Big5,28,"Big5"),n.GB18030=new n(Ir.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(Ir.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),nFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BE=function(n){nFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Bo),Bl=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof ps?e:ps.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",s=0,a=e.length;s<a;s++){var o=e[s].toString(16);o.length<2&&(o="0"+o),i+="%"+o}return decodeURIComponent(i)}if(r.equals(ps.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new BE("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(ps.UTF8)||e.equals(ps.ISO8859_1)||e.equals(ps.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],s=0;s<r.length;s++)i.push(r[s].charCodeAt(0));return new Uint8Array(i)},n}(),sr=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return Bl.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Qr.CHARACTER_SET)!==void 0)return t.get(Qr.CHARACTER_SET).toString();for(var r=e.length,i=!0,s=!0,a=!0,o=0,l=0,c=0,u=0,h=0,d=0,p=0,g=0,_=0,w=0,x=0,S=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,E=0;E<r&&(i||s||a);E++){var T=e[E]&255;a&&(o>0?T&128?o--:a=!1:T&128&&(T&64?(o++,T&32?(o++,T&16?(o++,T&8?a=!1:u++):c++):l++):a=!1)),i&&(T>127&&T<160?i=!1:T>159&&(T<192||T===215||T===247)&&x++),s&&(h>0?T<64||T===127||T>252?s=!1:h--:T===128||T===160||T>239?s=!1:T>160&&T<224?(d++,g=0,p++,p>_&&(_=p)):T>127?(h++,p=0,g++,g>w&&(w=g)):(p=0,g=0))}return a&&o>0&&(a=!1),s&&h>0&&(s=!1),a&&(S||l+c+u>0)?n.UTF8:s&&(n.ASSUME_SHIFT_JIS||_>=3||w>=3)?n.SHIFT_JIS:i&&s?_===2&&d===2||x*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:s?n.SHIFT_JIS:a?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function s(o,l,c,u,h,d){if(o==="%%")return"%";if(t[++i]!==void 0){o=u?parseInt(u.substr(1)):void 0;var p=h?parseInt(h.substr(1)):void 0,g;switch(d){case"s":g=t[i];break;case"c":g=t[i][0];break;case"f":g=parseFloat(t[i]).toFixed(o);break;case"p":g=parseFloat(t[i]).toPrecision(o);break;case"e":g=parseFloat(t[i]).toExponential(o);break;case"x":g=parseInt(t[i]).toString(p||16);break;case"d":g=parseFloat(parseInt(t[i],p||10).toPrecision(o)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(p);for(var _=parseInt(c),w=c&&c[0]+""=="0"?"0":" ";g.length<_;)g=l!==void 0?g+w:w+g;return g}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,s)},n.getBytes=function(e,t){return Bl.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=ps.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=ps.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=ps.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),zn=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=sr.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),Du=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new sn("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),s=0;s<t;s++)for(var a=e[s],o=0;o<r;o++)a[o]&&i.set(o,s);return i},n.parseFromString=function(e,t,r){if(e===null)throw new sn("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,a=0,o=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(s>a){if(o===-1)o=s-a;else if(s-a!==o)throw new sn("row lengths do not match");a=s,l++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,i[s]=!0,s++;else if(e.substring(c,c+r.length)===r)c+=r.length,i[s]=!1,s++;else throw new sn("illegal character encountered: "+e.substring(c));if(s>a){if(o===-1)o=s-a;else if(s-a!==o)throw new sn("row lengths do not match");l++}for(var u=new n(o,l),h=0;h<s;h++)i[h]&&u.set(Math.floor(h%o),Math.floor(h/o));return u},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new sn("input matrix dimensions do not match");for(var t=new ks(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,s=0,a=this.height;s<a;s++)for(var o=s*r,l=e.getRow(s,t).getBitArray(),c=0;c<r;c++)i[o+c]^=l[c]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new sn("Left and top must be nonnegative");if(i<1||r<1)throw new sn("Height and width must be at least 1");var s=e+r,a=t+i;if(a>this.height||s>this.width)throw new sn("The region must fit inside the matrix");for(var o=this.rowSize,l=this.bits,c=t;c<a;c++)for(var u=c*o,h=e;h<s;h++)l[u+Math.floor(h/32)]|=1<<(h&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new ks(this.width):t.clear();for(var r=this.rowSize,i=this.bits,s=e*r,a=0;a<r;a++)t.setBulk(a*32,i[s+a]);return t},n.prototype.setRow=function(e,t){Zr.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new ks(e),i=new ks(e),s=0,a=Math.floor((t+1)/2);s<a;s++)r=this.getRow(s,r),i=this.getRow(t-1-s,i),r.reverse(),i.reverse(),this.setRow(s,i),this.setRow(t-1-s,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,s=e,a=t,o=-1,l=-1,c=0;c<t;c++)for(var u=0;u<r;u++){var h=i[c*r+u];if(h!==0){if(c<a&&(a=c),c>l&&(l=c),u*32<s){for(var d=0;!(h<<31-d&4294967295);)d++;u*32+d<s&&(s=u*32+d)}if(u*32+31>o){for(var d=31;!(h>>>d);)d--;u*32+d>o&&(o=u*32+d)}}}return o<s||l<a?null:Int32Array.from([s,a,o-s+1,l-a+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,s=r%e*32,a=t[r],o=0;!(a<<31-o&4294967295);)o++;return s+=o,Int32Array.from([s,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),s=Math.floor(r%e)*32,a=t[r],o=31;!(a>>>o);)o--;return s+=o,Int32Array.from([s,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&ms.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+ms.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new zn,s=0,a=this.height;s<a;s++){for(var o=0,l=this.width;o<l;o++)i.append(this.get(o,s)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),rFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ze=function(n){rFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Bo),iFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sFe=function(n){iFe(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),s=i.getWidth();r==null||r.getSize()<s?r=new ks(s):r.clear(),this.initArrays(s);for(var a=i.getRow(t,this.luminances),o=this.buckets,l=0;l<s;l++)o[(a[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(o);if(s<3)for(var l=0;l<s;l++)(a[l]&255)<c&&r.set(l);else for(var u=a[0]&255,h=a[1]&255,l=1;l<s-1;l++){var d=a[l+1]&255;(h*4-u-d)/2<c&&r.set(l),u=h,h=d}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),s=new Du(r,i);this.initArrays(r);for(var a=this.buckets,o=1;o<5;o++)for(var l=Math.floor(i*o/5),c=t.getRow(l,this.luminances),u=Math.floor(r*4/5),h=Math.floor(r/5);h<u;h++){var d=c[h]&255;a[d>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(a),g=t.getMatrix(),o=0;o<i;o++)for(var _=o*r,h=0;h<r;h++){var d=g[_+h]&255;d<p&&s.set(h,o)}return s},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,s=0,a=0,o=0;o<r;o++)t[o]>a&&(s=o,a=t[o]),t[o]>i&&(i=t[o]);for(var l=0,c=0,o=0;o<r;o++){var u=o-s,h=t[o]*u*u;h>c&&(l=o,c=h)}if(s>l){var d=s;s=l,l=d}if(l-s<=r/16)throw new Ze;for(var p=l-1,g=-1,o=l-1;o>s;o--){var _=o-s,h=_*_*(l-o)*(i-t[o]);h>g&&(p=o,g=h)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(K4e),aFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hre=function(n){aFe(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=t.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;r&e.BLOCK_SIZE_MASK&&a++;var o=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&o++;var l=e.calculateBlackPoints(s,a,o,r,i),c=new Du(r,i);e.calculateThresholdForBlock(s,a,o,r,i,l,c),this.matrix=c}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,s,a,o,l){for(var c=a-e.BLOCK_SIZE,u=s-e.BLOCK_SIZE,h=0;h<i;h++){var d=h<<e.BLOCK_SIZE_POWER;d>c&&(d=c);for(var p=e.cap(h,2,i-3),g=0;g<r;g++){var _=g<<e.BLOCK_SIZE_POWER;_>u&&(_=u);for(var w=e.cap(g,2,r-3),x=0,S=-2;S<=2;S++){var E=o[p+S];x+=E[w-2]+E[w-1]+E[w]+E[w+1]+E[w+2]}var T=x/25;e.thresholdBlock(t,_,d,T,s,l)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,s,a,o){for(var l=0,c=i*a+r;l<e.BLOCK_SIZE;l++,c+=a)for(var u=0;u<e.BLOCK_SIZE;u++)(t[c+u]&255)<=s&&o.set(r+u,i+l)},e.calculateBlackPoints=function(t,r,i,s,a){for(var o=a-e.BLOCK_SIZE,l=s-e.BLOCK_SIZE,c=new Array(i),u=0;u<i;u++){c[u]=new Int32Array(r);var h=u<<e.BLOCK_SIZE_POWER;h>o&&(h=o);for(var d=0;d<r;d++){var p=d<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var g=0,_=255,w=0,x=0,S=h*s+p;x<e.BLOCK_SIZE;x++,S+=s){for(var E=0;E<e.BLOCK_SIZE;E++){var T=t[S+E]&255;g+=T,T<_&&(_=T),T>w&&(w=T)}if(w-_>e.MIN_DYNAMIC_RANGE)for(x++,S+=s;x<e.BLOCK_SIZE;x++,S+=s)for(var E=0;E<e.BLOCK_SIZE;E++)g+=t[S+E]&255}var D=g>>e.BLOCK_SIZE_POWER*2;if(w-_<=e.MIN_DYNAMIC_RANGE&&(D=_/2,u>0&&d>0)){var k=(c[u-1][d]+2*c[u][d-1]+c[u-1][d-1])/4;_<k&&(D=k)}c[u][d]=D}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(sFe),Ow=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new BE("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new BE("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new BE("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new zn,r=0;r<this.height;r++){for(var i=this.getRow(r,e),s=0;s<this.width;s++){var a=i[s]&255,o=void 0;a<64?o="#":a<128?o="+":a<192?o=".":o=" ",t.append(o)}t.append(`
`)}return t.toString()},n}(),oFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nM=function(n){oFe(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),s=this.getWidth(),a=0;a<s;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),s=0;s<r;s++)i[s]=255-(t[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,s){return new e(this.delegate.crop(t,r,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Ow),lFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cFe=function(n){lFe(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,s){s===void 0&&(s=!1);var a=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var o=0,l=0,c=t.length;o<c;o+=4,l++){var u=void 0,h=t[o+3];if(h===0)u=255;else{var d=t[o],p=t[o+1],g=t[o+2];u=306*d+601*p+117*g+512>>10}a[l]=u}else for(var o=0,l=0,_=t.length;o<_;o+=4,l++){var u=void 0,h=t[o+3];if(h===0)u=255;else{var d=t[o],p=t[o+1],g=t[o+2];u=306*d+601*p+117*g+512>>10}a[l]=255-u}return a},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new sn("Requested row is outside the image: "+t);var i=this.getWidth(),s=t*i;return r===null?r=this.buffer.slice(s,s+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(s,s+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,s){return n.prototype.crop.call(this,t,r,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),s=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(s))*a+Math.abs(Math.sin(s))*o),c=Math.ceil(Math.abs(Math.sin(s))*a+Math.abs(Math.cos(s))*o);return r.width=l,r.height=c,i.translate(l/2,c/2),i.rotate(s),i.drawImage(this.canvas,a/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new nM(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Ow),uFe=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),$a=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(n,e||[])).next())})},qa=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},hFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Py=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return $a(this,void 0,void 0,function(){var e,t,r,i,s,a,o,l,c,u,h,d;return qa(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),t=[];try{for(r=hFe(e),i=r.next();!i.done;i=r.next())s=i.value,a=s.kind==="video"?"videoinput":s.kind,a==="videoinput"&&(o=s.deviceId||s.id,l=s.label||"Video device "+(t.length+1),c=s.groupId,u={deviceId:o,label:l,kind:a,groupId:c},t.push(u))}catch(g){h={error:g}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(h)throw h.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return $a(this,void 0,void 0,function(){var e;return qa(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new uFe(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return $a(this,void 0,void 0,function(){var t;return qa(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return $a(this,void 0,void 0,function(){return qa(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return $a(this,void 0,void 0,function(){var r,i;return qa(this,function(s){switch(s.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,s.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return $a(this,void 0,void 0,function(){var r;return qa(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return $a(this,void 0,void 0,function(){var r,i;return qa(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=s.sent(),[4,this.decodeOnce(r)];case 2:return i=s.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return $a(this,void 0,void 0,function(){return qa(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return $a(this,void 0,void 0,function(){var i,s;return qa(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,t,r)];case 1:return[2,a.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return $a(this,void 0,void 0,function(){var i;return qa(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,s.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return $a(this,void 0,void 0,function(){var i;return qa(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,s.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return $a(this,void 0,void 0,function(){var r;return qa(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return $a(this,void 0,void 0,function(){return qa(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new zi("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new zi("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new zi("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new zi("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new zi("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new zi("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new zi("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new zi("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new zi("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new zi("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return $a(this,void 0,void 0,function(){return qa(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return $a(this,void 0,void 0,function(){return qa(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var s=function(a,o){if(i._stopAsyncDecode){o(new Ze("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);a(l)}catch(d){var c=t&&d instanceof Ze,u=d instanceof ts||d instanceof St,h=u&&r;if(c||h)return setTimeout(s,i._timeBetweenDecodingAttempts,a,o);o(d)}};return new Promise(function(a,o){return s(a,o)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var s=r.decode(e);t(s,null),setTimeout(i,r.timeBetweenScansMillis)}catch(l){t(null,l);var a=l instanceof ts||l instanceof St,o=l instanceof Ze;(a||o)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new cFe(r,t),s=new hre(i);return new ure(s)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),ka=function(){function n(e,t,r,i,s,a){r===void 0&&(r=t==null?0:8*t.length),a===void 0&&(a=Zr.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=s,this.resultMetadata=null,a==null?this.timestamp=Zr.currentTimeMillis():this.timestamp=a}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);Zr.arraycopy(t,0,r,0,t.length),Zr.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),v3;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(v3||(v3={}));const rn=v3;var y3;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(y3||(y3={}));const Xs=y3;var rM=function(){function n(e,t,r,i,s,a){s===void 0&&(s=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),Xx=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new sn;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),Mf=function(){function n(e,t){if(t.length===0)throw new sn;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Zr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,s=t.length;i!==s;i++){var a=t[i];r=Xx.addOrSubtract(r,a)}return r}r=t[0];for(var o=t.length,l=this.field,i=1;i<o;i++)r=Xx.addOrSubtract(l.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new sn("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var s=new Int32Array(r.length),a=r.length-t.length;Zr.arraycopy(r,0,s,0,a);for(var o=a;o<r.length;o++)s[o]=Xx.addOrSubtract(t[o-a],r[o]);return new n(this.field,s)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new sn("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,s=i.length,a=new Int32Array(r+s-1),o=this.field,l=0;l<r;l++)for(var c=t[l],u=0;u<s;u++)a[l+u]=Xx.addOrSubtract(a[l+u],o.multiply(c,i[u]));return new n(o,a)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),s=this.coefficients,a=0;a<t;a++)i[a]=r.multiply(s[a],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new sn;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,s=new Int32Array(i+e),a=this.field,o=0;o<i;o++)s[o]=a.multiply(r[o],t);return new n(a,s)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new sn("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new sn("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,s=e.getCoefficient(e.getDegree()),a=t.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var o=i.getDegree()-e.getDegree(),l=t.multiply(i.getCoefficient(i.getDegree()),a),c=e.multiplyByMonomial(o,l),u=t.buildMonomial(o,l);r=r.addOrSubtract(u),i=i.addOrSubtract(c)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),dFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dre=function(n){dFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Bo),fFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Io=function(n){fFe(e,n);function e(t,r,i){var s=n.call(this)||this;s.primitive=t,s.size=r,s.generatorBase=i;for(var a=new Int32Array(r),o=1,l=0;l<r;l++)a[l]=o,o*=2,o>=r&&(o^=t,o&=r-1);s.expTable=a;for(var c=new Int32Array(r),l=0;l<r-1;l++)c[a[l]]=l;return s.logTable=c,s.zero=new Mf(s,Int32Array.from([0])),s.one=new Mf(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new sn;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Mf(this,i)},e.prototype.inverse=function(t){if(t===0)throw new dre;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+$n.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Xx),pFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YS=function(n){pFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Bo),mFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lw=function(n){mFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Bo),iM=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new Mf(r,e),s=new Int32Array(t),a=!0,o=0;o<t;o++){var l=i.evaluateAt(r.exp(o+r.getGeneratorBase()));s[s.length-1-o]=l,l!==0&&(a=!1)}if(!a)for(var c=new Mf(r,s),u=this.runEuclideanAlgorithm(r.buildMonomial(t,1),c,t),h=u[0],d=u[1],p=this.findErrorLocations(h),g=this.findErrorMagnitudes(d,p),o=0;o<p.length;o++){var _=e.length-1-r.log(p[o]);if(_<0)throw new YS("Bad error location");e[_]=Io.addOrSubtract(e[_],g[o])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var s=this.field,a=e,o=t,l=s.getZero(),c=s.getOne();o.getDegree()>=(r/2|0);){var u=a,h=l;if(a=o,l=c,a.isZero())throw new YS("r_{i-1} was zero");o=u;for(var d=s.getZero(),p=a.getCoefficient(a.getDegree()),g=s.inverse(p);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),w=s.multiply(o.getCoefficient(o.getDegree()),g);d=d.addOrSubtract(s.buildMonomial(_,w)),o=o.addOrSubtract(a.multiplyByMonomial(_,w))}if(c=d.multiply(l).addOrSubtract(h),o.getDegree()>=a.getDegree())throw new Lw("Division algorithm failed to reduce polynomial?")}var x=c.getCoefficient(0);if(x===0)throw new YS("sigmaTilde(0) was zero");var S=s.inverse(x),E=c.multiplyScalar(S),T=o.multiplyScalar(S);return[E,T]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,s=this.field,a=1;a<s.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=s.inverse(a),i++);if(i!==t)throw new YS("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),s=this.field,a=0;a<r;a++){for(var o=s.inverse(t[a]),l=1,c=0;c<r;c++)if(a!==c){var u=s.multiply(t[c],o),h=u&1?u&-2:u|1;l=s.multiply(l,h)}i[a]=s.multiply(e.evaluateAt(o),s.inverse(l)),s.getGeneratorBase()!==0&&(i[a]=s.multiply(i[a],o))}return i},n}(),zs;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(zs||(zs={}));var Y9=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),s=n.convertBoolArrayToByteArray(i),a=n.getEncodedData(i),o=new rM(s,a,null,null);return o.setNumBits(i.length),o},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=zs.UPPER,i=zs.UPPER,s="",a=0;a<t;)if(i===zs.BINARY){if(t-a<5)break;var o=n.readCode(e,a,5);if(a+=5,o===0){if(t-a<11)break;o=n.readCode(e,a,11)+31,a+=11}for(var l=0;l<o;l++){if(t-a<8){a=t;break}var c=n.readCode(e,a,8);s+=sr.castAsNonUtf8Char(c),a+=8}i=r}else{var u=i===zs.DIGIT?4:5;if(t-a<u)break;var c=n.readCode(e,a,u);a+=u;var h=n.getCharacter(i,c);h.startsWith("CTRL_")?(r=i,i=n.getTable(h.charAt(5)),h.charAt(6)==="L"&&(r=i)):(s+=h,i=r)}return s},n.getTable=function(e){switch(e){case"L":return zs.LOWER;case"P":return zs.PUNCT;case"M":return zs.MIXED;case"D":return zs.DIGIT;case"B":return zs.BINARY;case"U":default:return zs.UPPER}},n.getCharacter=function(e,t){switch(e){case zs.UPPER:return n.UPPER_TABLE[t];case zs.LOWER:return n.LOWER_TABLE[t];case zs.MIXED:return n.MIXED_TABLE[t];case zs.PUNCT:return n.PUNCT_TABLE[t];case zs.DIGIT:return n.DIGIT_TABLE[t];default:throw new Lw("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=Io.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=Io.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=Io.AZTEC_DATA_10):(r=12,t=Io.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/r;if(s<i)throw new St;for(var a=e.length%r,o=new Int32Array(s),l=0;l<s;l++,a+=r)o[l]=n.readCode(e,a,r);try{var c=new iM(t);c.decode(o,s-i)}catch(w){throw new St(w)}for(var u=(1<<r)-1,h=0,l=0;l<i;l++){var d=o[l];if(d===0||d===u)throw new St;(d===1||d===u-1)&&h++}for(var p=new Array(i*r-h),g=0,l=0;l<i;l++){var d=o[l];if(d===1||d===u-1)p.fill(d>1,g,g+r-1),g+=r-1;else for(var _=r-1;_>=0;--_)p[g++]=(d&1<<_)!==0}return p},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,s=new Int32Array(i),a=new Array(this.totalBitsInLayer(r,t));if(t)for(var o=0;o<s.length;o++)s[o]=o;else for(var l=i+1+2*$n.truncDivision($n.truncDivision(i,2)-1,15),c=i/2,u=$n.truncDivision(l,2),o=0;o<c;o++){var h=o+$n.truncDivision(o,15);s[c-o-1]=u-h-1,s[c+o]=u+h+1}for(var o=0,d=0;o<r;o++){for(var p=(r-o)*4+(t?9:12),g=o*2,_=i-1-g,w=0;w<p;w++)for(var x=w*2,S=0;S<2;S++)a[d+x+S]=e.get(s[g+S],s[g+w]),a[d+2*p+x+S]=e.get(s[g+w],s[_-S]),a[d+4*p+x+S]=e.get(s[_-S],s[_-w]),a[d+6*p+x+S]=e.get(s[_-w],s[g+S]);d+=p*8}return a},n.readCode=function(e,t,r){for(var i=0,s=t;s<t+r;s++)i<<=1,e[s]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),gr=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var s=e-r,a=t-i;return Math.sqrt(s*s+a*a)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var s=e[r];t+=s}return t},n}(),x3=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Kt=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*x3.floatToIntBits(this.x)+x3.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,a,o;if(r>=t&&r>=i?(a=e[0],s=e[1],o=e[2]):i>=r&&i>=t?(a=e[1],s=e[0],o=e[2]):(a=e[2],s=e[0],o=e[1]),this.crossProductZ(s,a,o)<0){var l=s;s=o,o=l}e[0]=s,e[1]=a,e[2]=o},n.distance=function(e,t){return gr.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,s=t.y;return(r.x-i)*(e.y-s)-(r.y-s)*(e.x-i)},n}(),aF=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),gFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vFe=function(n){gFe(e,n);function e(t,r,i,s,a){var o=n.call(this,t,r)||this;return o.compact=i,o.nbDatablocks=s,o.nbLayers=a,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(aF),_3=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=t/2|0;if(this.leftInit=r-s,this.rightInit=r+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ze}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,s=!1,a=!0,o=!1,l=!1,c=!1,u=!1,h=!1,d=this.width,p=this.height;a;){a=!1;for(var g=!0;(g||!l)&&t<d;)g=this.containsBlackPoint(r,i,t,!1),g?(t++,a=!0,l=!0):l||t++;if(t>=d){s=!0;break}for(var _=!0;(_||!c)&&i<p;)_=this.containsBlackPoint(e,t,i,!0),_?(i++,a=!0,c=!0):c||i++;if(i>=p){s=!0;break}for(var w=!0;(w||!u)&&e>=0;)w=this.containsBlackPoint(r,i,e,!1),w?(e--,a=!0,u=!0):u||e--;if(e<0){s=!0;break}for(var x=!0;(x||!h)&&r>=0;)x=this.containsBlackPoint(e,t,r,!0),x?(r--,a=!0,h=!0):h||r--;if(r<0){s=!0;break}a&&(o=!0)}if(!s&&o){for(var S=t-e,E=null,T=1;E===null&&T<S;T++)E=this.getBlackPointOnSegment(e,i-T,e+T,i);if(E==null)throw new Ze;for(var D=null,T=1;D===null&&T<S;T++)D=this.getBlackPointOnSegment(e,r+T,e+T,r);if(D==null)throw new Ze;for(var k=null,T=1;k===null&&T<S;T++)k=this.getBlackPointOnSegment(t,r+T,t-T,r);if(k==null)throw new Ze;for(var I=null,T=1;I===null&&T<S;T++)I=this.getBlackPointOnSegment(t,i-T,t-T,i);if(I==null)throw new Ze;return this.centerEdges(I,E,k,D)}else throw new Ze},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var s=gr.round(gr.distance(e,t,r,i)),a=(r-e)/s,o=(i-t)/s,l=this.image,c=0;c<s;c++){var u=gr.round(e+c*a),h=gr.round(t+c*o);if(l.get(u,h))return new Kt(u,h)}return null},n.prototype.centerEdges=function(e,t,r,i){var s=e.getX(),a=e.getY(),o=t.getX(),l=t.getY(),c=r.getX(),u=r.getY(),h=i.getX(),d=i.getY(),p=n.CORR;return s<this.width/2?[new Kt(h-p,d+p),new Kt(o+p,l+p),new Kt(c-p,u-p),new Kt(s+p,a-p)]:[new Kt(h+p,d+p),new Kt(o+p,l-p),new Kt(c-p,u+p),new Kt(s-p,a-p)]},n.prototype.containsBlackPoint=function(e,t,r,i){var s=this.image;if(i){for(var a=e;a<=t;a++)if(s.get(a,r))return!0}else for(var o=e;o<=t;o++)if(s.get(r,o))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),K9=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),s=!0,a=0;a<t.length&&s;a+=2){var o=Math.floor(t[a]),l=Math.floor(t[a+1]);if(o<-1||o>r||l<-1||l>i)throw new Ze;s=!1,o===-1?(t[a]=0,s=!0):o===r&&(t[a]=r-1,s=!0),l===-1?(t[a+1]=0,s=!0):l===i&&(t[a+1]=i-1,s=!0)}s=!0;for(var a=t.length-2;a>=0&&s;a-=2){var o=Math.floor(t[a]),l=Math.floor(t[a+1]);if(o<-1||o>r||l<-1||l>i)throw new Ze;s=!1,o===-1?(t[a]=0,s=!0):o===r&&(t[a]=r-1,s=!0),l===-1?(t[a+1]=0,s=!0):l===i&&(t[a+1]=i-1,s=!0)}},n}(),fre=function(){function n(e,t,r,i,s,a,o,l,c){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=s,this.a32=a,this.a13=o,this.a23=l,this.a33=c}return n.quadrilateralToQuadrilateral=function(e,t,r,i,s,a,o,l,c,u,h,d,p,g,_,w){var x=n.quadrilateralToSquare(e,t,r,i,s,a,o,l),S=n.squareToQuadrilateral(c,u,h,d,p,g,_,w);return S.times(x)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,s=this.a13,a=this.a21,o=this.a22,l=this.a23,c=this.a31,u=this.a32,h=this.a33,d=0;d<t;d+=2){var p=e[d],g=e[d+1],_=s*p+l*g+h;e[d]=(r*p+a*g+c)/_,e[d+1]=(i*p+o*g+u)/_}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,s=this.a13,a=this.a21,o=this.a22,l=this.a23,c=this.a31,u=this.a32,h=this.a33,d=e.length,p=0;p<d;p++){var g=e[p],_=t[p],w=s*g+l*_+h;e[p]=(r*g+a*_+c)/w,t[p]=(i*g+o*_+u)/w}},n.squareToQuadrilateral=function(e,t,r,i,s,a,o,l){var c=e-r+s-o,u=t-i+a-l;if(c===0&&u===0)return new n(r-e,s-r,e,i-t,a-i,t,0,0,1);var h=r-s,d=o-s,p=i-a,g=l-a,_=h*g-d*p,w=(c*g-d*u)/_,x=(h*u-c*p)/_;return new n(r-e+w*r,o-e+x*o,e,i-t+w*i,l-t+x*l,t,w,x,1)},n.quadrilateralToSquare=function(e,t,r,i,s,a,o,l){return n.squareToQuadrilateral(e,t,r,i,s,a,o,l).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),yFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xFe=function(n){yFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,s,a,o,l,c,u,h,d,p,g,_,w,x,S,E,T){var D=fre.quadrilateralToQuadrilateral(s,a,o,l,c,u,h,d,p,g,_,w,x,S,E,T);return this.sampleGridWithTransform(t,r,i,D)},e.prototype.sampleGridWithTransform=function(t,r,i,s){if(r<=0||i<=0)throw new Ze;for(var a=new Du(r,i),o=new Float32Array(2*r),l=0;l<i;l++){for(var c=o.length,u=l+.5,h=0;h<c;h+=2)o[h]=h/2+.5,o[h+1]=u;s.transformPoints(o),K9.checkAndNudgePoints(t,o);try{for(var h=0;h<c;h+=2)t.get(Math.floor(o[h]),Math.floor(o[h+1]))&&a.set(h/2,l)}catch{throw new Ze}}return a},e}(K9),oF=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new xFe,n}(),_o=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new Kt(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),_Fe=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new vFe(s,a,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Ze;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,s=0;s<4;s++){var a=r[(this.shift+s)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(s,a,o){var l=(s>>t-2<<1)+(s&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if($n.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Ze},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var s=r-i,a=new Int32Array(r),o=r-1;o>=0;--o)a[o]=e&15,e>>=4;try{var l=new iM(Io.AZTEC_PARAM);l.decode(a,s)}catch{throw new Ze}for(var c=0,o=0;o<i;o++)c=(c<<4)+a[o];return c},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(t,a,1,-1),l=this.getFirstDifferent(r,a,1,1),c=this.getFirstDifferent(i,a,-1,1),u=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(u,o)*this.nbCenterLayers/(this.distancePoint(s,t)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(o,l,c,u))break}t=o,r=l,i=c,s=u,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ze;this.compact=this.nbCenterLayers===5;var d=new Kt(t.getX()+.5,t.getY()-.5),p=new Kt(r.getX()+.5,r.getY()+.5),g=new Kt(i.getX()-.5,i.getY()+.5),_=new Kt(s.getX()-.5,s.getY()-.5);return this.expandSquare([d,p,g,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var s=new _3(this.image).detect();e=s[0],t=s[1],r=s[2],i=s[3]}catch{var a=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new _o(a+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new _o(a+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new _o(a-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new _o(a-7,o-7),!1,-1,-1).toResultPoint()}var l=gr.round((e.getX()+i.getX()+t.getX()+r.getX())/4),c=gr.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var s=new _3(this.image,15,l,c).detect();e=s[0],t=s[1],r=s[2],i=s[3]}catch{e=this.getFirstDifferent(new _o(l+7,c-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new _o(l+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new _o(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new _o(l-7,c-7),!1,-1,-1).toResultPoint()}return l=gr.round((e.getX()+i.getX()+t.getX()+r.getX())/4),c=gr.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new _o(l,c)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,s){var a=oF.getInstance(),o=this.getDimension(),l=o/2-this.nbCenterLayers,c=o/2+this.nbCenterLayers;return a.sampleGrid(e,o,o,l,l,c,l,c,c,l,c,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),s.getX(),s.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,s=this.distanceResultPoint(e,t),a=s/r,o=e.getX(),l=e.getY(),c=a*(t.getX()-e.getX())/s,u=a*(t.getY()-e.getY())/s,h=0;h<r;h++)this.image.get(gr.round(o+h*c),gr.round(l+h*u))&&(i|=1<<r-h-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var s=3;e=new _o(e.getX()-s,e.getY()+s),t=new _o(t.getX()-s,t.getY()-s),r=new _o(r.getX()+s,r.getY()-s),i=new _o(i.getX()+s,i.getY()+s);var a=this.getColor(i,e);if(a===0)return!1;var o=this.getColor(e,t);return o!==a||(o=this.getColor(t,r),o!==a)?!1:(o=this.getColor(r,i),o===a)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,s=(t.getY()-e.getY())/r,a=0,o=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),u=Math.ceil(r),h=0;h<u;h++)o+=i,l+=s,this.image.get(gr.round(o),gr.round(l))!==c&&a++;var d=a/r;return d>.1&&d<.9?0:d<=.1===c?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var s=e.getX()+r,a=e.getY()+i;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=r,a+=i;for(s-=r,a-=i;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=r;for(s-=r;this.isValid(s,a)&&this.image.get(s,a)===t;)a+=i;return a-=i,new _o(s,a)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new Kt(o+i*s,l+i*a),u=new Kt(o-i*s,l-i*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var h=new Kt(o+i*s,l+i*a),d=new Kt(o-i*s,l-i*a),p=[c,h,u,d];return p},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=gr.round(e.getX()),r=gr.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return gr.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return gr.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*($n.truncDivision(this.nbLayers-4,8)+1)+15},n}(),HA=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new _Fe(e.getBlackMatrix()),s=null,a=null;try{var o=i.detectMirror(!1);s=o.getPoints(),this.reportFoundResultPoints(t,s),a=new Y9().decode(o)}catch(h){r=h}if(a==null)try{var o=i.detectMirror(!0);s=o.getPoints(),this.reportFoundResultPoints(t,s),a=new Y9().decode(o)}catch(h){throw r??h}var l=new ka(a.getText(),a.getRawBytes(),a.getNumBits(),s,rn.AZTEC,Zr.currentTimeMillis()),c=a.getByteSegments();c!=null&&l.putMetadata(Xs.BYTE_SEGMENTS,c);var u=a.getECLevel();return u!=null&&l.putMetadata(Xs.ERROR_CORRECTION_LEVEL,u),l},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Qr.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,s,a){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),wFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){wFe(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new HA,t)||this}return e})(Py);var ys=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Qr.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,t),a=s.getResultMetadata(),o=270;a!==null&&a.get(Xs.ORIENTATION)===!0&&(o=o+a.get(Xs.ORIENTATION)%360),s.putMetadata(Xs.ORIENTATION,o);var l=s.getResultPoints();if(l!==null)for(var c=i.getHeight(),u=0;u<l.length;u++)l[u]=new Kt(c-l[u].getY()-1,l[u].getX());return s}else throw new Ze}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),s=new ks(r),a=t&&t.get(Qr.TRY_HARDER)===!0,o=Math.max(1,i>>(a?8:5)),l;a?l=i:l=15;for(var c=Math.trunc(i/2),u=0;u<l;u++){var h=Math.trunc((u+1)/2),d=(u&1)===0,p=c+o*(d?h:-h);if(p<0||p>=i)break;try{s=e.getBlackRow(p,s)}catch{continue}for(var g=function(S){if(S===1&&(s.reverse(),t&&t.get(Qr.NEED_RESULT_POINT_CALLBACK)===!0)){var E=new Map;t.forEach(function(k,I){return E.set(I,k)}),E.delete(Qr.NEED_RESULT_POINT_CALLBACK),t=E}try{var T=_.decodeRow(p,s,t);if(S===1){T.putMetadata(Xs.ORIENTATION,180);var D=T.getResultPoints();D!==null&&(D[0]=new Kt(r-D[0].getX()-1,D[0].getY()),D[1]=new Kt(r-D[1].getX()-1,D[1].getY()))}return{value:T}}catch{}},_=this,w=0;w<2;w++){var x=g(w);if(typeof x=="object")return x.value}}throw new Ze},n.recordPattern=function(e,t,r){for(var i=r.length,s=0;s<i;s++)r[s]=0;var a=e.getSize();if(t>=a)throw new Ze;for(var o=!e.get(t),l=0,c=t;c<a;){if(e.get(c)!==o)r[l]++;else{if(++l===i)break;r[l]=1,o=!o}c++}if(!(l===i||l===i-1&&c===a))throw new Ze},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,s=e.get(t);t>0&&i>=0;)e.get(--t)!==s&&(i--,s=!s);if(i>=0)throw new Ze;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,s=0,a=0,o=0;o<i;o++)s+=e[o],a+=t[o];if(s<a)return Number.POSITIVE_INFINITY;var l=s/a;r*=l;for(var c=0,u=0;u<i;u++){var h=e[u],d=t[u]*l,p=h>d?h-d:d-h;if(p>r)return Number.POSITIVE_INFINITY;c+=p}return c/s},n}(),bFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Z9=function(n){bFe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),s=0,a=Int32Array.from([0,0,0,0,0,0]),o=i,l=!1,c=6,u=i;u<r;u++)if(t.get(u)!==l)a[s]++;else{if(s===c-1){for(var h=e.MAX_AVG_VARIANCE,d=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var g=ys.patternMatchVariance(a,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);g<h&&(h=g,d=p)}if(d>=0&&t.isRange(Math.max(0,o-(u-o)/2),o,!1))return Int32Array.from([o,u,d]);o+=a[0]+a[1],a=a.slice(2,a.length),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,l=!l}throw new Ze},e.decodeCode=function(t,r,i){ys.recordPattern(t,i,r);for(var s=e.MAX_AVG_VARIANCE,a=-1,o=0;o<e.CODE_PATTERNS.length;o++){var l=e.CODE_PATTERNS[o],c=this.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);c<s&&(s=c,a=o)}if(a>=0)return a;throw new Ze},e.prototype.decodeRow=function(t,r,i){var s=i&&i.get(Qr.ASSUME_GS1)===!0,a=e.findStartPattern(r),o=a[2],l=0,c=new Uint8Array(20);c[l++]=o;var u;switch(o){case e.CODE_START_A:u=e.CODE_CODE_A;break;case e.CODE_START_B:u=e.CODE_CODE_B;break;case e.CODE_START_C:u=e.CODE_CODE_C;break;default:throw new St}for(var h=!1,d=!1,p="",g=a[0],_=a[1],w=Int32Array.from([0,0,0,0,0,0]),x=0,S=0,E=o,T=0,D=!0,k=!1,I=!1;!h;){var N=d;switch(d=!1,x=S,S=e.decodeCode(r,w,_),c[l++]=S,S!==e.CODE_STOP&&(D=!0),S!==e.CODE_STOP&&(T++,E+=T*S),g=_,_+=w.reduce(function(ce,X){return ce+X},0),S){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new St}switch(u){case e.CODE_CODE_A:if(S<64)I===k?p+=String.fromCharCode(32+S):p+=String.fromCharCode(32+S+128),I=!1;else if(S<96)I===k?p+=String.fromCharCode(S-64):p+=String.fromCharCode(S+64),I=!1;else switch(S!==e.CODE_STOP&&(D=!1),S){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!k&&I?(k=!0,I=!1):k&&I?(k=!1,I=!1):I=!0;break;case e.CODE_SHIFT:d=!0,u=e.CODE_CODE_B;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_B:if(S<96)I===k?p+=String.fromCharCode(32+S):p+=String.fromCharCode(32+S+128),I=!1;else switch(S!==e.CODE_STOP&&(D=!1),S){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!k&&I?(k=!0,I=!1):k&&I?(k=!1,I=!1):I=!0;break;case e.CODE_SHIFT:d=!0,u=e.CODE_CODE_A;break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:h=!0;break}break;case e.CODE_CODE_C:if(S<100)S<10&&(p+="0"),p+=S;else switch(S!==e.CODE_STOP&&(D=!1),S){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_STOP:h=!0;break}break}N&&(u=u===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var P=_-g;if(_=r.getNextUnset(_),!r.isRange(_,Math.min(r.getSize(),_+(_-g)/2),!1))throw new Ze;if(E-=T*x,E%103!==x)throw new ts;var R=p.length;if(R===0)throw new Ze;R>0&&D&&(u===e.CODE_CODE_C?p=p.substring(0,R-2):p=p.substring(0,R-1));for(var B=(a[1]+a[0])/2,z=g+P/2,H=c.length,K=new Uint8Array(H),J=0;J<H;J++)K[J]=c[J];var se=[new Kt(B,t),new Kt(z,t)];return new ka(p,K,0,se,rn.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(ys),SFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),aR=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q9=function(n){SFe(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var s,a,o,l,c=this.counters;c.fill(0),this.decodeRowResult="";var u=e.findAsteriskPattern(r,c),h=r.getNextSet(u[1]),d=r.getSize(),p,g;do{e.recordPattern(r,h,c);var _=e.toNarrowWidePattern(c);if(_<0)throw new Ze;p=e.patternToChar(_),this.decodeRowResult+=p,g=h;try{for(var w=(s=void 0,aR(c)),x=w.next();!x.done;x=w.next()){var S=x.value;h+=S}}catch(H){s={error:H}}finally{try{x&&!x.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}h=r.getNextSet(h)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var E=0;try{for(var T=aR(c),D=T.next();!D.done;D=T.next()){var S=D.value;E+=S}}catch(H){o={error:H}}finally{try{D&&!D.done&&(l=T.return)&&l.call(T)}finally{if(o)throw o.error}}var k=h-g-E;if(h!==d&&k*2<E)throw new Ze;if(this.usingCheckDigit){for(var I=this.decodeRowResult.length-1,N=0,P=0;P<I;P++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(I)!==e.ALPHABET_STRING.charAt(N%43))throw new ts;this.decodeRowResult=this.decodeRowResult.substring(0,I)}if(this.decodeRowResult.length===0)throw new Ze;var R;this.extendedMode?R=e.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;var B=(u[1]+u[0])/2,z=g+E/2;return new ka(R,null,0,[new Kt(B,t),new Kt(z,t)],rn.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),s=t.getNextSet(0),a=0,o=s,l=!1,c=r.length,u=s;u<i;u++)if(t.get(u)!==l)r[a]++;else{if(a===c-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,o-Math.floor((u-o)/2)),o,!1))return[o,u];o+=r[0]+r[1],r.copyWithin(0,2,2+a-1),r[a-1]=0,r[a]=0,a--}else a++;r[a]=1,l=!l}throw new Ze},e.toNarrowWidePattern=function(t){var r,i,s=t.length,a=0,o;do{var l=2147483647;try{for(var c=(r=void 0,aR(t)),u=c.next();!u.done;u=c.next()){var h=u.value;h<l&&h>a&&(l=h)}}catch(_){r={error:_}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}a=l,o=0;for(var d=0,p=0,g=0;g<s;g++){var h=t[g];h>a&&(p|=1<<s-1-g,o++,d+=h)}if(o===3){for(var g=0;g<s&&o>0;g++){var h=t[g];if(h>a&&(o--,h*2>=d))return-1}return p}}while(o>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new Ze},e.decodeExtended=function(t){for(var r=t.length,i="",s=0;s<r;s++){var a=t.charAt(s);if(a==="+"||a==="$"||a==="%"||a==="/"){var o=t.charAt(s+1),l="\0";switch(a){case"+":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new St;break;case"$":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new St;break;case"%":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o==="X"||o==="Y"||o==="Z")l="";else throw new St;break;case"/":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new St;break}i+=l,s++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(ys),EFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oR=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J9=function(n){EFe(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var s,a,o,l,c=this.findAsteriskPattern(r),u=r.getNextSet(c[1]),h=r.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var p,g;do{e.recordPattern(r,u,d);var _=this.toPattern(d);if(_<0)throw new Ze;p=this.patternToChar(_),this.decodeRowResult+=p,g=u;try{for(var w=(s=void 0,oR(d)),x=w.next();!x.done;x=w.next()){var S=x.value;u+=S}}catch(P){s={error:P}}finally{try{x&&!x.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}u=r.getNextSet(u)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var E=0;try{for(var T=oR(d),D=T.next();!D.done;D=T.next()){var S=D.value;E+=S}}catch(P){o={error:P}}finally{try{D&&!D.done&&(l=T.return)&&l.call(T)}finally{if(o)throw o.error}}if(u===h||!r.get(u))throw new Ze;if(this.decodeRowResult.length<2)throw new Ze;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var k=this.decodeExtended(this.decodeRowResult),I=(c[1]+c[0])/2,N=g+E/2;return new ka(k,null,0,[new Kt(I,t),new Kt(N,t)],rn.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var s=this.counters,a=i,o=!1,l=s.length,c=0,u=i;u<r;u++)if(t.get(u)!==o)s[c]++;else{if(c===l-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([a,u]);a+=s[0]+s[1],s.copyWithin(0,2,2+c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,o=!o}throw new Ze},e.prototype.toPattern=function(t){var r,i,s=0;try{for(var a=oR(t),o=a.next();!o.done;o=a.next()){var l=o.value;s+=l}}catch(g){r={error:g}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}for(var c=0,u=t.length,h=0;h<u;h++){var d=Math.round(t[h]*9/s);if(d<1||d>4)return-1;if(h&1)c<<=d;else for(var p=0;p<d;p++)c=c<<1|1}return c},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new Ze},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",s=0;s<r;s++){var a=t.charAt(s);if(a>="a"&&a<="d"){if(s>=r-1)throw new St;var o=t.charAt(s+1),l="\0";switch(a){case"d":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new St;break;case"a":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new St;break;case"b":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o>="X"&&o<="Z")l="";else throw new St;break;case"c":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new St;break}i+=l,s++}else i+=a}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var s=1,a=0,o=r-1;o>=0;o--)a+=s*e.ALPHABET_STRING.indexOf(t.charAt(o)),++s>i&&(s=1);if(t.charAt(r)!==e.ALPHABET_STRING[a%47])throw new ts},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(ys),AFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ez=function(n){AFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var s,a,o=this.decodeStart(r),l=this.decodeEnd(r),c=new zn;e.decodeMiddle(r,o[1],l[0],c);var u=c.toString(),h=null;i!=null&&(h=i.get(Qr.ALLOWED_LENGTHS)),h==null&&(h=e.DEFAULT_ALLOWED_LENGTHS);var d=u.length,p=!1,g=0;try{for(var _=TFe(h),w=_.next();!w.done;w=_.next()){var x=w.value;if(d===x){p=!0;break}x>g&&(g=x)}}catch(T){s={error:T}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}if(!p&&d>g&&(p=!0),!p)throw new St;var S=[new Kt(o[1],t),new Kt(l[0],t)],E=new ka(u,null,0,S,rn.ITF,new Date().getTime());return E},e.decodeMiddle=function(t,r,i,s){var a=new Int32Array(10),o=new Int32Array(5),l=new Int32Array(5);for(a.fill(0),o.fill(0),l.fill(0);r<i;){ys.recordPattern(t,r,a);for(var c=0;c<5;c++){var u=2*c;o[c]=a[u],l[c]=a[u+1]}var h=e.decodeDigit(o);s.append(h.toString()),h=this.decodeDigit(l),s.append(h.toString()),a.forEach(function(d){r+=d})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var s=r-1;i>0&&s>=0&&!t.get(s);s--)i--;if(i!==0)throw new Ze},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new Ze;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof Ze&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var s=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-s,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var s=i.length,a=new Int32Array(s),o=t.getSize(),l=!1,c=0,u=r;a.fill(0);for(var h=r;h<o;h++)if(t.get(h)!==l)a[c]++;else{if(c===s-1){if(ys.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[u,h];u+=a[0]+a[1],Zr.arraycopy(a,2,a,0,c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,l=!l}throw new Ze},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,a=0;a<s;a++){var o=e.PATTERNS[a],l=ys.patternMatchVariance(t,o,e.MAX_INDIVIDUAL_VARIANCE);l<r?(r=l,i=a):l===r&&(i=-1)}if(i>=0)return i%10;throw new Ze},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(ys),CFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sy=function(n){CFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,s=0,a=Int32Array.from([0,0,0]);!r;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,s,!1,this.START_END_PATTERN,a);var o=i[0];s=i[1];var l=o-(s-o);l>=0&&(r=t.isRange(l,o,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,s=r-1;s>=0;s-=2){var a=t.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new St;i+=a}i*=3;for(var s=r-2;s>=0;s-=2){var a=t.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new St;i+=a}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,s){return this.findGuardPattern(t,r,i,s,new Int32Array(s.length))},e.findGuardPattern=function(t,r,i,s,a){var o=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var l=0,c=r,u=s.length,h=i,d=r;d<o;d++)if(t.get(d)!==h)a[l]++;else{if(l===u-1){if(ys.patternMatchVariance(a,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,d]);c+=a[0]+a[1];for(var p=a.slice(2,a.length),g=0;g<l-1;g++)a[g]=p[g];a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,h=!h}throw new Ze},e.decodeDigit=function(t,r,i,s){this.recordPattern(t,i,r);for(var a=this.MAX_AVG_VARIANCE,o=-1,l=s.length,c=0;c<l;c++){var u=s[c],h=ys.patternMatchVariance(r,u,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,o=c)}if(o>=0)return o;throw new Ze},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(ys),MFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IFe=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(t,r,i),a=i.toString(),o=n.parseExtensionString(a),l=[new Kt((r[0]+r[1])/2,e),new Kt(s,e)],c=new ka(a,null,0,l,rn.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&c.putAllMetadata(o),c},n.prototype.decodeMiddle=function(e,t,r){var i,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=e.getSize(),l=t[1],c=0,u=0;u<5&&l<o;u++){var h=sy.decodeDigit(e,a,l,sy.L_AND_G_PATTERNS);r+=String.fromCharCode(48+h%10);try{for(var d=(i=void 0,MFe(a)),p=d.next();!p.done;p=d.next()){var g=p.value;l+=g}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}h>=10&&(c|=1<<4-u),u!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new Ze;var _=this.determineCheckDigit(c);if(n.extensionChecksum(r.toString())!==_)throw new Ze;return l},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new Ze},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[Xs.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),s=r%100,a=s<10?"0"+s:s.toString();return t+i+"."+a},n}(),PFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RFe=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(t,r,i),a=i.toString(),o=n.parseExtensionString(a),l=[new Kt((r[0]+r[1])/2,e),new Kt(s,e)],c=new ka(a,null,0,l,rn.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&c.putAllMetadata(o),c},n.prototype.decodeMiddle=function(e,t,r){var i,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=e.getSize(),l=t[1],c=0,u=0;u<2&&l<o;u++){var h=sy.decodeDigit(e,a,l,sy.L_AND_G_PATTERNS);r+=String.fromCharCode(48+h%10);try{for(var d=(i=void 0,PFe(a)),p=d.next();!p.done;p=d.next()){var g=p.value;l+=g}}catch(_){i={error:_}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}h>=10&&(c|=1<<1-u),u!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new Ze;if(parseInt(r.toString())%4!==c)throw new Ze;return l},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[Xs.ISSUE_NUMBER,parseInt(e)]])},n}(),NFe=function(){function n(){}return n.decodeRow=function(e,t,r){var i=sy.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new IFe;return s.decodeRow(e,t,i)}catch{var a=new RFe;return a.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),kFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fs=function(n){kFe(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],s=new Int32Array(i.length),a=0;a<i.length;a++)s[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[r]=s}return t}return e.prototype.decodeRow=function(t,r,i){var s=e.findStartGuardPattern(r),a=i==null?null:i.get(Qr.NEED_RESULT_POINT_CALLBACK);if(a!=null){var o=new Kt((s[0]+s[1])/2,t);a.foundPossibleResultPoint(o)}var l=this.decodeMiddle(r,s,this.decodeRowStringBuffer),c=l.rowOffset,u=l.resultString;if(a!=null){var h=new Kt(c,t);a.foundPossibleResultPoint(h)}var d=e.decodeEnd(r,c);if(a!=null){var p=new Kt((d[0]+d[1])/2,t);a.foundPossibleResultPoint(p)}var g=d[1],_=g+(g-d[0]);if(_>=r.getSize()||!r.isRange(g,_,!1))throw new Ze;var w=u.toString();if(w.length<8)throw new St;if(!e.checkChecksum(w))throw new ts;var x=(s[1]+s[0])/2,S=(d[1]+d[0])/2,E=this.getBarcodeFormat(),T=[new Kt(x,t),new Kt(S,t)],D=new ka(w,null,0,T,E,new Date().getTime()),k=0;try{var I=NFe.decodeRow(t,r,d[1]);D.putMetadata(Xs.UPC_EAN_EXTENSION,I.getText()),D.putAllMetadata(I.getResultMetadata()),D.addResultPoints(I.getResultPoints()),k=I.getText().length}catch{}var N=i==null?null:i.get(Qr.ALLOWED_EAN_EXTENSIONS);if(N!=null){var P=!1;for(var R in N)if(k.toString()===R){P=!0;break}if(!P)throw new Ze}return E===rn.EAN_13||rn.UPC_A,D},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,s=r-1;s>=0;s-=2){var a=t.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new St;i+=a}i*=3;for(var s=r-2;s>=0;s-=2){var a=t.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new St;i+=a}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(sy),DFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w3=function(n){DFe(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var s,a,o,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=t.getSize(),h=r[1],d=0,p=0;p<6&&h<u;p++){var g=fs.decodeDigit(t,c,h,fs.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var _=(s=void 0,tz(c)),w=_.next();!w.done;w=_.next()){var x=w.value;h+=x}}catch(D){s={error:D}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}g>=10&&(d|=1<<5-p)}i=e.determineFirstDigit(i,d);var S=fs.findGuardPattern(t,h,!0,fs.MIDDLE_PATTERN,new Int32Array(fs.MIDDLE_PATTERN.length).fill(0));h=S[1];for(var p=0;p<6&&h<u;p++){var g=fs.decodeDigit(t,c,h,fs.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var E=(o=void 0,tz(c)),T=E.next();!T.done;T=E.next()){var x=T.value;h+=x}}catch(I){o={error:I}}finally{try{T&&!T.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return rn.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new Ze},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(fs),OFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rz=function(n){OFe(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var s,a,o,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=t.getSize(),h=r[1],d=0;d<4&&h<u;d++){var p=fs.decodeDigit(t,c,h,fs.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var g=(s=void 0,nz(c)),_=g.next();!_.done;_=g.next()){var w=_.value;h+=w}}catch(T){s={error:T}}finally{try{_&&!_.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}}var x=fs.findGuardPattern(t,h,!0,fs.MIDDLE_PATTERN,new Int32Array(fs.MIDDLE_PATTERN.length).fill(0));h=x[1];for(var d=0;d<4&&h<u;d++){var p=fs.decodeDigit(t,c,h,fs.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var S=(o=void 0,nz(c)),E=S.next();!E.done;E=S.next()){var w=E.value;h+=w}}catch(k){o={error:k}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}}return{rowOffset:h,resultString:i}},e.prototype.getBarcodeFormat=function(){return rn.EAN_8},e}(fs),LFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),iz=function(n){LFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new w3,t}return e.prototype.getBarcodeFormat=function(){return rn.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new ka(r.substring(1),null,null,t.getResultPoints(),rn.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new Ze},e.prototype.reset=function(){this.ean13Reader.reset()},e}(fs),FFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sz=function(n){FFe(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var s,a,o=this.decodeMiddleCounters.map(function(w){return w});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=t.getSize(),c=r[1],u=0,h=0;h<6&&c<l;h++){var d=e.decodeDigit(t,o,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+d%10);try{for(var p=(s=void 0,BFe(o)),g=p.next();!g.done;g=p.next()){var _=g.value;c+=_}}catch(w){s={error:w}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}d>=10&&(u|=1<<5-h)}return e.determineNumSysAndCheckDigit(new zn(i),u),c},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return fs.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){t.insert(0,"0"+i),t.append("0"+s);return}throw Ze.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return rn.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new zn;i.append(t.charAt(0));var s=r[5];switch(s){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(s),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(s);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(fs),UFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),az=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lR=function(n){UFe(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Qr.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(rn.EAN_13)>-1&&s.push(new w3),i.indexOf(rn.UPC_A)>-1&&s.push(new iz),i.indexOf(rn.EAN_8)>-1&&s.push(new rz),i.indexOf(rn.UPC_E)>-1&&s.push(new sz)),s.length===0&&(s.push(new w3),s.push(new iz),s.push(new rz),s.push(new sz)),r.readers=s,r}return e.prototype.decodeRow=function(t,r,i){var s,a;try{for(var o=az(this.readers),l=o.next();!l.done;l=o.next()){var c=l.value;try{var u=c.decodeRow(t,r,i),h=u.getBarcodeFormat()===rn.EAN_13&&u.getText().charAt(0)==="0",d=i==null?null:i.get(Qr.POSSIBLE_FORMATS),p=d==null||d.includes(rn.UPC_A);if(h&&p){var g=u.getRawBytes(),_=new ka(u.getText().substring(1),g,g?g.length:null,u.getResultPoints(),rn.UPC_A);return _.putAllMetadata(u.getResultMetadata()),_}return u}catch{}}}catch(w){s={error:w}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}throw new Ze},e.prototype.reset=function(){var t,r;try{for(var i=az(this.readers),s=i.next();!s.done;s=i.next()){var a=s.value;a.reset()}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(ys),jFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VFe=function(n){jFe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var s=this.getValidRowData(r);if(!s)throw new Ze;var a=this.codaBarDecodeRow(s.row);if(!a)throw new Ze;return new ka(a,null,0,[new Kt(s.left,t),new Kt(s.right,t)],rn.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var s=r.lastIndexOf(!0);if(s<=i)return null;r=r.slice(i,s+1);for(var a=[],o=r[0],l=1,c=1;c<r.length;c++)r[c]===o?l++:(o=r[c],a.push(l),l=1);return a.push(l),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:i,right:s}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(l,c){return(l+c)/2},0));t.length>0;){var s=t.splice(0,8).splice(0,7),a=s.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[a])}var o=r.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(ys),zFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kp=function(n){zFe(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(ys.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Ze},e.count=function(t){return gr.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,s=r[0],a=1;a<t.length;a++)r[a]>s&&(s=r[a],i=a);t[i]++},e.decrement=function(t,r){for(var i=0,s=r[0],a=1;a<t.length;a++)r[a]<s&&(s=r[a],i=a);t[i]--},e.isFinderPattern=function(t){var r,i,s=t[0]+t[1],a=s+t[2]+t[3],o=s/a;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var u=HFe(t),h=u.next();!h.done;h=u.next()){var d=h.value;d>c&&(c=d),d<l&&(l=d)}}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(ys),WA=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),pre=function(){function n(e,t,r,i,s){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Kt(r,s)),this.resultPoints.push(new Kt(i,s))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),WFe=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},G0=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,s,a=0;try{for(var o=WFe(e),l=o.next();!l.done;l=o.next()){var c=l.value;a+=c}}catch(S){i={error:S}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}for(var u=0,h=0,d=e.length,p=0;p<d-1;p++){var g=void 0;for(g=1,h|=1<<p;g<e[p];g++,h&=~(1<<p)){var _=n.combins(a-g-1,d-p-2);if(r&&h===0&&a-g-(d-p-1)>=d-p-1&&(_-=n.combins(a-g-(d-p),d-p-2)),d-p-1>1){for(var w=0,x=a-g-(d-p-2);x>t;x--)w+=n.combins(a-g-x-1,d-p-3);_-=w*(d-1-p)}else a-g>t&&_--;u+=_}a-=g}return u},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var s=1,a=1,o=e;o>r;o--)s*=o,a<=i&&(s/=a,a++);for(;a<=i;)s/=a,a++;return s},n}(),GFe=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new ks(r),s=0,a=e[0],o=a.getRightChar().getValue(),l=11;l>=0;--l)o&1<<l&&i.set(s),s++;for(var l=1;l<e.length;++l){for(var c=e[l],u=c.getLeftChar().getValue(),h=11;h>=0;--h)u&1<<h&&i.set(s),s++;if(c.getRightChar()!==null)for(var d=c.getRightChar().getValue(),h=11;h>=0;--h)d&1<<h&&i.set(s),s++}return i},n}(),Lp=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),lF=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),$Fe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rc=function(n){$Fe(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(lF),qFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fp=function(n){qFe(e,n);function e(t,r,i){var s=n.call(this,t)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=r,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(lF),XFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),o0=function(n){XFe(e,n);function e(t,r,i){var s=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new St;return s.firstDigit=r,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(lF),KS=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YFe=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,s,a,o,l,c;if(!e)return null;if(e.length<2)throw new Ze;var u=e.substring(0,2);try{for(var h=KS(n.TWO_DIGIT_DATA_LENGTH),d=h.next();!d.done;d=h.next()){var p=d.value;if(p[0]===u)return p[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,p[2],e):n.processFixedAI(2,p[1],e)}}catch(k){t={error:k}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}if(e.length<3)throw new Ze;var g=e.substring(0,3);try{for(var _=KS(n.THREE_DIGIT_DATA_LENGTH),w=_.next();!w.done;w=_.next()){var p=w.value;if(p[0]===g)return p[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,p[2],e):n.processFixedAI(3,p[1],e)}}catch(k){i={error:k}}finally{try{w&&!w.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}try{for(var x=KS(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),S=x.next();!S.done;S=x.next()){var p=S.value;if(p[0]===g)return p[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,p[2],e):n.processFixedAI(4,p[1],e)}}catch(k){a={error:k}}finally{try{S&&!S.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}if(e.length<4)throw new Ze;var E=e.substring(0,4);try{for(var T=KS(n.FOUR_DIGIT_DATA_LENGTH),D=T.next();!D.done;D=T.next()){var p=D.value;if(p[0]===E)return p[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,p[2],e):n.processFixedAI(4,p[1],e)}}catch(k){l={error:k}}finally{try{D&&!D.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}throw new Ze},n.processFixedAI=function(e,t,r){if(r.length<e)throw new Ze;var i=r.substring(0,e);if(r.length<e+t)throw new Ze;var s=r.substring(e,e+t),a=r.substring(e+t),o="("+i+")"+s,l=n.parseFieldsInGeneralPurpose(a);return l==null?o:o+l},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),s;r.length<e+t?s=r.length:s=e+t;var a=r.substring(e,s),o=r.substring(s),l="("+i+")"+a,c=n.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),UE=function(){function n(e){this.buffer=new zn,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var s=this.decodeGeneralPurposeField(r,i),a=YFe.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?i=""+s.getRemainingValue():i=null,r===s.getNewPosition())break;r=s.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new o0(this.information.getSize(),o0.FNC1,o0.FNC1):new o0(this.information.getSize(),t-1,o0.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,s=(r-8)%11;return new o0(e+7,i,s)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,s=0;s<r;++s)e.get(t+s)&&(i|=1<<r-s-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Fp(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Fp(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new Fp(this.current.getPosition(),this.buffer.toString()):t=new Fp(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Lp(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new Fp(this.current.getPosition(),this.buffer.toString());return new Lp(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Lp(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Fp(this.current.getPosition(),this.buffer.toString());return new Lp(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Lp(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Fp(this.current.getPosition(),this.buffer.toString());return new Lp(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Lp(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new rc(e+5,rc.FNC1);if(t>=5&&t<15)return new rc(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new rc(e+7,""+(r+1));if(r>=90&&r<116)return new rc(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new St}return new rc(e+8,s)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new rc(e+5,rc.FNC1);if(t>=5&&t<15)return new rc(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new rc(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Lw("Decoding invalid alphanumeric value: "+r)}return new rc(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),mre=function(){function n(e){this.information=e,this.generalDecoder=new UE(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),KFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gc=function(n){KFe(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var s=0;s<4;++s){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,s=0;s<13;s++){var a=t.charAt(s+r).charCodeAt(0)-48;i+=s&1?a:3*a}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(mre),ZFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QFe=function(n){ZFe(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new zn;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(gc),JFe=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),e6e=function(n){JFe(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new zn;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(mre),t6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jE=function(n){t6e(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,s);for(var a=this.checkWeight(s),o=1e5,l=0;l<5;++l)a/o===0&&t.append("0"),o/=10;t.append(a)},e}(gc),n6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gre=function(n){n6e(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+jE.GTIN_SIZE+e.WEIGHT_SIZE)throw new Ze;var t=new zn;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+jE.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(jE),r6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),i6e=function(n){r6e(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(gre),s6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),a6e=function(n){s6e(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(gre),o6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),l6e=function(n){o6e(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+gc.GTIN_SIZE)throw new Ze;var t=new zn;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+gc.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+gc.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(gc),c6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),u6e=function(n){c6e(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+gc.GTIN_SIZE)throw new Ze;var t=new zn;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+gc.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+gc.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+gc.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(gc),h6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dd=function(n){h6e(e,n);function e(t,r,i){var s=n.call(this,t)||this;return s.dateCode=i,s.firstAIdigits=r,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new Ze;var t=new zn;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var s=i%32;i/=32;var a=i%12+1;i/=12;var o=i;o/10===0&&t.append("0"),t.append(o),a/10===0&&t.append("0"),t.append(a),s/10===0&&t.append("0"),t.append(s)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(jE);function d6e(n){try{if(n.get(1))return new QFe(n);if(!n.get(2))return new e6e(n);var e=UE.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new i6e(n);case 5:return new a6e(n)}var t=UE.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new l6e(n);case 13:return new u6e(n)}var r=UE.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new Dd(n,"310","11");case 57:return new Dd(n,"320","11");case 58:return new Dd(n,"310","13");case 59:return new Dd(n,"320","13");case 60:return new Dd(n,"310","15");case 61:return new Dd(n,"320","15");case 62:return new Dd(n,"310","17");case 63:return new Dd(n,"320","17")}}catch(i){throw console.log(i),new Lw("unknown decoder: "+n)}}var oz=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),f6e=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,s){t.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),p6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Od=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m6e=function(n){p6e(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(o){if(o instanceof Ze){if(!this.pairs.length)throw new Ze;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new Ze},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,s,a=r;a<this.rows.length;a++){var o=this.rows[a];this.pairs.length=0;try{for(var l=(i=void 0,Od(t)),c=l.next();!c.done;c=l.next()){var u=c.value;this.pairs.push(u.getPairs())}}catch(d){i={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(t);h.push(o);try{return this.checkRows(h,a+1)}catch(d){console.log(d)}}}throw new Ze},e.isValidSequence=function(t){var r,i;try{for(var s=Od(e.FINDER_PATTERN_SEQUENCES),a=s.next();!a.done;a=s.next()){var o=a.value;if(!(t.length>o.length)){for(var l=!0,c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!==o[c]){l=!1;break}if(l)return!0}}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,s=!1,a=!1;i<this.rows.length;){var o=this.rows[i];if(o.getRowNumber()>t){a=o.isEquivalent(this.pairs);break}s=o.isEquivalent(this.pairs),i++}a||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new f6e(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,s,a,o,l,c;try{for(var u=Od(r),h=u.next();!h.done;h=u.next()){var d=h.value;if(d.getPairs().length!==t.length){var p=!0;try{for(var g=(a=void 0,Od(d.getPairs())),_=g.next();!_.done;_=g.next()){var w=_.value,x=!1;try{for(var S=(l=void 0,Od(t)),E=S.next();!E.done;E=S.next()){var T=E.value;if(oz.equals(w,T)){x=!0;break}}}catch(D){l={error:D}}finally{try{E&&!E.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}x||(p=!1)}}catch(D){a={error:D}}finally{try{_&&!_.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}}}}catch(D){i={error:D}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,s,a,o,l,c;try{for(var u=Od(r),h=u.next();!h.done;h=u.next()){var d=h.value,p=!0;try{for(var g=(a=void 0,Od(t)),_=g.next();!_.done;_=g.next()){var w=_.value,x=!1;try{for(var S=(l=void 0,Od(d.getPairs())),E=S.next();!E.done;E=S.next()){var T=E.value;if(w.equals(T)){x=!0;break}}}catch(D){l={error:D}}finally{try{E&&!E.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}if(!x){p=!1;break}}}catch(D){a={error:D}}finally{try{_&&!_.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(p)return!0}}catch(D){i={error:D}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=GFe.buildBitArray(t),i=d6e(r),s=i.parseInformation(),a=t[0].getFinderPattern().getResultPoints(),o=t[t.length-1].getFinderPattern().getResultPoints(),l=[a[0],a[1],o[0],o[1]];return new ka(s,null,null,l,rn.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),a=2,o=1;o<this.pairs.size();++o){var l=this.pairs.get(o);s+=l.getLeftChar().getChecksumPortion(),a++;var c=l.getRightChar();c!=null&&(s+=c.getChecksumPortion(),a++)}s%=211;var u=211*(a-4)+s;return u===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var s=r.length%2===0;this.startFromEven&&(s=!s);var a,o=!0,l=-1;do this.findNextPair(t,r,l),a=this.parseFoundFinderPattern(t,i,s),a===null?l=e.getNextSecondBar(t,this.startEnd[0]):o=!1;while(o);var c=this.decodeDataCharacter(t,a,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Ze;var u;try{u=this.decodeDataCharacter(t,a,s,!1)}catch(h){u=null,console.log(h)}return new oz(c,u,a,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var a=t.getSize(),o;if(i>=0)o=i;else if(this.isEmptyPair(r))o=0;else{var l=r[r.length-1];o=l.getFinderPattern().getStartEnd()[1]}var c=r.length%2!==0;this.startFromEven&&(c=!c);for(var u=!1;o<a&&(u=!t.get(o),!!u);)o++;for(var h=0,d=o,p=o;p<a;p++)if(t.get(p)!==u)s[h]++;else{if(h===3){if(c&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=d,this.startEnd[1]=p;return}c&&e.reverseCounters(s),d+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,h--}else h++;s[h]=1,u=!u}throw new Ze},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var s=t[i];t[i]=t[r-i-1],t[r-i-1]=s}},e.prototype.parseFoundFinderPattern=function(t,r,i){var s,a,o;if(i){for(var l=this.startEnd[0]-1;l>=0&&!t.get(l);)l--;l++,s=this.startEnd[0]-l,a=l,o=this.startEnd[1]}else a=this.startEnd[0],o=t.getNextUnset(this.startEnd[1]+1),s=o-this.startEnd[1];var c=this.getDecodeFinderCounters();Zr.arraycopy(c,0,c,1,c.length-1),c[0]=s;var u;try{u=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new pre(u,[a,o],a,o,r)},e.prototype.decodeDataCharacter=function(t,r,i,s){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(s)e.recordPatternInReverse(t,r.getStartEnd()[0],a);else{e.recordPattern(t,r.getStartEnd()[1],a);for(var l=0,c=a.length-1;l<c;l++,c--){var u=a[l];a[l]=a[c],a[c]=u}}var h=17,d=gr.sum(new Int32Array(a))/h,p=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-p)/p>.3)throw new Ze;for(var g=this.getOddCounts(),_=this.getEvenCounts(),w=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var S=1*a[l]/d,E=S+.5;if(E<1){if(S<.3)throw new Ze;E=1}else if(E>8){if(S>8.7)throw new Ze;E=8}var T=l/2;l&1?(_[T]=E,x[T]=S-E):(g[T]=E,w[T]=S-E)}this.adjustOddEvenCounts(h);for(var D=4*r.getValue()+(i?0:2)+(s?0:1)-1,k=0,I=0,l=g.length-1;l>=0;l--){if(e.isNotA1left(r,i,s)){var N=e.WEIGHTS[D][2*l];I+=g[l]*N}k+=g[l]}for(var P=0,l=_.length-1;l>=0;l--)if(e.isNotA1left(r,i,s)){var N=e.WEIGHTS[D][2*l+1];P+=_[l]*N}var R=I+P;if(k&1||k>13||k<4)throw new Ze;var B=(13-k)/2,z=e.SYMBOL_WIDEST[B],H=9-z,K=G0.getRSSvalue(g,z,!0),J=G0.getRSSvalue(_,H,!1),se=e.EVEN_TOTAL_SUBSET[B],ce=e.GSUM[B],X=K*se+J+ce;return new WA(X,R)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=gr.sum(new Int32Array(this.getOddCounts())),i=gr.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1;r>13?a=!0:r<4&&(s=!0);var o=!1,l=!1;i>13?l=!0:i<4&&(o=!0);var c=r+i-t,u=(r&1)===1,h=(i&1)===0;if(c===1)if(u){if(h)throw new Ze;a=!0}else{if(!h)throw new Ze;l=!0}else if(c===-1)if(u){if(h)throw new Ze;s=!0}else{if(!h)throw new Ze;o=!0}else if(c===0){if(u){if(!h)throw new Ze;r<i?(s=!0,l=!0):(a=!0,o=!0)}else if(h)throw new Ze}else throw new Ze;if(s){if(a)throw new Ze;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(l)throw new Ze;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Kp),g6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),v6e=function(n){g6e(e,n);function e(t,r,i){var s=n.call(this,t,r)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(WA),y6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cR=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lz=function(n){y6e(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var s,a,o,l,c=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,c),r.reverse();var u=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,u),r.reverse();try{for(var h=cR(this.possibleLeftPairs),d=h.next();!d.done;d=h.next()){var p=d.value;if(p.getCount()>1)try{for(var g=(o=void 0,cR(this.possibleRightPairs)),_=g.next();!_.done;_=g.next()){var w=_.value;if(w.getCount()>1&&e.checkChecksum(p,w))return e.constructResult(p,w)}}catch(x){o={error:x}}finally{try{_&&!_.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}}}catch(x){s={error:x}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}throw new Ze},e.addOrTally=function(t,r){var i,s;if(r!=null){var a=!1;try{for(var o=cR(t),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.getValue()===r.getValue()){c.incrementCount(),a=!0;break}}}catch(u){i={error:u}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}a||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),s=new String(i).toString(),a=new zn,o=13-s.length;o>0;o--)a.append("0");a.append(s);for(var l=0,o=0;o<13;o++){var c=a.charAt(o).charCodeAt(0)-48;l+=o&1?c:3*c}l=10-l%10,l===10&&(l=0),a.append(l.toString());var u=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new ka(a.toString(),null,0,[u[0],u[1],h[0],h[1]],rn.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(t,r,i,s){try{var a=this.findFinderPattern(t,r),o=this.parseFoundFinderPattern(t,i,r,a),l=s==null?null:s.get(Qr.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(a[0]+a[1])/2;r&&(c=t.getSize()-1-c),l.foundPossibleResultPoint(new Kt(c,i))}var u=this.decodeDataCharacter(t,o,!0),h=this.decodeDataCharacter(t,o,!1);return new v6e(1597*u.getValue()+h.getValue(),u.getChecksumPortion()+4*h.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(i)ys.recordPatternInReverse(t,r.getStartEnd()[0],s);else{ys.recordPattern(t,r.getStartEnd()[1]+1,s);for(var o=0,l=s.length-1;o<l;o++,l--){var c=s[o];s[o]=s[l],s[l]=c}}for(var u=i?16:15,h=gr.sum(new Int32Array(s))/u,d=this.getOddCounts(),p=this.getEvenCounts(),g=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors(),o=0;o<s.length;o++){var w=s[o]/h,x=Math.floor(w+.5);x<1?x=1:x>8&&(x=8);var S=Math.floor(o/2);o&1?(p[S]=x,_[S]=w-x):(d[S]=x,g[S]=w-x)}this.adjustOddEvenCounts(i,u);for(var E=0,T=0,o=d.length-1;o>=0;o--)T*=9,T+=d[o],E+=d[o];for(var D=0,k=0,o=p.length-1;o>=0;o--)D*=9,D+=p[o],k+=p[o];var I=T+3*D;if(i){if(E&1||E>12||E<4)throw new Ze;var N=(12-E)/2,P=e.OUTSIDE_ODD_WIDEST[N],R=9-P,B=G0.getRSSvalue(d,P,!1),z=G0.getRSSvalue(p,R,!0),H=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],K=e.OUTSIDE_GSUM[N];return new WA(B*H+z+K,I)}else{if(k&1||k>10||k<4)throw new Ze;var N=(10-k)/2,P=e.INSIDE_ODD_WIDEST[N],R=9-P,B=G0.getRSSvalue(d,P,!0),z=G0.getRSSvalue(p,R,!1),J=e.INSIDE_ODD_TOTAL_SUBSET[N],K=e.INSIDE_GSUM[N];return new WA(z*J+B+K,I)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=t.getSize(),a=!1,o=0;o<s&&(a=!t.get(o),r!==a);)o++;for(var l=0,c=o,u=o;u<s;u++)if(t.get(u)!==a)i[l]++;else{if(l===3){if(Kp.isFinderPattern(i))return[c,u];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,a=!a}throw new Ze},e.prototype.parseFoundFinderPattern=function(t,r,i,s){for(var a=t.get(s[0]),o=s[0]-1;o>=0&&a!==t.get(o);)o--;o++;var l=s[0]-o,c=this.getDecodeFinderCounters(),u=new Int32Array(c.length);Zr.arraycopy(c,0,u,1,c.length-1),u[0]=l;var h=this.parseFinderValue(u,e.FINDER_PATTERNS),d=o,p=s[1];return i&&(d=t.getSize()-1-d,p=t.getSize()-1-p),new pre(h,[o,s[1]],d,p,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=gr.sum(new Int32Array(this.getOddCounts())),s=gr.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1,l=!1,c=!1;t?(i>12?o=!0:i<4&&(a=!0),s>12?c=!0:s<4&&(l=!0)):(i>11?o=!0:i<5&&(a=!0),s>10?c=!0:s<4&&(l=!0));var u=i+s-r,h=(i&1)===(t?1:0),d=(s&1)===1;if(u===1)if(h){if(d)throw new Ze;o=!0}else{if(!d)throw new Ze;c=!0}else if(u===-1)if(h){if(d)throw new Ze;a=!0}else{if(!d)throw new Ze;l=!0}else if(u===0){if(h){if(!d)throw new Ze;i<s?(a=!0,c=!0):(o=!0,l=!0)}else if(d)throw new Ze}else throw new Ze;if(a){if(o)throw new Ze;Kp.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Kp.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new Ze;Kp.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Kp.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Kp),x6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$0=function(n){x6e(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Qr.POSSIBLE_FORMATS):null,s=t&&t.get(Qr.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=t&&t.get(Qr.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(rn.EAN_13)||i.includes(rn.UPC_A)||i.includes(rn.EAN_8)||i.includes(rn.UPC_E))&&r.readers.push(new lR(t)),i.includes(rn.CODE_39)&&r.readers.push(new Q9(s,a)),i.includes(rn.CODE_93)&&r.readers.push(new J9),i.includes(rn.CODE_128)&&r.readers.push(new Z9),i.includes(rn.ITF)&&r.readers.push(new ez),i.includes(rn.CODABAR)&&r.readers.push(new VFe),i.includes(rn.RSS_14)&&r.readers.push(new lz),i.includes(rn.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new m6e))),r.readers.length===0&&(r.readers.push(new lR(t)),r.readers.push(new Q9),r.readers.push(new J9),r.readers.push(new lR(t)),r.readers.push(new Z9),r.readers.push(new ez),r.readers.push(new lz)),r}return e.prototype.decodeRow=function(t,r,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,r,i)}catch{}throw new Ze},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(ys),_6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){_6e(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new $0(r),t,r)||this}return e})(Py);var cz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sr=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),yr=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),w6e=function(){function n(e,t,r,i,s,a){var o,l;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=a;var c=0,u=a.getECCodewords(),h=a.getECBlocks();try{for(var d=cz(h),p=d.next();!p.done;p=d.next()){var g=p.value;c+=g.getCount()*(g.getDataCodewords()+u)}}catch(_){o={error:_}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(o)throw o.error}}this.totalCodewords=c}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if(e&1||t&1)throw new St;try{for(var s=cz(n.VERSIONS),a=s.next();!a.done;a=s.next()){var o=a.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===t)return o}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}throw new St},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new Sr(5,new yr(1,3))),new n(2,12,12,10,10,new Sr(7,new yr(1,5))),new n(3,14,14,12,12,new Sr(10,new yr(1,8))),new n(4,16,16,14,14,new Sr(12,new yr(1,12))),new n(5,18,18,16,16,new Sr(14,new yr(1,18))),new n(6,20,20,18,18,new Sr(18,new yr(1,22))),new n(7,22,22,20,20,new Sr(20,new yr(1,30))),new n(8,24,24,22,22,new Sr(24,new yr(1,36))),new n(9,26,26,24,24,new Sr(28,new yr(1,44))),new n(10,32,32,14,14,new Sr(36,new yr(1,62))),new n(11,36,36,16,16,new Sr(42,new yr(1,86))),new n(12,40,40,18,18,new Sr(48,new yr(1,114))),new n(13,44,44,20,20,new Sr(56,new yr(1,144))),new n(14,48,48,22,22,new Sr(68,new yr(1,174))),new n(15,52,52,24,24,new Sr(42,new yr(2,102))),new n(16,64,64,14,14,new Sr(56,new yr(2,140))),new n(17,72,72,16,16,new Sr(36,new yr(4,92))),new n(18,80,80,18,18,new Sr(48,new yr(4,114))),new n(19,88,88,20,20,new Sr(56,new yr(4,144))),new n(20,96,96,22,22,new Sr(68,new yr(4,174))),new n(21,104,104,24,24,new Sr(56,new yr(6,136))),new n(22,120,120,18,18,new Sr(68,new yr(6,175))),new n(23,132,132,20,20,new Sr(62,new yr(8,163))),new n(24,144,144,22,22,new Sr(62,new yr(8,156),new yr(2,155))),new n(25,8,18,6,16,new Sr(7,new yr(1,5))),new n(26,8,32,6,14,new Sr(11,new yr(1,10))),new n(27,12,26,10,24,new Sr(14,new yr(1,16))),new n(28,12,36,10,16,new Sr(18,new yr(1,22))),new n(29,16,36,14,16,new Sr(24,new yr(1,32))),new n(30,16,48,14,22,new Sr(28,new yr(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),b6e=function(){function n(e){var t=e.getHeight();if(t<8||t>144||t&1)throw new St;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Du(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return w6e.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),o=!1,l=!1,c=!1,u=!1;do if(r===s&&i===0&&!o)e[t++]=this.readCorner1(s,a)&255,r-=2,i+=2,o=!0;else if(r===s-2&&i===0&&a&3&&!l)e[t++]=this.readCorner2(s,a)&255,r-=2,i+=2,l=!0;else if(r===s+4&&i===2&&!(a&7)&&!c)e[t++]=this.readCorner3(s,a)&255,r-=2,i+=2,c=!0;else if(r===s-2&&i===0&&(a&7)===4&&!u)e[t++]=this.readCorner4(s,a)&255,r-=2,i+=2,u=!0;else{do r<s&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,s,a)&255),r-=2,i+=2;while(r>=0&&i<a);r+=1,i+=3;do r>=0&&i<a&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,s,a)&255),r+=2,i-=2;while(r<s&&i>=0);r+=3,i+=1}while(r<s||i<a);if(t!==this.version.getTotalCodewords())throw new St;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var s=0;return this.readModule(e-2,t-2,r,i)&&(s|=1),s<<=1,this.readModule(e-2,t-1,r,i)&&(s|=1),s<<=1,this.readModule(e-1,t-2,r,i)&&(s|=1),s<<=1,this.readModule(e-1,t-1,r,i)&&(s|=1),s<<=1,this.readModule(e-1,t,r,i)&&(s|=1),s<<=1,this.readModule(e,t-2,r,i)&&(s|=1),s<<=1,this.readModule(e,t-1,r,i)&&(s|=1),s<<=1,this.readModule(e,t,r,i)&&(s|=1),s},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new sn("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=t/i|0,o=r/s|0,l=a*i,c=o*s,u=new Du(c,l),h=0;h<a;++h)for(var d=h*i,p=0;p<o;++p)for(var g=p*s,_=0;_<i;++_)for(var w=h*(i+2)+1+_,x=d+_,S=0;S<s;++S){var E=p*(s+2)+1+S;if(e.get(E,w)){var T=g+S;u.set(T,x)}}return u},n}(),uz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},S6e=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,s,a,o=t.getECBlocks(),l=0,c=o.getECBlocks();try{for(var u=uz(c),h=u.next();!h.done;h=u.next()){var d=h.value;l+=d.getCount()}}catch(K){r={error:K}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}var p=new Array(l),g=0;try{for(var _=uz(c),w=_.next();!w.done;w=_.next())for(var d=w.value,x=0;x<d.getCount();x++){var S=d.getDataCodewords(),E=o.getECCodewords()+S;p[g++]=new n(S,new Uint8Array(E))}}catch(K){s={error:K}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}for(var T=p[0].codewords.length,D=T-o.getECCodewords(),k=D-1,I=0,x=0;x<k;x++)for(var N=0;N<g;N++)p[N].codewords[x]=e[I++];for(var P=t.getVersionNumber()===24,R=P?8:g,N=0;N<R;N++)p[N].codewords[D-1]=e[I++];for(var B=p[0].codewords.length,x=D;x<B;x++)for(var N=0;N<g;N++){var z=P?(N+8)%g:N,H=P&&z>7?x-1:x;p[z].codewords[H]=e[I++]}if(I!==e.length)throw new sn;return p},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),vre=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new sn(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,s=this.bytes;if(r>0){var a=8-r,o=e<a?e:a,l=a-o,c=255>>8-o<<l;t=(s[i]&c)>>l,e-=o,r+=o,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|s[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;t=t<<e|(s[i]&c)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),us;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(us||(us={}));var E6e=function(){function n(){}return n.decode=function(e){var t=new vre(e),r=new zn,i=new zn,s=new Array,a=us.ASCII_ENCODE;do if(a===us.ASCII_ENCODE)a=this.decodeAsciiSegment(t,r,i);else{switch(a){case us.C40_ENCODE:this.decodeC40Segment(t,r);break;case us.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case us.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case us.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case us.BASE256_ENCODE:this.decodeBase256Segment(t,r,s);break;default:throw new St}a=us.ASCII_ENCODE}while(a!==us.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new rM(e,r.toString(),s.length===0?null:s,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var s=e.readBits(8);if(s===0)throw new St;if(s<=128)return i&&(s+=128),t.append(String.fromCharCode(s-1)),us.ASCII_ENCODE;if(s===129)return us.PAD_ENCODE;if(s<=229){var a=s-130;a<10&&t.append("0"),t.append(""+a)}else switch(s){case 230:return us.C40_ENCODE;case 231:return us.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return us.ANSIX12_ENCODE;case 239:return us.TEXT_ENCODE;case 240:return us.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new St;break}}while(e.available()>0);return us.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],s=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(s){case 0:if(l<3)s=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}else throw new St;break;case 1:r?(t.append(String.fromCharCode(l+128)),r=!1):t.append(String.fromCharCode(l)),s=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:r=!0;break;default:throw new St}s=0;break;case 3:r?(t.append(String.fromCharCode(l+224)),r=!1):t.append(String.fromCharCode(l+96)),s=0;break;default:throw new St}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],s=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(s){case 0:if(l<3)s=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}else throw new St;break;case 1:r?(t.append(String.fromCharCode(l+128)),r=!1):t.append(String.fromCharCode(l)),s=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c)}else switch(l){case 27:t.append("");break;case 30:r=!0;break;default:throw new St}s=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];r?(t.append(String.fromCharCode(c.charCodeAt(0)+128)),r=!1):t.append(c),s=0}else throw new St;break;default:throw new St}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var s=0;s<3;s++){var a=r[s];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new St;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,s=Math.floor(i/1600);r[0]=s,i-=s*1600,s=Math.floor(i/40),r[1]=s,r[2]=i-s*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}i&32||(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new St;for(var o=new Uint8Array(a),l=0;l<a;l++){if(e.available()<8)throw new St;o[l]=this.unrandomize255State(e.readBits(8),i++)}r.push(o);try{t.append(Bl.decode(o,sr.ISO88591))}catch(c){throw new Lw("Platform does not support required encoding: "+c.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),A6e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T6e=function(){function n(){this.rsDecoder=new iM(Io.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new b6e(e),s=i.getVersion(),a=i.readCodewords(),o=S6e.getDataBlocks(a,s),l=0;try{for(var c=A6e(o),u=c.next();!u.done;u=c.next()){var h=u.value;l+=h.getNumDataCodewords()}}catch(E){t={error:E}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}for(var d=new Uint8Array(l),p=o.length,g=0;g<p;g++){var _=o[g],w=_.getCodewords(),x=_.getNumDataCodewords();this.correctErrors(w,x);for(var S=0;S<x;S++)d[S*p+g]=w[S]}return E6e.decode(d)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new ts}for(var i=0;i<t;i++)e[i]=r[i]},n}(),C6e=function(){function n(e){this.image=e,this.rectangleDetector=new _3(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new Ze;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],s=t[2],a=t[3],o=this.transitionsBetween(r,a)+1,l=this.transitionsBetween(s,a)+1;(o&1)===1&&(o+=1),(l&1)===1&&(l+=1),4*o<7*l&&4*l<7*o&&(o=l=Math.max(o,l));var c=n.sampleGrid(this.image,r,i,s,a,o,l);return new aF(c,[r,i,s,a])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),s=(t.getY()-e.getY())/(r+1);return new Kt(e.getX()+i,e.getY()+s)},n.moveAway=function(e,t,r){var i=e.getX(),s=e.getY();return i<t?i-=1:i+=1,s<r?s-=1:s+=1,new Kt(i,s)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],s=e[2],a=this.transitionsBetween(t,r),o=this.transitionsBetween(r,i),l=this.transitionsBetween(i,s),c=this.transitionsBetween(s,t),u=a,h=[s,t,r,i];return u>o&&(u=o,h[0]=t,h[1]=r,h[2]=i,h[3]=s),u>l&&(u=l,h[0]=r,h[1]=i,h[2]=s,h[3]=t),u>c&&(h[0]=i,h[1]=s,h[2]=t,h[3]=r),h},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s),o=n.shiftPoint(r,i,(a+1)*4),l=n.shiftPoint(i,r,(a+1)*4),c=this.transitionsBetween(o,t),u=this.transitionsBetween(l,s);return c<u?(e[0]=t,e[1]=r,e[2]=i,e[3]=s):(e[0]=r,e[1]=i,e[2]=s,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s),o=this.transitionsBetween(r,s),l=n.shiftPoint(t,r,(o+1)*4),c=n.shiftPoint(i,r,(a+1)*4);a=this.transitionsBetween(l,s),o=this.transitionsBetween(c,s);var u=new Kt(s.getX()+(i.getX()-r.getX())/(a+1),s.getY()+(i.getY()-r.getY())/(a+1)),h=new Kt(s.getX()+(t.getX()-r.getX())/(o+1),s.getY()+(t.getY()-r.getY())/(o+1));if(!this.isValid(u))return this.isValid(h)?h:null;if(!this.isValid(h))return u;var d=this.transitionsBetween(l,u)+this.transitionsBetween(c,u),p=this.transitionsBetween(l,h)+this.transitionsBetween(c,h);return d>p?u:h},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s)+1,o=this.transitionsBetween(i,s)+1,l=n.shiftPoint(t,r,o*4),c=n.shiftPoint(i,r,a*4);a=this.transitionsBetween(l,s)+1,o=this.transitionsBetween(c,s)+1,(a&1)===1&&(a+=1),(o&1)===1&&(o+=1);var u=(t.getX()+r.getX()+i.getX()+s.getX())/4,h=(t.getY()+r.getY()+i.getY()+s.getY())/4;t=n.moveAway(t,u,h),r=n.moveAway(r,u,h),i=n.moveAway(i,u,h),s=n.moveAway(s,u,h);var d,p;return l=n.shiftPoint(t,r,o*4),l=n.shiftPoint(l,s,a*4),d=n.shiftPoint(r,t,o*4),d=n.shiftPoint(d,i,a*4),c=n.shiftPoint(i,s,o*4),c=n.shiftPoint(c,r,a*4),p=n.shiftPoint(s,i,o*4),p=n.shiftPoint(p,t,a*4),[l,d,c,p]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,s,a,o){var l=oF.getInstance();return l.sampleGrid(e,a,o,.5,.5,a-.5,.5,a-.5,o-.5,.5,o-.5,t.getX(),t.getY(),s.getX(),s.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(t.getX()),a=Math.trunc(t.getY()),o=Math.abs(a-i)>Math.abs(s-r);if(o){var l=r;r=i,i=l,l=s,s=a,a=l}for(var c=Math.abs(s-r),u=Math.abs(a-i),h=-c/2,d=i<a?1:-1,p=r<s?1:-1,g=0,_=this.image.get(o?i:r,o?r:i),w=r,x=i;w!==s;w+=p){var S=this.image.get(o?x:w,o?w:x);if(S!==_&&(g++,_=S),h+=u,h>0){if(x===a)break;x+=d,h-=c}}return g},n}(),GA=function(){function n(){this.decoder=new T6e}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Qr.PURE_BARCODE)){var s=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(s),i=n.NO_POINTS}else{var a=new C6e(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),i=a.getPoints()}var o=r.getRawBytes(),l=new ka(r.getText(),o,8*o.length,i,rn.DATA_MATRIX,Zr.currentTimeMillis()),c=r.getByteSegments();c!=null&&l.putMetadata(Xs.BYTE_SEGMENTS,c);var u=r.getECLevel();return u!=null&&l.putMetadata(Xs.ERROR_CORRECTION_LEVEL,u),l},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new Ze;var i=this.moduleSize(t,e),s=t[1],a=r[1],o=t[0],l=r[0],c=(l-o+1)/i,u=(a-s+1)/i;if(c<=0||u<=0)throw new Ze;var h=i/2;s+=h,o+=h;for(var d=new Du(c,u),p=0;p<u;p++)for(var g=s+p*i,_=0;_<c;_++)e.get(o+_*i,g)&&d.set(_,p);return d},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],s=e[1];i<r&&t.get(i,s);)i++;if(i===r)throw new Ze;var a=i-e[0];if(a===0)throw new Ze;return a},n.NO_POINTS=[],n}(),M6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){M6e(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new GA,t)||this}return e})(Py);var q0;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(q0||(q0={}));var I6e=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new zi(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new sn;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(q0.L,"L",1),n.M=new n(q0.M,"M",0),n.Q=new n(q0.Q,"Q",3),n.H=new n(q0.H,"H",2),n}(),P6e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yre=function(){function n(e){this.errorCorrectionLevel=I6e.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return $n.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,s=Number.MAX_SAFE_INTEGER,a=0;try{for(var o=P6e(n.FORMAT_INFO_DECODE_LOOKUP),l=o.next();!l.done;l=o.next()){var c=l.value,u=c[0];if(u===e||u===t)return new n(c[1]);var h=n.numBitsDiffering(e,u);h<s&&(a=c[1],s=h),e!==t&&(h=n.numBitsDiffering(t,u),h<s&&(a=c[1],s=h))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s<=3?new n(a):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),R6e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oe=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var s=R6e(i),a=s.next();!a.done;a=s.next()){var o=a.value;r+=o.getCount()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),le=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),N6e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cm=function(){function n(e,t){for(var r,i,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=s;var o=0,l=s[0].getECCodewordsPerBlock(),c=s[0].getECBlocks();try{for(var u=N6e(c),h=u.next();!h.done;h=u.next()){var d=h.value;o+=d.getCount()*(d.getDataCodewords()+l)}}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}this.totalCodewords=o}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new St;try{return this.getVersionForNumber((e-17)/4)}catch{throw new St}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new sn;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var s=n.VERSION_DECODE_INFO[i];if(s===e)return n.getVersionForNumber(i+7);var a=yre.numBitsDiffering(e,s);a<t&&(r=i+7,t=a)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Du(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var s=this.alignmentPatternCenters[i]-2,a=0;a<r;a++)i===0&&(a===0||a===r-1)||i===r-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,s,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new Oe(7,new le(1,19)),new Oe(10,new le(1,16)),new Oe(13,new le(1,13)),new Oe(17,new le(1,9))),new n(2,Int32Array.from([6,18]),new Oe(10,new le(1,34)),new Oe(16,new le(1,28)),new Oe(22,new le(1,22)),new Oe(28,new le(1,16))),new n(3,Int32Array.from([6,22]),new Oe(15,new le(1,55)),new Oe(26,new le(1,44)),new Oe(18,new le(2,17)),new Oe(22,new le(2,13))),new n(4,Int32Array.from([6,26]),new Oe(20,new le(1,80)),new Oe(18,new le(2,32)),new Oe(26,new le(2,24)),new Oe(16,new le(4,9))),new n(5,Int32Array.from([6,30]),new Oe(26,new le(1,108)),new Oe(24,new le(2,43)),new Oe(18,new le(2,15),new le(2,16)),new Oe(22,new le(2,11),new le(2,12))),new n(6,Int32Array.from([6,34]),new Oe(18,new le(2,68)),new Oe(16,new le(4,27)),new Oe(24,new le(4,19)),new Oe(28,new le(4,15))),new n(7,Int32Array.from([6,22,38]),new Oe(20,new le(2,78)),new Oe(18,new le(4,31)),new Oe(18,new le(2,14),new le(4,15)),new Oe(26,new le(4,13),new le(1,14))),new n(8,Int32Array.from([6,24,42]),new Oe(24,new le(2,97)),new Oe(22,new le(2,38),new le(2,39)),new Oe(22,new le(4,18),new le(2,19)),new Oe(26,new le(4,14),new le(2,15))),new n(9,Int32Array.from([6,26,46]),new Oe(30,new le(2,116)),new Oe(22,new le(3,36),new le(2,37)),new Oe(20,new le(4,16),new le(4,17)),new Oe(24,new le(4,12),new le(4,13))),new n(10,Int32Array.from([6,28,50]),new Oe(18,new le(2,68),new le(2,69)),new Oe(26,new le(4,43),new le(1,44)),new Oe(24,new le(6,19),new le(2,20)),new Oe(28,new le(6,15),new le(2,16))),new n(11,Int32Array.from([6,30,54]),new Oe(20,new le(4,81)),new Oe(30,new le(1,50),new le(4,51)),new Oe(28,new le(4,22),new le(4,23)),new Oe(24,new le(3,12),new le(8,13))),new n(12,Int32Array.from([6,32,58]),new Oe(24,new le(2,92),new le(2,93)),new Oe(22,new le(6,36),new le(2,37)),new Oe(26,new le(4,20),new le(6,21)),new Oe(28,new le(7,14),new le(4,15))),new n(13,Int32Array.from([6,34,62]),new Oe(26,new le(4,107)),new Oe(22,new le(8,37),new le(1,38)),new Oe(24,new le(8,20),new le(4,21)),new Oe(22,new le(12,11),new le(4,12))),new n(14,Int32Array.from([6,26,46,66]),new Oe(30,new le(3,115),new le(1,116)),new Oe(24,new le(4,40),new le(5,41)),new Oe(20,new le(11,16),new le(5,17)),new Oe(24,new le(11,12),new le(5,13))),new n(15,Int32Array.from([6,26,48,70]),new Oe(22,new le(5,87),new le(1,88)),new Oe(24,new le(5,41),new le(5,42)),new Oe(30,new le(5,24),new le(7,25)),new Oe(24,new le(11,12),new le(7,13))),new n(16,Int32Array.from([6,26,50,74]),new Oe(24,new le(5,98),new le(1,99)),new Oe(28,new le(7,45),new le(3,46)),new Oe(24,new le(15,19),new le(2,20)),new Oe(30,new le(3,15),new le(13,16))),new n(17,Int32Array.from([6,30,54,78]),new Oe(28,new le(1,107),new le(5,108)),new Oe(28,new le(10,46),new le(1,47)),new Oe(28,new le(1,22),new le(15,23)),new Oe(28,new le(2,14),new le(17,15))),new n(18,Int32Array.from([6,30,56,82]),new Oe(30,new le(5,120),new le(1,121)),new Oe(26,new le(9,43),new le(4,44)),new Oe(28,new le(17,22),new le(1,23)),new Oe(28,new le(2,14),new le(19,15))),new n(19,Int32Array.from([6,30,58,86]),new Oe(28,new le(3,113),new le(4,114)),new Oe(26,new le(3,44),new le(11,45)),new Oe(26,new le(17,21),new le(4,22)),new Oe(26,new le(9,13),new le(16,14))),new n(20,Int32Array.from([6,34,62,90]),new Oe(28,new le(3,107),new le(5,108)),new Oe(26,new le(3,41),new le(13,42)),new Oe(30,new le(15,24),new le(5,25)),new Oe(28,new le(15,15),new le(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new Oe(28,new le(4,116),new le(4,117)),new Oe(26,new le(17,42)),new Oe(28,new le(17,22),new le(6,23)),new Oe(30,new le(19,16),new le(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new Oe(28,new le(2,111),new le(7,112)),new Oe(28,new le(17,46)),new Oe(30,new le(7,24),new le(16,25)),new Oe(24,new le(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new Oe(30,new le(4,121),new le(5,122)),new Oe(28,new le(4,47),new le(14,48)),new Oe(30,new le(11,24),new le(14,25)),new Oe(30,new le(16,15),new le(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new Oe(30,new le(6,117),new le(4,118)),new Oe(28,new le(6,45),new le(14,46)),new Oe(30,new le(11,24),new le(16,25)),new Oe(30,new le(30,16),new le(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new Oe(26,new le(8,106),new le(4,107)),new Oe(28,new le(8,47),new le(13,48)),new Oe(30,new le(7,24),new le(22,25)),new Oe(30,new le(22,15),new le(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new Oe(28,new le(10,114),new le(2,115)),new Oe(28,new le(19,46),new le(4,47)),new Oe(28,new le(28,22),new le(6,23)),new Oe(30,new le(33,16),new le(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new Oe(30,new le(8,122),new le(4,123)),new Oe(28,new le(22,45),new le(3,46)),new Oe(30,new le(8,23),new le(26,24)),new Oe(30,new le(12,15),new le(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new Oe(30,new le(3,117),new le(10,118)),new Oe(28,new le(3,45),new le(23,46)),new Oe(30,new le(4,24),new le(31,25)),new Oe(30,new le(11,15),new le(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new Oe(30,new le(7,116),new le(7,117)),new Oe(28,new le(21,45),new le(7,46)),new Oe(30,new le(1,23),new le(37,24)),new Oe(30,new le(19,15),new le(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new Oe(30,new le(5,115),new le(10,116)),new Oe(28,new le(19,47),new le(10,48)),new Oe(30,new le(15,24),new le(25,25)),new Oe(30,new le(23,15),new le(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new Oe(30,new le(13,115),new le(3,116)),new Oe(28,new le(2,46),new le(29,47)),new Oe(30,new le(42,24),new le(1,25)),new Oe(30,new le(23,15),new le(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new Oe(30,new le(17,115)),new Oe(28,new le(10,46),new le(23,47)),new Oe(30,new le(10,24),new le(35,25)),new Oe(30,new le(19,15),new le(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new Oe(30,new le(17,115),new le(1,116)),new Oe(28,new le(14,46),new le(21,47)),new Oe(30,new le(29,24),new le(19,25)),new Oe(30,new le(11,15),new le(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new Oe(30,new le(13,115),new le(6,116)),new Oe(28,new le(14,46),new le(23,47)),new Oe(30,new le(44,24),new le(7,25)),new Oe(30,new le(59,16),new le(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new Oe(30,new le(12,121),new le(7,122)),new Oe(28,new le(12,47),new le(26,48)),new Oe(30,new le(39,24),new le(14,25)),new Oe(30,new le(22,15),new le(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new Oe(30,new le(6,121),new le(14,122)),new Oe(28,new le(6,47),new le(34,48)),new Oe(30,new le(46,24),new le(10,25)),new Oe(30,new le(2,15),new le(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new Oe(30,new le(17,122),new le(4,123)),new Oe(28,new le(29,46),new le(14,47)),new Oe(30,new le(49,24),new le(10,25)),new Oe(30,new le(24,15),new le(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new Oe(30,new le(4,122),new le(18,123)),new Oe(28,new le(13,46),new le(32,47)),new Oe(30,new le(48,24),new le(14,25)),new Oe(30,new le(42,15),new le(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new Oe(30,new le(20,117),new le(4,118)),new Oe(28,new le(40,47),new le(7,48)),new Oe(30,new le(43,24),new le(22,25)),new Oe(30,new le(10,15),new le(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new Oe(30,new le(19,118),new le(6,119)),new Oe(28,new le(18,47),new le(31,48)),new Oe(30,new le(34,24),new le(34,25)),new Oe(30,new le(20,15),new le(61,16)))],n}(),Cs;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(Cs||(Cs={}));var hz=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[Cs.DATA_MASK_000,new n(Cs.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Cs.DATA_MASK_001,new n(Cs.DATA_MASK_001,function(e,t){return(e&1)===0})],[Cs.DATA_MASK_010,new n(Cs.DATA_MASK_010,function(e,t){return t%3===0})],[Cs.DATA_MASK_011,new n(Cs.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Cs.DATA_MASK_100,new n(Cs.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Cs.DATA_MASK_101,new n(Cs.DATA_MASK_101,function(e,t){return e*t%6===0})],[Cs.DATA_MASK_110,new n(Cs.DATA_MASK_110,function(e,t){return e*t%6<3})],[Cs.DATA_MASK_111,new n(Cs.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),k6e=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new St;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),s=0,a=i-7,r=i-1;r>=a;r--)s=this.copyBit(8,r,s);for(var t=i-8;t<i;t++)s=this.copyBit(t,8,s);if(this.parsedFormatInfo=yre.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new St},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Cm.getVersionForNumber(t);for(var r=0,i=e-11,s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(a,s,r);var o=Cm.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(var a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(a,s,r);if(o=Cm.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new St},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=hz.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var s=t.buildFunctionPattern(),a=!0,o=new Uint8Array(t.getTotalCodewords()),l=0,c=0,u=0,h=i-1;h>0;h-=2){h===6&&h--;for(var d=0;d<i;d++)for(var p=a?i-1-d:d,g=0;g<2;g++)s.get(h-g,p)||(u++,c<<=1,this.bitMatrix.get(h-g,p)&&(c|=1),u===8&&(o[l++]=c,u=0,c=0));a=!a}if(l!==t.getTotalCodewords())throw new St;return o},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=hz.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,s=e.getHeight();i<s;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),dz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D6e=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,s,a,o;if(e.length!==t.getTotalCodewords())throw new sn;var l=t.getECBlocksForLevel(r),c=0,u=l.getECBlocks();try{for(var h=dz(u),d=h.next();!d.done;d=h.next()){var p=d.value;c+=p.getCount()}}catch(H){i={error:H}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}var g=new Array(c),_=0;try{for(var w=dz(u),x=w.next();!x.done;x=w.next())for(var p=x.value,S=0;S<p.getCount();S++){var E=p.getDataCodewords(),T=l.getECCodewordsPerBlock()+E;g[_++]=new n(E,new Uint8Array(T))}}catch(H){a={error:H}}finally{try{x&&!x.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var D=g[0].codewords.length,k=g.length-1;k>=0;){var I=g[k].codewords.length;if(I===D)break;k--}k++;for(var N=D-l.getECCodewordsPerBlock(),P=0,S=0;S<N;S++)for(var R=0;R<_;R++)g[R].codewords[S]=e[P++];for(var R=k;R<_;R++)g[R].codewords[N]=e[P++];for(var B=g[0].codewords.length,S=N;S<B;S++)for(var R=0;R<_;R++){var z=R<k?S:S+1;g[R].codewords[z]=e[P++]}return g},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),Tl;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(Tl||(Tl={}));var ai=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new sn;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Tl.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Tl.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Tl.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Tl.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Tl.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Tl.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Tl.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Tl.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Tl.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Tl.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),O6e=function(){function n(){}return n.decode=function(e,t,r,i){var s=new vre(e),a=new zn,o=new Array,l=-1,c=-1;try{var u=null,h=!1,d=void 0;do{if(s.available()<4)d=ai.TERMINATOR;else{var p=s.readBits(4);d=ai.forBits(p)}switch(d){case ai.TERMINATOR:break;case ai.FNC1_FIRST_POSITION:case ai.FNC1_SECOND_POSITION:h=!0;break;case ai.STRUCTURED_APPEND:if(s.available()<16)throw new St;l=s.readBits(8),c=s.readBits(8);break;case ai.ECI:var g=n.parseECIValue(s);if(u=ps.getCharacterSetECIByValue(g),u===null)throw new St;break;case ai.HANZI:var _=s.readBits(4),w=s.readBits(d.getCharacterCountBits(t));_===n.GB2312_SUBSET&&n.decodeHanziSegment(s,a,w);break;default:var x=s.readBits(d.getCharacterCountBits(t));switch(d){case ai.NUMERIC:n.decodeNumericSegment(s,a,x);break;case ai.ALPHANUMERIC:n.decodeAlphanumericSegment(s,a,x,h);break;case ai.BYTE:n.decodeByteSegment(s,a,x,u,o,i);break;case ai.KANJI:n.decodeKanjiSegment(s,a,x);break;default:throw new St}break}}while(d!==ai.TERMINATOR)}catch{throw new St}return new rM(e,a.toString(),o.length===0?null:o,r===null?null:r.toString(),l,c)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new St;for(var i=new Uint8Array(2*r),s=0;r>0;){var a=e.readBits(13),o=a/96<<8&4294967295|a%96;o<959?o+=41377:o+=42657,i[s]=o>>8&255,i[s+1]=o&255,s+=2,r--}try{t.append(Bl.decode(i,sr.GB2312))}catch(l){throw new St(l)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new St;for(var i=new Uint8Array(2*r),s=0;r>0;){var a=e.readBits(13),o=a/192<<8&4294967295|a%192;o<7936?o+=33088:o+=49472,i[s]=o>>8,i[s+1]=o,s+=2,r--}try{t.append(Bl.decode(i,sr.SHIFT_JIS))}catch(l){throw new St(l)}},n.decodeByteSegment=function(e,t,r,i,s,a){if(8*r>e.available())throw new St;for(var o=new Uint8Array(r),l=0;l<r;l++)o[l]=e.readBits(8);var c;i===null?c=sr.guessEncoding(o,a):c=i.getName();try{t.append(Bl.decode(o,c))}catch(u){throw new St(u)}s.push(o)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new St;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var s=t.length();r>1;){if(e.available()<11)throw new St;var a=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(a/45))),t.append(n.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new St;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var o=s;o<t.length();o++)t.charAt(o)==="%"&&(o<t.length()-1&&t.charAt(o+1)==="%"?t.deleteCharAt(o+1):t.setCharAt(o,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new St;var i=e.readBits(10);if(i>=1e3)throw new St;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new St;var s=e.readBits(7);if(s>=100)throw new St;t.append(n.toAlphaNumericChar(Math.floor(s/10))),t.append(n.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new St;var a=e.readBits(4);if(a>=10)throw new St;t.append(n.toAlphaNumericChar(a))}},n.parseECIValue=function(e){var t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new St},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),xre=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),fz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L6e=function(){function n(){this.rsDecoder=new iM(Io.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Du.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new k6e(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(a){i=a}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var s=this.decodeBitMatrixParser(r,t);return s.setOther(new xre(!0)),s}catch(a){throw i!==null?i:a}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,s,a,o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=D6e.getDataBlocks(c,o,l),h=0;try{for(var d=fz(u),p=d.next();!p.done;p=d.next()){var g=p.value;h+=g.getNumDataCodewords()}}catch(k){r={error:k}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}var _=new Uint8Array(h),w=0;try{for(var x=fz(u),S=x.next();!S.done;S=x.next()){var g=S.value,E=g.getCodewords(),T=g.getNumDataCodewords();this.correctErrors(E,T);for(var D=0;D<T;D++)_[w++]=E[D]}}catch(k){s={error:k}}finally{try{S&&!S.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}return O6e.decode(_,o,l,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new ts}for(var i=0;i<t;i++)e[i]=r[i]},n}(),F6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),B6e=function(n){F6e(e,n);function e(t,r,i){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var s=(this.getX()+r)/2,a=(this.getY()+t)/2,o=(this.estimatedModuleSize+i)/2;return new e(s,a,o)},e}(Kt),U6e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},j6e=function(){function n(e,t,r,i,s,a,o){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=s,this.moduleSize=a,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,s=this.startY+t/2,a=new Int32Array(3),o=this.image,l=0;l<t;l++){var c=s+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var u=e;u<i&&!o.get(u,c);)u++;for(var h=0;u<i;){if(o.get(u,c))if(h===1)a[1]++;else if(h===2){if(this.foundPatternCross(a)){var d=this.handlePossibleCenter(a,c,u);if(d!==null)return d}a[0]=a[2],a[1]=1,a[2]=0,h=1}else a[++h]++;else h===1&&h++,a[h]++;u++}if(this.foundPatternCross(a)){var d=this.handlePossibleCenter(a,c,i);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ze},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var s=this.image,a=s.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var l=e;l>=0&&s.get(t,l)&&o[1]<=r;)o[1]++,l--;if(l<0||o[1]>r)return NaN;for(;l>=0&&!s.get(t,l)&&o[0]<=r;)o[0]++,l--;if(o[0]>r)return NaN;for(l=e+1;l<a&&s.get(t,l)&&o[1]<=r;)o[1]++,l++;if(l===a||o[1]>r)return NaN;for(;l<a&&!s.get(t,l)&&o[2]<=r;)o[2]++,l++;if(o[2]>r)return NaN;var c=o[0]+o[1]+o[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(o)?n.centerFromEnd(o,l):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,s,a=e[0]+e[1]+e[2],o=n.centerFromEnd(e,r),l=this.crossCheckVertical(t,o,2*e[1],a);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var u=U6e(this.possibleCenters),h=u.next();!h.done;h=u.next()){var d=h.value;if(d.aboutEquals(c,l,o))return d.combineEstimate(l,o,c)}}catch(g){i={error:g}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}var p=new B6e(o,l,c);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},n}(),V6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),z6e=function(n){V6e(e,n);function e(t,r,i,s){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a.count=s,s===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var s=this.count+1,a=(this.count*this.getX()+r)/s,o=(this.count*this.getY()+t)/s,l=(this.count*this.estimatedModuleSize+i)/s;return new e(a,o,l,s)},e}(Kt),H6e=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),Ax=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W6e=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Qr.TRY_HARDER)!==void 0,r=e!=null&&e.get(Qr.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),a=i.getWidth(),o=Math.floor(3*s/(4*n.MAX_MODULES));(o<n.MIN_SKIP||t)&&(o=n.MIN_SKIP);for(var l=!1,c=new Int32Array(5),u=o-1;u<s&&!l;u+=o){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var h=0,d=0;d<a;d++)if(i.get(d,u))(h&1)===1&&h++,c[h]++;else if(h&1)c[h]++;else if(h===4)if(n.foundPatternCross(c)){var p=this.handlePossibleCenter(c,u,d,r);if(p===!0)if(o=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>c[2]&&(u+=g-c[2]-o,d=a-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,h=3;continue}h=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,h=3;else c[++h]++;if(n.foundPatternCross(c)){var p=this.handlePossibleCenter(c,u,a,r);p===!0&&(o=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var _=this.selectBestPatterns();return Kt.orderBestPatterns(_),new H6e(_)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var s=t/7,a=s/2;return Math.abs(s-e[0])<a&&Math.abs(s-e[1])<a&&Math.abs(3*s-e[2])<3*a&&Math.abs(s-e[3])<a&&Math.abs(s-e[4])<a},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var s=this.getCrossCheckStateCount(),a=0,o=this.image;e>=a&&t>=a&&o.get(t-a,e-a);)s[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!o.get(t-a,e-a)&&s[1]<=r;)s[1]++,a++;if(e<a||t<a||s[1]>r)return!1;for(;e>=a&&t>=a&&o.get(t-a,e-a)&&s[0]<=r;)s[0]++,a++;if(s[0]>r)return!1;var l=o.getHeight(),c=o.getWidth();for(a=1;e+a<l&&t+a<c&&o.get(t+a,e+a);)s[2]++,a++;if(e+a>=l||t+a>=c)return!1;for(;e+a<l&&t+a<c&&!o.get(t+a,e+a)&&s[3]<r;)s[3]++,a++;if(e+a>=l||t+a>=c||s[3]>=r)return!1;for(;e+a<l&&t+a<c&&o.get(t+a,e+a)&&s[4]<r;)s[4]++,a++;if(s[4]>=r)return!1;var u=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(u-i)<2*i&&n.foundPatternCross(s)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var s=this.image,a=s.getHeight(),o=this.getCrossCheckStateCount(),l=e;l>=0&&s.get(t,l);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!s.get(t,l)&&o[1]<=r;)o[1]++,l--;if(l<0||o[1]>r)return NaN;for(;l>=0&&s.get(t,l)&&o[0]<=r;)o[0]++,l--;if(o[0]>r)return NaN;for(l=e+1;l<a&&s.get(t,l);)o[2]++,l++;if(l===a)return NaN;for(;l<a&&!s.get(t,l)&&o[3]<r;)o[3]++,l++;if(l===a||o[3]>=r)return NaN;for(;l<a&&s.get(t,l)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return NaN;var c=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(c-i)>=2*i?NaN:n.foundPatternCross(o)?n.centerFromEnd(o,l):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var s=this.image,a=s.getWidth(),o=this.getCrossCheckStateCount(),l=e;l>=0&&s.get(l,t);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!s.get(l,t)&&o[1]<=r;)o[1]++,l--;if(l<0||o[1]>r)return NaN;for(;l>=0&&s.get(l,t)&&o[0]<=r;)o[0]++,l--;if(o[0]>r)return NaN;for(l=e+1;l<a&&s.get(l,t);)o[2]++,l++;if(l===a)return NaN;for(;l<a&&!s.get(l,t)&&o[3]<r;)o[3]++,l++;if(l===a||o[3]>=r)return NaN;for(;l<a&&s.get(l,t)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return NaN;var c=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(c-i)>=i?NaN:n.foundPatternCross(o)?n.centerFromEnd(o,l):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],a=n.centerFromEnd(e,r),o=this.crossCheckVertical(t,Math.floor(a),e[2],s);if(!isNaN(o)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(o),e[2],s),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(o),Math.floor(a),e[2],s)))){for(var l=s/7,c=!1,u=this.possibleCenters,h=0,d=u.length;h<d;h++){var p=u[h];if(p.aboutEquals(l,o,a)){u[h]=p.combineEstimate(o,a,l),c=!0;break}}if(!c){var g=new z6e(a,o,l);u.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var s=Ax(this.possibleCenters),a=s.next();!a.done;a=s.next()){var o=a.value;if(o.getCount()>=n.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,s=0,a=0,o=this.possibleCenters.length;try{for(var l=Ax(this.possibleCenters),c=l.next();!c.done;c=l.next()){var u=c.value;u.getCount()>=n.CENTER_QUORUM&&(s++,a+=u.getEstimatedModuleSize())}}catch(_){e={error:_}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}if(s<3)return!1;var h=a/o,d=0;try{for(var p=Ax(this.possibleCenters),g=p.next();!g.done;g=p.next()){var u=g.value;d+=Math.abs(u.getEstimatedModuleSize()-h)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return d<=.05*a},n.prototype.selectBestPatterns=function(){var e,t,r,i,s=this.possibleCenters.length;if(s<3)throw new Ze;var a=this.possibleCenters,o;if(s>3){var l=0,c=0;try{for(var u=Ax(this.possibleCenters),h=u.next();!h.done;h=u.next()){var d=h.value,p=d.getEstimatedModuleSize();l+=p,c+=p*p}}catch(D){e={error:D}}finally{try{h&&!h.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}o=l/s;var g=Math.sqrt(c/s-o*o);a.sort(function(D,k){var I=Math.abs(k.getEstimatedModuleSize()-o),N=Math.abs(D.getEstimatedModuleSize()-o);return I<N?-1:I>N?1:0});for(var _=Math.max(.2*o,g),w=0;w<a.length&&a.length>3;w++){var x=a[w];Math.abs(x.getEstimatedModuleSize()-o)>_&&(a.splice(w,1),w--)}}if(a.length>3){var l=0;try{for(var S=Ax(a),E=S.next();!E.done;E=S.next()){var T=E.value;l+=T.getEstimatedModuleSize()}}catch(k){r={error:k}}finally{try{E&&!E.done&&(i=S.return)&&i.call(S)}finally{if(r)throw r.error}}o=l/a.length,a.sort(function(k,I){if(I.getCount()===k.getCount()){var N=Math.abs(I.getEstimatedModuleSize()-o),P=Math.abs(k.getEstimatedModuleSize()-o);return N<P?1:N>P?-1:0}else return I.getCount()-k.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),G6e=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Qr.NEED_RESULT_POINT_CALLBACK);var t=new W6e(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(t,r,i);if(s<1)throw new Ze("No pattern found in proccess finder.");var a=n.computeDimension(t,r,i,s),o=Cm.getProvisionalVersionForDimension(a),l=o.getDimensionForVersion()-7,c=null;if(o.getAlignmentPatternCenters().length>0)for(var u=r.getX()-t.getX()+i.getX(),h=r.getY()-t.getY()+i.getY(),d=1-3/l,p=Math.floor(t.getX()+d*(u-t.getX())),g=Math.floor(t.getY()+d*(h-t.getY())),_=4;_<=16;_<<=1)try{c=this.findAlignmentInRegion(s,p,g,_);break}catch(E){if(!(E instanceof Ze))throw E}var w=n.createTransform(t,r,i,c,a),x=n.sampleGrid(this.image,w,a),S;return c===null?S=[i,t,r]:S=[i,t,r,c],new aF(x,S)},n.createTransform=function(e,t,r,i,s){var a=s-3.5,o,l,c,u;return i!==null?(o=i.getX(),l=i.getY(),c=a-3,u=c):(o=t.getX()-e.getX()+r.getX(),l=t.getY()-e.getY()+r.getY(),c=a,u=a),fre.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,c,u,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),o,l,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=oF.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var s=gr.round(Kt.distance(e,t)/i),a=gr.round(Kt.distance(e,r)/i),o=Math.floor((s+a)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new Ze("Dimensions could be not found.")}return o},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var s=this.sizeOfBlackWhiteBlackRun(e,t,r,i),a=1,o=e-(r-e);o<0?(a=e/(e-o),o=0):o>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var l=Math.floor(t-(i-t)*a);return a=1,l<0?(a=t/(t-l),l=0):l>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(l-t),l=this.image.getHeight()-1),o=Math.floor(e+(o-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,t,o,l),s-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var s=Math.abs(i-t)>Math.abs(r-e);if(s){var a=e;e=t,t=a,a=r,r=i,i=a}for(var o=Math.abs(r-e),l=Math.abs(i-t),c=-o/2,u=e<r?1:-1,h=t<i?1:-1,d=0,p=r+u,g=e,_=t;g!==p;g+=u){var w=s?_:g,x=s?g:_;if(d===1===this.image.get(w,x)){if(d===2)return gr.distance(g,_,e,t);d++}if(c+=l,c>0){if(_===i)break;_+=h,c-=o}}return d===2?gr.distance(r+u,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var s=Math.floor(i*e),a=Math.max(0,t-s),o=Math.min(this.image.getWidth()-1,t+s);if(o-a<e*3)throw new Ze("Alignment top exceeds estimated module size.");var l=Math.max(0,r-s),c=Math.min(this.image.getHeight()-1,r+s);if(c-l<e*3)throw new Ze("Alignment bottom exceeds estimated module size.");var u=new j6e(this.image,a,l,o-a,c-l,e,this.resultPointCallback);return u.find()},n}(),$A=function(){function n(){this.decoder=new L6e}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Qr.PURE_BARCODE)!==void 0){var s=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(s,t),i=n.NO_POINTS}else{var a=new G6e(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(a.getBits(),t),i=a.getPoints()}r.getOther()instanceof xre&&r.getOther().applyMirroredCorrection(i);var o=new ka(r.getText(),r.getRawBytes(),void 0,i,rn.QR_CODE,void 0),l=r.getByteSegments();l!==null&&o.putMetadata(Xs.BYTE_SEGMENTS,l);var c=r.getECLevel();return c!==null&&o.putMetadata(Xs.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(o.putMetadata(Xs.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Xs.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new Ze;var i=this.moduleSize(t,e),s=t[1],a=r[1],o=t[0],l=r[0];if(o>=l||s>=a)throw new Ze;if(a-s!==l-o&&(l=o+(a-s),l>=e.getWidth()))throw new Ze;var c=Math.round((l-o+1)/i),u=Math.round((a-s+1)/i);if(c<=0||u<=0)throw new Ze;if(u!==c)throw new Ze;var h=Math.floor(i/2);s+=h,o+=h;var d=o+Math.floor((c-1)*i)-l;if(d>0){if(d>h)throw new Ze;o-=d}var p=s+Math.floor((u-1)*i)-a;if(p>0){if(p>h)throw new Ze;s-=p}for(var g=new Du(c,u),_=0;_<u;_++)for(var w=s+Math.floor(_*i),x=0;x<c;x++)e.get(o+Math.floor(x*i),w)&&g.set(x,_);return g},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),s=e[0],a=e[1],o=!0,l=0;s<i&&a<r;){if(o!==t.get(s,a)){if(++l===5)break;o=!o}s++,a++}if(s===i||a===r)throw new Ze;return(s-e[0])/7},n.NO_POINTS=new Array,n}(),$6e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},or=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return gr.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var a=$6e(e),o=a.next();!o.done;o=a.next()){var l=o.value;i[s++]=l}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=ms.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),q6e=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),X6e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y6e=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),s=n.detect(r,i);return s.length||(i=i.clone(),i.rotate180(),s=n.detect(r,i)),new q6e(i,s)},n.detect=function(e,t){for(var r,i,s=new Array,a=0,o=0,l=!1;a<t.getHeight();){var c=n.findVertices(t,a,o);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,o=0;try{for(var u=(r=void 0,X6e(s)),h=u.next();!h.done;h=u.next()){var d=h.value;d[1]!=null&&(a=Math.trunc(Math.max(a,d[1].getY()))),d[3]!=null&&(a=Math.max(a,Math.trunc(d[3].getY())))}}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}a+=n.ROW_STEP;continue}if(l=!0,s.push(c),!e)break;c[2]!=null?(o=Math.trunc(c[2].getX()),a=Math.trunc(c[2].getY())):(o=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY()))}return s},n.findVertices=function(e,t,r){var i=e.getHeight(),s=e.getWidth(),a=new Array(8);return n.copyToResult(a,n.findRowsWithPattern(e,i,s,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),n.copyToResult(a,n.findRowsWithPattern(e,i,s,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),a},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,s,a){for(var o=new Array(4),l=!1,c=new Int32Array(a.length);i<t;i+=n.ROW_STEP){var u=n.findGuardPattern(e,s,i,r,!1,a,c);if(u!=null){for(;i>0;){var h=n.findGuardPattern(e,s,--i,r,!1,a,c);if(h!=null)u=h;else{i++;break}}o[0]=new Kt(u[0],i),o[1]=new Kt(u[1],i),l=!0;break}}var d=i+1;if(l){for(var p=0,h=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);d<t;d++){var u=n.findGuardPattern(e,h[0],d,r,!1,a,c);if(u!=null&&Math.abs(h[0]-u[0])<n.MAX_PATTERN_DRIFT&&Math.abs(h[1]-u[1])<n.MAX_PATTERN_DRIFT)h=u,p=0;else{if(p>n.SKIPPED_ROW_COUNT_MAX)break;p++}}d-=p+1,o[2]=new Kt(h[0],d),o[3]=new Kt(h[1],d)}return d-i<n.BARCODE_MIN_HEIGHT&&ms.fill(o,null),o},n.findGuardPattern=function(e,t,r,i,s,a,o){ms.fillWithin(o,0,o.length,0);for(var l=t,c=0;e.get(l,r)&&l>0&&c++<n.MAX_PIXEL_DRIFT;)l--;for(var u=l,h=0,d=a.length,p=s;u<i;u++){var g=e.get(u,r);if(g!==p)o[h]++;else{if(h===d-1){if(n.patternMatchVariance(o,a,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([l,u]);l+=o[0]+o[1],Zr.arraycopy(o,2,o,0,h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,p=!p}}return h===d-1&&n.patternMatchVariance(o,a,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([l,u-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,s=0,a=0,o=0;o<i;o++)s+=e[o],a+=t[o];if(s<a)return 1/0;var l=s/a;r*=l;for(var c=0,u=0;u<i;u++){var h=e[u],d=t[u]*l,p=h>d?h-d:d-h;if(p>r)return 1/0;c+=p}return c/s},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),K6e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cm=function(){function n(e,t){if(t.length===0)throw new sn;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Zr.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=K6e(this.coefficients),a=s.next();!a.done;a=s.next()){var o=a.value;i=this.field.add(i,o)}}catch(h){t={error:h}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,u=1;u<c;u++)l=this.field.add(this.field.multiply(e,l),this.coefficients[u]);return l},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new sn("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var s=new Int32Array(r.length),a=r.length-t.length;Zr.arraycopy(r,0,s,0,a);for(var o=a;o<r.length;o++)s[o]=this.field.add(t[o-a],r[o]);return new n(this.field,s)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new sn("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new sn("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,s=i.length,a=new Int32Array(r+s-1),o=0;o<r;o++)for(var l=t[o],c=0;c<s;c++)a[o+c]=this.field.add(a[o+c],this.field.multiply(l,i[c]));return new n(this.field,a)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new sn;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),s=0;s<r;s++)i[s]=this.field.multiply(this.coefficients[s],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new zn,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),Z6e=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new sn;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new dre;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),Q6e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),J6e=function(n){Q6e(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var s=1,a=0;a<t;a++)i.expTable[a]=s,s=s*r%t;for(var a=0;a<t-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new cm(i,new Int32Array([0])),i.one=new cm(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new sn;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new cm(this,i)},e.PDF417_GF=new e(or.NUMBER_OF_CODEWORDS,3),e}(Z6e),e8e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t8e=function(){function n(){this.field=J6e.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,s,a=new cm(this.field,e),o=new Int32Array(t),l=!1,c=t;c>0;c--){var u=a.evaluateAt(this.field.exp(c));o[t-c]=u,u!==0&&(l=!0)}if(!l)return 0;var h=this.field.getOne();if(r!=null)try{for(var d=e8e(r),p=d.next();!p.done;p=d.next()){var g=p.value,_=this.field.exp(e.length-1-g),w=new cm(this.field,new Int32Array([this.field.subtract(0,_),1]));h=h.multiply(w)}}catch(N){i={error:N}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}for(var x=new cm(this.field,o),S=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),x,t),E=S[0],T=S[1],D=this.findErrorLocations(E),k=this.findErrorMagnitudes(T,E,D),c=0;c<D.length;c++){var I=e.length-1-this.field.log(D[c]);if(I<0)throw ts.getChecksumInstance();e[I]=this.field.subtract(e[I],k[c])}return D.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var s=e,a=t,o=this.field.getZero(),l=this.field.getOne();a.getDegree()>=Math.round(r/2);){var c=s,u=o;if(s=a,o=l,s.isZero())throw ts.getChecksumInstance();a=c;for(var h=this.field.getZero(),d=s.getCoefficient(s.getDegree()),p=this.field.inverse(d);a.getDegree()>=s.getDegree()&&!a.isZero();){var g=a.getDegree()-s.getDegree(),_=this.field.multiply(a.getCoefficient(a.getDegree()),p);h=h.add(this.field.buildMonomial(g,_)),a=a.subtract(s.multiplyByMonomial(g,_))}l=h.multiply(o).subtract(u).negative()}var w=l.getCoefficient(0);if(w===0)throw ts.getChecksumInstance();var x=this.field.inverse(w),S=l.multiply(x),E=a.multiply(x);return[S,E]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,s=1;s<this.field.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=this.field.inverse(s),i++);if(i!==t)throw ts.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),s=new Int32Array(i),a=1;a<=i;a++)s[i-a]=this.field.multiply(a,t.getCoefficient(a));for(var o=new cm(this.field,s),l=r.length,c=new Int32Array(l),a=0;a<l;a++){var u=this.field.inverse(r[a]),h=this.field.subtract(0,e.evaluateAt(u)),d=this.field.inverse(o.evaluateAt(u));c[a]=this.field.multiply(h,d)}return c},n}(),b3=function(){function n(e,t,r,i,s){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,s)}return n.prototype.constructor_1=function(e,t,r,i,s){var a=t==null||r==null,o=i==null||s==null;if(a&&o)throw new Ze;a?(t=new Kt(0,i.getY()),r=new Kt(0,s.getY())):o&&(i=new Kt(e.getWidth()-1,t.getY()),s=new Kt(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),s.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,s=this.bottomLeft,a=this.topRight,o=this.bottomRight;if(e>0){var l=r?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var u=new Kt(l.getX(),c);r?i=u:a=u}if(t>0){var h=r?this.bottomLeft:this.bottomRight,d=Math.trunc(h.getY()+t);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var p=new Kt(h.getX(),d);r?s=p:o=p}return new n(this.image,i,s,a,o)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),n8e=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),cF=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(a,o,l,c,u,h){if(a==="%%")return"%";if(t[++r]!==void 0){a=c?parseInt(c.substr(1)):void 0;var d=u?parseInt(u.substr(1)):void 0,p;switch(h){case"s":p=t[r];break;case"c":p=t[r][0];break;case"f":p=parseFloat(t[r]).toFixed(a);break;case"p":p=parseFloat(t[r]).toPrecision(a);break;case"e":p=parseFloat(t[r]).toExponential(a);break;case"x":p=parseInt(t[r]).toString(d||16);break;case"d":p=parseFloat(parseInt(t[r],d||10).toPrecision(a)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(d);for(var g=parseInt(l),_=l&&l[0]+""=="0"?"0":" ";p.length<g;)p=o!==void 0?p+_:_+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),r8e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_re=function(){function n(e){this.boundingBox=new b3(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new cF,i=0;try{for(var s=r8e(this.codewords),a=s.next();!a.done;a=s.next()){var o=a.value;if(o==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),i8e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s8e=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return s},Yx=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,s=function(h,d){var p={getKey:function(){return h},getValue:function(){return d}};p.getValue()>r?(r=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===r&&i.push(p.getKey())};try{for(var a=i8e(this.values.entries()),o=a.next();!o.done;o=a.next()){var l=s8e(o.value,2),c=l[0],u=l[1];s(c,u)}}catch(h){e={error:h}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return or.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),a8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uR=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pz=function(n){a8e(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=uR(this.getCodewords()),s=i.next();!s.done;s=i.next()){var a=s.value;a!=null&&a.setRowNumberAsRowIndicatorColumn()}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=-1,u=1,h=0,d=o;d<l;d++)if(r[d]!=null){var p=r[d],g=p.getRowNumber()-c;if(g===0)h++;else if(g===1)u=Math.max(u,h),h=1,c=p.getRowNumber();else if(g<0||p.getRowNumber()>=t.getRowCount()||g>d)r[d]=null;else{var _=void 0;u>2?_=(u-2)*g:_=g;for(var w=_>=d,x=1;x<=_&&!w;x++)w=r[d-x]!=null;w?r[d]=null:(c=p.getRowNumber(),h=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var a=uR(this.getCodewords()),o=a.next();!o.done;o=a.next()){var l=o.value;if(l!=null){var c=l.getRowNumber();if(c>=s.length)continue;s[c]++}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=this.getCodewords(),c=-1,u=a;u<o;u++)if(l[u]!=null){var h=l[u];h.setRowNumberAsRowIndicatorColumn();var d=h.getRowNumber()-c;d===0||(d===1?c=h.getRowNumber():h.getRowNumber()>=t.getRowCount()?l[u]=null:c=h.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),s=new Yx,a=new Yx,o=new Yx,l=new Yx;try{for(var c=uR(i),u=c.next();!u.done;u=c.next()){var h=u.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var d=h.getValue()%30,p=h.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:a.setValue(d*3+1);break;case 1:l.setValue(d/3),o.setValue(d%3);break;case 2:s.setValue(d+1);break}}}}catch(_){t={error:_}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if(s.getValue().length===0||a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+o.getValue()[0]<or.MIN_ROWS_IN_BARCODE||a.getValue()[0]+o.getValue()[0]>or.MAX_ROWS_IN_BARCODE)return null;var g=new n8e(s.getValue()[0],a.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var s=t[i];if(t[i]!=null){var a=s.getValue()%30,o=s.getRowNumber();if(o>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:a*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(a/3)!==r.getErrorCorrectionLevel()||a%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:a+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(_re),o8e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l8e=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=or.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[r];s!=null&&(s.setRowNumber(e[r].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),s=0,a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){var o=this.detectionResultColumns[a].getCodewords()[r];o!=null&&(s=n.adjustRowNumberIfValid(i,s,o),o.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),s=0,a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){var o=this.detectionResultColumns[a].getCodewords()[r];o!=null&&(s=n.adjustRowNumberIfValid(i,s,o),o.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,s;if(this.detectionResultColumns[e-1]!=null){var a=r[t],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=o[t],c[3]=l[t],t>0&&(c[0]=r[t-1],c[4]=o[t-1],c[5]=l[t-1]),t>1&&(c[8]=r[t-2],c[10]=o[t-2],c[11]=l[t-2]),t<r.length-1&&(c[1]=r[t+1],c[6]=o[t+1],c[7]=l[t+1]),t<r.length-2&&(c[9]=r[t+2],c[12]=o[t+2],c[13]=l[t+2]);try{for(var u=o8e(c),h=u.next();!h.done;h=u.next()){var d=h.value;if(n.adjustRowNumber(a,d))return}}catch(p){i={error:p}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new cF,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[r];if(s==null){t.format("    |   ");continue}t.format(" %3d|%3d",s.getRowNumber(),s.getValue())}t.format("%n")}return t.toString()},n}(),c8e=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),u8e=function(){function n(){}return n.initialize=function(){for(var e=0;e<or.SYMBOL_TABLE.length;e++)for(var t=or.SYMBOL_TABLE[e],r=t&1,i=0;i<or.BARS_IN_MODULE;i++){for(var s=0;(t&1)===r;)s+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(or.BARS_IN_MODULE)),n.RATIOS_TABLE[e][or.BARS_IN_MODULE-i-1]=Math.fround(s/or.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=gr.sum(e),r=new Int32Array(or.BARS_IN_MODULE),i=0,s=0,a=0;a<or.MODULES_IN_CODEWORD;a++){var o=t/(2*or.MODULES_IN_CODEWORD)+a*t/or.MODULES_IN_CODEWORD;s+e[i]<=o&&(s+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return or.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=gr.sum(e),r=new Array(or.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var s=x3.MAX_VALUE,a=-1;this.bSymbolTableReady||n.initialize();for(var o=0;o<n.RATIOS_TABLE.length;o++){for(var l=0,c=n.RATIOS_TABLE[o],u=0;u<or.BARS_IN_MODULE;u++){var h=Math.fround(c[u]-r[u]);if(l+=Math.fround(h*h),l>=s)break}l<s&&(s=l,a=or.SYMBOL_TABLE[o])}return a},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(or.SYMBOL_TABLE.length).map(function(e){return new Array(or.BARS_IN_MODULE)}),n}(),h8e=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),mz=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),d8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),f8e=function(n){d8e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Bo),p8e=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new f8e;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new sF;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),m8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),g8e=function(n){m8e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Bo),v8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),y8e=function(n){v8e(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new sn("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new g8e;i=$n.MAX_VALUE}this.buf=ms.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new sF;this.ensureCapacity(this.count+i),Zr.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ms.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(p8e),Or;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Or||(Or={}));function wre(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var ZS;function Hd(n){if(typeof ZS>"u"&&(ZS=wre()),ZS===null)throw new Error("BigInt is not supported!");return ZS(n)}function x8e(){var n=[];n[0]=Hd(1);var e=Hd(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var _8e=function(){function n(){}return n.decode=function(e,t){var r=new zn(""),i=ps.ISO8859_1;r.enableDecoding(i);for(var s=1,a=e[s++],o=new h8e;s<e[0];){switch(a){case n.TEXT_COMPACTION_MODE_LATCH:s=n.textCompaction(e,s,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:s=n.byteCompaction(a,e,i,s,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[s++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:s=n.numericCompaction(e,s,r);break;case n.ECI_CHARSET:ps.getCharacterSetECIByValue(e[s++]);break;case n.ECI_GENERAL_PURPOSE:s+=2;break;case n.ECI_USER_DEFINED:s++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=n.decodeMacroBlock(e,s,o);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new St;default:s--,s=n.textCompaction(e,s,r);break}if(s<e.length)a=e[s++];else throw St.getFormatInstance()}if(r.length()===0)throw St.getFormatInstance();var l=new rM(null,r.toString(),null,t);return l.setOther(o),l},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw St.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<n.NUMBER_OF_SEQUENCE_CODEWORDS;s++,t++)i[s]=e[t];r.setSegmentIndex($n.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new zn;t=n.textCompaction(e,t,a),r.setFileId(a.toString());var o=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new zn;t=n.textCompaction(e,t+1,l),r.setFileName(l.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new zn;t=n.textCompaction(e,t+1,c),r.setSender(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new zn;t=n.textCompaction(e,t+1,u),r.setAddressee(u.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new zn;t=n.numericCompaction(e,t+1,h),r.setSegmentCount($n.parseInt(h.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new zn;t=n.numericCompaction(e,t+1,d),r.setTimestamp(mz.parseLong(d.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new zn;t=n.numericCompaction(e,t+1,p),r.setChecksum($n.parseInt(p.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new zn;t=n.numericCompaction(e,t+1,g),r.setFileSize(mz.parseLong(g.toString()));break;default:throw St.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw St.getFormatInstance()}if(o!==-1){var _=t-o;r.isLastSegment()&&_--,r.setOptionalData(ms.copyOfRange(e,o,o+_))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),s=new Int32Array((e[0]-t)*2),a=0,o=!1;t<e[0]&&!o;){var l=e[t++];if(l<n.TEXT_COMPACTION_MODE_LATCH)i[a]=l/30,i[a+1]=l%30,a+=2;else switch(l){case n.TEXT_COMPACTION_MODE_LATCH:i[a++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,o=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[t++],s[a]=l,a++;break}}return n.decodeTextCompaction(i,s,a,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var s=Or.ALPHA,a=Or.ALPHA,o=0;o<r;){var l=e[o],c="";switch(s){case Or.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case n.LL:s=Or.LOWER;break;case n.ML:s=Or.MIXED;break;case n.PS:a=s,s=Or.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=Or.ALPHA;break}break;case Or.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case n.AS:a=s,s=Or.ALPHA_SHIFT;break;case n.ML:s=Or.MIXED;break;case n.PS:a=s,s=Or.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=Or.ALPHA;break}break;case Or.MIXED:if(l<n.PL)c=n.MIXED_CHARS[l];else switch(l){case n.PL:s=Or.PUNCT;break;case 26:c=" ";break;case n.LL:s=Or.LOWER;break;case n.AL:s=Or.ALPHA;break;case n.PS:a=s,s=Or.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=Or.ALPHA;break}break;case Or.PUNCT:if(l<n.PAL)c=n.PUNCT_CHARS[l];else switch(l){case n.PAL:s=Or.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=Or.ALPHA;break}break;case Or.ALPHA_SHIFT:if(s=a,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:s=Or.ALPHA;break}break;case Or.PUNCT_SHIFT:if(s=a,l<n.PAL)c=n.PUNCT_CHARS[l];else switch(l){case n.PAL:s=Or.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[o]);break;case n.TEXT_COMPACTION_MODE_LATCH:s=Or.ALPHA;break}break}c!==""&&i.append(c),o++}},n.byteCompaction=function(e,t,r,i,s){var a=new y8e,o=0,l=0,c=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),h=t[i++];i<t[0]&&!c;)switch(u[o++]=h,l=900*l+h,h=t[i++],h){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(o%5===0&&o>0){for(var d=0;d<6;++d)a.write(Number(Hd(l)>>Hd(8*(5-d))));l=0,o=0}break}i===t[0]&&h<n.TEXT_COMPACTION_MODE_LATCH&&(u[o++]=h);for(var p=0;p<o;p++)a.write(u[p]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!c;){var g=t[i++];if(g<n.TEXT_COMPACTION_MODE_LATCH)o++,l=900*l+g;else switch(g){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(o%5===0&&o>0){for(var d=0;d<6;++d)a.write(Number(Hd(l)>>Hd(8*(5-d))));l=0,o=0}}break}return s.append(Bl.decode(a.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,s=!1,a=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!s;){var o=e[t++];if(t===e[0]&&(s=!0),o<n.TEXT_COMPACTION_MODE_LATCH)a[i]=o,i++;else switch(o){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,s=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||o===n.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(r.append(n.decodeBase900toBase10(a,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=Hd(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*Hd(e[i]);var s=r.toString();if(s.charAt(0)!=="1")throw new St;return s.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=wre()?x8e():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),Tx=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w8e=function(){function n(){}return n.decode=function(e,t,r,i,s,a,o){for(var l=new b3(e,t,r,i,s),c=null,u=null,h,d=!0;;d=!1){if(t!=null&&(c=n.getRowIndicatorColumn(e,l,t,!0,a,o)),i!=null&&(u=n.getRowIndicatorColumn(e,l,i,!1,a,o)),h=n.merge(c,u),h==null)throw Ze.getNotFoundInstance();var p=h.getBoundingBox();if(d&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}h.setBoundingBox(l);var g=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,c),h.setDetectionResultColumn(g,u);for(var _=c!=null,w=1;w<=g;w++){var x=_?w:g-w;if(h.getDetectionResultColumn(x)===void 0){var S=void 0;x===0||x===g?S=new pz(l,x===0):S=new _re(l),h.setDetectionResultColumn(x,S);for(var E=-1,T=E,D=l.getMinY();D<=l.getMaxY();D++){if(E=n.getStartColumn(h,x,D,_),E<0||E>l.getMaxX()){if(T===-1)continue;E=T}var k=n.detectCodeword(e,l.getMinX(),l.getMaxX(),_,E,D,a,o);k!=null&&(S.setCodeword(D,k),T=E,a=Math.min(a,k.getWidth()),o=Math.max(o,k.getWidth()))}}}return n.createDecoderResult(h)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=b3.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new l8e(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=n.getMax(i),a=0;try{for(var o=Tx(i),l=o.next();!l.done;l=o.next()){var c=l.value;if(a+=s-c,c>0)break}}catch(p){t={error:p}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}for(var u=e.getCodewords(),h=0;a>0&&u[h]==null;h++)a--;for(var d=0,h=i.length-1;h>=0&&(d+=s-i[h],!(i[h]>0));h--);for(var h=u.length-1;d>0&&u[h]==null;h--)d--;return e.getBoundingBox().addMissingRows(a,d,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var s=Tx(e),a=s.next();!a.done;a=s.next()){var o=a.value;i=Math.max(i,o)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,s,a){for(var o=new pz(t,i),l=0;l<2;l++)for(var c=l===0?1:-1,u=Math.trunc(Math.trunc(r.getX())),h=Math.trunc(Math.trunc(r.getY()));h<=t.getMaxY()&&h>=t.getMinY();h+=c){var d=n.detectCodeword(e,0,e.getWidth(),i,u,h,s,a);d!=null&&(o.setCodeword(h,d),i?u=d.getStartX():u=d.getEndX())}return o},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>or.MAX_CODEWORDS_IN_BARCODE)throw Ze.getNotFoundInstance();r.setValue(s)}else i[0]!==s&&r.setValue(s)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=t[o][l+1].getValue(),u=o*e.getBarcodeColumnCount()+l;c.length===0?r.push(u):c.length===1?i[u]=c[0]:(a.push(u),s.push(c))}for(var h=new Array(s.length),d=0;d<h.length;d++)h[d]=s[d];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,or.toIntArray(r),or.toIntArray(a),h)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,s){for(var a=new Int32Array(i.length),o=100;o-- >0;){for(var l=0;l<a.length;l++)t[i[l]]=s[l][a[l]];try{return n.decodeCodewords(t,e,r)}catch(u){var c=u instanceof ts;if(!c)throw u}if(a.length===0)throw ts.getChecksumInstance();for(var l=0;l<a.length;l++)if(a[l]<s[l].length-1){a[l]++;break}else if(a[l]=0,l===a.length-1)throw ts.getChecksumInstance()}throw ts.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,s,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<a.length;o++)for(var l=0;l<a[o].length;l++)a[o][l]=new Yx;var c=0;try{for(var u=Tx(e.getDetectionResultColumns()),h=u.next();!h.done;h=u.next()){var d=h.value;if(d!=null)try{for(var p=(i=void 0,Tx(d.getCodewords())),g=p.next();!g.done;g=p.next()){var _=g.value;if(_!=null){var w=_.getRowNumber();if(w>=0){if(w>=a.length)continue;a[w][c].setValue(_.getValue())}}}}catch(x){i={error:x}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}c++}}catch(x){t={error:x}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return a},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var s,a,o=i?1:-1,l=null;if(n.isValidBarcodeColumn(e,t-o)&&(l=e.getDetectionResultColumn(t-o).getCodeword(r)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(r),l!=null)return i?l.getStartX():l.getEndX();if(n.isValidBarcodeColumn(e,t-o)&&(l=e.getDetectionResultColumn(t-o).getCodewordNearby(r)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;n.isValidBarcodeColumn(e,t-o);){t-=o;try{for(var u=(s=void 0,Tx(e.getDetectionResultColumn(t).getCodewords())),h=u.next();!h.done;h=u.next()){var d=h.value;if(d!=null)return(i?d.getEndX():d.getStartX())+o*c*(d.getEndX()-d.getStartX())}}catch(p){s={error:p}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,s,a,o,l){s=n.adjustCodewordStartColumn(e,t,r,i,s,a);var c=n.getModuleBitCount(e,t,r,i,s,a);if(c==null)return null;var u,h=gr.sum(c);if(i)u=s+h;else{for(var d=0;d<c.length/2;d++){var p=c[d];c[d]=c[c.length-1-d],c[c.length-1-d]=p}u=s,s=u-h}if(!n.checkCodewordSkew(h,o,l))return null;var g=u8e.getDecodedValue(c),_=or.getCodeword(g);return _===-1?null:new c8e(s,u,n.getCodewordBucketNumber(g),_)},n.getModuleBitCount=function(e,t,r,i,s,a){for(var o=s,l=new Int32Array(8),c=0,u=i?1:-1,h=i;(i?o<r:o>=t)&&c<l.length;)e.get(o,a)===h?(l[c]++,o+=u):(c++,h=!h);return c===l.length||o===(i?r:t)&&c===l.length-1?l:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,s,a){for(var o=s,l=i?-1:1,c=0;c<2;c++){for(;(i?o>=t:o<r)&&i===e.get(o,a);){if(Math.abs(s-o)>n.CODEWORD_SKEW_SIZE)return s;o+=l}l=-l,i=!i}return o},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw St.getFormatInstance();var i=1<<t+1,s=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var a=_8e.decode(e,""+t);return a.setErrorsCorrected(s),a.setErasures(r.length),a},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw ts.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw St.getFormatInstance();var r=e[0];if(r>e.length)throw St.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw St.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new cF,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var s=e[r][i];s.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new t8e,n}(),b8e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qA=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw Ze.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof St||r instanceof ts?Ze.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,s,a=new Array,o=Y6e.detectMultiple(e,t,r);try{for(var l=b8e(o.getPoints()),c=l.next();!c.done;c=l.next()){var u=c.value,h=w8e.decode(o.getBits(),u[4],u[5],u[6],u[7],n.getMinCodewordWidth(u),n.getMaxCodewordWidth(u)),d=new ka(h.getText(),h.getRawBytes(),void 0,u,rn.PDF_417);d.putMetadata(Xs.ERROR_CORRECTION_LEVEL,h.getECLevel());var p=h.getOther();p!=null&&d.putMetadata(Xs.PDF417_EXTRA_METADATA,p),a.push(d)}}catch(g){i={error:g}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return a.map(function(g){return g})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?$n.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*or.MODULES_IN_CODEWORD/or.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*or.MODULES_IN_CODEWORD/or.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*or.MODULES_IN_CODEWORD/or.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*or.MODULES_IN_CODEWORD/or.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),S8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gz=function(n){S8e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(Bo),vz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bre=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Qr.TRY_HARDER)!==void 0,r=e==null?null:e.get(Qr.POSSIBLE_FORMATS),i=new Array;if(r!=null){var s=r.some(function(a){return a===rn.UPC_A||a===rn.UPC_E||a===rn.EAN_13||a===rn.EAN_8||a===rn.CODABAR||a===rn.CODE_39||a===rn.CODE_93||a===rn.CODE_128||a===rn.ITF||a===rn.RSS_14||a===rn.RSS_EXPANDED});s&&!t&&i.push(new $0(e)),r.includes(rn.QR_CODE)&&i.push(new $A),r.includes(rn.DATA_MATRIX)&&i.push(new GA),r.includes(rn.AZTEC)&&i.push(new HA),r.includes(rn.PDF_417)&&i.push(new qA),s&&t&&i.push(new $0(e))}i.length===0&&(t||i.push(new $0(e)),i.push(new $A),i.push(new GA),i.push(new HA),i.push(new qA),t&&i.push(new $0(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=vz(this.readers),i=r.next();!i.done;i=r.next()){var s=i.value;s.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new gz("No readers where selected, nothing can be read.");try{for(var i=vz(this.readers),s=i.next();!s.done;s=i.next()){var a=s.value;try{return a.decode(e,this.hints)}catch(o){if(o instanceof gz)continue}}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new Ze("No MultiFormat Readers were able to detect the code.")},n}(),E8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){E8e(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,s=new bre;return s.setHints(t),i=n.call(this,s,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(Py);var A8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){A8e(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new qA,t)||this}return e})(Py);var T8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){T8e(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new $A,t)||this}return e})(Py);var S3;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(S3||(S3={}));const QS=S3;var Sre=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Mf(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,s=t.length;s<=e;s++){var a=r.multiply(new Mf(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));t.push(a),r=a}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new sn("No error correction bytes");var r=e.length-t;if(r<=0)throw new sn("No data bytes provided");var i=this.buildGenerator(t),s=new Int32Array(r);Zr.arraycopy(e,0,s,0,r);var a=new Mf(this.field,s);a=a.multiplyByMonomial(t,1);for(var o=a.divide(i)[1],l=o.getCoefficients(),c=t-l.length,u=0;u<c;u++)e[r+u]=0;Zr.arraycopy(l,0,e,r+c,l.length)},n}(),Kx=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s-1;a++)for(var o=r[a],l=0;l<i-1;l++){var c=o[l];c===o[l+1]&&c===r[a+1][l]&&c===r[a+1][l+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s;a++)for(var o=0;o<i;o++){var l=r[a];o+6<i&&l[o]===1&&l[o+1]===0&&l[o+2]===1&&l[o+3]===1&&l[o+4]===1&&l[o+5]===0&&l[o+6]===1&&(n.isWhiteHorizontal(l,o-4,o)||n.isWhiteHorizontal(l,o+7,o+11))&&t++,a+6<s&&r[a][o]===1&&r[a+1][o]===0&&r[a+2][o]===1&&r[a+3][o]===1&&r[a+4][o]===1&&r[a+5][o]===0&&r[a+6][o]===1&&(n.isWhiteVertical(r,o,a-4,a)||n.isWhiteVertical(r,o,a+7,a+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var s=r;s<i;s++)if(e[s][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s;a++)for(var o=r[a],l=0;l<i;l++)o[l]===1&&t++;var c=e.getHeight()*e.getWidth(),u=Math.floor(Math.abs(t*2-c)*10/c);return u*n.N4},n.getDataMaskBit=function(e,t,r){var i,s;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:s=r*t,i=(s&1)+s%3;break;case 6:s=r*t,i=(s&1)+s%3&1;break;case 7:s=r*t,i=s%3+(r+t&1)&1;break;default:throw new sn("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),s=t?e.getWidth():e.getHeight(),a=e.getArray(),o=0;o<i;o++){for(var l=0,c=-1,u=0;u<s;u++){var h=t?a[o][u]:a[u][o];h===c?l++:(l>=5&&(r+=n.N1+(l-5)),l=1,c=h)}l>=5&&(r+=n.N1+(l-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),C8e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M8e=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=C8e(this.bytes),s=i.next();!s.done;s=i.next()){var a=s.value;ms.fill(a,e)}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var s=this.bytes[r],a=t.bytes[r],o=0,l=this.width;o<l;++o)if(s[o]!==a[o])return!1;return!0},n.prototype.toString=function(){for(var e=new zn,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],s=0,a=this.width;s<a;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),E3=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new zn;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),I8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),si=function(n){I8e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(Bo),yz=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,s){n.clearMatrix(s),n.embedBasicPatterns(r,s),n.embedTypeInfo(t,i,s),n.maybeEmbedVersionInfo(r,s),n.embedDataBits(e,i,s)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new ks;n.makeTypeInfoBits(e,t,i);for(var s=0,a=i.getSize();s<a;++s){var o=i.get(i.getSize()-1-s),l=n.TYPE_INFO_COORDINATES[s],c=l[0],u=l[1];if(r.setBoolean(c,u,o),s<8){var h=r.getWidth()-s-1,d=8;r.setBoolean(h,d,o)}else{var h=8,d=r.getHeight()-7+(s-8);r.setBoolean(h,d,o)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new ks;n.makeVersionInfoBits(e,r);for(var i=6*3-1,s=0;s<6;++s)for(var a=0;a<3;++a){var o=r.get(i);i--,t.setBoolean(s,t.getHeight()-11+a,o),t.setBoolean(t.getHeight()-11+a,s,o)}}},n.embedDataBits=function(e,t,r){for(var i=0,s=-1,a=r.getWidth()-1,o=r.getHeight()-1;a>0;){for(a===6&&(a-=1);o>=0&&o<r.getHeight();){for(var l=0;l<2;++l){var c=a-l;if(n.isEmpty(r.get(c,o))){var u=void 0;i<e.getSize()?(u=e.get(i),++i):u=!1,t!==255&&Kx.getDataMaskBit(t,c,o)&&(u=!u),r.setBoolean(c,o,u)}}o+=s}s=-s,o+=s,a-=2}if(i!==e.getSize())throw new si("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-$n.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new sn("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!E3.isValidMaskPattern(t))throw new si("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var s=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(s,10);var a=new ks;if(a.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new si("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new si("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new si;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new si;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new si;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var s=n.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)r.setNumber(e+a,t+i,s[a])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var s=n.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)r.setNumber(e+a,t+i,s[a])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],s=0,a=i.length;s!==a;s++){var o=i[s];if(o>=0)for(var l=0;l!==a;l++){var c=i[l];c>=0&&n.isEmpty(t.get(c,o))&&n.embedPositionAdjustmentPattern(c-2,o-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),P8e=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),xz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return Kx.applyMaskPenaltyRule1(e)+Kx.applyMaskPenaltyRule2(e)+Kx.applyMaskPenaltyRule3(e)+Kx.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,s=r!==null&&r.get(QS.CHARACTER_SET)!==void 0;s&&(i=r.get(QS.CHARACTER_SET).toString());var a=this.chooseMode(e,i),o=new ks;if(a===ai.BYTE&&(s||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=ps.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,o)}this.appendModeInfo(a,o);var c=new ks;this.appendBytes(e,a,c,i);var u;if(r!==null&&r.get(QS.QR_VERSION)!==void 0){var h=Number.parseInt(r.get(QS.QR_VERSION).toString(),10);u=Cm.getVersionForNumber(h);var d=this.calculateBitsNeeded(a,o,c,u);if(!this.willFit(d,u,t))throw new si("Data too big for requested version")}else u=this.recommendVersion(t,a,o,c);var p=new ks;p.appendBitArray(o);var g=a===ai.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(g,u,a,p),p.appendBitArray(c);var _=u.getECBlocksForLevel(t),w=u.getTotalCodewords()-_.getTotalECCodewords();this.terminateBits(w,p);var x=this.interleaveWithECBytes(p,u.getTotalCodewords(),w,_.getNumBlocks()),S=new E3;S.setECLevel(t),S.setMode(a),S.setVersion(u);var E=u.getDimensionForVersion(),T=new M8e(E,E),D=this.chooseMaskPattern(x,t,u,T);return S.setMaskPattern(D),yz.buildMatrix(x,t,u,D,T),S.setMatrix(T),S},n.recommendVersion=function(e,t,r,i){var s=this.calculateBitsNeeded(t,r,i,Cm.getVersionForNumber(1)),a=this.chooseVersion(s,e),o=this.calculateBitsNeeded(t,r,i,a);return this.chooseVersion(o,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),ps.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return ai.KANJI;for(var r=!1,i=!1,s=0,a=e.length;s<a;++s){var o=e.charAt(s);if(n.isDigit(o))r=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)i=!0;else return ai.BYTE}return i?ai.ALPHANUMERIC:r?ai.NUMERIC:ai.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=Bl.encode(e,ps.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var s=t[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var s=Number.MAX_SAFE_INTEGER,a=-1,o=0;o<E3.NUM_MASK_PATTERNS;o++){yz.buildMatrix(e,t,r,o,i);var l=this.calculateMaskPenalty(i);l<s&&(s=l,a=o)}return a},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Cm.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new si("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),s=t.getECBlocksForLevel(r),a=s.getTotalECCodewords(),o=i-a,l=(e+7)/8;return o>=l},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new si("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var s=t.getSize()&7;if(s>0)for(var i=s;i<8;i++)t.appendBit(!1);for(var a=e-t.getSizeInBytes(),i=0;i<a;++i)t.appendBits(i&1?17:236,8);if(t.getSize()!==r)throw new si("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,s,a){if(i>=r)throw new si("Block ID too large");var o=e%r,l=r-o,c=Math.floor(e/r),u=c+1,h=Math.floor(t/r),d=h+1,p=c-h,g=u-d;if(p!==g)throw new si("EC bytes mismatch");if(r!==l+o)throw new si("RS blocks mismatch");if(e!==(h+p)*l+(d+g)*o)throw new si("Total bytes mismatch");i<l?(s[0]=h,a[0]=p):(s[0]=d,a[0]=g)},n.interleaveWithECBytes=function(e,t,r,i){var s,a,o,l;if(e.getSizeInBytes()!==r)throw new si("Number of bits and data bytes does not match");for(var c=0,u=0,h=0,d=new Array,p=0;p<i;++p){var g=new Int32Array(1),_=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,p,g,_);var w=g[0],x=new Uint8Array(w);e.toBytes(8*c,x,0,w);var S=n.generateECBytes(x,_[0]);d.push(new P8e(x,S)),u=Math.max(u,w),h=Math.max(h,S.length),c+=g[0]}if(r!==c)throw new si("Data bytes does not match offset");for(var E=new ks,p=0;p<u;++p)try{for(var T=(s=void 0,xz(d)),D=T.next();!D.done;D=T.next()){var k=D.value,x=k.getDataBytes();p<x.length&&E.appendBits(x[p],8)}}catch(R){s={error:R}}finally{try{D&&!D.done&&(a=T.return)&&a.call(T)}finally{if(s)throw s.error}}for(var p=0;p<h;++p)try{for(var I=(o=void 0,xz(d)),N=I.next();!N.done;N=I.next()){var k=N.value,S=k.getErrorCorrectionBytes();p<S.length&&E.appendBits(S[p],8)}}catch(R){o={error:R}}finally{try{N&&!N.done&&(l=I.return)&&l.call(I)}finally{if(o)throw o.error}}if(t!==E.getSizeInBytes())throw new si("Interleaving error: "+t+" and "+E.getSizeInBytes()+" differ.");return E},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),s=0;s<r;s++)i[s]=e[s]&255;new Sre(Io.QR_CODE_FIELD_256).encode(i,t);for(var a=new Uint8Array(t),s=0;s<t;s++)a[s]=i[r+s];return a},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var s=r.getCharacterCountBits(t);if(e>=1<<s)throw new si(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},n.appendBytes=function(e,t,r,i){switch(t){case ai.NUMERIC:n.appendNumericBytes(e,r);break;case ai.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case ai.BYTE:n.append8BitBytes(e,r,i);break;case ai.KANJI:n.appendKanjiBytes(e,r);break;default:throw new si("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var s=n.getDigit(e.charAt(i));if(i+2<r){var a=n.getDigit(e.charAt(i+1)),o=n.getDigit(e.charAt(i+2));t.appendBits(s*100+a*10+o,10),i+=3}else if(i+1<r){var a=n.getDigit(e.charAt(i+1));t.appendBits(s*10+a,7),i+=2}else t.appendBits(s,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var s=n.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new si;if(i+1<r){var a=n.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new si;t.appendBits(s*45+a,11),i+=2}else t.appendBits(s,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=Bl.encode(e,r)}catch(l){throw new si(l)}for(var s=0,a=i.length;s!==a;s++){var o=i[s];t.appendBits(o,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=Bl.encode(e,ps.SJIS)}catch(h){throw new si(h)}for(var i=r.length,s=0;s<i;s+=2){var a=r[s]&255,o=r[s+1]&255,l=a<<8&4294967295|o,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new si("Invalid byte sequence");var u=(c>>8)*192+(c&255);t.appendBits(u,13)}},n.appendECI=function(e,t){t.appendBits(ai.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=ps.UTF8.getName(),n})();var R8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){R8e(e,n);function e(t,r,i,s,a,o,l,c){var u=n.call(this,o,l)||this;if(u.yuvData=t,u.dataWidth=r,u.dataHeight=i,u.left=s,u.top=a,s+o>r||a+l>i)throw new sn("Crop rectangle does not fit within image data.");return c&&u.reverseHorizontal(o,l),u}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new sn("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var s=(t+this.top)*this.dataWidth+this.left;return Zr.arraycopy(this.yuvData,s,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,s=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Zr.arraycopy(this.yuvData,a,s,0,i),s;for(var o=0;o<r;o++){var l=o*t;Zr.arraycopy(this.yuvData,a,s,l,t),a+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,s,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),s=this.yuvData,a=this.top*this.dataWidth+this.left,o=0;o<r;o++){for(var l=o*t,c=0;c<t;c++){var u=s[a+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|u*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,s=0,a=this.top*this.dataWidth+this.left;s<r;s++,a+=this.dataWidth)for(var o=a+t/2,l=a,c=a+t-1;l<o;l++,c--){var u=i[l];i[l]=i[c],i[c]=u}},e.prototype.invert=function(){return new nM(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Ow);var N8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){N8e(e,n);function e(t,r,i,s,a,o,l){var c=n.call(this,r,i)||this;if(c.dataWidth=s,c.dataHeight=a,c.left=o,c.top=l,t.BYTES_PER_ELEMENT===4){for(var u=r*i,h=new Uint8ClampedArray(u),d=0;d<u;d++){var p=t[d],g=p>>16&255,_=p>>7&510,w=p&255;h[d]=(g+_+w)/4&255}c.luminances=h}else c.luminances=t;if(s===void 0&&(c.dataWidth=r),a===void 0&&(c.dataHeight=i),o===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+r>c.dataWidth||c.top+i>c.dataHeight)throw new sn("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new sn("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var s=(t+this.top)*this.dataWidth+this.left;return Zr.arraycopy(this.luminances,s,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,s=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Zr.arraycopy(this.luminances,a,s,0,i),s;for(var o=0;o<r;o++){var l=o*t;Zr.arraycopy(this.luminances,a,s,l,t),a+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new nM(this)},e})(Ow);var k8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),D8e=function(n){k8e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(ps),O8e=function(){function n(){}return n.ISO_8859_1=ps.ISO8859_1,n}(),A3,L8e=301,F8e=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=L8e);return{LOG:n,ALOG:e}};A3=F8e([],[]),A3.LOG;A3.ALOG;var _z;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(_z||(_z={}));var wz=129,Ere=230,B8e=231,U8e=235,j8e=236,V8e=237,z8e=238,H8e=239,W8e=240,hR=254,G8e=254,bz="[)>05",Sz="[)>06",Ez="",Pr=0,Hs=1,Ya=2,hs=3,Ms=4,ya=5,$8e=function(){function n(){}return n.prototype.getEncodingMode=function(){return Pr},n.prototype.encode=function(e){var t=vc.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=vc.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case ya:e.writeCodeword(B8e),e.signalEncoderChange(ya);return;case Hs:e.writeCodeword(Ere),e.signalEncoderChange(Hs);return;case hs:e.writeCodeword(z8e),e.signalEncoderChange(hs);break;case Ya:e.writeCodeword(H8e),e.signalEncoderChange(Ya);break;case Ms:e.writeCodeword(W8e),e.signalEncoderChange(Ms);break;default:throw new Error("Illegal mode: "+i)}else vc.isExtendedASCII(r)?(e.writeCodeword(U8e),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(vc.isDigit(e)&&vc.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),q8e=function(){function n(){}return n.prototype.getEncodingMode=function(){return ya},n.prototype.encode=function(e){var t=new zn;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=vc.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Pr);break}}var s=t.length()-1,a=1,o=e.getCodewordCount()+s+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||l)if(s<=249)t.setCharAt(0,sr.getCharAt(s));else if(s<=1555)t.setCharAt(0,sr.getCharAt(Math.floor(s/250)+249)),t.insert(1,sr.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var c=0,r=t.length();c<r;c++)e.writeCodeword(this.randomize255State(t.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),uF=function(){function n(){}return n.prototype.getEncodingMode=function(){return Hs},n.prototype.encodeMaximal=function(e){for(var t=new zn,r=0,i=e.pos,s=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,r=this.encodeChar(a,t),t.length()%3===0&&(i=e.pos,s=t.length())}if(s!==t.length()){var o=Math.floor(t.length()/3*2),l=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,u=Math.floor(t.length()%3);(u===2&&c!==2||u===1&&(r>3||c!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(Ere),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new zn;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),s=Math.floor(t.length()/3)*2,a=e.getCodewordCount()+s;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var l=new zn;for(t.length()%3===2&&o!==2&&(i=this.backtrackOneCharacter(e,t,l,i));t.length()%3===1&&(i>3||o!==1);)i=this.backtrackOneCharacter(e,t,l,i);break}var c=t.length();if(c%3===0){var u=vc.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){e.signalEncoderChange(Pr);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var s=t.length(),a=t.toString().substring(0,s-i);t.setLengthToZero(),t.append(a),e.pos--;var o=e.getCurrentChar();return i=this.encodeChar(o,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,s=e.getCodewordCount()+r;e.updateSymbolInfo(s);var a=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(hR)}else if(a===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(hR),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(a>0||e.hasMoreCharacters())&&e.writeCodeword(hR)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Pr)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,s=new zn;return s.append(r),s.append(i),s.toString()},n}(),X8e=function(){function n(){}return n.prototype.getEncodingMode=function(){return Ms},n.prototype.encode=function(e){for(var t=new zn;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var s=t.toString().substring(4);t.setLengthToZero(),t.append(s);var a=vc.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(Pr);break}}}t.append(sr.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var a=r-1,o=this.encodeToCodewords(t.toString()),l=!e.hasMoreCharacters(),c=l&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}c?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(o)}finally{e.signalEncoderChange(Pr)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(sr.getCharAt(e-64)):vc.illegalCharacter(sr.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,s=t>=3?e.charAt(2).charCodeAt(0):0,a=t>=4?e.charAt(3).charCodeAt(0):0,o=(r<<18)+(i<<12)+(s<<6)+a,l=o>>16&255,c=o>>8&255,u=o&255,h=new zn;return h.append(l),t>=2&&h.append(c),t>=3&&h.append(u),h.toString()},n}(),Y8e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),K8e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xr=function(){function n(e,t,r,i,s,a,o,l){o===void 0&&(o=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=a,this.rsBlockData=o,this.rsBlockError=l}return n.lookup=function(e,t,r,i,s){var a,o;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var l=K8e(Q8e),c=l.next();!c.done;c=l.next()){var u=c.value;if(!(t===1&&u.rectangular)&&!(t===2&&!u.rectangular)&&!(r!=null&&(u.getSymbolWidth()<r.getWidth()||u.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(u.getSymbolWidth()>i.getWidth()||u.getSymbolHeight()>i.getHeight()))&&e<=u.dataCapacity)return u}}catch(h){a={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),Z8e=function(n){Y8e(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(xr),Q8e=[new xr(!1,3,5,8,8,1),new xr(!1,5,7,10,10,1),new xr(!0,5,7,16,6,1),new xr(!1,8,10,12,12,1),new xr(!0,10,11,14,6,2),new xr(!1,12,12,14,14,1),new xr(!0,16,14,24,10,1),new xr(!1,18,14,16,16,1),new xr(!1,22,18,18,18,1),new xr(!0,22,18,16,10,2),new xr(!1,30,20,20,20,1),new xr(!0,32,24,16,14,2),new xr(!1,36,24,22,22,1),new xr(!1,44,28,24,24,1),new xr(!0,49,28,22,14,2),new xr(!1,62,36,14,14,4),new xr(!1,86,42,16,16,4),new xr(!1,114,48,18,18,4),new xr(!1,144,56,20,20,4),new xr(!1,174,68,22,22,4),new xr(!1,204,84,24,24,4,102,42),new xr(!1,280,112,14,14,16,140,56),new xr(!1,368,144,16,16,16,92,36),new xr(!1,456,192,18,18,16,114,48),new xr(!1,576,224,20,20,16,144,56),new xr(!1,696,272,22,22,16,174,68),new xr(!1,816,336,24,24,16,136,56),new xr(!1,1050,408,18,18,36,175,68),new xr(!1,1304,496,20,20,36,163,62),new Z8e],J8e=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(o){return o.charCodeAt(0)}),r=new zn,i=0,s=t.length;i<s;i++){var a=String.fromCharCode(t[i]&255);if(a==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(a)}this.msg=r.toString(),this.shape=0,this.codewords=new zn,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=xr.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),e5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),t5e=function(n){e5e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return hs},e.prototype.encode=function(t){for(var r=new zn;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var s=r.length();if(s%3===0){this.writeNextTriplet(t,r);var a=vc.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){t.signalEncoderChange(Pr);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):vc.illegalCharacter(sr.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),s=r.length();t.pos-=s,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(G8e),t.getNewEncoding()<0&&t.signalEncoderChange(Pr)},e}(uF),n5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),r5e=function(n){n5e(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ya},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(uF),vc=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=wz+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,s){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),s===void 0&&(s=!1);var a=new uF,o=[new $8e,a,new r5e,new t5e,new X8e,new q8e],l=new J8e(e);l.setSymbolShape(t),l.setSizeConstraints(r,i),e.startsWith(bz)&&e.endsWith(Ez)?(l.writeCodeword(j8e),l.setSkipAtEnd(2),l.pos+=bz.length):e.startsWith(Sz)&&e.endsWith(Ez)&&(l.writeCodeword(V8e),l.setSkipAtEnd(2),l.pos+=Sz.length);var c=Pr;for(s&&(a.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)o[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var u=l.getCodewordCount();l.updateSymbolInfo();var h=l.getSymbolInfo().getDataCapacity();u<h&&c!==Pr&&c!==ya&&c!==Ms&&l.writeCodeword("");var d=l.getCodewords();for(d.length()<h&&d.append(wz);d.length()<h;)d.append(this.randomize253State(d.length()+1));return l.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===hs&&i===hs){for(var s=Math.min(t+3,e.length),a=t;a<s;a++)if(!this.isNativeX12(e.charCodeAt(a)))return Pr}else if(r===Ms&&i===Ms){for(var s=Math.min(t+4,e.length),a=t;a<s;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return Pr}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===Pr?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var s=0,a=new Uint8Array(6),o=[];;){if(t+s===e.length){ms.fill(a,0),ms.fill(o,0);var l=this.findMinimums(i,o,$n.MAX_VALUE,a),c=this.getMinimumCount(a);if(o[Pr]===l)return Pr;if(c===1){if(a[ya]>0)return ya;if(a[Ms]>0)return Ms;if(a[Ya]>0)return Ya;if(a[hs]>0)return hs}return Hs}var u=e.charCodeAt(t+s);if(s++,this.isDigit(u)?i[Pr]+=.5:this.isExtendedASCII(u)?(i[Pr]=Math.ceil(i[Pr]),i[Pr]+=2):(i[Pr]=Math.ceil(i[Pr]),i[Pr]++),this.isNativeC40(u)?i[Hs]+=2/3:this.isExtendedASCII(u)?i[Hs]+=8/3:i[Hs]+=4/3,this.isNativeText(u)?i[Ya]+=2/3:this.isExtendedASCII(u)?i[Ya]+=8/3:i[Ya]+=4/3,this.isNativeX12(u)?i[hs]+=2/3:this.isExtendedASCII(u)?i[hs]+=13/3:i[hs]+=10/3,this.isNativeEDIFACT(u)?i[Ms]+=3/4:this.isExtendedASCII(u)?i[Ms]+=17/4:i[Ms]+=13/4,this.isSpecialB256(u)?i[ya]+=4:i[ya]++,s>=4){if(ms.fill(a,0),ms.fill(o,0),this.findMinimums(i,o,$n.MAX_VALUE,a),o[Pr]<this.min(o[ya],o[Hs],o[Ya],o[hs],o[Ms]))return Pr;if(o[ya]<o[Pr]||o[ya]+1<this.min(o[Hs],o[Ya],o[hs],o[Ms]))return ya;if(o[Ms]+1<this.min(o[ya],o[Hs],o[Ya],o[hs],o[Pr]))return Ms;if(o[Ya]+1<this.min(o[ya],o[Hs],o[Ms],o[hs],o[Pr]))return Ya;if(o[hs]+1<this.min(o[ya],o[Hs],o[Ms],o[Ya],o[Pr]))return hs;if(o[Hs]+1<this.min(o[Pr],o[ya],o[Ms],o[Ya])){if(o[Hs]<o[hs])return Hs;if(o[Hs]===o[hs]){for(var h=t+s+1;h<e.length;){var d=e.charCodeAt(h);if(this.isX12TermSep(d))return hs;if(!this.isNativeX12(d))break;h++}return Hs}}}}},n.min=function(e,t,r,i,s){var a=Math.min(e,Math.min(t,Math.min(r,i)));return s===void 0?a:Math.min(a,s)},n.findMinimums=function(e,t,r,i){for(var s=0;s<6;s++){var a=t[s]=Math.ceil(e[s]);r>a&&(r=a,ms.fill(i,0)),r===a&&(i[s]=i[s]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=$n.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),dR=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Az=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return Bl.encode(e,this.charset)!=null}catch{return!1}},n}(),i5e=function(){function n(e,t,r){var i,s,a,o,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new Az(D8e.forName(P))}),this.encoders=[];var u=[];u.push(new Az(O8e.ISO_8859_1));for(var h=t!=null&&t.name.startsWith("UTF"),d=0;d<e.length;d++){var p=!1;try{for(var g=(i=void 0,dR(u)),_=g.next();!_.done;_=g.next()){var w=_.value,x=e.charAt(d),S=x.charCodeAt(0);if(S===r||w.canEncode(x)){p=!0;break}}}catch(P){i={error:P}}finally{try{_&&!_.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!p)try{for(var E=(a=void 0,dR(this.ENCODERS)),T=E.next();!T.done;T=E.next()){var w=T.value;if(w.canEncode(e.charAt(d))){u.push(w),p=!0;break}}}catch(P){a={error:P}}finally{try{T&&!T.done&&(o=E.return)&&o.call(E)}finally{if(a)throw a.error}}p||(h=!0)}if(u.length===1&&!h)this.encoders=[u[0]];else{this.encoders=[];var D=0;try{for(var k=dR(u),I=k.next();!I.done;I=k.next()){var w=I.value;this.encoders[D++]=w}}catch(P){l={error:P}}finally{try{I&&!I.done&&(c=k.return)&&c.call(k)}finally{if(l)throw l.error}}}var N=-1;if(t!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&t.name===this.encoders[d].name){N=d;break}}this.priorityEncoderIndex=N}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Bl.encode(sr.getCharAt(e),this.encoders[t].name)},n}(),s5e=3,a5e=function(){function n(e,t,r){this.fnc1=r;var i=new i5e(e,t,r);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var a=e.charAt(s).charCodeAt(0);this.bytes[s]=a===r?1e3:a}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new zn,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,s,a){var o=e.charAt(i).charCodeAt(0),l=0,c=t.length();t.getPriorityEncoderIndex()>=0&&(o===a||t.canEncode(o,t.getPriorityEncoderIndex()))&&(l=t.getPriorityEncoderIndex(),c=l+1);for(var u=l;u<c;u++)(o===a||t.canEncode(o,u))&&this.addEdge(r,i+1,new Tz(o,t,u,s,a))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,s=new Tz[i+1][t.length()];this.addEdges(e,t,s,0,null,r);for(var a=1;a<=i;a++){for(var o=0;o<t.length();o++)s[a][o]!=null&&a<i&&this.addEdges(e,t,s,a,s[a][o],r);for(var o=0;o<t.length();o++)s[a-1][o]=null}for(var l=-1,c=$n.MAX_VALUE,o=0;o<t.length();o++)if(s[i][o]!=null){var u=s[i][o];u.cachedTotalSize<c&&(c=u.cachedTotalSize,l=o)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var h=[],d=s[i][l];d!=null;){if(d.isFNC1())h.unshift(1e3);else for(var p=t.encode(d.c,d.encoderIndex),a=p.length-1;a>=0;a--)h.unshift(p[a]&255);var g=d.previous===null?0:d.previous.encoderIndex;g!==d.encoderIndex&&h.unshift(256+t.getECIValue(d.encoderIndex)),d=d.previous}for(var _=[],a=0;a<_.length;a++)_[a]=h[a];return _},n}(),Tz=function(){function n(e,t,r,i,s){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var a=this.isFNC1()?1:t.encode(e,r).length,o=i===null?0:i.encoderIndex;o!==r&&(a+=s5e),i!=null&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),o5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var Cz;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(Cz||(Cz={}));(function(n){o5e(e,n);function e(t,r,i,s,a){var o=n.call(this,t,r,i)||this;return o.shape=s,o.macroId=a,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(a5e);var l5e=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),Mz=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),c5e=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),u5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hF=function(n){u5e(e,n);function e(t,r,i){var s=n.call(this,t)||this;return s.value=r,s.bitCount=i,s}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+$n.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(c5e),h5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),d5e=function(n){h5e(e,n);function e(t,r,i){var s=n.call(this,t,0,0)||this;return s.binaryShiftStart=r,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(hF);function f5e(n,e,t){return new d5e(n,e,t)}function Cx(n,e,t){return new hF(n,e,t)}var p5e=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],If=0,XA=1,Ol=2,Are=3,gu=4,m5e=new hF(null,0,0),fR=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],g5e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function v5e(n){var e,t;try{for(var r=g5e(n),i=r.next();!i.done;i=r.next()){var s=i.value;ms.fill(s,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[If][gu]=0,n[XA][gu]=0,n[XA][If]=28,n[Are][gu]=0,n[Ol][gu]=0,n[Ol][If]=15,n}var Tre=v5e(ms.createInt32Array(6,6)),y5e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x5e=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var s=fR[this.mode][e];i=Cx(i,s&65535,s>>16),r+=s>>16}var a=e===Ol?4:5;return i=Cx(i,t,a),new n(i,e,0,r+a)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===Ol?4:5;return r=Cx(r,Tre[this.mode][e],i),r=Cx(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===gu||this.mode===Ol){var s=fR[r][If];t=Cx(t,s&65535,s>>16),i+=s>>16,r=If}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new n(t,r,this.binaryShiftByteCount+1,i+a);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=f5e(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(fR[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var a=new ks;try{for(var o=y5e(i),l=o.next();!l.done;l=o.next()){var c=l.value;c.appendTo(a,e)}}catch(u){t={error:u}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a},n.prototype.toString=function(){return sr.format("%s bits=%d bytes=%d",p5e[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(m5e,If,0,0),n}();function _5e(n){var e=sr.getCharCode(" "),t=sr.getCharCode("."),r=sr.getCharCode(",");n[If][e]=1;for(var i=sr.getCharCode("Z"),s=sr.getCharCode("A"),a=s;a<=i;a++)n[If][a]=a-s+2;n[XA][e]=1;for(var o=sr.getCharCode("z"),l=sr.getCharCode("a"),a=l;a<=o;a++)n[XA][a]=a-l+2;n[Ol][e]=1;for(var c=sr.getCharCode("9"),u=sr.getCharCode("0"),a=u;a<=c;a++)n[Ol][a]=a-u+2;n[Ol][r]=12,n[Ol][t]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<h.length;d++)n[Are][sr.getCharCode(h[d])]=d;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<p.length;d++)sr.getCharCode(p[d])>0&&(n[gu][sr.getCharCode(p[d])]=d);return n}var pR=_5e(ms.createInt32Array(5,256)),JS=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w5e=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=sr.getCharCode(" "),t=sr.getCharCode(`
`),r=Mz.singletonList(x5e.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case sr.getCharCode("\r"):s=a===t?2:0;break;case sr.getCharCode("."):s=a===e?3:0;break;case sr.getCharCode(","):s=a===e?4:0;break;case sr.getCharCode(":"):s=a===e?5:0;break;default:s=0}s>0?(r=n.updateStateListForPair(r,i,s),i++):r=this.updateStateListForChar(r,i)}var o=Mz.min(r,function(l,c){return l.getBitCount()-c.getBitCount()});return o.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,s=[];try{for(var a=JS(e),o=a.next();!o.done;o=a.next()){var l=o.value;this.updateStateForChar(l,t,s)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return n.simplifyStates(s)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,s=pR[e.getMode()][i]>0,a=null,o=0;o<=gu;o++){var l=pR[o][i];if(l>0){if(a==null&&(a=e.endBinaryShift(t)),!s||o===e.getMode()||o===Ol){var c=a.latchAndAppend(o,l);r.push(c)}if(!s&&Tre[e.getMode()][o]>=0){var u=a.shiftAndAppend(o,l);r.push(u)}}}if(e.getBinaryShiftByteCount()>0||pR[e.getMode()][i]===0){var h=e.addBinaryShiftChar(t);r.push(h)}},n.updateStateListForPair=function(e,t,r){var i,s,a=[];try{for(var o=JS(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForPair(c,t,r,a)}}catch(u){i={error:u}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}return this.simplifyStates(a)},n.updateStateForPair=function(e,t,r,i){var s=e.endBinaryShift(t);if(i.push(s.latchAndAppend(gu,r)),e.getMode()!==gu&&i.push(s.shiftAndAppend(gu,r)),r===3||r===4){var a=s.latchAndAppend(Ol,16-r).latchAndAppend(Ol,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(o)}},n.simplifyStates=function(e){var t,r,i,s,a=[];try{for(var o=JS(e),l=o.next();!l.done;l=o.next()){var c=l.value,u=!0,h=function(w){if(w.isBetterThanOrEqualTo(c))return u=!1,"break";c.isBetterThanOrEqualTo(w)&&(a=a.filter(function(x){return x!==w}))};try{for(var d=(i=void 0,JS(a)),p=d.next();!p.done;p=d.next()){var g=p.value,_=h(g);if(_==="break")break}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}u&&a.push(c)}}catch(w){t={error:w}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a},n}(),b5e=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new w5e(e).encode(),s=$n.truncDivision(i.getSize()*t,100)+11,a=i.getSize()+s,o,l,c,u,h;if(r!==n.DEFAULT_AZTEC_LAYERS){if(o=r<0,l=Math.abs(r),l>(o?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new sn(sr.format("Illegal value %s for layers",r));c=n.totalBitsInLayer(l,o),u=n.WORD_SIZE[l];var d=c-c%u;if(h=n.stuffBits(i,u),h.getSize()+s>d)throw new sn("Data to large for user specified layer");if(o&&h.getSize()>u*64)throw new sn("Data to large for user specified layer")}else{u=0,h=null;for(var p=0;;p++){if(p>n.MAX_NB_BITS)throw new sn("Data too large for an Aztec code");if(o=p<=3,l=o?p+1:p,c=n.totalBitsInLayer(l,o),!(a>c)){(h==null||u!==n.WORD_SIZE[l])&&(u=n.WORD_SIZE[l],h=n.stuffBits(i,u));var d=c-c%u;if(!(o&&h.getSize()>u*64)&&h.getSize()+s<=d)break}}}var g=n.generateCheckWords(h,c,u),_=h.getSize()/u,w=n.generateModeMessage(o,l,_),x=(o?11:14)+l*4,S=new Int32Array(x),E;if(o){E=x;for(var p=0;p<S.length;p++)S[p]=p}else{E=x+1+2*$n.truncDivision($n.truncDivision(x,2)-1,15);for(var T=$n.truncDivision(x,2),D=$n.truncDivision(E,2),p=0;p<T;p++){var k=p+$n.truncDivision(p,15);S[T-p-1]=D-k-1,S[T+p]=D+k+1}}for(var I=new Du(E),p=0,N=0;p<l;p++){for(var P=(l-p)*4+(o?9:12),R=0;R<P;R++)for(var B=R*2,z=0;z<2;z++)g.get(N+B+z)&&I.set(S[p*2+z],S[p*2+R]),g.get(N+P*2+B+z)&&I.set(S[p*2+R],S[x-1-p*2-z]),g.get(N+P*4+B+z)&&I.set(S[x-1-p*2-z],S[x-1-p*2-R]),g.get(N+P*6+B+z)&&I.set(S[x-1-p*2-R],S[p*2+z]);N+=P*8}if(n.drawModeMessage(I,o,E,w),o)n.drawBullsEye(I,$n.truncDivision(E,2),5);else{n.drawBullsEye(I,$n.truncDivision(E,2),7);for(var p=0,R=0;p<$n.truncDivision(x,2)-1;p+=15,R+=16)for(var z=$n.truncDivision(E,2)&1;z<E;z+=2)I.set($n.truncDivision(E,2)-R,z),I.set($n.truncDivision(E,2)+R,z),I.set(z,$n.truncDivision(E,2)-R),I.set(z,$n.truncDivision(E,2)+R)}var H=new l5e;return H.setCompact(o),H.setSize(E),H.setLayers(l),H.setCodeWords(_),H.setMatrix(I),H},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var s=t-i;s<=t+i;s++)e.set(s,t-i),e.set(s,t+i),e.set(t-i,s),e.set(t+i,s);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new ks;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var s=$n.truncDivision(r,2);if(t)for(var a=0;a<7;a++){var o=s-3+a;i.get(a)&&e.set(o,s-5),i.get(a+7)&&e.set(s+5,o),i.get(20-a)&&e.set(o,s+5),i.get(27-a)&&e.set(s-5,o)}else for(var a=0;a<10;a++){var o=s-5+a+$n.truncDivision(a,5);i.get(a)&&e.set(o,s-7),i.get(a+10)&&e.set(s+7,o),i.get(29-a)&&e.set(o,s+7),i.get(39-a)&&e.set(s-7,o)}},n.generateCheckWords=function(e,t,r){var i,s,a=e.getSize()/r,o=new Sre(n.getGF(r)),l=$n.truncDivision(t,r),c=n.bitsToWords(e,r,l);o.encode(c,l-a);var u=t%r,h=new ks;h.appendBits(0,u);try{for(var d=b5e(Array.from(c)),p=d.next();!p.done;p=d.next()){var g=p.value;h.appendBits(g,r)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return h},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),s,a;for(s=0,a=e.getSize()/t;s<a;s++){for(var o=0,l=0;l<t;l++)o|=e.get(s*t+l)?1<<t-l-1:0;i[s]=o}return i},n.getGF=function(e){switch(e){case 4:return Io.AZTEC_PARAM;case 6:return Io.AZTEC_DATA_6;case 8:return Io.AZTEC_DATA_8;case 10:return Io.AZTEC_DATA_10;case 12:return Io.AZTEC_DATA_12;default:throw new sn("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new ks,i=e.getSize(),s=(1<<t)-2,a=0;a<i;a+=t){for(var o=0,l=0;l<t;l++)(a+l>=i||e.get(a+l))&&(o|=1<<t-1-l);(o&s)===s?(r.appendBits(o&s,t),a--):o&s?r.appendBits(o,t):(r.appendBits(o|1,t),a--)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();var S5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E5e=function(n){S5e(e,n);function e(t){var r=n.call(this,t.width,t.height)||this;return r.canvas=t,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(t),r}return e.makeBufferFromCanvasImageData=function(t){var r;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,r,i){for(var s=new Uint8ClampedArray(r*i),a=0,o=0,l=t.length;a<l;a+=4,o++){var c=void 0,u=t[a+3];if(u===0)c=255;else{var h=t[a],d=t[a+1],p=t[a+2];c=306*h+601*d+117*p+512>>10}s[o]=c}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new sn("Requested row is outside the image: "+t);var i=this.getWidth(),s=t*i;return r===null?r=this.buffer.slice(s,s+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(s,s+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,s){return n.prototype.crop.call(this,t,r,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new nM(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,o=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*a),l=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*a);r.width=o,r.height=l;var c=r.getContext("2d");if(!c)throw new Error("Could not create a Canvas Context element.");return c.translate(o/2,l/2),c.rotate(i),c.drawImage(this.canvas,s/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Ow);function Cre(){return typeof navigator<"u"}function A5e(){return Cre()&&!!navigator.mediaDevices}function T5e(){return!!(A5e()&&navigator.mediaDevices.enumerateDevices)}var X0=function(){return X0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},X0.apply(this,arguments)},vi=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(h){a(h)}}function l(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(n,e||[])).next())})},yi=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},mR=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C5e={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Ry=function(){function n(e,t,r){t===void 0&&(t=new Map),r===void 0&&(r={}),this.reader=e,this.hints=t,this.options=X0(X0({},C5e),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(e){this.hints.set(Qr.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),n.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(e,t){return vi(this,void 0,void 0,function(){return yi(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(e){var t,r,i=e.getVideoTracks();try{for(var s=mR(i),a=s.next();!a.done;a=s.next()){var o=a.value;if(n.mediaStreamIsTorchCompatibleTrack(o))return!0}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},n.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new zi("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new zi("element with id '".concat(e,"' must be an ").concat(t," element"));return r},n.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return n.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return n.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(e){var t=n.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.createBinaryBitmapFromCanvas=function(e){var t=new E5e(e),r=new hre(t);return new ure(r)},n.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},n.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(e){if(!e)throw new zi("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),r=n.getMediaElementDimensions(e),i=r.width,s=r.height;return t.style.width=i+"px",t.style.height=s+"px",t.width=i,t.height=s,t},n.tryPlayVideo=function(e){return vi(this,void 0,void 0,function(){var t;return yi(this,function(r){switch(r.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return t=r.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(e){var t=n.createCaptureCanvas(e),r=t.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,e),t},n.createBinaryBitmapFromMediaElem=function(e){var t=n.createCanvasFromMediaElement(e);return n.createBinaryBitmapFromCanvas(t)},n.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},n.listVideoInputDevices=function(){return vi(this,void 0,void 0,function(){var e,t,r,i,s,a,o,l,c,u,h,d;return yi(this,function(p){switch(p.label){case 0:if(!Cre())throw new Error("Can't enumerate devices, navigator is not present.");if(!T5e())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),t=[];try{for(r=mR(e),i=r.next();!i.done;i=r.next())s=i.value,a=s.kind==="video"?"videoinput":s.kind,a==="videoinput"&&(o=s.deviceId||s.id,l=s.label||"Video device ".concat(t.length+1),c=s.groupId,u={deviceId:o,label:l,kind:a,groupId:c},t.push(u))}catch(g){h={error:g}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(h)throw h.error}}return[2,t]}})})},n.findDeviceById=function(e){return vi(this,void 0,void 0,function(){var t;return yi(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},n.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},n.releaseAllStreams=function(){n.streamTracker.length!==0&&n.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(e,t){return vi(this,void 0,void 0,function(){var r;return yi(this,function(i){switch(i.label){case 0:return[4,n.tryPlayVideo(e)];case 1:return r=i.sent(),r?[2,!0]:[2,new Promise(function(s,a){var o=setTimeout(function(){n.isVideoPlaying(e)||(a(!1),e.removeEventListener("canplay",l))},t),l=function(){n.tryPlayVideo(e).then(function(c){clearTimeout(o),e.removeEventListener("canplay",l),s(c)})};e.addEventListener("canplay",l)})]}})})},n.attachStreamToVideo=function(e,t,r){return r===void 0&&(r=5e3),vi(this,void 0,void 0,function(){var i;return yi(this,function(s){switch(s.label){case 0:return i=n.prepareVideoElement(t),n.addVideoSource(i,e),[4,n.playVideoOnLoadAsync(i,r)];case 1:return s.sent(),[2,i]}})})},n._waitImageLoad=function(e){return new Promise(function(t,r){var i=1e4,s=setTimeout(function(){n.isImageLoaded(e)||(e.removeEventListener("load",a),r())},i),a=function(){clearTimeout(s),e.removeEventListener("load",a),t()};e.addEventListener("load",a)})},n.checkCallbackFnOrThrow=function(e){if(!e)throw new zi("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},n.prototype.decode=function(e){var t=n.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},n.prototype.decodeFromCanvas=function(e){var t=n.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},n.prototype.decodeFromImageElement=function(e){return vi(this,void 0,void 0,function(){var t;return yi(this,function(r){switch(r.label){case 0:if(!e)throw new zi("An image element must be provided.");return t=n.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(e){return vi(this,void 0,void 0,function(){var t;return yi(this,function(r){switch(r.label){case 0:if(!e)throw new zi("An URL must be provided.");t=n.prepareImageElement(),t.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(t),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return vi(this,void 0,void 0,function(){var i,s;return yi(this,function(a){switch(a.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,r)];case 3:return[2,a.sent()];case 4:throw s=a.sent(),n.disposeMediaStream(i),s;case 5:return[2]}})})},n.prototype.decodeFromStream=function(e,t,r){return vi(this,void 0,void 0,function(){var i,s,a,o,l,c,u,h,d,p=this;return yi(this,function(g){switch(g.label){case 0:return n.checkCallbackFnOrThrow(r),i=this.options.tryPlayVideoTimeout,[4,n.attachStreamToVideo(e,t,i)];case 1:return s=g.sent(),a=function(){n.disposeMediaStream(e),n.cleanVideoSource(s)},o=this.scan(s,r,a),l=e.getVideoTracks(),c=X0(X0({},o),{stop:function(){o.stop()},streamVideoConstraintsApply:function(_,w){return vi(this,void 0,void 0,function(){var x,S,E,T,D,k,I;return yi(this,function(N){switch(N.label){case 0:x=w?l.filter(w):l,N.label=1;case 1:N.trys.push([1,6,7,8]),S=mR(x),E=S.next(),N.label=2;case 2:return E.done?[3,5]:(T=E.value,[4,T.applyConstraints(_)]);case 3:N.sent(),N.label=4;case 4:return E=S.next(),[3,2];case 5:return[3,8];case 6:return D=N.sent(),k={error:D},[3,8];case 7:try{E&&!E.done&&(I=S.return)&&I.call(S)}finally{if(k)throw k.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(_){return l.find(_).getConstraints()},streamVideoSettingsGet:function(_){return l.find(_).getSettings()},streamVideoCapabilitiesGet:function(_){return l.find(_).getCapabilities()}}),u=n.mediaStreamIsTorchCompatible(e),u&&(h=l==null?void 0:l.find(function(_){return n.mediaStreamIsTorchCompatibleTrack(_)}),d=function(_){return vi(p,void 0,void 0,function(){return yi(this,function(w){switch(w.label){case 0:return[4,n.mediaStreamSetTorch(h,_)];case 1:return w.sent(),[2]}})})},c.switchTorch=d,c.stop=function(){return vi(p,void 0,void 0,function(){return yi(this,function(_){switch(_.label){case 0:return o.stop(),[4,d(!1)];case 1:return _.sent(),[2]}})})}),[2,c]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return vi(this,void 0,void 0,function(){var i,s;return yi(this,function(a){switch(a.label){case 0:return n.checkCallbackFnOrThrow(r),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,t,r)];case 1:return[2,a.sent()]}})})},n.prototype.decodeFromVideoElement=function(e,t){return vi(this,void 0,void 0,function(){var r,i;return yi(this,function(s){switch(s.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new zi("A video element must be provided.");return r=n.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,i)];case 1:return s.sent(),[2,this.scan(r,t)]}})})},n.prototype.decodeFromVideoUrl=function(e,t){return vi(this,void 0,void 0,function(){var r,i,s,a;return yi(this,function(o){switch(o.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new zi("An URL must be provided.");return r=n.prepareVideoElement(),r.src=e,i=function(){n.cleanVideoSource(r)},s=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,s)];case 1:return o.sent(),a=this.scan(r,t,i),[2,a]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return vi(this,void 0,void 0,function(){var r;return yi(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return vi(this,void 0,void 0,function(){var r,i,s;return yi(this,function(a){switch(a.label){case 0:return r=!!t,[4,n.attachStreamToVideo(e,t)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return s=a.sent(),[2,s];case 4:return r||n.cleanVideoSource(i),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return vi(this,void 0,void 0,function(){var r,i;return yi(this,function(s){switch(s.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,s.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(e){return vi(this,void 0,void 0,function(){var t,r;return yi(this,function(i){switch(i.label){case 0:if(!e)throw new zi("A video element must be provided.");return t=n.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(t,r)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(e){return vi(this,void 0,void 0,function(){var t,r;return yi(this,function(i){switch(i.label){case 0:if(!e)throw new zi("An URL must be provided.");t=n.prepareVideoElement(),t.src=e,r=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return n.cleanVideoSource(t),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(e,t,r,i){var s=this;return t===void 0&&(t=!0),r===void 0&&(r=!0),i===void 0&&(i=!0),new Promise(function(a,o){s.scan(e,function(l,c,u){if(l){a(l),u.stop();return}if(c){if(c instanceof Ze&&t||c instanceof ts&&r||c instanceof St&&i)return;u.stop(),o(c)}})})},n.prototype.scan=function(e,t,r){var i=this;n.checkCallbackFnOrThrow(t);var s=n.createCaptureCanvas(e),a;try{a=s.getContext("2d",{willReadFrequently:!0})}catch{a=s.getContext("2d")}if(!a)throw new Error("Couldn't create canvas for visual element scan.");var o=function(){a=void 0,s=void 0},l=!1,c,u=function(){l=!0,clearTimeout(c),o(),r&&r()},h={stop:u},d=function(){if(!l)try{n.drawImageOnCanvas(a,e);var p=i.decodeFromCanvas(s);t(p,void 0,h),c=setTimeout(d,i.options.delayBetweenScanSuccess)}catch(x){t(void 0,x,h);var g=x instanceof ts,_=x instanceof St,w=x instanceof Ze;if(g||_||w){c=setTimeout(d,i.options.delayBetweenScanAttempts);return}o(),r&&r(x)}};return d(),h},n.prototype._decodeOnLoadImage=function(e){return vi(this,void 0,void 0,function(){var t;return yi(this,function(r){switch(r.label){case 0:return t=n.isImageLoaded(e),t?[3,2]:[4,n._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},n.prototype.getUserMedia=function(e){return vi(this,void 0,void 0,function(){var t;return yi(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=r.sent(),n.streamTracker.push(t),[2,t]}})})},n.streamTracker=[],n}(),M5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){M5e(e,n);function e(t,r){return n.call(this,new HA,t,r)||this}return e})(Ry);var I5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){I5e(e,n);function e(t,r){return n.call(this,new $0(t),t,r)||this}return e})(Ry);var P5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){P5e(e,n);function e(t,r){return n.call(this,new GA,t,r)||this}return e})(Ry);var R5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N5e=function(n){R5e(e,n);function e(t,r){var i=this,s=new bre;return s.setHints(t),i=n.call(this,s,t,r)||this,i.reader=s,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(Qr.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e}(Ry),k5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){k5e(e,n);function e(t,r){return n.call(this,new qA,t,r)||this}return e})(Ry);var D5e=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){D5e(e,n);function e(t,r){return n.call(this,new $A,t,r)||this}return e})(Ry);function O5e(){const[n,e]=F.useState(""),[t,r]=F.useState(null),[i,s]=F.useState(""),a=F.useRef(null);return F.useEffect(()=>{const o=new N5e;let l=!0;return o.decodeFromVideoDevice(void 0,a.current,async(c,u)=>{if(l)if(c){const h=c.getText();e(h);try{const d=await bJ("nomorregistrasi",h);d?(r(d),s("")):(r(null),s("Data anggota tidak ditemukan!"))}catch{r(null),s("Gagal mengambil data anggota!")}}else u&&u.name&&!u.name.includes("NotFoundException")&&s("Gagal membaca barcode: "+u)}),()=>{l=!1}},[]),m.jsxs("div",{className:"max-w-5xl mx-auto py-10 p-2 sm:p-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Scan Barcode Kartu Anggota"}),m.jsxs("div",{className:"flex justify-center mb-8",children:[m.jsxs("div",{className:"relative w-full sm:w-96 h-64 border rounded flex items-center justify-center bg-black overflow-hidden",children:[m.jsx("video",{ref:a,className:"w-full h-full object-cover"}),m.jsxs("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none flex flex-col justify-center items-center",children:[m.jsx("div",{className:"w-3/4 h-0.5 bg-red-500 rounded-full shadow-lg animate-pulse",style:{boxShadow:"0 0 8px 2px #ef4444"}}),m.jsx("div",{className:"absolute left-0 w-full h-1 bg-red-400 opacity-60 animate-scanner",style:{top:"50%"}})]})]}),m.jsx("style",{children:`
          @keyframes scanner {
            0% { top: 10%; }
            50% { top: 90%; }
            100% { top: 10%; }
          }
          .animate-scanner {
            animation: scanner 2s infinite;
          }
        `})]}),n&&m.jsxs("div",{className:"mt-4 text-center",children:[m.jsx("span",{className:"font-semibold",children:"Nomor Registrasi Pokok:"})," ",n]}),t?m.jsxs(Nu,{className:"p-2 sm:p-6 mt-8",children:[m.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-center mb-4 sm:mb-6",children:"Verifikasi Kartu Anggota"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-8 mb-4 sm:mb-8",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center w-full sm:w-1/2 relative",id:"member-card-front",children:[t.statusMahasiswa==="Aktif"&&m.jsx(Zn.span,{initial:{opacity:.7,textShadow:"0 0 0px #22c55e"},animate:{opacity:[.7,1,.7],textShadow:["0 0 0px #22c55e","0 0 12px #22c55e, 0 0 24px #16a34a","0 0 0px #22c55e"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute top-3 right-2 z-10 px-3 py-1 rounded-full font-bold text-sm select-none",style:{color:"#22c55e"},children:" Mahasiswa Aktif"}),t.photoUrl?m.jsx("div",{className:"p-2 border-2 border-gray-400 rounded-lg",children:m.jsx("img",{src:t.photoUrl,alt:"Kartu Anggota",className:"rounded-lg shadow-lg max-w-full h-auto"})}):m.jsx("div",{className:"p-2 border-2 border-gray-400 rounded-lg w-full flex items-center justify-center min-h-[275px]",children:m.jsx("span",{className:"text-gray-400 text-center",children:"Kartu anggota tidak tersedia."})})]}),m.jsxs("div",{className:"w-full sm:w-1/2",children:[m.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"Detail Anggota"}),m.jsxs("div",{className:"divide-y text-xs sm:text-base",children:[m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Nama Lengkap"}),m.jsx("span",{children:t.fullName})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Nomor Registrasi"}),m.jsx("span",{children:t.nomorregistrasi||t.registrationNumber})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Nama Lapangan"}),m.jsx("span",{children:t.fieldName})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Nama Angkatan"}),m.jsx("span",{children:t.batchName})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Tahun Angkatan"}),m.jsx("span",{children:t.batchYear})]}),m.jsxs("div",{className:"flex justify-between py-2",children:[m.jsx("span",{className:"font-medium",children:"Keanggotaan"}),m.jsx("span",{children:t.membershipStatus})]})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 sm:mt-8 text-xs text-gray-500 gap-2",children:[m.jsxs("span",{children:[" ",new Date().getFullYear()," Mahapala Narotama"]}),m.jsx("span",{children:"www.mahapalanarotama.web.id"})]})]}):i?m.jsx("div",{className:"text-red-500 text-center",children:i}):null]})}function L5e(){const[n]=ow();return F.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[n]),null}function F5e(){const[n,e]=F.useState(!1);F.useEffect(()=>{const r=()=>{e(window.scrollY>200)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return m.jsx("button",{onClick:t,"aria-label":"Scroll to top",className:`fixed bottom-6 right-6 z-50 p-3 rounded-full shadow-lg transition-opacity duration-300
        bg-gradient-to-br from-green-600 via-green-400 to-green-700 text-white font-bold
        hover:scale-125 hover:shadow-2xl hover:bg-green-500 active:scale-95
        ${n?"opacity-100":"opacity-0 pointer-events-none"}`,style:{boxShadow:"0 4px 16px rgba(0,0,0,0.2)",transition:"transform 0.3s cubic-bezier(.68,-0.55,.27,1.55), box-shadow 0.3s"},children:m.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block align-middle",style:{transform:"rotate(0deg)",transition:"transform 0.3s"},children:m.jsx("path",{d:"M18 15l-6-6-6 6"})})})}function B5e(){F.useEffect(()=>{function n(t={}){const r=t&&t.element,i=r||document.body,s=["","",""];let a=window.innerWidth,o=window.innerHeight,l={x:a/2,y:a/2},c=[],u,h,d,p=[];const g=window.matchMedia("(prefers-reduced-motion: reduce)");g.onchange=()=>{g.matches?I():_()};function _(){if(g.matches)return!1;u=document.createElement("canvas"),h=u.getContext("2d"),u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",r?(u.style.position="absolute",i.appendChild(u),u.width=i.clientWidth,u.height=i.clientHeight):(u.style.position="fixed",document.body.appendChild(u),u.width=a,u.height=o),h&&(h.font="20px serif",h.textBaseline="middle",h.textAlign="center",s.forEach(P=>{if(!h)return;let R=h.measureText(P),B=document.createElement("canvas"),z=B.getContext("2d");B.width=R.width,B.height=(R.actualBoundingBoxAscent||20)*2,z&&(z.textAlign="center",z.font="20px serif",z.textBaseline="middle",z.fillText(P,B.width/2,R.actualBoundingBoxAscent||20),p.push(B))}),w(),k())}function w(){i.addEventListener("mousemove",E),i.addEventListener("touchmove",S,{passive:!0}),i.addEventListener("touchstart",S,{passive:!0}),window.addEventListener("resize",x)}function x(P){a=window.innerWidth,o=window.innerHeight,r?(u.width=i.clientWidth,u.height=i.clientHeight):(u.width=a,u.height=o)}function S(P){if(P.touches.length>0)for(let R=0;R<P.touches.length;R++)T(P.touches[R].clientX,P.touches[R].clientY,p[Math.floor(Math.random()*p.length)])}function E(P){if(r){const R=i.getBoundingClientRect();l.x=P.clientX-R.left,l.y=P.clientY-R.top}else l.x=P.clientX,l.y=P.clientY;T(l.x,l.y,p[Math.floor(Math.random()*p.length)])}function T(P,R,B){c.push(new N(P,R,B))}function D(){if(!(!h||c.length===0)){h.clearRect(0,0,a,o);for(let P=0;P<c.length;P++)c[P].update(h);for(let P=c.length-1;P>=0;P--)c[P].lifeSpan<0&&c.splice(P,1);c.length===0&&h&&h.clearRect(0,0,a,o)}}function k(){D(),d=requestAnimationFrame(k)}function I(){u&&u.parentNode&&u.parentNode.removeChild(u),cancelAnimationFrame(d),i.removeEventListener("mousemove",E),i.removeEventListener("touchmove",S),i.removeEventListener("touchstart",S),window.removeEventListener("resize",x)}class N{constructor(R,B,z){mr(this,"position");mr(this,"velocity");mr(this,"lifeSpan");mr(this,"initialLifeSpan");mr(this,"canv");const H=Math.floor(Math.random()*60+80);this.initialLifeSpan=H,this.lifeSpan=H,this.velocity={x:(Math.random()<.5?-1:1)*(Math.random()/2),y:1+Math.random()},this.position={x:R,y:B},this.canv=z}update(R){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.x+=(Math.random()<.5?-1:1)*2/75,this.velocity.y-=Math.random()/300,this.lifeSpan--;const B=Math.max(this.lifeSpan/this.initialLifeSpan,0),H=2*this.lifeSpan*.0174533;R.save(),R.translate(this.position.x,this.position.y),R.rotate(H),R.drawImage(this.canv,-this.canv.width/2*B,-this.canv.height/2,this.canv.width*B,this.canv.height*B),R.rotate(-H),R.translate(-this.position.x,-this.position.y),R.restore()}}return _(),{destroy:I}}const e=n();return()=>e.destroy()},[])}function dF({url:n,label:e}){return m.jsxs("a",{href:n,download:!0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-green-600 to-green-400 text-white font-semibold shadow hover:from-green-700 hover:to-green-500 transition mb-4",style:{textDecoration:"none"},children:[m.jsx($X,{className:"w-5 h-5"}),e]})}function U5e(){return m.jsxs("section",{className:"bg-white/90 rounded-2xl shadow-xl p-6 mb-4 text-gray-800",children:[m.jsx(dF,{url:"/panduan-survival.pdf",label:"Download Buku Panduan Survival"}),m.jsx("h2",{className:"text-2xl font-bold mb-3 text-green-800",children:"Panduan Survival Dasar"}),m.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-lg",children:[m.jsx("li",{children:"Tenang, jangan panik. Analisa situasi dan sumber daya sekitar."}),m.jsx("li",{children:"Cari sumber air bersih dan buat perlindungan (bivak/shelter)."}),m.jsx("li",{children:"Jaga suhu tubuh, hindari hipotermia/heatstroke."}),m.jsx("li",{children:"Gunakan api untuk sinyal, hangat, dan memasak."}),m.jsx("li",{children:"Manfaatkan alat survival: kompas, pisau, peluit, senter, dsb."}),m.jsx("li",{children:"Catat lokasi terakhir dan buat tanda jejak jika berpindah."})]})]})}function j5e(){const[n,e]=F.useState(0),[t,r]=F.useState(!1);function i(){r(!0),e(0)}function s(){e(a=>a+1)}return m.jsxs("section",{className:"bg-white/90 rounded-2xl shadow-xl p-6 mb-4 text-gray-800",children:[m.jsx(dF,{url:"/ppgd.pdf",label:"Download Buku PPGD"}),m.jsx("h2",{className:"text-2xl font-bold mb-3 text-green-800",children:"PPGD (Pertolongan Pertama Gawat Darurat)"}),m.jsxs("ol",{className:"list-decimal pl-5 space-y-2 mb-4 text-lg",children:[m.jsx("li",{children:"Pastikan keamanan lokasi sebelum menolong."}),m.jsx("li",{children:"Periksa respons korban: sadar/tidak, napas, denyut nadi."}),m.jsx("li",{children:"Lakukan RJP (Resusitasi Jantung Paru) jika perlu."}),m.jsx("li",{children:"Hentikan perdarahan, atasi syok, imobilisasi patah tulang."}),m.jsx("li",{children:"Gunakan alat P3K, jaga kebersihan luka."}),m.jsx("li",{children:"Segera cari bantuan medis jika kondisi berat."})]}),m.jsxs("div",{className:"bg-green-100 rounded-lg p-4 mb-2 shadow",children:[m.jsx("h3",{className:"font-semibold mb-2 text-green-700",children:"Simulasi RJP"}),t?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"mb-2",children:"Tekan tombol di bawah ini sebanyak 30x untuk simulasi kompresi dada!"}),m.jsxs("button",{className:"btn-nav mb-2",onClick:s,children:["Tekan Dada (",n,"/30)"]}),n>=30&&m.jsx("div",{className:"text-green-700 font-bold",children:"Simulasi selesai! Segera lakukan napas bantuan."})]}):m.jsx("button",{className:"btn-nav",onClick:i,children:"Mulai Simulasi RJP"})]})]})}function V5e(){const[n,e]=F.useState("Tidak tersedia");return F.useEffect(()=>{function t(r){if(r.absolute&&typeof r.alpha=="number"){const i=Math.round(r.alpha);e(`${i} (Utara: 0)`)}}return window.addEventListener("deviceorientationabsolute",t),window.addEventListener("deviceorientation",t),()=>{window.removeEventListener("deviceorientationabsolute",t),window.removeEventListener("deviceorientation",t)}},[]),m.jsxs("section",{className:"bg-white/90 rounded-2xl shadow-xl p-6 mb-4 text-gray-800",children:[m.jsx(dF,{url:"/navigasi-darat.pdf",label:"Download Buku Navigasi Darat"}),m.jsx("h2",{className:"text-2xl font-bold mb-3 text-green-800",children:"Navigasi Darat"}),m.jsxs("ul",{className:"list-disc pl-5 space-y-2 mb-4 text-lg",children:[m.jsx("li",{children:"Gunakan peta topografi dan kompas untuk orientasi."}),m.jsx("li",{children:"Kenali tanda alam: matahari, bintang, arah angin, vegetasi."}),m.jsx("li",{children:"Buat rencana perjalanan dan catat titik penting di jalur."}),m.jsx("li",{children:"Hindari berjalan sendirian, selalu informasikan posisi ke tim."}),m.jsx("li",{children:"Gunakan GPS jika tersedia, tapi tetap siapkan navigasi manual."})]}),m.jsxs("div",{className:"bg-green-100 rounded-lg p-4 shadow",children:[m.jsx("h3",{className:"font-semibold mb-2 text-green-700",children:"Simulasi Kompas"}),m.jsxs("div",{className:"text-lg",children:["Arah Utara: ",m.jsx("span",{className:"font-bold",children:n})]}),m.jsx("div",{className:"text-green-600 text-xs mt-2",children:"(Fitur ini hanya akurat di HP dengan sensor kompas)"})]})]})}function z5e(){const n=["Kompas","Bivak/Shelter","Peluit","Pisau","Senter/Headlamp","Makanan Cadangan","P3K","Botol Air","Jas Hujan","Tali Paracord","Pakaian Cadangan","Korek Api/Firestarter"],[e,t]=F.useState(()=>{const s=localStorage.getItem("survival_checklist");return s?JSON.parse(s):Array(n.length).fill(!1)});function r(s){const a=[...e];a[s]=!a[s],t(a),localStorage.setItem("survival_checklist",JSON.stringify(a))}function i(){const s=Array(n.length).fill(!1);t(s),localStorage.setItem("survival_checklist",JSON.stringify(s))}return m.jsxs("section",{className:"bg-white/90 rounded-2xl shadow-xl p-6 mb-4 text-gray-800",children:[m.jsx("h2",{className:"text-2xl font-bold mb-3 text-green-800",children:"Checklist Survival"}),m.jsx("ul",{className:"space-y-3",children:n.map((s,a)=>m.jsxs("li",{className:"flex items-center gap-3",children:[m.jsx("input",{type:"checkbox",id:s,checked:e[a],onChange:()=>r(a)}),m.jsx("label",{htmlFor:s,className:"text-lg select-none",children:s})]},s))}),m.jsx("button",{className:"btn-nav mt-4",onClick:i,children:"Reset Checklist"}),m.jsx("p",{className:"mt-2 text-green-200 text-sm",children:"Checklist tersimpan otomatis di perangkat Anda."})]})}function H5e(){const[n,e]=F.useState(!1),[t,r]=F.useState(""),[i,s]=F.useState(()=>{const g=localStorage.getItem("gps_track");return g?JSON.parse(g):[]}),[a,o]=F.useState(""),[l,c]=F.useState(()=>localStorage.getItem("gps_nama")||""),u=F.useRef(null);function h(){e(!1),u.current&&(clearInterval(u.current),u.current=null),s([]),localStorage.removeItem("gps_track"),localStorage.removeItem("gps_tracker"),r("Pelacakan dimatikan dan data dihapus.")}function d(){if(l){if(!navigator.geolocation){r("Geolocation tidak didukung browser.");return}e(!0),r("Pelacakan aktif..."),u.current=setInterval(()=>{navigator.geolocation.getCurrentPosition(g=>{const _=new Date,w={lat:g.coords.latitude,lon:g.coords.longitude,time:_.toLocaleString(),nama:l,online:navigator.onLine};s(x=>{const S=[...x,w];return localStorage.setItem("gps_track",JSON.stringify(S)),S})},g=>r("Gagal mendapatkan lokasi: "+g.message),{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})},1e4)}}F.useEffect(()=>()=>{u.current&&clearInterval(u.current)},[]);function p(){s([]),localStorage.removeItem("gps_track"),localStorage.removeItem("gps_tracker")}return F.useEffect(()=>{function g(){r(navigator.onLine?"Online":"Mode Offline: Menyimpan data lokal")}return window.addEventListener("online",g),window.addEventListener("offline",g),g(),()=>{window.removeEventListener("online",g),window.removeEventListener("offline",g)}},[]),m.jsxs("section",{className:"bg-white/90 rounded-2xl shadow-xl p-6 mb-4 text-gray-800",children:[m.jsx("h2",{className:"text-2xl font-bold mb-3 text-green-800",children:"Pelacak Lokasi GPS"}),l?null:m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block mb-2 text-green-800 font-semibold",children:"Masukkan Nama Anda:"}),m.jsx("input",{className:"px-3 py-2 rounded border border-green-400 focus:outline-none focus:ring-2 focus:ring-green-600 text-gray-900",value:a,onChange:g=>o(g.target.value),placeholder:"Nama Lengkap"}),m.jsx("button",{className:"btn-nav ml-2 mt-2",onClick:()=>{c(a),localStorage.setItem("gps_nama",a)},disabled:!a.trim(),children:"Simpan Nama"})]}),m.jsx("button",{className:"btn-nav mb-4",onClick:d,disabled:n||!l,children:"Aktifkan Pelacakan"}),m.jsx("button",{className:"btn-nav mb-4 ml-2",onClick:p,children:"Reset Data Lokasi"}),m.jsx("button",{className:"btn-nav mb-4 ml-2 bg-red-600 hover:bg-red-700",onClick:h,disabled:!n,children:"Matikan GPS"}),m.jsx("div",{className:"mb-2 text-green-700 text-sm",children:t}),m.jsx("div",{className:"overflow-x-auto bg-green-100 rounded-lg p-2 text-xs",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Waktu"}),m.jsx("th",{children:"Lat"}),m.jsx("th",{children:"Lon"}),m.jsx("th",{children:"Nama"}),m.jsx("th",{children:"Status"})]})}),m.jsx("tbody",{children:i.map((g,_)=>m.jsxs("tr",{children:[m.jsx("td",{children:g.time}),m.jsx("td",{children:g.lat}),m.jsx("td",{children:g.lon}),m.jsx("td",{children:g.nama||l}),m.jsx("td",{children:m.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold ${g.online?"bg-green-500 text-white":"bg-gray-400 text-white"}`,children:g.online?"Online":"Offline"})})]},_))})]})}),m.jsx("p",{className:"mt-2 text-green-700 text-xs",children:"Data lokasi tersimpan lokal & dikirim ke server jika online."})]})}const W5e=[{label:"SAR Nasional (Basarnas)",nomor:"115"},{label:"BPBD Surabaya",nomor:"031-8499909"},{label:"Polisi",nomor:"110"},{label:"Ambulans",nomor:"118"},{label:"RSU Dr. Soetomo",nomor:"031-5501078"}],G5e=["Selalu bawa peluit, senter, dan korek api cadangan.","Jangan panik, tetap tenang dan hemat energi.","Cari sumber air bersih dan buat perlindungan sederhana.","Gunakan sinyal darurat (asap, peluit, cermin) untuk menarik perhatian.","Kenali tanaman dan hewan berbahaya di sekitar.","Lakukan pertolongan pertama pada luka ringan sebelum mencari bantuan."];function $5e(){const[n,e]=F.useState("fitur");return m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-green-50 py-8 px-2",children:[m.jsxs("div",{className:"max-w-xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold text-center text-green-800 mb-4",children:"Mode Offline & Survival Tools"}),m.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Tetap siap di alam bebas! Semua fitur berikut dapat diakses tanpa internet."}),m.jsxs("nav",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[m.jsx("button",{className:`btn-nav${n==="fitur"?" bg-green-700 text-white":""}`,onClick:()=>e("fitur"),children:"Fitur Survival"}),m.jsx("button",{className:`btn-nav${n==="survival"?" bg-green-700 text-white":""}`,onClick:()=>e("survival"),children:"Panduan Survival"}),m.jsx("button",{className:`btn-nav${n==="ppgd"?" bg-green-700 text-white":""}`,onClick:()=>e("ppgd"),children:"PPGD"}),m.jsx("button",{className:`btn-nav${n==="navigasi"?" bg-green-700 text-white":""}`,onClick:()=>e("navigasi"),children:"Navigasi Darat"}),m.jsx("button",{className:`btn-nav${n==="checklist"?" bg-green-700 text-white":""}`,onClick:()=>e("checklist"),children:"Checklist"}),m.jsx("button",{className:`btn-nav${n==="gps"?" bg-green-700 text-white":""}`,onClick:()=>e("gps"),children:"Pelacak GPS"})]}),n==="fitur"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:[m.jsxs("a",{href:"/panduan-survival.pdf",className:"block bg-white rounded-xl shadow p-4 hover:bg-green-50 transition",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx($X,{className:"w-8 h-8 text-blue-600"}),m.jsx("span",{className:"font-bold text-green-900 text-lg",children:"Panduan Survival Offline"})]}),m.jsx("div",{className:"text-gray-600 text-sm mb-2",children:"Akses panduan survival, P3GD, dan navigasi darat tanpa internet."}),m.jsx("div",{className:"text-green-700 text-xs font-semibold underline",children:"Buka Panduan Survival"})]}),m.jsxs("a",{href:"/navigasi-darat.pdf",className:"block bg-white rounded-xl shadow p-4 hover:bg-green-50 transition",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(KX,{className:"w-8 h-8 text-green-600"}),m.jsx("span",{className:"font-bold text-green-900 text-lg",children:"Navigasi Darat PDF"})]}),m.jsx("div",{className:"text-gray-600 text-sm mb-2",children:"Pelajari teknik navigasi darat dan orientasi peta-kompas."}),m.jsx("div",{className:"text-green-700 text-xs font-semibold underline",children:"Buka Navigasi Darat"})]})]}),m.jsxs("div",{id:"nomor-darurat",className:"mb-8 bg-white rounded-xl shadow p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(uw,{className:"w-6 h-6 text-purple-600"}),m.jsx("span",{className:"font-bold text-purple-800",children:"Nomor Darurat Penting"})]}),m.jsx("ul",{className:"text-gray-700 text-sm space-y-1",children:W5e.map((t,r)=>m.jsxs("li",{children:[m.jsxs("span",{className:"font-semibold",children:[t.label,":"]})," ",m.jsx("a",{href:`tel:${t.nomor}`,className:"text-blue-700 underline",children:t.nomor})]},r))})]}),m.jsxs("div",{id:"tips-survival",className:"mb-8 bg-white rounded-xl shadow p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(T0e,{className:"w-6 h-6 text-red-600"}),m.jsx("span",{className:"font-bold text-red-800",children:"Tips Bertahan Hidup"})]}),m.jsx("ul",{className:"text-gray-700 text-sm list-disc pl-5 space-y-1",children:G5e.map((t,r)=>m.jsx("li",{children:t},r))})]})]}),n==="survival"&&m.jsx(U5e,{}),n==="ppgd"&&m.jsx(j5e,{}),n==="navigasi"&&m.jsx(V5e,{}),n==="checklist"&&m.jsx(z5e,{}),n==="gps"&&m.jsx(H5e,{})]}),m.jsx("style",{children:`
        .btn-nav {
          background: #166534;
          color: #fff;
          font-size: 1rem;
          border-radius: 0.5rem;
          padding: 0.5rem 1.1rem;
          font-weight: bold;
          box-shadow: 0 2px 8px #0002;
          border: none;
          margin: 0.2rem;
          transition: background 0.2s;
        }
        .btn-nav:active, .btn-nav:hover, .btn-nav.bg-green-700 {
          background: #22c55e;
          color: #14532d;
        }
        input[type=checkbox] {
          width: 1.3em; height: 1.3em;
        }
      `})]})}class q5e extends Rn.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 text-center p-8",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Terjadi Kesalahan"}),m.jsx("p",{className:"mb-4 text-gray-600",children:"Maaf, terjadi error pada aplikasi. Silakan refresh halaman atau coba lagi nanti."}),m.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>window.location.reload(),children:"Refresh"})]}):this.props.children}}function X5e(){const[n,e]=F.useState(null),[t,r]=F.useState(null),[i,s]=F.useState(null),[a,o]=F.useState(null),[l,c]=F.useState(!0);F.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"});async function w(){c(!0);try{const x=await yy(hi(An,"sejarah_page","main"));if(x.exists()){const S=x.data();e(typeof S.sejarahNarasi=="string"?S.sejarahNarasi:null),r(Array.isArray(S.kilasBalik)?S.kilasBalik:null),s(Array.isArray(S.videoMomentum)?S.videoMomentum:null),o(Array.isArray(S.ketuaList)?S.ketuaList:null)}else e(null),r(null),s(null),o(null)}catch{e(null),r(null),s(null)}c(!1)}w()},[]);const u=F.useRef(null),[h,d]=F.useState(0),[p,g]=F.useState(!0),_=F.useRef(null);return F.useEffect(()=>{if(!p)return;let w;const x=()=>{d(S=>{let E=S+7e-4;return E>1&&(E-=1),E}),w=requestAnimationFrame(x)};return w=requestAnimationFrame(x),()=>cancelAnimationFrame(w)},[p]),l?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-50 to-green-50",children:m.jsx("div",{className:"text-lg text-gray-600",children:"Memuat data sejarah..."})}):!n||!t||!i||!a?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-50 to-green-50",children:m.jsx("div",{className:"text-lg text-red-600",children:"Data sejarah belum tersedia."})}):m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-green-50 py-10",children:m.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[m.jsx(Zn.h1,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-3xl md:text-4xl font-extrabold text-center text-blue-900 mb-8",children:"Sejarah Mahapala Narotama"}),m.jsx(Zn.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.7},className:"text-lg text-gray-700 text-center mb-10 leading-relaxed",children:n}),m.jsx(Zn.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.7},className:"text-2xl font-bold text-blue-800 mb-4 text-center",children:"Jejak Ketua Umum"}),m.jsxs("div",{className:"relative w-full overflow-hidden py-4",children:[m.jsx("div",{ref:u,className:"flex gap-6 min-w-[700px] pb-2 px-2",style:{width:"max-content",transform:`translateX(-${h*(a.length*190+32)}px)`,transition:p?"none":"transform 0.2s",willChange:"transform"},children:(()=>{const w=[...a,...a],x=a.length-1;return w.map((S,E)=>{let T=null;(E+1)%a.length===0&&(T=m.jsx("div",{className:"flex items-center mx-2 text-3xl font-bold text-gray-400 select-none",children:"|"},"sep-"+E));const D=E%a.length===x;return m.jsxs(Rn.Fragment,{children:[m.jsxs(Zn.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.05*(E%a.length)},className:"bg-white rounded-xl shadow-lg p-4 flex flex-col items-center min-w-[180px] hover:scale-105 transition-transform duration-300 border "+(D?"border-yellow-400 ring-4 ring-yellow-300 animate-glow shadow-yellow-200":"border-blue-100"),children:[m.jsx("img",{src:S.foto,alt:S.nama,className:"w-20 h-20 rounded-full object-cover mb-2 "+(D?"border-4 border-yellow-400 shadow-lg":"border-4 border-blue-200")}),m.jsx("div",{className:"font-bold text-lg text-center "+(D?"text-yellow-700":"text-blue-700"),children:S.nama}),m.jsxs("div",{className:"text-xs text-center "+(D?"text-yellow-600 font-bold":"text-gray-500"),children:["Periode ",S.periode]}),D&&m.jsx("div",{className:"mt-1 px-2 py-0.5 rounded bg-yellow-100 text-yellow-800 text-xs font-semibold animate-pulse",children:"Ketua Umum Sekarang"})]}),T]},E)})})()}),m.jsx("input",{type:"range",min:0,max:a.length-1,step:1,value:Math.round(h*(a.length-1)),onChange:w=>{g(!1),d(Number(w.target.value)/(a.length-1)),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>g(!0),5e3)},onMouseDown:()=>{g(!1),_.current&&clearTimeout(_.current)},onMouseUp:()=>{_.current&&clearTimeout(_.current),_.current=setTimeout(()=>g(!0),5e3)},onTouchStart:()=>{g(!1),_.current&&clearTimeout(_.current)},onTouchEnd:()=>{_.current&&clearTimeout(_.current),_.current=setTimeout(()=>g(!0),5e3)},className:"w-full mt-4 accent-yellow-500","aria-label":"Scroll mantan ketua umum"})]}),m.jsx("style",{children:`
          @keyframes animate-glow {
            0% { box-shadow: 0 0 0 0 #fde68a, 0 0 10px 2px #fde68a44; }
            50% { box-shadow: 0 0 0 8px #fde68a44, 0 0 20px 8px #fde68a44; }
            100% { box-shadow: 0 0 0 0 #fde68a, 0 0 10px 2px #fde68a44; }
          }
          .animate-glow { animation: animate-glow 2s infinite; }
        `}),m.jsx(Zn.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.7},className:"text-2xl font-bold text-green-800 mb-4 mt-10 text-center",children:"Kilas Balik"}),m.jsx("div",{className:"space-y-4 mb-10",children:t.map((w,x)=>m.jsxs(Zn.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.1*x},className:"bg-white rounded-lg shadow p-4 flex items-center gap-4 border-l-4 border-green-400",children:[m.jsx("div",{className:"text-2xl font-bold text-green-600 w-16 text-center",children:w.tahun}),m.jsx("div",{className:"text-gray-700 text-base",children:w.momen})]},x))}),m.jsx(Zn.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.7},className:"text-2xl font-bold text-purple-800 mb-4 mt-10 text-center",children:"Video Momentum"}),m.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:i.map((w,x)=>m.jsxs(Zn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2*x},className:"bg-white rounded-xl shadow-lg p-2 flex flex-col items-center",children:[m.jsx("div",{className:"aspect-w-16 aspect-h-9 w-full mb-2",children:m.jsx("iframe",{src:w.url,title:w.title,allowFullScreen:!0,className:"w-full h-40 rounded-lg"})}),m.jsx("div",{className:"text-sm text-center text-gray-700 font-semibold",children:w.title})]},x))})]})})}const Y5e=({locked:n})=>n?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 17a1.5 1.5 0 001.5-1.5V14a1.5 1.5 0 10-3 0v1.5A1.5 1.5 0 0012 17zm6-6V9a6 6 0 10-12 0v2a2 2 0 00-2 2v7a2 2 0 002 2h12a2 2 0 002-2v-7a2 2 0 00-2-2zm-2 0H8V9a4 4 0 118 0v2z"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 11V9a5 5 0 00-10 0v2M7 11V9a5 5 0 0110 0v2m-5 4v2m0 0a2 2 0 104 0v-2a2 2 0 10-4 0z"})}),K5e=({ketua:n,onChange:e,onRemove:t})=>{const[r,i]=Rn.useState(!n.locked);return Rn.useEffect(()=>{i(!n.locked)},[n.locked]),m.jsx("div",{className:"w-full overflow-x-auto",children:m.jsxs("div",{className:`flex gap-2 mb-2 items-center border rounded p-2 bg-yellow-50 min-w-[500px] transition-all duration-200 ${n.locked?"opacity-60 grayscale":""}`,children:[m.jsx("img",{src:n.foto,alt:n.nama,className:"w-12 h-12 rounded-full object-cover"}),m.jsx("input",{value:n.nama,onChange:s=>e({...n,nama:s.target.value}),disabled:!r,placeholder:"Nama Ketua Umum",className:"flex-1 rounded border border-yellow-300 p-1 text-gray-800 bg-white min-w-[120px]"}),m.jsx("input",{value:n.periode,onChange:s=>e({...n,periode:s.target.value}),disabled:!r,placeholder:"Periode",className:"w-24 sm:w-32 rounded border border-yellow-300 p-1 text-gray-800 bg-white"}),m.jsx("input",{value:n.foto,onChange:s=>e({...n,foto:s.target.value}),disabled:!r,placeholder:"URL Foto",className:"w-32 sm:w-40 rounded border border-yellow-300 p-1 text-gray-800 bg-white"}),m.jsx("button",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-transparent hover:bg-yellow-100 focus:outline-none",title:n.locked?"Buka Kunci":"Kunci Data",onClick:()=>{if(n.locked){const s=window.prompt("Masukkan kode untuk membuka kunci data ketua umum!");s==="2601"?(i(!0),e({...n,locked:!1})):s!==null&&alert("Kode salah!")}else i(!1),e({...n,locked:!0})},children:m.jsx(Y5e,{locked:n.locked})}),m.jsx("button",{disabled:!r,className:`text-red-600 font-bold px-2 ${r?"":"opacity-50 cursor-not-allowed"}`,onClick:async()=>{if(!r)return;const s=window.prompt("Konfirmasi hapus: Masukkan kode untuk menghapus data ketua umum!");s==="2601"?window.confirm("Yakin ingin menghapus data ketua umum ini?")&&t():s!==null&&alert("Kode salah!")},children:"Hapus"})]})})};function Z5e({items:n,renderItem:e,onChange:t}){const r=Rn.useRef(null),i=Rn.useRef(null),s=l=>{r.current=l},a=l=>{i.current=l},o=()=>{const l=r.current,c=i.current;if(l!==null&&c!==null&&l!==c){const u=[...n],[h]=u.splice(l,1);u.splice(c,0,h),t(u)}r.current=null,i.current=null};return m.jsx("div",{children:n.map((l,c)=>m.jsx("div",{draggable:!0,onDragStart:()=>s(c),onDragEnter:()=>a(c),onDragEnd:o,onDragOver:u=>u.preventDefault(),style:{cursor:"grab"},children:e(l,c,{draggable:!0})},c))})}const Ld={sejarahNarasi:"Mahapala Narotama adalah Unit Kegiatan Mahasiswa (UKM) di Universitas Narotama Surabaya yang bergerak di bidang pecinta alam dan petualangan. Berdiri pada tahun 2016, Mahapala Narotama aktif dalam kegiatan pendidikan dasar, ekspedisi gunung, penjelajahan, konservasi alam, bakti sosial, serta pengembangan karakter dan kepemimpinan mahasiswa. Dengan semangat kekeluargaan dan jiwa petualang, Mahapala Narotama telah melahirkan banyak kader yang berkontribusi dalam pelestarian alam dan pengabdian masyarakat, serta menjadi wadah pengembangan minat dan bakat mahasiswa di bidang alam bebas.",ketuaList:[{nama:"Roro Christiatirani Suwoto",periode:"2016-2017",foto:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/main/Img/Mantum/20250805_084125.jpg",locked:!0},{nama:"Arif Muhammad Rizal",periode:"2017-2018",foto:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/main/Img/Mantum/20250805_084151.jpg",locked:!0},{nama:"Ayu Wulandari Narhendra",periode:"2018-2019",foto:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/main/Img/Mantum/20250805_084234.jpg",locked:!0},{nama:"Moch. Fakhrul Islam",periode:"2019-2021",foto:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/main/Img/Mantum/20250805_084327.jpg",locked:!0},{nama:"Agna Mahireksha",periode:"2021-2022",foto:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/main/Img/Mantum/20250805_084401.jpg",locked:!0},{nama:"Robiatul Adawiyah",periode:"2023-2024",foto:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/main/Img/Mantum/20250805_084425.jpg",locked:!0},{nama:"Muhammad Fairus Fawas Afanza",periode:"2024-sekarang",foto:"https://raw.githubusercontent.com/mahapalanarotama/OfficialWebsite/main/Img/Mantum/20250805_084448.png",locked:!0}],kilasBalik:[{tahun:"2016",momen:"Pendirian Mahapala Narotama dan Pendidikan Dasar Angkatan I (DIKLATSAR I)."},{tahun:"2017",momen:"Ekspedisi Gunung Lawu dan kegiatan bakti sosial di lereng gunung."},{tahun:"2018",momen:"DIKLATSAR II dan ekspedisi Gunung Semeru."},{tahun:"2019",momen:"Pendidikan Lanjut Rimba Gunung I dan penanaman pohon di kawasan konservasi."},{tahun:"2020",momen:"Aksi peduli lingkungan: penanaman 1000 pohon di Surabaya Timur."},{tahun:"2021",momen:"DIKLATSAR III (Sendang Banthak) dan pelatihan SAR Mahasiswa."},{tahun:"2022",momen:"Ekspedisi Gunung Arjuno-Welirang dan bakti sosial di desa binaan."},{tahun:"2023",momen:"DIKLATSAR IV (Panca Laksamana) dan kegiatan bakti sosial serta buka bersama."},{tahun:"2024",momen:"Penyelenggaraan seminar nasional konservasi dan pelantikan anggota terbanyak."}],videoMomentum:[{title:"Bakti sosial & Buka Bersama 2025",url:"https://www.youtube.com/embed/hTP4gwO7X80"},{title:"DIKLATSAR ANGKATAN KE IV (PANCA LAKSMANA) MAHAPALA NAROTAMA",url:"https://www.youtube.com/embed/A3rabYoh5v0"},{title:"PENDIDIKAN LANJUT RIMBA GUNUNG III MAHAPALA NAROTAMA",url:"https://www.youtube.com/embed/PXqneMBAOoU"},{title:"DIKLATSAR ANGKATAN KE III (SENDANG BANTHAK) MAHAPALA NAROTAMA",url:"https://www.youtube.com/embed/IIi19T-bt70"}]};function Q5e(){const[n,e]=F.useState(null),[t,r]=F.useState(""),[i,s]=F.useState(""),[a,o]=F.useState(""),[l,c]=F.useState(!1),[u,h]=F.useState(Ld),[d,p]=F.useState(!1),[g,_]=F.useState(Ld),[w,x]=F.useState(!1),[S,E]=F.useState("");F.useEffect(()=>{const J=VD(Th,se=>e(se));return()=>J()},[]),F.useEffect(()=>{async function J(){c(!0);try{const se=await yy(hi(An,"sejarah_page","main"));if(se.exists()){const ce=se.data();h({sejarahNarasi:ce.sejarahNarasi||Ld.sejarahNarasi,ketuaList:Array.isArray(ce.ketuaList)?ce.ketuaList:Ld.ketuaList,kilasBalik:Array.isArray(ce.kilasBalik)?ce.kilasBalik:Ld.kilasBalik,videoMomentum:Array.isArray(ce.videoMomentum)?ce.videoMomentum:Ld.videoMomentum})}else h(Ld)}catch{h(Ld)}c(!1)}J()},[]);async function T(J){J.preventDefault(),o(""),c(!0);try{await jD(Th,t,i)}catch(se){o("Login gagal: "+((se==null?void 0:se.message)||""))}c(!1)}function D(){_(u),p(!0)}function k(){p(!1),_(u)}function I(J){_({...g,sejarahNarasi:J.target.value})}function N(J,se,ce){_({...g,kilasBalik:g.kilasBalik.map((X,ue)=>ue===J?{...X,[se]:ce}:X)})}function P(){_({...g,kilasBalik:[...g.kilasBalik,{tahun:"",momen:""}]})}function R(J){_({...g,kilasBalik:g.kilasBalik.filter((se,ce)=>ce!==J)})}function B(J,se,ce){_({...g,videoMomentum:g.videoMomentum.map((X,ue)=>ue===J?{...X,[se]:ce}:X)})}function z(){_({...g,videoMomentum:[...g.videoMomentum,{title:"",url:""}]})}function H(J){_({...g,videoMomentum:g.videoMomentum.filter((se,ce)=>ce!==J)})}async function K(){x(!1),E(""),c(!0);try{await Xo(hi(An,"sejarah_page","main"),g),h(g),p(!1),E("Berhasil disimpan!")}catch(J){E("Gagal menyimpan: "+((J==null?void 0:J.message)||""))}c(!1)}return l?m.jsx("div",{className:"text-center py-20",children:"Loading..."}):n?m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-green-50 py-4 flex justify-center items-start overflow-x-hidden",children:m.jsxs("div",{className:"w-full max-w-lg sm:max-w-3xl px-2 sm:px-4 rounded-xl shadow-xl bg-white/90 py-4 sm:py-6 border border-blue-100",children:[m.jsx(Zn.h1,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-3xl md:text-4xl font-extrabold text-center text-blue-900 mb-8",children:"Admin Edit Sejarah Mahapala Narotama"}),d?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-bold mb-2 text-yellow-800",children:"Daftar Ketua Umum"}),m.jsx("div",{className:"space-y-2",children:g.ketuaList.map((J,se)=>m.jsx(Rn.Fragment,{children:m.jsx(K5e,{ketua:J,onChange:ce=>{_({...g,ketuaList:g.ketuaList.map((X,ue)=>ue===se?ce:X)})},onRemove:()=>{_({...g,ketuaList:g.ketuaList.filter((ce,X)=>X!==se)})}})},se))}),m.jsx(Ht,{onClick:()=>_({...g,ketuaList:[...g.ketuaList,{nama:"",periode:"",foto:"",locked:!1}]}),className:"mt-2 px-3 py-1 bg-yellow-600 text-white rounded w-full sm:w-auto",children:"Tambah Ketua Umum"})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-bold mb-2 text-blue-800",children:"Narasi Sejarah"}),m.jsx("textarea",{value:g.sejarahNarasi,onChange:I,rows:5,className:"w-full rounded border border-blue-300 p-2 text-gray-800 text-sm sm:text-base"})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-bold mb-2 text-green-800",children:"Kilas Balik"}),m.jsx(Z5e,{items:g.kilasBalik,onChange:J=>_({...g,kilasBalik:J}),renderItem:(J,se)=>m.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 items-center bg-green-50 rounded p-1 sm:p-2",style:{border:"1px dashed #6ee7b7"},children:[m.jsx("span",{className:"cursor-move text-green-600 font-bold px-2",children:""}),m.jsx("input",{value:J.tahun,onChange:ce=>N(se,"tahun",ce.target.value),placeholder:"Tahun",className:"w-16 sm:w-20 rounded border border-green-300 p-1 text-gray-800 text-xs sm:text-base"}),m.jsx("input",{value:J.momen,onChange:ce=>N(se,"momen",ce.target.value),placeholder:"Momen",className:"flex-1 min-w-[120px] rounded border border-green-300 p-1 text-gray-800 text-xs sm:text-base"}),m.jsx("button",{onClick:()=>R(se),className:"text-red-600 font-bold px-2 py-1 text-xs sm:text-base",children:"Hapus"})]})}),m.jsx(Ht,{onClick:P,className:"mt-2 px-3 py-1 bg-green-600 text-white rounded w-full sm:w-auto",children:"Tambah Kilas Balik"})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-bold mb-2 text-purple-800",children:"Video Momentum"}),m.jsx("div",{className:"space-y-2",children:g.videoMomentum.map((J,se)=>m.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 items-center bg-purple-50 rounded p-1 sm:p-2",style:{border:"1px dashed #a78bfa"},children:[m.jsx("input",{value:J.title,onChange:ce=>B(se,"title",ce.target.value),placeholder:"Judul Video",className:"flex-1 min-w-[120px] rounded border border-purple-300 p-1 text-gray-800 text-xs sm:text-base"}),m.jsx("input",{value:J.url,onChange:ce=>B(se,"url",ce.target.value),placeholder:"URL Embed Youtube",className:"flex-1 min-w-[120px] rounded border border-purple-300 p-1 text-gray-800 text-xs sm:text-base"}),m.jsx("button",{onClick:()=>H(se),className:"text-red-600 font-bold px-2 py-1 text-xs sm:text-base",children:"Hapus"})]},se))}),m.jsx(Ht,{onClick:z,className:"mt-2 px-3 py-1 bg-purple-600 text-white rounded w-full sm:w-auto",children:"Tambah Video"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[m.jsx(Ht,{onClick:k,className:"bg-gray-400 text-white w-full sm:w-auto",children:"Batal"}),m.jsx(Ht,{onClick:()=>x(!0),className:"bg-blue-700 text-white w-full sm:w-auto",children:"Simpan"})]}),S&&m.jsx("div",{className:"mt-4 text-green-700 font-bold",children:S}),w&&m.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-sm w-full",children:[m.jsx("div",{className:"font-bold text-lg mb-4",children:"Konfirmasi Simpan"}),m.jsx("div",{className:"mb-4",children:"Yakin ingin menyimpan perubahan data sejarah?"}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx(Ht,{onClick:()=>x(!1),className:"bg-gray-400 text-white",children:"Batal"}),m.jsx(Ht,{onClick:K,className:"bg-blue-700 text-white",children:"Ya, Simpan"})]})]})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-bold mb-2 text-yellow-800",children:"Daftar Ketua Umum"}),u.ketuaList.map((J,se)=>m.jsxs("div",{className:"flex gap-2 mb-2 items-center border rounded p-2",children:[m.jsx("img",{src:J.foto,alt:J.nama,className:"w-12 h-12 rounded-full object-cover"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-bold text-yellow-900",children:J.nama}),m.jsxs("div",{className:"text-xs text-gray-600",children:["Periode ",J.periode]})]})]},se))]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-bold mb-2 text-blue-800",children:"Narasi Sejarah"}),m.jsx("div",{className:"bg-white rounded p-3 border border-blue-200 text-gray-800 whitespace-pre-line",children:u.sejarahNarasi})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-bold mb-2 text-green-800",children:"Kilas Balik"}),u.kilasBalik.map((J,se)=>m.jsxs("div",{className:"flex gap-2 mb-2 items-center",children:[m.jsx("div",{className:"w-20 font-bold text-green-700",children:J.tahun}),m.jsx("div",{className:"flex-1 text-gray-800",children:J.momen})]},se))]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-bold mb-2 text-purple-800",children:"Video Momentum"}),u.videoMomentum.map((J,se)=>m.jsxs("div",{className:"flex gap-2 mb-2 items-center",children:[m.jsx("div",{className:"flex-1 text-gray-800 truncate",title:J.title,children:J.title.length>32?J.title.slice(0,32)+"...":J.title}),m.jsx("div",{className:"flex-1 text-blue-700 underline break-all",children:J.url})]},se))]}),m.jsx(Ht,{onClick:D,className:"bg-blue-700 text-white",children:"Edit Data"}),S&&m.jsx("div",{className:"mt-4 text-green-700 font-bold",children:S})]})]})}):m.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 w-full max-w-sm",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Login Admin Sejarah"}),m.jsxs("form",{onSubmit:T,className:"space-y-4",children:[m.jsx(xi,{className:"w-full",type:"email",placeholder:"Email",value:t,onChange:J=>r(J.target.value),required:!0}),m.jsx(xi,{className:"w-full",type:"password",placeholder:"Password",value:i,onChange:J=>s(J.target.value),required:!0}),a&&m.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md text-sm",children:a}),m.jsx(Ht,{type:"submit",className:"w-full",children:"Login"})]})]})})}const eE=[{id:"bivak",title:"Membuat Bivak",badge:"Bivak Builder",markdown:`# Membuat Bivak

Membuat bivak adalah salah satu pengalaman paling berkesan dalam setiap pelatihan Mahapala Narotama. Di tengah hutan atau lereng gunung, anggota Mahapala Narotama belajar membangun tempat perlindungan darurat dengan memanfaatkan alam sekitar dan perlengkapan sederhana. Kegiatan ini tidak hanya mengasah keterampilan teknis, seperti memilih lokasi yang aman, menggunakan bahan alami, dan merangkai struktur yang kokoh, tetapi juga menumbuhkan rasa kebersamaan dan gotong royong antaranggota. Dalam suasana malam yang dingin dan penuh tantangan, setiap anggota saling membantu, berbagi pengalaman, dan memperkuat solidaritas. Melalui praktik membuat bivak, Mahapala Narotama menanamkan nilai kemandirian, kepedulian, dan kesiapsiagaan menghadapi situasi darurat di alam bebas.`},{id:"jejak",title:"Mengenali Jejak Binatang",badge:"Tracker Pemula",markdown:`# Mengenali Jejak Binatang

Kegiatan mengenali jejak binatang bersama Mahapala Narotama selalu menjadi momen penuh rasa ingin tahu dan petualangan. Anggota diajak menjelajahi hutan, mengamati tanah, dedaunan, dan jejak-jejak yang tertinggal. Setiap jejak yang ditemukan menjadi bahan diskusi, memperkaya pengetahuan tentang satwa liar dan ekosistem sekitar. Selain melatih kepekaan dan ketelitian, kegiatan ini juga mempererat hubungan antaranggota melalui kerja tim dan berbagi penemuan menarik. Mahapala Narotama percaya, memahami jejak binatang bukan hanya soal survival, tetapi juga bentuk penghormatan terhadap alam dan upaya menjaga kelestarian lingkungan.`},{id:"mendaki",title:"Mendaki Aman",badge:"Pendaki Cerdas",markdown:`# Mendaki Aman

Setiap pendakian bersama Mahapala Narotama selalu diawali dengan persiapan matang dan semangat kebersamaan. Anggota dilatih untuk memahami pentingnya perencanaan rute, pengecekan perlengkapan, serta menjaga kesehatan fisik dan mental. Dalam perjalanan, suasana penuh keakraban tercipta melalui saling dukung, berbagi logistik, dan menjaga semangat tim. Kegiatan mendaki gunung bukan hanya tentang mencapai puncak, tetapi juga belajar menghadapi tantangan, mengelola risiko, dan membangun karakter tangguh. Mahapala Narotama menanamkan nilai disiplin, tanggung jawab, dan cinta alam dalam setiap langkah pendakian, sehingga setiap anggota siap menjadi pendaki yang cerdas dan peduli terhadap lingkungan.`}];function J5e(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const eBe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tBe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nBe={};function Iz(n,e){return(nBe.jsx?tBe:eBe).test(n)}const rBe=/[ \t\n\f\r]/g;function iBe(n){return typeof n=="object"?n.type==="text"?Pz(n.value):!1:Pz(n)}function Pz(n){return n.replace(rBe,"")===""}class Fw{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}Fw.prototype.normal={};Fw.prototype.property={};Fw.prototype.space=void 0;function Mre(n,e){const t={},r={};for(const i of n)Object.assign(t,i.property),Object.assign(r,i.normal);return new Fw(t,r,e)}function T3(n){return n.toLowerCase()}class Uo{constructor(e,t){this.attribute=t,this.property=e}}Uo.prototype.attribute="";Uo.prototype.booleanish=!1;Uo.prototype.boolean=!1;Uo.prototype.commaOrSpaceSeparated=!1;Uo.prototype.commaSeparated=!1;Uo.prototype.defined=!1;Uo.prototype.mustUseProperty=!1;Uo.prototype.number=!1;Uo.prototype.overloadedBoolean=!1;Uo.prototype.property="";Uo.prototype.spaceSeparated=!1;Uo.prototype.space=void 0;let sBe=0;const Dn=vg(),Qi=vg(),C3=vg(),yt=vg(),$r=vg(),fv=vg(),qo=vg();function vg(){return 2**++sBe}const M3=Object.freeze(Object.defineProperty({__proto__:null,boolean:Dn,booleanish:Qi,commaOrSpaceSeparated:qo,commaSeparated:fv,number:yt,overloadedBoolean:C3,spaceSeparated:$r},Symbol.toStringTag,{value:"Module"})),gR=Object.keys(M3);class fF extends Uo{constructor(e,t,r,i){let s=-1;if(super(e,t),Rz(this,"space",i),typeof r=="number")for(;++s<gR.length;){const a=gR[s];Rz(this,gR[s],(r&M3[a])===M3[a])}}}fF.prototype.defined=!0;function Rz(n,e,t){t&&(n[e]=t)}function Ny(n){const e={},t={};for(const[r,i]of Object.entries(n.properties)){const s=new fF(r,n.transform(n.attributes||{},r),i,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,t[T3(r)]=r,t[T3(s.attribute)]=r}return new Fw(e,t,n.space)}const Ire=Ny({properties:{ariaActiveDescendant:null,ariaAtomic:Qi,ariaAutoComplete:null,ariaBusy:Qi,ariaChecked:Qi,ariaColCount:yt,ariaColIndex:yt,ariaColSpan:yt,ariaControls:$r,ariaCurrent:null,ariaDescribedBy:$r,ariaDetails:null,ariaDisabled:Qi,ariaDropEffect:$r,ariaErrorMessage:null,ariaExpanded:Qi,ariaFlowTo:$r,ariaGrabbed:Qi,ariaHasPopup:null,ariaHidden:Qi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$r,ariaLevel:yt,ariaLive:null,ariaModal:Qi,ariaMultiLine:Qi,ariaMultiSelectable:Qi,ariaOrientation:null,ariaOwns:$r,ariaPlaceholder:null,ariaPosInSet:yt,ariaPressed:Qi,ariaReadOnly:Qi,ariaRelevant:null,ariaRequired:Qi,ariaRoleDescription:$r,ariaRowCount:yt,ariaRowIndex:yt,ariaRowSpan:yt,ariaSelected:Qi,ariaSetSize:yt,ariaSort:null,ariaValueMax:yt,ariaValueMin:yt,ariaValueNow:yt,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Pre(n,e){return e in n?n[e]:e}function Rre(n,e){return Pre(n,e.toLowerCase())}const aBe=Ny({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fv,acceptCharset:$r,accessKey:$r,action:null,allow:null,allowFullScreen:Dn,allowPaymentRequest:Dn,allowUserMedia:Dn,alt:null,as:null,async:Dn,autoCapitalize:null,autoComplete:$r,autoFocus:Dn,autoPlay:Dn,blocking:$r,capture:null,charSet:null,checked:Dn,cite:null,className:$r,cols:yt,colSpan:null,content:null,contentEditable:Qi,controls:Dn,controlsList:$r,coords:yt|fv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Dn,defer:Dn,dir:null,dirName:null,disabled:Dn,download:C3,draggable:Qi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Dn,formTarget:null,headers:$r,height:yt,hidden:C3,high:yt,href:null,hrefLang:null,htmlFor:$r,httpEquiv:$r,id:null,imageSizes:null,imageSrcSet:null,inert:Dn,inputMode:null,integrity:null,is:null,isMap:Dn,itemId:null,itemProp:$r,itemRef:$r,itemScope:Dn,itemType:$r,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Dn,low:yt,manifest:null,max:null,maxLength:yt,media:null,method:null,min:null,minLength:yt,multiple:Dn,muted:Dn,name:null,nonce:null,noModule:Dn,noValidate:Dn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Dn,optimum:yt,pattern:null,ping:$r,placeholder:null,playsInline:Dn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Dn,referrerPolicy:null,rel:$r,required:Dn,reversed:Dn,rows:yt,rowSpan:yt,sandbox:$r,scope:null,scoped:Dn,seamless:Dn,selected:Dn,shadowRootClonable:Dn,shadowRootDelegatesFocus:Dn,shadowRootMode:null,shape:null,size:yt,sizes:null,slot:null,span:yt,spellCheck:Qi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:yt,step:null,style:null,tabIndex:yt,target:null,title:null,translate:null,type:null,typeMustMatch:Dn,useMap:null,value:Qi,width:yt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$r,axis:null,background:null,bgColor:null,border:yt,borderColor:null,bottomMargin:yt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Dn,declare:Dn,event:null,face:null,frame:null,frameBorder:null,hSpace:yt,leftMargin:yt,link:null,longDesc:null,lowSrc:null,marginHeight:yt,marginWidth:yt,noResize:Dn,noHref:Dn,noShade:Dn,noWrap:Dn,object:null,profile:null,prompt:null,rev:null,rightMargin:yt,rules:null,scheme:null,scrolling:Qi,standby:null,summary:null,text:null,topMargin:yt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:yt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Dn,disableRemotePlayback:Dn,prefix:null,property:null,results:yt,security:null,unselectable:null},space:"html",transform:Rre}),oBe=Ny({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:qo,accentHeight:yt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:yt,amplitude:yt,arabicForm:null,ascent:yt,attributeName:null,attributeType:null,azimuth:yt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:yt,by:null,calcMode:null,capHeight:yt,className:$r,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:yt,diffuseConstant:yt,direction:null,display:null,dur:null,divisor:yt,dominantBaseline:null,download:Dn,dx:null,dy:null,edgeMode:null,editable:null,elevation:yt,enableBackground:null,end:null,event:null,exponent:yt,externalResourcesRequired:null,fill:null,fillOpacity:yt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fv,g2:fv,glyphName:fv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:yt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:yt,horizOriginX:yt,horizOriginY:yt,id:null,ideographic:yt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:yt,k:yt,k1:yt,k2:yt,k3:yt,k4:yt,kernelMatrix:qo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:yt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:yt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:yt,overlineThickness:yt,paintOrder:null,panose1:null,path:null,pathLength:yt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$r,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:yt,pointsAtY:yt,pointsAtZ:yt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qo,rev:qo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qo,requiredFeatures:qo,requiredFonts:qo,requiredFormats:qo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:yt,specularExponent:yt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:yt,strikethroughThickness:yt,string:null,stroke:null,strokeDashArray:qo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:yt,strokeOpacity:yt,strokeWidth:null,style:null,surfaceScale:yt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qo,tabIndex:yt,tableValues:null,target:null,targetX:yt,targetY:yt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:yt,underlineThickness:yt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:yt,values:null,vAlphabetic:yt,vMathematical:yt,vectorEffect:null,vHanging:yt,vIdeographic:yt,version:null,vertAdvY:yt,vertOriginX:yt,vertOriginY:yt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:yt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Pre}),Nre=Ny({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),kre=Ny({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Rre}),Dre=Ny({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),lBe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cBe=/[A-Z]/g,Nz=/-[a-z]/g,uBe=/^data[-\w.:]+$/i;function hBe(n,e){const t=T3(e);let r=e,i=Uo;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&uBe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Nz,fBe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Nz.test(s)){let a=s.replace(cBe,dBe);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=fF}return new i(r,e)}function dBe(n){return"-"+n.toLowerCase()}function fBe(n){return n.charAt(1).toUpperCase()}const pBe=Mre([Ire,aBe,Nre,kre,Dre],"html"),pF=Mre([Ire,oBe,Nre,kre,Dre],"svg");function mBe(n){return n.join(" ").trim()}var mF={},kz=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,gBe=/\n/g,vBe=/^\s*/,yBe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,xBe=/^:\s*/,_Be=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,wBe=/^[;\s]*/,bBe=/^\s+|\s+$/g,SBe=`
`,Dz="/",Oz="*",Qp="",EBe="comment",ABe="declaration",TBe=function(n,e){if(typeof n!="string")throw new TypeError("First argument must be a string");if(!n)return[];e=e||{};var t=1,r=1;function i(g){var _=g.match(gBe);_&&(t+=_.length);var w=g.lastIndexOf(SBe);r=~w?g.length-w:r+g.length}function s(){var g={line:t,column:r};return function(_){return _.position=new a(g),c(),_}}function a(g){this.start=g,this.end={line:t,column:r},this.source=e.source}a.prototype.content=n;function o(g){var _=new Error(e.source+":"+t+":"+r+": "+g);if(_.reason=g,_.filename=e.source,_.line=t,_.column=r,_.source=n,!e.silent)throw _}function l(g){var _=g.exec(n);if(_){var w=_[0];return i(w),n=n.slice(w.length),_}}function c(){l(vBe)}function u(g){var _;for(g=g||[];_=h();)_!==!1&&g.push(_);return g}function h(){var g=s();if(!(Dz!=n.charAt(0)||Oz!=n.charAt(1))){for(var _=2;Qp!=n.charAt(_)&&(Oz!=n.charAt(_)||Dz!=n.charAt(_+1));)++_;if(_+=2,Qp===n.charAt(_-1))return o("End of comment missing");var w=n.slice(2,_-2);return r+=2,i(w),n=n.slice(_),r+=2,g({type:EBe,comment:w})}}function d(){var g=s(),_=l(yBe);if(_){if(h(),!l(xBe))return o("property missing ':'");var w=l(_Be),x=g({type:ABe,property:Lz(_[0].replace(kz,Qp)),value:w?Lz(w[0].replace(kz,Qp)):Qp});return l(wBe),x}}function p(){var g=[];u(g);for(var _;_=d();)_!==!1&&(g.push(_),u(g));return g}return c(),p()};function Lz(n){return n?n.replace(bBe,Qp):Qp}var CBe=O1&&O1.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mF,"__esModule",{value:!0});mF.default=IBe;var MBe=CBe(TBe);function IBe(n,e){var t=null;if(!n||typeof n!="string")return t;var r=(0,MBe.default)(n),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?e(a,o,s):o&&(t=t||{},t[a]=o)}}),t}var sM={};Object.defineProperty(sM,"__esModule",{value:!0});sM.camelCase=void 0;var PBe=/^--[a-zA-Z0-9_-]+$/,RBe=/-([a-z])/g,NBe=/^[^-]+$/,kBe=/^-(webkit|moz|ms|o|khtml)-/,DBe=/^-(ms)-/,OBe=function(n){return!n||NBe.test(n)||PBe.test(n)},LBe=function(n,e){return e.toUpperCase()},Fz=function(n,e){return"".concat(e,"-")},FBe=function(n,e){return e===void 0&&(e={}),OBe(n)?n:(n=n.toLowerCase(),e.reactCompat?n=n.replace(DBe,Fz):n=n.replace(kBe,Fz),n.replace(RBe,LBe))};sM.camelCase=FBe;var BBe=O1&&O1.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},UBe=BBe(mF),jBe=sM;function I3(n,e){var t={};return!n||typeof n!="string"||(0,UBe.default)(n,function(r,i){r&&i&&(t[(0,jBe.camelCase)(r,e)]=i)}),t}I3.default=I3;var VBe=I3;const zBe=H_(VBe),Ore=Lre("end"),gF=Lre("start");function Lre(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function HBe(n){const e=gF(n),t=Ore(n);if(e&&t)return{start:e,end:t}}function N1(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Bz(n.position):"start"in n||"end"in n?Bz(n):"line"in n||"column"in n?P3(n):""}function P3(n){return Uz(n&&n.line)+":"+Uz(n&&n.column)}function Bz(n){return P3(n&&n.start)+"-"+P3(n&&n.end)}function Uz(n){return n&&typeof n=="number"?n:1}class Da extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",s={},a=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=N1(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Da.prototype.file="";Da.prototype.name="";Da.prototype.reason="";Da.prototype.message="";Da.prototype.stack="";Da.prototype.column=void 0;Da.prototype.line=void 0;Da.prototype.ancestors=void 0;Da.prototype.cause=void 0;Da.prototype.fatal=void 0;Da.prototype.place=void 0;Da.prototype.ruleId=void 0;Da.prototype.source=void 0;const vF={}.hasOwnProperty,WBe=new Map,GBe=/[A-Z]/g,$Be=new Set(["table","tbody","thead","tfoot","tr"]),qBe=new Set(["td","th"]),Fre="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function XBe(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nUe(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=tUe(t,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?pF:pBe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=Bre(i,n,void 0);return s&&typeof s!="string"?s:i.create(n,i.Fragment,{children:s||void 0},void 0)}function Bre(n,e,t){if(e.type==="element")return YBe(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return KBe(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return QBe(n,e,t);if(e.type==="mdxjsEsm")return ZBe(n,e);if(e.type==="root")return JBe(n,e,t);if(e.type==="text")return eUe(n,e)}function YBe(n,e,t){const r=n.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=pF,n.schema=i),n.ancestors.push(e);const s=jre(n,e.tagName,!1),a=rUe(n,e);let o=xF(n,e);return $Be.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!iBe(l):!0})),Ure(n,a,s,e),yF(a,o),n.ancestors.pop(),n.schema=r,n.create(e,s,a,t)}function KBe(n,e){if(e.data&&e.data.estree&&n.evaluater){const r=e.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}B_(n,e.position)}function ZBe(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);B_(n,e.position)}function QBe(n,e,t){const r=n.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=pF,n.schema=i),n.ancestors.push(e);const s=e.name===null?n.Fragment:jre(n,e.name,!0),a=iUe(n,e),o=xF(n,e);return Ure(n,a,s,e),yF(a,o),n.ancestors.pop(),n.schema=r,n.create(e,s,a,t)}function JBe(n,e,t){const r={};return yF(r,xF(n,e)),n.create(e,n.Fragment,r,t)}function eUe(n,e){return e.value}function Ure(n,e,t,r){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=r)}function yF(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function tUe(n,e,t){return r;function r(i,s,a,o){const c=Array.isArray(a.children)?t:e;return o?c(s,a,o):c(s,a)}}function nUe(n,e){return t;function t(r,i,s,a){const o=Array.isArray(s.children),l=gF(r);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:n,lineNumber:l?l.line:void 0},void 0)}}function rUe(n,e){const t={};let r,i;for(i in e.properties)if(i!=="children"&&vF.call(e.properties,i)){const s=sUe(n,i,e.properties[i]);if(s){const[a,o]=s;n.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&qBe.has(e.tagName)?r=o:t[a]=o}}if(r){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function iUe(n,e){const t={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(t,n.evaluater.evaluateExpression(o.argument))}else B_(n,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const o=r.value.data.estree.body[0];o.type,s=n.evaluater.evaluateExpression(o.expression)}else B_(n,e.position);else s=r.value===null?!0:r.value;t[i]=s}return t}function xF(n,e){const t=[];let r=-1;const i=n.passKeys?new Map:WBe;for(;++r<e.children.length;){const s=e.children[r];let a;if(n.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=Bre(n,s,a);o!==void 0&&t.push(o)}return t}function sUe(n,e,t){const r=hBe(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?J5e(t):mBe(t)),r.property==="style"){let i=typeof t=="object"?t:aUe(n,String(t));return n.stylePropertyNameCase==="css"&&(i=oUe(i)),["style",i]}return[n.elementAttributeNameCase==="react"&&r.space?lBe[r.property]||r.property:r.attribute,t]}}function aUe(n,e){try{return zBe(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const r=t,i=new Da("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=n.filePath||void 0,i.url=Fre+"#cannot-parse-style-attribute",i}}function jre(n,e,t){let r;if(!t)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=Iz(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=Iz(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return vF.call(n.components,i)?n.components[i]:i}if(n.evaluater)return n.evaluater.evaluateExpression(r);B_(n)}function B_(n,e){const t=new Da("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=Fre+"#cannot-handle-mdx-estrees-without-createevaluater",t}function oUe(n){const e={};let t;for(t in n)vF.call(n,t)&&(e[lUe(t)]=n[t]);return e}function lUe(n){let e=n.replace(GBe,cUe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function cUe(n){return"-"+n.toLowerCase()}const vR={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uUe={};function hUe(n,e){const t=uUe,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Vre(n,r,i)}function Vre(n,e,t){if(dUe(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return jz(n.children,e,t)}return Array.isArray(n)?jz(n,e,t):""}function jz(n,e,t){const r=[];let i=-1;for(;++i<n.length;)r[i]=Vre(n[i],e,t);return r.join("")}function dUe(n){return!!(n&&typeof n=="object")}const Vz=document.createElement("i");function _F(n){const e="&"+n+";";Vz.innerHTML=e;const t=Vz.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Ou(n,e,t,r){const i=n.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)a=Array.from(r),a.unshift(e,t),n.splice(...a);else for(t&&n.splice(e,t);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),n.splice(...a),s+=1e4,e+=1e4}function Rl(n,e){return n.length>0?(Ou(n,n.length,0,e),n):e}const zz={}.hasOwnProperty;function fUe(n){const e={};let t=-1;for(;++t<n.length;)pUe(e,n[t]);return e}function pUe(n,e){let t;for(t in e){const i=(zz.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let a;if(s)for(a in s){zz.call(i,a)||(i[a]=[]);const o=s[a];mUe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function mUe(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Ou(n,0,0,r)}function zre(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function pv(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const du=ip(/[A-Za-z]/),tl=ip(/[\dA-Za-z]/),gUe=ip(/[#-'*+\--9=?A-Z^-~]/);function R3(n){return n!==null&&(n<32||n===127)}const N3=ip(/\d/),vUe=ip(/[\dA-Fa-f]/),yUe=ip(/[!-/:-@[-`{-~]/);function _n(n){return n!==null&&n<-2}function Lo(n){return n!==null&&(n<0||n===32)}function _r(n){return n===-2||n===-1||n===32}const xUe=ip(new RegExp("\\p{P}|\\p{S}","u")),_Ue=ip(/\s/);function ip(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function ky(n){const e=[];let t=-1,r=0,i=0;for(;++t<n.length;){const s=n.charCodeAt(t);let a="";if(s===37&&tl(n.charCodeAt(t+1))&&tl(n.charCodeAt(t+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=n.charCodeAt(t+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(n.slice(r,t),encodeURIComponent(a)),r=t+i+1,a=""),i&&(t+=i,i=0)}return e.join("")+n.slice(r)}function Kr(n,e,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return _r(l)?(n.enter(t),o(l)):e(l)}function o(l){return _r(l)&&s++<i?(n.consume(l),o):(n.exit(t),e(l))}}const wUe={tokenize:bUe};function bUe(n){const e=n.attempt(this.parser.constructs.contentInitial,r,i);let t;return e;function r(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Kr(n,e,"linePrefix")}function i(o){return n.enter("paragraph"),s(o)}function s(o){const l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,a(o)}function a(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return _n(o)?(n.consume(o),n.exit("chunkText"),s):(n.consume(o),a)}}const SUe={tokenize:EUe},Hz={tokenize:AUe};function EUe(n){const e=this,t=[];let r=0,i,s,a;return o;function o(E){if(r<t.length){const T=t[r];return e.containerState=T[1],n.attempt(T[0].continuation,l,c)(E)}return c(E)}function l(E){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&S();const T=e.events.length;let D=T,k;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){k=e.events[D][1].end;break}x(r);let I=T;for(;I<e.events.length;)e.events[I][1].end={...k},I++;return Ou(e.events,D+1,0,e.events.slice(T)),e.events.length=I,c(E)}return o(E)}function c(E){if(r===t.length){if(!i)return d(E);if(i.currentConstruct&&i.currentConstruct.concrete)return g(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(Hz,u,h)(E)}function u(E){return i&&S(),x(r),d(E)}function h(E){return e.parser.lazy[e.now().line]=r!==t.length,a=e.now().offset,g(E)}function d(E){return e.containerState={},n.attempt(Hz,p,g)(E)}function p(E){return r++,t.push([e.currentConstruct,e.containerState]),d(E)}function g(E){if(E===null){i&&S(),x(0),n.consume(E);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),_(E)}function _(E){if(E===null){w(n.exit("chunkFlow"),!0),x(0),n.consume(E);return}return _n(E)?(n.consume(E),w(n.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(n.consume(E),_)}function w(E,T){const D=e.sliceStream(E);if(T&&D.push(null),E.previous=s,s&&(s.next=E),s=E,i.defineSkip(E.start),i.write(D),e.parser.lazy[E.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<a&&(!i.events[k][1].end||i.events[k][1].end.offset>a))return;const I=e.events.length;let N=I,P,R;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(P){R=e.events[N][1].end;break}P=!0}for(x(r),k=I;k<e.events.length;)e.events[k][1].end={...R},k++;Ou(e.events,N+1,0,e.events.slice(I)),e.events.length=k}}function x(E){let T=t.length;for(;T-- >E;){const D=t[T];e.containerState=D[1],D[0].exit.call(e,n)}t.length=E}function S(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function AUe(n,e,t){return Kr(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Wz(n){if(n===null||Lo(n)||_Ue(n))return 1;if(xUe(n))return 2}function wF(n,e,t){const r=[];let i=-1;for(;++i<n.length;){const s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}const k3={name:"attention",resolveAll:TUe,tokenize:CUe};function TUe(n,e){let t=-1,r,i,s,a,o,l,c,u;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const h={...n[r][1].end},d={...n[t][1].start};Gz(h,-l),Gz(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...n[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:d},s={type:l>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},n[r][1].end={...a.start},n[t][1].start={...o.end},c=[],n[r][1].end.offset-n[r][1].start.offset&&(c=Rl(c,[["enter",n[r][1],e],["exit",n[r][1],e]])),c=Rl(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=Rl(c,wF(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),c=Rl(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(u=2,c=Rl(c,[["enter",n[t][1],e],["exit",n[t][1],e]])):u=0,Ou(n,r-1,t-r+3,c),t=r+c.length-u-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function CUe(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Wz(r);let s;return a;function a(l){return s=l,n.enter("attentionSequence"),o(l)}function o(l){if(l===s)return n.consume(l),o;const c=n.exit("attentionSequence"),u=Wz(l),h=!u||u===2&&i||t.includes(l),d=!i||i===2&&u||t.includes(r);return c._open=!!(s===42?h:h&&(i||!d)),c._close=!!(s===42?d:d&&(u||!h)),e(l)}}function Gz(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const MUe={name:"autolink",tokenize:IUe};function IUe(n,e,t){let r=0;return i;function i(p){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(p){return du(p)?(n.consume(p),a):p===64?t(p):c(p)}function a(p){return p===43||p===45||p===46||tl(p)?(r=1,o(p)):c(p)}function o(p){return p===58?(n.consume(p),r=0,l):(p===43||p===45||p===46||tl(p))&&r++<32?(n.consume(p),o):(r=0,c(p))}function l(p){return p===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),e):p===null||p===32||p===60||R3(p)?t(p):(n.consume(p),l)}function c(p){return p===64?(n.consume(p),u):gUe(p)?(n.consume(p),c):t(p)}function u(p){return tl(p)?h(p):t(p)}function h(p){return p===46?(n.consume(p),r=0,u):p===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),e):d(p)}function d(p){if((p===45||tl(p))&&r++<63){const g=p===45?d:h;return n.consume(p),g}return t(p)}}const aM={partial:!0,tokenize:PUe};function PUe(n,e,t){return r;function r(s){return _r(s)?Kr(n,i,"linePrefix")(s):i(s)}function i(s){return s===null||_n(s)?e(s):t(s)}}const Hre={continuation:{tokenize:NUe},exit:kUe,name:"blockQuote",tokenize:RUe};function RUe(n,e,t){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(a),n.exit("blockQuoteMarker"),s}return t(a)}function s(a){return _r(a)?(n.enter("blockQuotePrefixWhitespace"),n.consume(a),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(a))}}function NUe(n,e,t){const r=this;return i;function i(a){return _r(a)?Kr(n,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return n.attempt(Hre,e,t)(a)}}function kUe(n){n.exit("blockQuote")}const Wre={name:"characterEscape",tokenize:DUe};function DUe(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return yUe(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const Gre={name:"characterReference",tokenize:OUe};function OUe(n,e,t){const r=this;let i=0,s,a;return o;function o(h){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(h),n.exit("characterReferenceMarker"),l}function l(h){return h===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(h),n.exit("characterReferenceMarkerNumeric"),c):(n.enter("characterReferenceValue"),s=31,a=tl,u(h))}function c(h){return h===88||h===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(h),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,a=vUe,u):(n.enter("characterReferenceValue"),s=7,a=N3,u(h))}function u(h){if(h===59&&i){const d=n.exit("characterReferenceValue");return a===tl&&!_F(r.sliceSerialize(d))?t(h):(n.enter("characterReferenceMarker"),n.consume(h),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return a(h)&&i++<s?(n.consume(h),u):t(h)}}const $z={partial:!0,tokenize:FUe},qz={concrete:!0,name:"codeFenced",tokenize:LUe};function LUe(n,e,t){const r=this,i={partial:!0,tokenize:D};let s=0,a=0,o;return l;function l(k){return c(k)}function c(k){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,o=k,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),u(k)}function u(k){return k===o?(a++,n.consume(k),u):a<3?t(k):(n.exit("codeFencedFenceSequence"),_r(k)?Kr(n,h,"whitespace")(k):h(k))}function h(k){return k===null||_n(k)?(n.exit("codeFencedFence"),r.interrupt?e(k):n.check($z,_,T)(k)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),d(k))}function d(k){return k===null||_n(k)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),h(k)):_r(k)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Kr(n,p,"whitespace")(k)):k===96&&k===o?t(k):(n.consume(k),d)}function p(k){return k===null||_n(k)?h(k):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===null||_n(k)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),h(k)):k===96&&k===o?t(k):(n.consume(k),g)}function _(k){return n.attempt(i,T,w)(k)}function w(k){return n.enter("lineEnding"),n.consume(k),n.exit("lineEnding"),x}function x(k){return s>0&&_r(k)?Kr(n,S,"linePrefix",s+1)(k):S(k)}function S(k){return k===null||_n(k)?n.check($z,_,T)(k):(n.enter("codeFlowValue"),E(k))}function E(k){return k===null||_n(k)?(n.exit("codeFlowValue"),S(k)):(n.consume(k),E)}function T(k){return n.exit("codeFenced"),e(k)}function D(k,I,N){let P=0;return R;function R(J){return k.enter("lineEnding"),k.consume(J),k.exit("lineEnding"),B}function B(J){return k.enter("codeFencedFence"),_r(J)?Kr(k,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):z(J)}function z(J){return J===o?(k.enter("codeFencedFenceSequence"),H(J)):N(J)}function H(J){return J===o?(P++,k.consume(J),H):P>=a?(k.exit("codeFencedFenceSequence"),_r(J)?Kr(k,K,"whitespace")(J):K(J)):N(J)}function K(J){return J===null||_n(J)?(k.exit("codeFencedFence"),I(J)):N(J)}}}function FUe(n,e,t){const r=this;return i;function i(a){return a===null?t(a):(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}const yR={name:"codeIndented",tokenize:UUe},BUe={partial:!0,tokenize:jUe};function UUe(n,e,t){const r=this;return i;function i(c){return n.enter("codeIndented"),Kr(n,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(c):t(c)}function a(c){return c===null?l(c):_n(c)?n.attempt(BUe,a,l)(c):(n.enter("codeFlowValue"),o(c))}function o(c){return c===null||_n(c)?(n.exit("codeFlowValue"),a(c)):(n.consume(c),o)}function l(c){return n.exit("codeIndented"),e(c)}}function jUe(n,e,t){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?t(a):_n(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),i):Kr(n,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):_n(a)?i(a):t(a)}}const VUe={name:"codeText",previous:HUe,resolve:zUe,tokenize:WUe};function zUe(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function HUe(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function WUe(n,e,t){let r=0,i,s;return a;function a(h){return n.enter("codeText"),n.enter("codeTextSequence"),o(h)}function o(h){return h===96?(n.consume(h),r++,o):(n.exit("codeTextSequence"),l(h))}function l(h){return h===null?t(h):h===32?(n.enter("space"),n.consume(h),n.exit("space"),l):h===96?(s=n.enter("codeTextSequence"),i=0,u(h)):_n(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),l):(n.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||_n(h)?(n.exit("codeTextData"),l(h)):(n.consume(h),c)}function u(h){return h===96?(n.consume(h),i++,u):i===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(h)):(s.type="codeTextData",c(h))}}class GUe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const i=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Mx(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Mx(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Mx(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Mx(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Mx(this.left,t.reverse())}}}function Mx(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function $re(n){const e={};let t=-1,r,i,s,a,o,l,c;const u=new GUe(n);for(;++t<u.length;){for(;t in e;)t=e[t];if(r=u.get(t),t&&r[1].type==="chunkFlow"&&u.get(t-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,$Ue(u,t)),t=e[t],c=!0);else if(r[1]._container){for(s=t,i=void 0;s--;)if(a=u.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},o=u.slice(i,t),o.unshift(r),u.splice(i,t-i+1,o))}}return Ou(n,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function $Ue(n,e){const t=n.get(e)[1],r=n.get(e)[2];let i=e-1;const s=[];let a=t._tokenizer;a||(a=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let u,h,d=-1,p=t,g=0,_=0;const w=[_];for(;p;){for(;n.get(++i)[1]!==p;);s.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),h&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=t;++d<o.length;)o[d][0]==="exit"&&o[d-1][0]==="enter"&&o[d][1].type===o[d-1][1].type&&o[d][1].start.line!==o[d][1].end.line&&(_=d+1,w.push(_),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),d=w.length;d--;){const x=o.slice(w[d],w[d+1]),S=s.pop();l.push([S,S+x.length-1]),n.splice(S,2,x)}for(l.reverse(),d=-1;++d<l.length;)c[g+l[d][0]]=g+l[d][1],g+=l[d][1]-l[d][0]-1;return c}const qUe={resolve:YUe,tokenize:KUe},XUe={partial:!0,tokenize:ZUe};function YUe(n){return $re(n),n}function KUe(n,e){let t;return r;function r(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):_n(o)?n.check(XUe,a,s)(o):(n.consume(o),i)}function s(o){return n.exit("chunkContent"),n.exit("content"),e(o)}function a(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function ZUe(n,e,t){const r=this;return i;function i(a){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),Kr(n,s,"linePrefix")}function s(a){if(a===null||_n(a))return t(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):n.interrupt(r.parser.constructs.flow,t,e)(a)}}function qre(n,e,t,r,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(x){return x===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(x),n.exit(s),d):x===null||x===32||x===41||R3(x)?t(x):(n.enter(r),n.enter(a),n.enter(o),n.enter("chunkString",{contentType:"string"}),_(x))}function d(x){return x===62?(n.enter(s),n.consume(x),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(o),n.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(n.exit("chunkString"),n.exit(o),d(x)):x===null||x===60||_n(x)?t(x):(n.consume(x),x===92?g:p)}function g(x){return x===60||x===62||x===92?(n.consume(x),p):p(x)}function _(x){return!u&&(x===null||x===41||Lo(x))?(n.exit("chunkString"),n.exit(o),n.exit(a),n.exit(r),e(x)):u<c&&x===40?(n.consume(x),u++,_):x===41?(n.consume(x),u--,_):x===null||x===32||x===40||R3(x)?t(x):(n.consume(x),x===92?w:_)}function w(x){return x===40||x===41||x===92?(n.consume(x),_):_(x)}}function Xre(n,e,t,r,i,s){const a=this;let o=0,l;return c;function c(p){return n.enter(r),n.enter(i),n.consume(p),n.exit(i),n.enter(s),u}function u(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?t(p):p===93?(n.exit(s),n.enter(i),n.consume(p),n.exit(i),n.exit(r),e):_n(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),u):(n.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||_n(p)||o++>999?(n.exit("chunkString"),u(p)):(n.consume(p),l||(l=!_r(p)),p===92?d:h)}function d(p){return p===91||p===92||p===93?(n.consume(p),o++,h):h(p)}}function Yre(n,e,t,r,i,s){let a;return o;function o(d){return d===34||d===39||d===40?(n.enter(r),n.enter(i),n.consume(d),n.exit(i),a=d===40?41:d,l):t(d)}function l(d){return d===a?(n.enter(i),n.consume(d),n.exit(i),n.exit(r),e):(n.enter(s),c(d))}function c(d){return d===a?(n.exit(s),l(a)):d===null?t(d):_n(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),Kr(n,c,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),u(d))}function u(d){return d===a||d===null||_n(d)?(n.exit("chunkString"),c(d)):(n.consume(d),d===92?h:u)}function h(d){return d===a||d===92?(n.consume(d),u):u(d)}}function k1(n,e){let t;return r;function r(i){return _n(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):_r(i)?Kr(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}const QUe={name:"definition",tokenize:eje},JUe={partial:!0,tokenize:tje};function eje(n,e,t){const r=this;let i;return s;function s(p){return n.enter("definition"),a(p)}function a(p){return Xre.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=pv(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(n.enter("definitionMarker"),n.consume(p),n.exit("definitionMarker"),l):t(p)}function l(p){return Lo(p)?k1(n,c)(p):c(p)}function c(p){return qre(n,u,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return n.attempt(JUe,h,h)(p)}function h(p){return _r(p)?Kr(n,d,"whitespace")(p):d(p)}function d(p){return p===null||_n(p)?(n.exit("definition"),r.parser.defined.push(i),e(p)):t(p)}}function tje(n,e,t){return r;function r(o){return Lo(o)?k1(n,i)(o):t(o)}function i(o){return Yre(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return _r(o)?Kr(n,a,"whitespace")(o):a(o)}function a(o){return o===null||_n(o)?e(o):t(o)}}const nje={name:"hardBreakEscape",tokenize:rje};function rje(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.consume(s),i}function i(s){return _n(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const ije={name:"headingAtx",resolve:sje,tokenize:aje};function sje(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Ou(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function aje(n,e,t){let r=0;return i;function i(u){return n.enter("atxHeading"),s(u)}function s(u){return n.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&r++<6?(n.consume(u),a):u===null||Lo(u)?(n.exit("atxHeadingSequence"),o(u)):t(u)}function o(u){return u===35?(n.enter("atxHeadingSequence"),l(u)):u===null||_n(u)?(n.exit("atxHeading"),e(u)):_r(u)?Kr(n,o,"whitespace")(u):(n.enter("atxHeadingText"),c(u))}function l(u){return u===35?(n.consume(u),l):(n.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Lo(u)?(n.exit("atxHeadingText"),o(u)):(n.consume(u),c)}}const oje=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Xz=["pre","script","style","textarea"],lje={concrete:!0,name:"htmlFlow",resolveTo:hje,tokenize:dje},cje={partial:!0,tokenize:pje},uje={partial:!0,tokenize:fje};function hje(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function dje(n,e,t){const r=this;let i,s,a,o,l;return c;function c(Q){return u(Q)}function u(Q){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(Q),h}function h(Q){return Q===33?(n.consume(Q),d):Q===47?(n.consume(Q),s=!0,_):Q===63?(n.consume(Q),i=3,r.interrupt?e:q):du(Q)?(n.consume(Q),a=String.fromCharCode(Q),w):t(Q)}function d(Q){return Q===45?(n.consume(Q),i=2,p):Q===91?(n.consume(Q),i=5,o=0,g):du(Q)?(n.consume(Q),i=4,r.interrupt?e:q):t(Q)}function p(Q){return Q===45?(n.consume(Q),r.interrupt?e:q):t(Q)}function g(Q){const et="CDATA[";return Q===et.charCodeAt(o++)?(n.consume(Q),o===et.length?r.interrupt?e:z:g):t(Q)}function _(Q){return du(Q)?(n.consume(Q),a=String.fromCharCode(Q),w):t(Q)}function w(Q){if(Q===null||Q===47||Q===62||Lo(Q)){const et=Q===47,ye=a.toLowerCase();return!et&&!s&&Xz.includes(ye)?(i=1,r.interrupt?e(Q):z(Q)):oje.includes(a.toLowerCase())?(i=6,et?(n.consume(Q),x):r.interrupt?e(Q):z(Q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(Q):s?S(Q):E(Q))}return Q===45||tl(Q)?(n.consume(Q),a+=String.fromCharCode(Q),w):t(Q)}function x(Q){return Q===62?(n.consume(Q),r.interrupt?e:z):t(Q)}function S(Q){return _r(Q)?(n.consume(Q),S):R(Q)}function E(Q){return Q===47?(n.consume(Q),R):Q===58||Q===95||du(Q)?(n.consume(Q),T):_r(Q)?(n.consume(Q),E):R(Q)}function T(Q){return Q===45||Q===46||Q===58||Q===95||tl(Q)?(n.consume(Q),T):D(Q)}function D(Q){return Q===61?(n.consume(Q),k):_r(Q)?(n.consume(Q),D):E(Q)}function k(Q){return Q===null||Q===60||Q===61||Q===62||Q===96?t(Q):Q===34||Q===39?(n.consume(Q),l=Q,I):_r(Q)?(n.consume(Q),k):N(Q)}function I(Q){return Q===l?(n.consume(Q),l=null,P):Q===null||_n(Q)?t(Q):(n.consume(Q),I)}function N(Q){return Q===null||Q===34||Q===39||Q===47||Q===60||Q===61||Q===62||Q===96||Lo(Q)?D(Q):(n.consume(Q),N)}function P(Q){return Q===47||Q===62||_r(Q)?E(Q):t(Q)}function R(Q){return Q===62?(n.consume(Q),B):t(Q)}function B(Q){return Q===null||_n(Q)?z(Q):_r(Q)?(n.consume(Q),B):t(Q)}function z(Q){return Q===45&&i===2?(n.consume(Q),se):Q===60&&i===1?(n.consume(Q),ce):Q===62&&i===4?(n.consume(Q),ge):Q===63&&i===3?(n.consume(Q),q):Q===93&&i===5?(n.consume(Q),ue):_n(Q)&&(i===6||i===7)?(n.exit("htmlFlowData"),n.check(cje,De,H)(Q)):Q===null||_n(Q)?(n.exit("htmlFlowData"),H(Q)):(n.consume(Q),z)}function H(Q){return n.check(uje,K,De)(Q)}function K(Q){return n.enter("lineEnding"),n.consume(Q),n.exit("lineEnding"),J}function J(Q){return Q===null||_n(Q)?H(Q):(n.enter("htmlFlowData"),z(Q))}function se(Q){return Q===45?(n.consume(Q),q):z(Q)}function ce(Q){return Q===47?(n.consume(Q),a="",X):z(Q)}function X(Q){if(Q===62){const et=a.toLowerCase();return Xz.includes(et)?(n.consume(Q),ge):z(Q)}return du(Q)&&a.length<8?(n.consume(Q),a+=String.fromCharCode(Q),X):z(Q)}function ue(Q){return Q===93?(n.consume(Q),q):z(Q)}function q(Q){return Q===62?(n.consume(Q),ge):Q===45&&i===2?(n.consume(Q),q):z(Q)}function ge(Q){return Q===null||_n(Q)?(n.exit("htmlFlowData"),De(Q)):(n.consume(Q),ge)}function De(Q){return n.exit("htmlFlow"),e(Q)}}function fje(n,e,t){const r=this;return i;function i(a){return _n(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),s):t(a)}function s(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}function pje(n,e,t){return r;function r(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),n.attempt(aM,e,t)}}const mje={name:"htmlText",tokenize:gje};function gje(n,e,t){const r=this;let i,s,a;return o;function o(q){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(q),l}function l(q){return q===33?(n.consume(q),c):q===47?(n.consume(q),D):q===63?(n.consume(q),E):du(q)?(n.consume(q),N):t(q)}function c(q){return q===45?(n.consume(q),u):q===91?(n.consume(q),s=0,g):du(q)?(n.consume(q),S):t(q)}function u(q){return q===45?(n.consume(q),p):t(q)}function h(q){return q===null?t(q):q===45?(n.consume(q),d):_n(q)?(a=h,ce(q)):(n.consume(q),h)}function d(q){return q===45?(n.consume(q),p):h(q)}function p(q){return q===62?se(q):q===45?d(q):h(q)}function g(q){const ge="CDATA[";return q===ge.charCodeAt(s++)?(n.consume(q),s===ge.length?_:g):t(q)}function _(q){return q===null?t(q):q===93?(n.consume(q),w):_n(q)?(a=_,ce(q)):(n.consume(q),_)}function w(q){return q===93?(n.consume(q),x):_(q)}function x(q){return q===62?se(q):q===93?(n.consume(q),x):_(q)}function S(q){return q===null||q===62?se(q):_n(q)?(a=S,ce(q)):(n.consume(q),S)}function E(q){return q===null?t(q):q===63?(n.consume(q),T):_n(q)?(a=E,ce(q)):(n.consume(q),E)}function T(q){return q===62?se(q):E(q)}function D(q){return du(q)?(n.consume(q),k):t(q)}function k(q){return q===45||tl(q)?(n.consume(q),k):I(q)}function I(q){return _n(q)?(a=I,ce(q)):_r(q)?(n.consume(q),I):se(q)}function N(q){return q===45||tl(q)?(n.consume(q),N):q===47||q===62||Lo(q)?P(q):t(q)}function P(q){return q===47?(n.consume(q),se):q===58||q===95||du(q)?(n.consume(q),R):_n(q)?(a=P,ce(q)):_r(q)?(n.consume(q),P):se(q)}function R(q){return q===45||q===46||q===58||q===95||tl(q)?(n.consume(q),R):B(q)}function B(q){return q===61?(n.consume(q),z):_n(q)?(a=B,ce(q)):_r(q)?(n.consume(q),B):P(q)}function z(q){return q===null||q===60||q===61||q===62||q===96?t(q):q===34||q===39?(n.consume(q),i=q,H):_n(q)?(a=z,ce(q)):_r(q)?(n.consume(q),z):(n.consume(q),K)}function H(q){return q===i?(n.consume(q),i=void 0,J):q===null?t(q):_n(q)?(a=H,ce(q)):(n.consume(q),H)}function K(q){return q===null||q===34||q===39||q===60||q===61||q===96?t(q):q===47||q===62||Lo(q)?P(q):(n.consume(q),K)}function J(q){return q===47||q===62||Lo(q)?P(q):t(q)}function se(q){return q===62?(n.consume(q),n.exit("htmlTextData"),n.exit("htmlText"),e):t(q)}function ce(q){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(q),n.exit("lineEnding"),X}function X(q){return _r(q)?Kr(n,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):ue(q)}function ue(q){return n.enter("htmlTextData"),a(q)}}const bF={name:"labelEnd",resolveAll:_je,resolveTo:wje,tokenize:bje},vje={tokenize:Sje},yje={tokenize:Eje},xje={tokenize:Aje};function _je(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return n.length!==t.length&&Ou(n,0,n.length,t),n}function wje(n,e){let t=n.length,r=0,i,s,a,o;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=t);const l={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},c={type:"label",start:{...n[s][1].start},end:{...n[a][1].end}},u={type:"labelText",start:{...n[s+r+2][1].end},end:{...n[a-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Rl(o,n.slice(s+1,s+r+3)),o=Rl(o,[["enter",u,e]]),o=Rl(o,wF(e.parser.constructs.insideSpan.null,n.slice(s+r+4,a-3),e)),o=Rl(o,[["exit",u,e],n[a-2],n[a-1],["exit",c,e]]),o=Rl(o,n.slice(a+1)),o=Rl(o,[["exit",l,e]]),Ou(n,s,n.length,o),n}function bje(n,e,t){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(d){return s?s._inactive?h(d):(a=r.parser.defined.includes(pv(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(d),n.exit("labelMarker"),n.exit("labelEnd"),l):t(d)}function l(d){return d===40?n.attempt(vje,u,a?u:h)(d):d===91?n.attempt(yje,u,a?c:h)(d):a?u(d):h(d)}function c(d){return n.attempt(xje,u,h)(d)}function u(d){return e(d)}function h(d){return s._balanced=!0,t(d)}}function Sje(n,e,t){return r;function r(h){return n.enter("resource"),n.enter("resourceMarker"),n.consume(h),n.exit("resourceMarker"),i}function i(h){return Lo(h)?k1(n,s)(h):s(h)}function s(h){return h===41?u(h):qre(n,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Lo(h)?k1(n,l)(h):u(h)}function o(h){return t(h)}function l(h){return h===34||h===39||h===40?Yre(n,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return Lo(h)?k1(n,u)(h):u(h)}function u(h){return h===41?(n.enter("resourceMarker"),n.consume(h),n.exit("resourceMarker"),n.exit("resource"),e):t(h)}}function Eje(n,e,t){const r=this;return i;function i(o){return Xre.call(r,n,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(pv(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function a(o){return t(o)}}function Aje(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const Tje={name:"labelStartImage",resolveAll:bF.resolveAll,tokenize:Cje};function Cje(n,e,t){const r=this;return i;function i(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),s}function s(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),a):t(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}const Mje={name:"labelStartLink",resolveAll:bF.resolveAll,tokenize:Ije};function Ije(n,e,t){const r=this;return i;function i(a){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}const xR={name:"lineEnding",tokenize:Pje};function Pje(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),Kr(n,e,"linePrefix")}}const VE={name:"thematicBreak",tokenize:Rje};function Rje(n,e,t){let r=0,i;return s;function s(c){return n.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(n.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||_n(c))?(n.exit("thematicBreak"),e(c)):t(c)}function l(c){return c===i?(n.consume(c),r++,l):(n.exit("thematicBreakSequence"),_r(c)?Kr(n,o,"whitespace")(c):o(c))}}const bo={continuation:{tokenize:Oje},exit:Fje,name:"list",tokenize:Dje},Nje={partial:!0,tokenize:Bje},kje={partial:!0,tokenize:Lje};function Dje(n,e,t){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:N3(p)){if(r.containerState.type||(r.containerState.type=g,n.enter(g,{_container:!0})),g==="listUnordered")return n.enter("listItemPrefix"),p===42||p===45?n.check(VE,t,c)(p):c(p);if(!r.interrupt||p===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(p)}return t(p)}function l(p){return N3(p)&&++a<10?(n.consume(p),l):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(n.exit("listItemValue"),c(p)):t(p)}function c(p){return n.enter("listItemMarker"),n.consume(p),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,n.check(aM,r.interrupt?t:u,n.attempt(Nje,d,h))}function u(p){return r.containerState.initialBlankLine=!0,s++,d(p)}function h(p){return _r(p)?(n.enter("listItemPrefixWhitespace"),n.consume(p),n.exit("listItemPrefixWhitespace"),d):t(p)}function d(p){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(p)}}function Oje(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(aM,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Kr(n,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!_r(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(kje,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Kr(n,n.attempt(bo,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Lje(n,e,t){const r=this;return Kr(n,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):t(s)}}function Fje(n){n.exit(this.containerState.type)}function Bje(n,e,t){const r=this;return Kr(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!_r(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const Yz={name:"setextUnderline",resolveTo:Uje,tokenize:jje};function Uje(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const a={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",a,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end={...n[s][1].end}):n[r][1]=a,n.push(["exit",a,e]),n}function jje(n,e,t){const r=this;let i;return s;function s(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(n.enter("setextHeadingLine"),i=c,a(c)):t(c)}function a(c){return n.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(n.consume(c),o):(n.exit("setextHeadingLineSequence"),_r(c)?Kr(n,l,"lineSuffix")(c):l(c))}function l(c){return c===null||_n(c)?(n.exit("setextHeadingLine"),e(c)):t(c)}}const Vje={tokenize:zje};function zje(n){const e=this,t=n.attempt(aM,r,n.attempt(this.parser.constructs.flowInitial,i,Kr(n,n.attempt(this.parser.constructs.flow,i,n.attempt(qUe,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Hje={resolveAll:Zre()},Wje=Kre("string"),Gje=Kre("text");function Kre(n){return{resolveAll:Zre(n==="text"?$je:void 0),tokenize:e};function e(t){const r=this,i=this.parser.constructs[n],s=t.attempt(i,a,o);return a;function a(u){return c(u)?s(u):o(u)}function o(u){if(u===null){t.consume(u);return}return t.enter("data"),t.consume(u),l}function l(u){return c(u)?(t.exit("data"),s(u)):(t.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let d=-1;if(h)for(;++d<h.length;){const p=h[d];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function Zre(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function $je(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(o=0),o){const c={type:t===n.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(n.splice(t,0,["enter",c,e],["exit",c,e]),t+=2)}t++}return n}const qje={42:bo,43:bo,45:bo,48:bo,49:bo,50:bo,51:bo,52:bo,53:bo,54:bo,55:bo,56:bo,57:bo,62:Hre},Xje={91:QUe},Yje={[-2]:yR,[-1]:yR,32:yR},Kje={35:ije,42:VE,45:[Yz,VE],60:lje,61:Yz,95:VE,96:qz,126:qz},Zje={38:Gre,92:Wre},Qje={[-5]:xR,[-4]:xR,[-3]:xR,33:Tje,38:Gre,42:k3,60:[MUe,mje],91:Mje,92:[nje,Wre],93:bF,95:k3,96:VUe},Jje={null:[k3,Hje]},eVe={null:[42,95]},tVe={null:[]},nVe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:eVe,contentInitial:Xje,disable:tVe,document:qje,flow:Kje,flowInitial:Yje,insideSpan:Jje,string:Zje,text:Qje},Symbol.toStringTag,{value:"Module"}));function rVe(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:I(D),check:I(k),consume:S,enter:E,exit:T,interrupt:I(k,{interrupt:!0})},c={code:null,containerState:{},defineSkip:_,events:[],now:g,parser:n,previous:null,sliceSerialize:d,sliceStream:p,write:h};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function h(B){return a=Rl(a,B),w(),a[a.length-1]!==null?[]:(N(e,0),c.events=wF(s,c.events,c),c.events)}function d(B,z){return sVe(p(B),z)}function p(B){return iVe(a,B)}function g(){const{_bufferIndex:B,_index:z,line:H,column:K,offset:J}=r;return{_bufferIndex:B,_index:z,line:H,column:K,offset:J}}function _(B){i[B.line]=B.column,R()}function w(){let B;for(;r._index<a.length;){const z=a[r._index];if(typeof z=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<z.length;)x(z.charCodeAt(r._bufferIndex));else x(z)}}function x(B){u=u(B)}function S(B){_n(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,R()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=B}function E(B,z){const H=z||{};return H.type=B,H.start=g(),c.events.push(["enter",H,c]),o.push(H),H}function T(B){const z=o.pop();return z.end=g(),c.events.push(["exit",z,c]),z}function D(B,z){N(B,z.from)}function k(B,z){z.restore()}function I(B,z){return H;function H(K,J,se){let ce,X,ue,q;return Array.isArray(K)?De(K):"tokenize"in K?De([K]):ge(K);function ge(Ie){return Se;function Se(Je){const Qe=Je!==null&&Ie[Je],rt=Je!==null&&Ie.null,ut=[...Array.isArray(Qe)?Qe:Qe?[Qe]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return De(ut)(Je)}}function De(Ie){return ce=Ie,X=0,Ie.length===0?se:Q(Ie[X])}function Q(Ie){return Se;function Se(Je){return q=P(),ue=Ie,Ie.partial||(c.currentConstruct=Ie),Ie.name&&c.parser.constructs.disable.null.includes(Ie.name)?ye():Ie.tokenize.call(z?Object.assign(Object.create(c),z):c,l,et,ye)(Je)}}function et(Ie){return B(ue,q),J}function ye(Ie){return q.restore(),++X<ce.length?Q(ce[X]):se}}}function N(B,z){B.resolveAll&&!s.includes(B)&&s.push(B),B.resolve&&Ou(c.events,z,c.events.length-z,B.resolve(c.events.slice(z),c)),B.resolveTo&&(c.events=B.resolveTo(c.events,c))}function P(){const B=g(),z=c.previous,H=c.currentConstruct,K=c.events.length,J=Array.from(o);return{from:K,restore:se};function se(){r=B,c.previous=z,c.currentConstruct=H,c.events.length=K,o=J,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function iVe(n,e){const t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(t===i)a=[n[t].slice(r,s)];else{if(a=n.slice(t,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(n[i].slice(0,s))}return a}function sVe(n,e){let t=-1;const r=[];let i;for(;++t<n.length;){const s=n[t];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function aVe(n){const r={constructs:fUe([nVe,...(n||{}).extensions||[]]),content:i(wUe),defined:[],document:i(SUe),flow:i(Vje),lazy:{},string:i(Wje),text:i(Gje)};return r;function i(s){return a;function a(o){return rVe(r,s,o)}}}function oVe(n){for(;!$re(n););return n}const Kz=/[\0\t\n\r]/g;function lVe(){let n=1,e="",t=!0,r;return i;function i(s,a,o){const l=[];let c,u,h,d,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),h=0,e="",t&&(s.charCodeAt(0)===65279&&h++,t=void 0);h<s.length;){if(Kz.lastIndex=h,c=Kz.exec(s),d=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(d),!c){e=s.slice(h);break}if(p===10&&h===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<d&&(l.push(s.slice(h,d)),n+=d-h),p){case 0:{l.push(65533),n++;break}case 9:{for(u=Math.ceil(n/4)*4,l.push(-2);n++<u;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}h=d+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const cVe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uVe(n){return n.replace(cVe,hVe)}function hVe(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return zre(t.slice(s?2:1),s?16:10)}return _F(t)||n}const Qre={}.hasOwnProperty;function dVe(n,e,t){return typeof e!="string"&&(t=e,e=void 0),fVe(t)(oVe(aVe(t).document().write(lVe()(n,e,!0))))}function fVe(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ae),autolinkProtocol:P,autolinkEmail:P,atxHeading:s(ke),blockQuote:s(rt),characterEscape:P,characterReference:P,codeFenced:s(ut),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ut,a),codeText:s(Be,a),codeTextData:P,data:P,codeFlowValue:P,definition:s(ae),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Re),hardBreakEscape:s($e),hardBreakTrailing:s($e),htmlFlow:s(We,a),htmlFlowData:P,htmlText:s(We,a),htmlTextData:P,image:s(ne),label:a,link:s(Ae),listItem:s(ot),listItemValue:d,listOrdered:s(Fe,h),listUnordered:s(Fe),paragraph:s(vt),reference:Q,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(ke),strong:s(ie),thematicBreak:s(xe)},exit:{atxHeading:l(),atxHeadingSequence:D,autolink:l(),autolinkEmail:Qe,autolinkProtocol:Je,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:Ie,characterReference:Se,codeFenced:l(w),codeFencedFence:_,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:R,codeIndented:l(x),codeText:l(J),codeTextData:R,data:R,definition:l(),definitionDestinationString:T,definitionLabelString:S,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(z),hardBreakTrailing:l(z),htmlFlow:l(H),htmlFlowData:R,htmlText:l(K),htmlTextData:R,image:l(ce),label:ue,labelText:X,lineEnding:B,link:l(se),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:et,resourceDestinationString:q,resourceTitleString:ge,resource:De,setextHeading:l(N),setextHeadingLineSequence:I,setextHeadingText:k,strong:l(),thematicBreak:l()}};Jre(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(re){let pe={type:"root",children:[]};const _e={stack:[pe],tokenStack:[],config:e,enter:o,exit:c,buffer:a,resume:u,data:t},at=[];let qe=-1;for(;++qe<re.length;)if(re[qe][1].type==="listOrdered"||re[qe][1].type==="listUnordered")if(re[qe][0]==="enter")at.push(qe);else{const xt=at.pop();qe=i(re,xt,qe)}for(qe=-1;++qe<re.length;){const xt=e[re[qe][0]];Qre.call(xt,re[qe][1].type)&&xt[re[qe][1].type].call(Object.assign({sliceSerialize:re[qe][2].sliceSerialize},_e),re[qe][1])}if(_e.tokenStack.length>0){const xt=_e.tokenStack[_e.tokenStack.length-1];(xt[1]||Zz).call(_e,void 0,xt[0])}for(pe.position={start:Fd(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:Fd(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<e.transforms.length;)pe=e.transforms[qe](pe)||pe;return pe}function i(re,pe,_e){let at=pe-1,qe=-1,xt=!1,bt,it,pt,Nt;for(;++at<=_e;){const de=re[at];switch(de[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{de[0]==="enter"?qe++:qe--,Nt=void 0;break}case"lineEndingBlank":{de[0]==="enter"&&(bt&&!Nt&&!qe&&!pt&&(pt=at),Nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nt=void 0}if(!qe&&de[0]==="enter"&&de[1].type==="listItemPrefix"||qe===-1&&de[0]==="exit"&&(de[1].type==="listUnordered"||de[1].type==="listOrdered")){if(bt){let Pe=at;for(it=void 0;Pe--;){const lt=re[Pe];if(lt[1].type==="lineEnding"||lt[1].type==="lineEndingBlank"){if(lt[0]==="exit")continue;it&&(re[it][1].type="lineEndingBlank",xt=!0),lt[1].type="lineEnding",it=Pe}else if(!(lt[1].type==="linePrefix"||lt[1].type==="blockQuotePrefix"||lt[1].type==="blockQuotePrefixWhitespace"||lt[1].type==="blockQuoteMarker"||lt[1].type==="listItemIndent"))break}pt&&(!it||pt<it)&&(bt._spread=!0),bt.end=Object.assign({},it?re[it][1].start:de[1].end),re.splice(it||at,0,["exit",bt,de[2]]),at++,_e++}if(de[1].type==="listItemPrefix"){const Pe={type:"listItem",_spread:!1,start:Object.assign({},de[1].start),end:void 0};bt=Pe,re.splice(at,0,["enter",Pe,de[2]]),at++,_e++,pt=void 0,Nt=!0}}}return re[pe][1]._spread=xt,_e}function s(re,pe){return _e;function _e(at){o.call(this,re(at),at),pe&&pe.call(this,at)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(re,pe,_e){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([pe,_e||void 0]),re.position={start:Fd(pe.start),end:void 0}}function l(re){return pe;function pe(_e){re&&re.call(this,_e),c.call(this,_e)}}function c(re,pe){const _e=this.stack.pop(),at=this.tokenStack.pop();if(at)at[0].type!==re.type&&(pe?pe.call(this,re,at[0]):(at[1]||Zz).call(this,re,at[0]));else throw new Error("Cannot close `"+re.type+"` ("+N1({start:re.start,end:re.end})+"): its not open");_e.position.end=Fd(re.end)}function u(){return hUe(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(re){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function p(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=re}function g(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=re}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re.replace(/(\r?\n|\r)$/g,"")}function S(re){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.label=pe,_e.identifier=pv(this.sliceSerialize(re)).toLowerCase()}function E(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.title=re}function T(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.url=re}function D(re){const pe=this.stack[this.stack.length-1];if(!pe.depth){const _e=this.sliceSerialize(re).length;pe.depth=_e}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function I(re){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function P(re){const _e=this.stack[this.stack.length-1].children;let at=_e[_e.length-1];(!at||at.type!=="text")&&(at=Y(),at.position={start:Fd(re.start),end:void 0},_e.push(at)),this.stack.push(at)}function R(re){const pe=this.stack.pop();pe.value+=this.sliceSerialize(re),pe.position.end=Fd(re.end)}function B(re){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _e=pe.children[pe.children.length-1];_e.position.end=Fd(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(pe.type)&&(P.call(this,re),R.call(this,re))}function z(){this.data.atHardBreak=!0}function H(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function K(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function J(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.value=re}function se(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=pe,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function ce(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=pe,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function X(re){const pe=this.sliceSerialize(re),_e=this.stack[this.stack.length-2];_e.label=uVe(pe),_e.identifier=pv(pe).toLowerCase()}function ue(){const re=this.stack[this.stack.length-1],pe=this.resume(),_e=this.stack[this.stack.length-1];if(this.data.inReference=!0,_e.type==="link"){const at=re.children;_e.children=at}else _e.alt=pe}function q(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.url=re}function ge(){const re=this.resume(),pe=this.stack[this.stack.length-1];pe.title=re}function De(){this.data.inReference=void 0}function Q(){this.data.referenceType="collapsed"}function et(re){const pe=this.resume(),_e=this.stack[this.stack.length-1];_e.label=pe,_e.identifier=pv(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function ye(re){this.data.characterReferenceType=re.type}function Ie(re){const pe=this.sliceSerialize(re),_e=this.data.characterReferenceType;let at;_e?(at=zre(pe,_e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):at=_F(pe);const qe=this.stack[this.stack.length-1];qe.value+=at}function Se(re){const pe=this.stack.pop();pe.position.end=Fd(re.end)}function Je(re){R.call(this,re);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(re)}function Qe(re){R.call(this,re);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(re)}function rt(){return{type:"blockquote",children:[]}}function ut(){return{type:"code",lang:null,meta:null,value:""}}function Be(){return{type:"inlineCode",value:""}}function ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Re(){return{type:"emphasis",children:[]}}function ke(){return{type:"heading",depth:0,children:[]}}function $e(){return{type:"break"}}function We(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function Ae(){return{type:"link",title:null,url:"",children:[]}}function Fe(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function ot(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function vt(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function Y(){return{type:"text",value:""}}function xe(){return{type:"thematicBreak"}}}function Fd(n){return{line:n.line,column:n.column,offset:n.offset}}function Jre(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?Jre(n,r):pVe(n,r)}}function pVe(n,e){let t;for(t in e)if(Qre.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function Zz(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+N1({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+N1({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+N1({start:e.start,end:e.end})+") is still open")}function mVe(n){const e=this;e.parser=t;function t(r){return dVe(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function gVe(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function vVe(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function yVe(n,e){const t=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(i.data={meta:e.meta}),n.patch(e,i),i=n.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},n.patch(e,i),i}function xVe(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function _Ve(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function wVe(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=ky(r.toLowerCase()),s=n.footnoteOrder.indexOf(r);let a,o=n.footnoteCounts.get(r);o===void 0?(o=0,n.footnoteOrder.push(r),a=n.footnoteOrder.length):a=s+1,o+=1,n.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+i,id:t+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};n.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return n.patch(e,c),n.applyData(e,c)}function bVe(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function SVe(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function eie(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=n.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function EVe(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return eie(n,e);const i={src:ky(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return n.patch(e,s),n.applyData(e,s)}function AVe(n,e){const t={src:ky(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function TVe(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function CVe(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return eie(n,e);const i={href:ky(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function MVe(n,e){const t={href:ky(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function IVe(n,e,t){const r=n.all(e),i=t?PVe(t):tie(e),s={},a=[];if(typeof e.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const u=r[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?a.push(...u.children):a.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return n.patch(e,c),n.applyData(e,c)}function PVe(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=tie(t[r])}return e}function tie(n){const e=n.spread;return e??n.children.length>1}function RVe(n,e){const t={},r=n.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function NVe(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function kVe(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function DVe(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function OVe(n,e){const t=n.all(e),r=t.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],a),i.push(a)}if(t.length>0){const a={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},o=gF(e.children[1]),l=Ore(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function LVe(n,e,t){const r=t?t.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=t&&t.type==="table"?t.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const h=e.children[l],d={},p=a?a[l]:void 0;p&&(d.align=p);let g={type:"element",tagName:s,properties:d,children:[]};h&&(g.children=n.all(h),n.patch(h,g),g=n.applyData(h,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:n.wrap(c,!0)};return n.patch(e,u),n.applyData(e,u)}function FVe(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const Qz=9,Jz=32;function BVe(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),i=0;const s=[];for(;r;)s.push(e7(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(e);return s.push(e7(e.slice(i),i>0,!1)),s.join("")}function e7(n,e,t){let r=0,i=n.length;if(e){let s=n.codePointAt(r);for(;s===Qz||s===Jz;)r++,s=n.codePointAt(r)}if(t){let s=n.codePointAt(i-1);for(;s===Qz||s===Jz;)i--,s=n.codePointAt(i-1)}return i>r?n.slice(r,i):""}function UVe(n,e){const t={type:"text",value:BVe(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function jVe(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const VVe={blockquote:gVe,break:vVe,code:yVe,delete:xVe,emphasis:_Ve,footnoteReference:wVe,heading:bVe,html:SVe,imageReference:EVe,image:AVe,inlineCode:TVe,linkReference:CVe,link:MVe,listItem:IVe,list:RVe,paragraph:NVe,root:kVe,strong:DVe,table:OVe,tableCell:FVe,tableRow:LVe,text:UVe,thematicBreak:jVe,toml:tE,yaml:tE,definition:tE,footnoteDefinition:tE};function tE(){}const nie=-1,oM=0,D1=1,YA=2,SF=3,EF=4,AF=5,TF=6,rie=7,iie=8,t7=typeof self=="object"?self:globalThis,zVe=(n,e)=>{const t=(i,s)=>(n.set(s,i),i),r=i=>{if(n.has(i))return n.get(i);const[s,a]=e[i];switch(s){case oM:case nie:return t(a,i);case D1:{const o=t([],i);for(const l of a)o.push(r(l));return o}case YA:{const o=t({},i);for(const[l,c]of a)o[r(l)]=r(c);return o}case SF:return t(new Date(a),i);case EF:{const{source:o,flags:l}=a;return t(new RegExp(o,l),i)}case AF:{const o=t(new Map,i);for(const[l,c]of a)o.set(r(l),r(c));return o}case TF:{const o=t(new Set,i);for(const l of a)o.add(r(l));return o}case rie:{const{name:o,message:l}=a;return t(new t7[o](l),i)}case iie:return t(BigInt(a),i);case"BigInt":return t(Object(BigInt(a)),i);case"ArrayBuffer":return t(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return t(new DataView(o),a)}}return t(new t7[s](a),i)};return r},n7=n=>zVe(new Map,n)(0),l0="",{toString:HVe}={},{keys:WVe}=Object,Ix=n=>{const e=typeof n;if(e!=="object"||!n)return[oM,e];const t=HVe.call(n).slice(8,-1);switch(t){case"Array":return[D1,l0];case"Object":return[YA,l0];case"Date":return[SF,l0];case"RegExp":return[EF,l0];case"Map":return[AF,l0];case"Set":return[TF,l0];case"DataView":return[D1,t]}return t.includes("Array")?[D1,t]:t.includes("Error")?[rie,t]:[YA,t]},nE=([n,e])=>n===oM&&(e==="function"||e==="symbol"),GVe=(n,e,t,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return t.set(o,l),l},s=a=>{if(t.has(a))return t.get(a);let[o,l]=Ix(a);switch(o){case oM:{let u=a;switch(l){case"bigint":o=iie,u=a.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([nie],a)}return i([o,u],a)}case D1:{if(l){let d=a;return l==="DataView"?d=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(a)),i([l,[...d]],a)}const u=[],h=i([o,u],a);for(const d of a)u.push(s(d));return h}case YA:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const u=[],h=i([o,u],a);for(const d of WVe(a))(n||!nE(Ix(a[d])))&&u.push([s(d),s(a[d])]);return h}case SF:return i([o,a.toISOString()],a);case EF:{const{source:u,flags:h}=a;return i([o,{source:u,flags:h}],a)}case AF:{const u=[],h=i([o,u],a);for(const[d,p]of a)(n||!(nE(Ix(d))||nE(Ix(p))))&&u.push([s(d),s(p)]);return h}case TF:{const u=[],h=i([o,u],a);for(const d of a)(n||!nE(Ix(d)))&&u.push(s(d));return h}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},r7=(n,{json:e,lossy:t}={})=>{const r=[];return GVe(!(e||t),!!e,new Map,r)(n),r},KA=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?n7(r7(n,e)):structuredClone(n):(n,e)=>n7(r7(n,e));function $Ve(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function qVe(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function XVe(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||$Ve,r=n.options.footnoteBackLabel||qVe,i=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",a=n.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<n.footnoteOrder.length;){const c=n.footnoteById.get(n.footnoteOrder[l]);if(!c)continue;const u=n.all(c),h=String(c.identifier).toUpperCase(),d=ky(h.toLowerCase());let p=0;const g=[],_=n.footnoteCounts.get(h);for(;_!==void 0&&++p<=_;){g.length>0&&g.push({type:"text",value:" "});let S=typeof t=="string"?t:t(l,p);typeof S=="string"&&(S={type:"text",value:S}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+d+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const w=u[u.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const S=w.children[w.children.length-1];S&&S.type==="text"?S.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else u.push(...g);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+d},children:n.wrap(u,!0)};n.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...KA(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(o,!0)},{type:"text",value:`
`}]}}const sie=function(n){if(n==null)return QVe;if(typeof n=="function")return lM(n);if(typeof n=="object")return Array.isArray(n)?YVe(n):KVe(n);if(typeof n=="string")return ZVe(n);throw new Error("Expected function, string, or object as test")};function YVe(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=sie(n[t]);return lM(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function KVe(n){const e=n;return lM(t);function t(r){const i=r;let s;for(s in n)if(i[s]!==e[s])return!1;return!0}}function ZVe(n){return lM(e);function e(t){return t&&t.type===n}}function lM(n){return e;function e(t,r,i){return!!(JVe(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function QVe(){return!0}function JVe(n){return n!==null&&typeof n=="object"&&"type"in n}const aie=[],e9e=!0,i7=!1,t9e="skip";function n9e(n,e,t,r){let i;typeof e=="function"&&typeof t!="function"?(r=t,t=e):i=e;const s=sie(i),a=r?-1:1;o(n,void 0,[])();function o(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return d;function d(){let p=aie,g,_,w;if((!e||s(l,c,u[u.length-1]||void 0))&&(p=r9e(t(l,u)),p[0]===i7))return p;if("children"in l&&l.children){const x=l;if(x.children&&p[0]!==t9e)for(_=(r?x.children.length:-1)+a,w=u.concat(x);_>-1&&_<x.children.length;){const S=x.children[_];if(g=o(S,_,w)(),g[0]===i7)return g;_=typeof g[1]=="number"?g[1]:_+a}}return p}}}function r9e(n){return Array.isArray(n)?n:typeof n=="number"?[e9e,n]:n==null?aie:[n]}function oie(n,e,t,r){let i,s,a;typeof e=="function"&&typeof t!="function"?(s=void 0,a=e,i=t):(s=e,a=t,i=r),n9e(n,s,o,i);function o(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return a(l,h,u)}}const D3={}.hasOwnProperty,i9e={};function s9e(n,e){const t=e||i9e,r=new Map,i=new Map,s=new Map,a={...VVe,...t.handlers},o={all:c,applyData:o9e,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:t,patch:a9e,wrap:c9e};return oie(n,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,d=String(u.identifier).toUpperCase();h.has(d)||h.set(d,u)}}),o;function l(u,h){const d=u.type,p=o.handlers[d];if(D3.call(o.handlers,d)&&p)return p(o,u,h);if(o.options.passThrough&&o.options.passThrough.includes(d)){if("children"in u){const{children:_,...w}=u,x=KA(w);return x.children=o.all(u),x}return KA(u)}return(o.options.unknownHandler||l9e)(o,u,h)}function c(u){const h=[];if("children"in u){const d=u.children;let p=-1;for(;++p<d.length;){const g=o.one(d[p],u);if(g){if(p&&d[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=s7(g.value)),!Array.isArray(g)&&g.type==="element")){const _=g.children[0];_&&_.type==="text"&&(_.value=s7(_.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function a9e(n,e){n.position&&(e.position=HBe(n))}function o9e(n,e){let t=e;if(n&&n.data){const r=n.data.hName,i=n.data.hChildren,s=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const a="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:a}}t.type==="element"&&s&&Object.assign(t.properties,KA(s)),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function l9e(n,e){const t=e.data||{},r="value"in e&&!(D3.call(t,"hProperties")||D3.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function c9e(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function s7(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function a7(n,e){const t=s9e(n,e),r=t.one(n,void 0),i=XVe(t),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function u9e(n,e){return n&&"run"in n?async function(t,r){const i=a7(t,{file:r,...e});await n.run(i,r)}:function(t,r){return a7(t,{file:r,...n||e})}}function o7(n){if(n)throw n}var zE=Object.prototype.hasOwnProperty,lie=Object.prototype.toString,l7=Object.defineProperty,c7=Object.getOwnPropertyDescriptor,u7=function(e){return typeof Array.isArray=="function"?Array.isArray(e):lie.call(e)==="[object Array]"},h7=function(e){if(!e||lie.call(e)!=="[object Object]")return!1;var t=zE.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&zE.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i>"u"||zE.call(e,i)},d7=function(e,t){l7&&t.name==="__proto__"?l7(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},f7=function(e,t){if(t==="__proto__")if(zE.call(e,t)){if(c7)return c7(e,t).value}else return;return e[t]},h9e=function n(){var e,t,r,i,s,a,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(t in e)r=f7(o,t),i=f7(e,t),o!==i&&(u&&i&&(h7(i)||(s=u7(i)))?(s?(s=!1,a=r&&u7(r)?r:[]):a=r&&h7(r)?r:{},d7(o,{name:t,newValue:n(u,a,i)})):typeof i<"u"&&d7(o,{name:t,newValue:i}));return o};const _R=H_(h9e);function O3(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function d9e(){const n=[],e={run:t,use:r};return e;function t(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const u=n[++s];let h=-1;if(l){a(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,u?f9e(u,o)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function f9e(n,e){let t;return r;function r(...a){const o=n.length>a.length;let l;o&&a.push(i);try{l=n.apply(this,a)}catch(c){const u=c;if(o&&t)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){t||(t=!0,e(a,...o))}function s(a){i(null,a)}}const nu={basename:p9e,dirname:m9e,extname:g9e,join:v9e,sep:"/"};function p9e(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Bw(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let a=-1,o=e.length-1;for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(n.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return t===r?r=a:r<0&&(r=n.length),n.slice(t,r)}function m9e(n){if(Bw(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function g9e(n){Bw(n);let e=n.length,t=-1,r=0,i=-1,s=0,a;for(;e--;){const o=n.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}t<0&&(a=!0,t=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function v9e(...n){let e=-1,t;for(;++e<n.length;)Bw(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":y9e(t)}function y9e(n){Bw(n);const e=n.codePointAt(0)===47;let t=x9e(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function x9e(n,e){let t="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=n.length;){if(a<n.length)o=n.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length>0){t="",r=0,i=a,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return t}function Bw(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const _9e={cwd:w9e};function w9e(){return"/"}function L3(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function b9e(n){if(typeof n=="string")n=new URL(n);else if(!L3(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return S9e(n)}function S9e(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const wR=["history","path","basename","stem","extname","dirname"];class cie{constructor(e){let t;e?L3(e)?t={path:e}:typeof e=="string"||E9e(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":_9e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<wR.length;){const s=wR[r];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)wR.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?nu.basename(this.path):void 0}set basename(e){SR(e,"basename"),bR(e,"basename"),this.path=nu.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?nu.dirname(this.path):void 0}set dirname(e){p7(this.basename,"dirname"),this.path=nu.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?nu.extname(this.path):void 0}set extname(e){if(bR(e,"extname"),p7(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nu.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){L3(e)&&(e=b9e(e)),SR(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?nu.basename(this.path,this.extname):void 0}set stem(e){SR(e,"stem"),bR(e,"stem"),this.path=nu.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const i=this.message(e,t,r);throw i.fatal=!0,i}info(e,t,r){const i=this.message(e,t,r);return i.fatal=void 0,i}message(e,t,r){const i=new Da(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function bR(n,e){if(n&&n.includes(nu.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+nu.sep+"`")}function SR(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function p7(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function E9e(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const A9e=function(n){const r=this.constructor.prototype,i=r[n],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},T9e={}.hasOwnProperty;class CF extends A9e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=d9e()}copy(){const e=new CF;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(_R(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(TR("data",this.frozen),this.namespace[e]=t,this):T9e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(TR("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=rE(e),r=this.parser||this.Parser;return ER("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),ER("process",this.parser||this.Parser),AR("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(s,a){const o=rE(e),l=r.parse(o);r.run(l,o,function(u,h,d){if(u||!h||!d)return c(u);const p=h,g=r.stringify(p,d);I9e(g)?d.value=g:d.result=g,c(u,d)});function c(u,h){u||!h?a(u):s?s(h):t(void 0,h)}}}processSync(e){let t=!1,r;return this.freeze(),ER("processSync",this.parser||this.Parser),AR("processSync",this.compiler||this.Compiler),this.process(e,i),g7("processSync","process",t),r;function i(s,a){t=!0,o7(s),r=a}}run(e,t,r){m7(e),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=rE(t);i.run(e,l,c);function c(u,h,d){const p=h||e;u?o(u):a?a(p):r(void 0,p,d)}}}runSync(e,t){let r=!1,i;return this.run(e,t,s),g7("runSync","run",r),i;function s(a,o){o7(a),i=o,r=!0}}stringify(e,t){this.freeze();const r=rE(t),i=this.compiler||this.Compiler;return AR("stringify",i),m7(e),i(e,r)}use(e,...t){const r=this.attachers,i=this.namespace;if(TR("use",this.frozen),e!=null)if(typeof e=="function")l(e,t);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=_R(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const h=c[u];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let h=-1,d=-1;for(;++h<r.length;)if(r[h][0]===c){d=h;break}if(d===-1)r.push([c,...u]);else if(u.length>0){let[p,...g]=u;const _=r[d][1];O3(_)&&O3(p)&&(p=_R(!0,_,p)),r[d]=[c,p,...g]}}}}const C9e=new CF().freeze();function ER(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function AR(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function TR(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function m7(n){if(!O3(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function g7(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function rE(n){return M9e(n)?n:new cie(n)}function M9e(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function I9e(n){return typeof n=="string"||P9e(n)}function P9e(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const R9e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",v7=[],y7={allowDangerousHtml:!0},N9e=/^(https?|ircs?|mailto|xmpp)$/i,k9e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function D9e(n){const e=O9e(n),t=L9e(n);return F9e(e.runSync(e.parse(t),t),n)}function O9e(n){const e=n.rehypePlugins||v7,t=n.remarkPlugins||v7,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...y7}:y7;return C9e().use(mVe).use(t).use(u9e,r).use(e)}function L9e(n){const e=n.children||"",t=new cie;return typeof e=="string"&&(t.value=e),t}function F9e(n,e){const t=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||B9e;for(const u of k9e)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+R9e+u.id,void 0);return oie(n,c),XBe(n,{Fragment:m.Fragment,components:i,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function c(u,h,d){if(u.type==="raw"&&d&&typeof h=="number")return a?d.children.splice(h,1):d.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let p;for(p in vR)if(Object.hasOwn(vR,p)&&Object.hasOwn(u.properties,p)){const g=u.properties[p],_=vR[p];(_===null||_.includes(u.tagName))&&(u.properties[p]=l(String(g||""),p,u))}}if(u.type==="element"){let p=t?!t.includes(u.tagName):s?s.includes(u.tagName):!1;if(!p&&r&&typeof h=="number"&&(p=!r(u,h,d)),p&&d&&typeof h=="number")return o&&u.children?d.children.splice(h,1,...u.children):d.children.splice(h,1),h}}}function B9e(n){const e=n.indexOf(":"),t=n.indexOf("?"),r=n.indexOf("#"),i=n.indexOf("/");return e===-1||i!==-1&&e>i||t!==-1&&e>t||r!==-1&&e>r||N9e.test(n.slice(0,e))?n:""}function x7(){try{return JSON.parse(localStorage.getItem("eduhub_progress")||"{}")||{}}catch{return{}}}function U9e(n){localStorage.setItem("eduhub_progress",JSON.stringify(n))}function j9e(){var c,u;const[n,e]=F.useState(null),[t,r]=F.useState(x7()),[i,s]=F.useState(!1),[a,o]=F.useState(null);F.useEffect(()=>{r(x7())},[]);const l=h=>{const d={...t,[h]:!0};U9e(d),r(d)};return m.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-green-700",children:"EduHub Survival & Teknik Alam Terbuka"}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Daftar Modul"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:eE.map(h=>m.jsxs("button",{className:`border rounded-lg p-4 text-left shadow hover:shadow-lg transition bg-white hover:bg-green-50 ${n===h.id?"border-green-600":"border-gray-300"}`,onClick:()=>e(h.id),children:[m.jsx("span",{className:"font-bold text-green-700",children:h.title}),t[h.id]&&m.jsx("span",{className:"ml-2 inline-block align-middle text-green-600",children:m.jsx(II,{size:18})})]},h.id))})]}),n&&m.jsxs("div",{className:"mb-6 border rounded-lg p-4 bg-gray-50",children:[m.jsx("div",{className:"prose prose-green max-w-none mb-4",children:m.jsx(D9e,{children:((c=eE.find(h=>h.id===n))==null?void 0:c.markdown)||""})}),t[n]?m.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-bold",children:[m.jsx(II,{size:20}),"Badge: ",(u=eE.find(h=>h.id===n))==null?void 0:u.badge]}):m.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700",onClick:()=>l(n),children:"Tandai Selesai & Dapatkan Badge"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Badge/Pencapaian Anda"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[eE.filter(h=>t[h.id]).map(h=>m.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full flex items-center gap-1 font-semibold border border-green-300",children:[m.jsx(II,{size:16})," ",h.badge]},h.id)),Object.values(t).filter(Boolean).length===0&&m.jsx("span",{className:"text-gray-400",children:"Belum ada badge"})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded shadow hover:bg-green-600",onClick:()=>s(h=>!h),children:"FAQ Survival & Mahapala"}),i&&m.jsx("div",{className:"mt-4",children:[{q:"Apa itu survival?",a:"Survival adalah kemampuan bertahan hidup di alam terbuka dengan memanfaatkan sumber daya yang ada."},{q:"Apa perlengkapan wajib untuk survival?",a:"Perlengkapan wajib meliputi pisau, tali, pelindung tubuh, makanan cadangan, dan alat navigasi."},{q:"Bagaimana cara membangun bivak yang aman?",a:"Pilih lokasi datar, jauh dari bahaya, gunakan bahan alami atau perlengkapan yang dibawa."},{q:"Apa tips mendaki gunung yang aman?",a:"Persiapkan fisik, bawa perlengkapan sesuai kebutuhan, dan selalu informasikan rencana pendakian."}].map((h,d)=>m.jsxs("div",{className:"border-b",children:[m.jsxs("button",{className:"w-full text-left py-2 font-semibold flex justify-between items-center",onClick:()=>o(a===d?null:d),children:[m.jsx("span",{children:h.q}),m.jsx("span",{children:a===d?"-":"+"})]}),a===d&&m.jsx("div",{className:"py-2 text-gray-700",children:h.a})]},d))})]})]})}function V9e(){return F.useEffect(()=>{const n=qMe();n?XMe(n).then(e=>{if(e){const t=localStorage.getItem("github_oauth_redirect")||"/admin";localStorage.removeItem("github_oauth_redirect"),window.location.replace(t)}else window.location.replace("/admin")}):window.location.replace("/")},[]),m.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Processing GitHub authentication..."}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we complete the login process."})]})})}function z9e(){B5e(),F.useEffect(()=>{const t=i=>i.preventDefault();document.addEventListener("contextmenu",t);const r=i=>{if(i.key==="F12"||i.ctrlKey&&i.shiftKey&&(i.key==="I"||i.key==="J"||i.key==="C")||i.ctrlKey&&i.key==="U")return i.preventDefault(),!1};return document.addEventListener("keydown",r),()=>{document.removeEventListener("contextmenu",t),document.removeEventListener("keydown",r)}},[]);const[n,e]=Rn.useState(null);return Rn.useEffect(()=>{TO().then(t=>{t&&e(t)})},[]),Rn.useEffect(()=>{if(n){document.title=n.title;const t=(a,o,l)=>{let c=document.querySelector(a);c&&c.setAttribute(o,l)};t('meta[name="description"]',"content",n.description),t('meta[name="keywords"]',"content",n.keywords),t('meta[property="og:title"]',"content",n.title),t('meta[property="og:description"]',"content",n.description),t('meta[property="og:image"]',"content",n.image),t('meta[name="twitter:title"]',"content",n.title),t('meta[name="twitter:description"]',"content",n.description),t('meta[name="twitter:image"]',"content",n.image);const r=document.querySelector('link[rel="icon"][type="image/x-icon"]');r&&r.setAttribute("href",n.favicon);const i=document.querySelectorAll('link[rel="icon"][type="image/x-icon"]')[1];i&&i.setAttribute("href",n.faviconFallback);const s=document.querySelector('link[rel="icon"][type="image/png"]');s&&s.setAttribute("href",n.faviconPng)}},[n]),Rn.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(t=>{t.onupdatefound=()=>{const r=t.installing;r&&(r.onstatechange=()=>{r.state==="installed"&&navigator.serviceWorker.controller&&window.location.reload()})}})},[]),m.jsx(q5e,{children:m.jsxs(Zye,{children:[m.jsx(hve,{}),m.jsx(L5e,{}),m.jsx(F5e,{}),m.jsx(h1e,{children:m.jsxs(oge,{children:[m.jsx(As,{path:"/github-oauth-callback",component:V9e}),m.jsx(As,{path:"/offline",component:$5e}),m.jsx(As,{path:"/",component:NTe}),m.jsx(As,{path:"/kegiatan",component:hCe}),m.jsx(As,{path:"/pembelajaran",component:dCe}),m.jsx(As,{path:"/kartu-anggota",component:PCe}),m.jsx(As,{path:"/pendaftaran",component:NCe}),m.jsx(As,{path:"/galeri",component:OCe}),m.jsx(As,{path:"/admin",component:gIe}),m.jsx(As,{path:"/kegiatan/:id",component:vIe}),m.jsx(As,{path:"/developer",component:Nme}),m.jsx(As,{path:"/kartu-anggota-detail",component:yIe}),m.jsx(As,{path:"/member-card-3d",component:V4e}),m.jsx(As,{path:"/sejarah",component:X5e}),m.jsx(As,{path:"/sejarahAdmin",component:Q5e}),m.jsx(As,{path:"/scan-anggota",component:O5e}),m.jsx(As,{path:"/eduhub",component:j9e}),m.jsx(As,{component:exe})]})})]})})}async function H9e(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const W9e=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e[0],{credentials:"include"});return await H9e(t),await t.json()},G9e=new Xwe({defaultOptions:{queries:{queryFn:W9e({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});VW(document.getElementById("root")).render(m.jsx(Jwe,{client:G9e,children:m.jsx(z9e,{})}));"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(n=>{n.onupdatefound=()=>{const e=n.installing;e&&(e.onstatechange=()=>{e.state==="installed"&&navigator.serviceWorker.controller&&window.location.reload()})}});window.addEventListener("contextmenu",n=>n.preventDefault());window.addEventListener("keydown",function(n){if(n.key==="F12"||n.ctrlKey&&n.shiftKey&&(n.key==="I"||n.key==="J"||n.key==="C")||n.ctrlKey&&n.key==="U")return n.preventDefault(),!1});
